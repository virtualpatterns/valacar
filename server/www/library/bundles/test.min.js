(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/client/library/errors/argument-error.js":[function(require,module,exports){function ArgumentError(message){Error.call(this);Error.captureStackTrace(this,ArgumentError);this.message=message}ArgumentError.prototype=Object.create(Error.prototype);ArgumentError.prototype.constructor=ArgumentError;ArgumentError.prototype.name=ArgumentError.name;module.exports=ArgumentError},{}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/client/library/errors/process-error.js":[function(require,module,exports){function ProcessError(message,code){Error.call(this);Error.captureStackTrace(this,ProcessError);this.message=message;this.code=code}ProcessError.prototype=Object.create(Error.prototype);ProcessError.prototype.constructor=ProcessError;ProcessError.prototype.name=ProcessError.name;module.exports=ProcessError},{}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/client/library/file-system.js":[function(require,module,exports){var Directory=require("mkdirp");var _FileSystem=require("fs");var Utilities=require("util");var Path=require("./path");var ArgumentError=require("./errors/argument-error");var ProcessError=require("./errors/process-error");var FileSystem=Object.create(_FileSystem);FileSystem.mkdirp=Directory;FileSystem.waitUntilFileExists=function(timeout,maximumDuration,path,callback){var Log=require("./log");var Process=require("./process");Log.info("> FileSystem.waitUntilFileExists(%d, %d, %j, callback) { ... }",timeout,maximumDuration,Path.trim(path));Process.waitUntil(timeout,maximumDuration,function(callback){Log.info("> FileSystem.access(%j, FileSystem.F_OK, callback)",Path.trim(path));FileSystem.access(path,FileSystem.F_OK,callback)},function(error){if(error){Log.error("< FileSystem.waitUntilFileExists(%d, %d, %j, callback) { ... }",timeout,maximumDuration,Path.trim(path));Log.error("    error.message=%j\n\n%s\n",error.message,error.stack);callback(new ProcessError(Utilities.format("Duration exceeded waiting for the file %j to be created.",Path.trim(path))))}else{Log.info("< FileSystem.waitUntilFileExists(%d, %d, %j, callback) { ... }",timeout,maximumDuration,Path.trim(path));callback(null)}})};FileSystem.waitUntilFileNotExists=function(timeout,maximumDuration,path,callback){var Log=require("./log");var Process=require("./process");Log.info("> FileSystem.waitUntilFileNotExists(%d, %d, %j, callback) { ... }",timeout,maximumDuration,Path.trim(path));Process.waitUntil(timeout,maximumDuration,function(callback){Log.info("> FileSystem.access(%j, FileSystem.F_OK, callback)",Path.trim(path));FileSystem.access(path,FileSystem.F_OK,function(error){if(error)callback(null);else callback(new ArgumentError(Utilities.format("The file %j exists.",Path.trim(path))))})},function(error){if(error){Log.error("< FileSystem.waitUntilFileNotExists(%d, %d, %j, callback) { ... }",timeout,maximumDuration,Path.trim(path));Log.error("    error.message=%j\n\n%s\n",error.message,error.stack);callback(new ProcessError(Utilities.format("Duration exceeded waiting for the file %j to be deleted.",Path.trim(path))))}else{Log.info("< FileSystem.waitUntilFileNotExists(%d, %d, %j, callback) { ... }",timeout,maximumDuration,Path.trim(path));callback(null)}})};module.exports=FileSystem},{"./errors/argument-error":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/client/library/errors/argument-error.js","./errors/process-error":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/client/library/errors/process-error.js","./log":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/client/library/log.js","./path":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/client/library/path.js","./process":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/client/library/process.js",fs:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/browserify/lib/_empty.js",mkdirp:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/mkdirp/index.js",util:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/util/util.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/client/library/log.js":[function(require,module,exports){var Cluster=require("cluster");var Pad=require("pad");var Utilities=require("util");var Winston=require("winston");var Path=require("./path");var Log=Object.create(Winston);Log.format=function(options){var Process=require("./process");return Utilities.format("%s [%s:%d] %s %s",(new Date).toISOString(),Cluster.isMaster?"master":"worker",Process.pid,Pad(options.level.toUpperCase(),5),options.message?options.message:"")};Log.addConsole=function(){this.add(Winston.transports.Console,{formatter:this.format,level:"debug",timestamp:true})};Log.removeConsole=function(){this.remove(Winston.transports.Console)};Log.addFile=function(path){this.add(Winston.transports.File,{name:path,filename:path,formatter:this.format,json:false,level:"debug",timestamp:true})};Log.removeFile=function(path){this.remove(path)};Log.removeConsole();module.exports=Log},{"./path":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/client/library/path.js","./process":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/client/library/process.js",cluster:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/browserify/lib/_empty.js",pad:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/pad/lib/index.js",util:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/util/util.js",winston:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/winston/lib/winston.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/client/library/path.js":[function(require,module,exports){var _Path=require("path");var Path=Object.create(_Path);Path.trim=function(path){var Process=require("./process");return path.replace(Process.cwd(),".")};module.exports=Path},{"./process":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/client/library/process.js",path:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/path-browserify/index.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/client/library/process.js":[function(require,module,exports){(function(process){var Is=require("@pwn/is");var Utilities=require("util");var Path=require("./path");var ArgumentError=require("./errors/argument-error");var ProcessError=require("./errors/process-error");var EXIT_TIMEOUT=5e3;var Process=Object.create(process);Object.defineProperty(Process,"DATA_PATH",{get:function(){return Process.createPath(Path.join(Process.cwd(),"process","data"))}});Object.defineProperty(Process,"LOG_PATH",{get:function(){return Process.createPath(Path.join(Process.cwd(),"process","log"))}});Object.defineProperty(Process,"OUTPUT_PATH",{get:function(){return Process.createPath(Path.join(Process.cwd(),"process","output"))}});Object.defineProperty(Process,"PID_PATH",{get:function(){return Process.createPath(Path.join(Process.cwd(),"process","pid"))}});Object.defineProperty(Process,"exitCode",{get:function(){return process.exitCode},set:function(value){process.exitCode=value},enumerable:true});Process.createPath=function(path){var FileSystem=require("./file-system");FileSystem.mkdirp.sync(path);return path};Process.waitUntil=function(timeout,maximumDuration,testFn,callback){var Log=require("./log");Log.info("> Process.waitUntil(%d, %d, testFn, callback) { ... }",timeout,maximumDuration);var waitLoop=function(start){var duration=new Date-start;testFn(function(error){if(error&&duration<maximumDuration)setTimeout(function(){waitLoop(start,testFn,callback)},timeout);else if(duration>=maximumDuration){Log.error("< Process.waitUntil(%d, %d, testFn, callback) { ... } duration=%d",timeout,maximumDuration,duration);callback(new ProcessError("Duration exceeded."))}else{Log.info("< Process.waitUntil(%d, %d, testFn, callback) { ... }",timeout,maximumDuration);callback(null)}})};waitLoop(new Date)};Process.notExistsPID=function(path){var FileSystem=require("./file-system");var Log=require("./log");Log.info("> Process.notExistsPID(%j)",Path.trim(path));var error=null;try{Log.info("> FileSystem.accessSync(%j, FileSystem.F_OK)",Path.trim(path));FileSystem.accessSync(path,FileSystem.F_OK)}catch(_error){error=_error}if(!error)throw new ArgumentError(Utilities.format("The PID file %j already exists.",Path.trim(path)))};Process.existsPID=function(path){var FileSystem=require("./file-system");var Log=require("./log");Log.info("> Process.existsPID(%j)",Path.trim(path));try{Log.info("> FileSystem.accessSync(%j, FileSystem.F_OK)",Path.trim(path));FileSystem.accessSync(path,FileSystem.F_OK)}catch(error){Log.info("< FileSystem.accessSync(%j, FileSystem.F_OK)",Path.trim(path));Log.info("    error.message=%j\n\n%s\n\n",error.message,error.stack);throw new ArgumentError(Utilities.format("The PID file %j does not exist.",Path.trim(path)))}};Process.createPID=function(path,_process){var FileSystem=require("./file-system");var Log=require("./log");_process=_process||this;Log.info("> Process.createPID(%j, _process) _process.pid=%d",Path.trim(path),_process.pid);this.notExistsPID(path);Log.info("> FileSystem.writeFileSync(%j, %j, ...)",Path.trim(path),_process.pid);FileSystem.writeFileSync(path,_process.pid,{encoding:"utf-8"});_process.once("exit",function(){try{FileSystem.accessSync(path,FileSystem.F_OK);FileSystem.unlinkSync(path)}catch(error){console.log('< Process.once("exit", function() { ... }');console.log("    error.message=%j\n\n%s\n\n",error.message,error.stack)}})};Process.killPID=function(path){var FileSystem=require("./file-system");var Log=require("./log");Log.info("> Process.killPID(%j)",Path.trim(path));this.existsPID(path);Log.info("> FileSystem.readFileSync(%j, ...)",Path.trim(path));var pid=FileSystem.readFileSync(path,{encoding:"utf-8"});Log.info('> Process.kill(%d, "SIGTERM")',pid);this.kill(pid,"SIGTERM")};Process.exit=function(code){var Log=require("./log");Log.info("> Process.exit(%j)",code);var self=this;setTimeout(function(){process.exit.call(code)},EXIT_TIMEOUT)};module.exports=Process}).call(this,require("_process"))},{"./errors/argument-error":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/client/library/errors/argument-error.js","./errors/process-error":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/client/library/errors/process-error.js","./file-system":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/client/library/file-system.js","./log":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/client/library/log.js","./path":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/client/library/path.js","@pwn/is":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/@pwn/is/lib/is.js",_process:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/process/browser.js",util:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/util/util.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/@pwn/is/lib/is.js":[function(require,module,exports){(function(root,factory){if(typeof define==="function"&&define.amd){define(factory)}else if(typeof module==="object"&&module.exports){module.exports=factory()}else{root.is=factory()}})(this,function factory(){var is={not:{}};var util;var hasOwnProperty=Object.prototype.hasOwnProperty;var getTag=function(){var reSource=/(?:function|class)\s*(\w*)/;var toString=Object.prototype.toString;var toSource=Function.prototype.toString;return function tagOf(value){var tagFromClass;var tagFromSource;if(value===null){return"null"}else if(value===void 0){return"undefined"}tagFromClass=toString.call(value);tagFromClass=tagFromClass.substring(8,tagFromClass.length-1);if(typeof value.constructor!=="function"){return tagFromClass.toLowerCase()}else{tagFromSource=toSource.call(value.constructor).match(reSource)[1];return(tagFromSource||tagFromClass).toLowerCase()}}}();var ownKeys=Object.keys||function(dontEnums){var dontEnumsLength=dontEnums.length;var hasDontEnumBug=!{toString:null}.propertyIsEnumerable("toString");return function ownKeys(object){var key;var keys=[];var index;if(object===null||object===void 0){throw new TypeError("ownKeys called on non-object")}for(key in object){if(hasOwnProperty.call(object,key)){keys.push(key)}}if(hasDontEnumBug){for(index=0;index<dontEnumsLength;index+=1){key=dontEnums[index];if(hasOwnProperty.call(object,key)){keys.push(key)}}}return keys}}(["toString","toLocaleString","valueOf","isPrototypeOf","hasOwnProperty","propertyIsEnumerable","constructor"]);util={addPredicate:function addPredicate(name,predicate){if(/^(not|use)$/.test(name)){throw new Error('"'+name+'" is a reserved name')}if(hasOwnProperty.call(is,name)){throw new Error('predicate "'+name+'" already defined')}if(typeof predicate!=="function"){throw new TypeError("predicate must be a function")}is[name]=predicate;is.not[name]=function delegate(){return!predicate.apply(null,arguments)}}};is.use=function use(bundle){if(typeof bundle==="function"){bundle(util,is)}};is.use(function nilBundle(util){util.addPredicate("null",function isNull(value){return value===null});util.addPredicate("undefined",function isUndefined(value){return value===void 0});util.addPredicate("exist",function isExist(value){return value!=null});util.addPredicate("nil",function isNil(value){return value==null})});is.use(function numberBundle(util){util.addPredicate("number",function isNumber(value){return typeof value==="number"});util.addPredicate("numeral",function isNumeral(value){var tag=getTag(value);if(tag!=="number"&&tag!=="string"){return false}if(is.emptyString(value)){return false}try{value=Number(value)}catch(error){return false}return is.finite(value)});util.addPredicate("nan",function isNaN(value){return value!==value});util.addPredicate("odd",function isOdd(number){return is.integer(number)&&number%2===1});util.addPredicate("even",function isEven(number){return is.integer(number)&&number%2===0});if(Number.isFinite){util.addPredicate("finite",Number.isFinite)}else{util.addPredicate("finite",function isFiniteNumber(number){return is.number(number)&&isFinite(number)})}util.addPredicate("infinite",function isInfinite(number){return number===+1/0||number===-1/0});if(Number.isInteger){util.addPredicate("integer",Number.isInteger)}else{util.addPredicate("integer",function isInteger(number){return is.finite(number)&&Math.floor(number)===number})}if(Number.isSafeInteger){util.addPredicate("safeInteger",Number.isSafeInteger)}else{(function(){var MAX=Number.MAX_SAFE_INTEGER||Math.pow(2,53)-1;var MIN=Number.MIN_SAFE_INTEGER||-MAX;util.addPredicate("safeInteger",function isSafeInteger(number){return is.integer(number)&&(number>=MIN&&number<=MAX)})})()}});is.use(function stringBundle(util){util.addPredicate("string",function isString(value){return typeof value==="string"});util.addPredicate("emptyString",function isEmptyString(string){return is.string(string)&&/^\s*$/.test(string)});util.addPredicate("substring",function isSubstring(substring,string,offset){var length;if(getTag(string)!=="string"){return false}length=string.length;offset=is.integer(offset)?offset:0;if(offset<0){offset=length+offset}if(offset<0||offset>=length){return false}return string.indexOf(substring,offset)!==-1});if(String.prototype.startsWith&&String.prototype.endsWith){util.addPredicate("prefix",function isPrefix(prefix,string){return getTag(string)==="string"&&string.startsWith(prefix)});util.addPredicate("suffix",function isSuffix(suffix,string){return getTag(string)==="string"&&string.endsWith(suffix)})}else{(function(makePredicate){util.addPredicate("prefix",makePredicate());util.addPredicate("suffix",makePredicate(true))})(function makePredicate(suffix){return function predicate(affix,string){var index;var offset;var affixLength;var stringLength;if(getTag(string)!=="string"){return false}affix=String(affix);affixLength=affix.length;stringLength=string.length;if(affixLength>stringLength){return false}offset=suffix?stringLength-affixLength:0;for(index=0;index<affixLength;index+=1){if(string.charCodeAt(offset+index)!==affix.charCodeAt(index)){return false}}return true}})}});is.use(function booleanBundle(util){util.addPredicate("boolean",function isBoolean(value){return value===true||value===false})});is.use(function objectBundle(util){util.addPredicate("object",function isObject(value){return is.not.primitive(value)});util.addPredicate("emptyObject",function isEmptyObject(object){return is.object(object)&&ownKeys(object).length===0});util.addPredicate("propertyDefined",function isPropertyDefined(object,path){var key;var keys;var context;context=object;keys=String(path).split(".");while(key=keys.shift()){if(is.not.object(context)||!(key in context)){return false}else{context=context[key]}}return true});util.addPredicate("conforms",function isConforms(object,schema,strict){var key;var keys;var index;var length;var validator;if(is.not.object(object)||is.not.object(schema)){return false}keys=ownKeys(schema);length=keys.length;if(strict&&length!==ownKeys(object).length){return false}for(index=0;index<length;index+=1){key=keys[index];validator=schema[key];if(typeof validator!=="function"){continue}if(!hasOwnProperty.call(object,key)||!validator(object[key],key,object)){return false}}return true})});is.use(function arrayBundle(util){if(Array.isArray){util.addPredicate("array",Array.isArray)}else{util.addPredicate("array",function isArray(value){return getTag(value)==="array"})}util.addPredicate("arrayLikeObject",function isArrayLikeObject(value){var length;if(is.primitive(value)||is["function"](value)){return false}else{length=value.length;return is.integer(length)&&length>=0&&length<=4294967295}});util.addPredicate("inArray",function isInArray(value,array,offset,comparator){var index;var length;if(is.not.arrayLikeObject(array)){return false}if(is["function"](offset)){comparator=offset;offset=0}else{offset=is.integer(offset)?offset:0;comparator=is["function"](comparator)?comparator:is.equal}length=array.length;if(offset<0){offset=length+offset}if(offset<0||offset>=length){return false}for(index=offset;index<length;index+=1){if(!hasOwnProperty.call(array,index)){continue}if(comparator(value,array[index])){return true}}return false})});is.use(function typeBundle(util){util.addPredicate("sameType",function isSameType(value,other){return typeof value===typeof other&&getTag(value)===getTag(other)});util.addPredicate("primitive",function isPrimitive(value){return is.nil(value)||is.number(value)||is.string(value)||is.boolean(value)||is.symbol(value)});(function(makePredicate,tags){var tag;var index;var length=tags.length;for(index=0;index<length;index+=1){tag=tags[index];util.addPredicate(tag,makePredicate(tag.toLowerCase()))}})(function makePredicate(tag){return function predicate(value){return getTag(value)===tag}},["date","error","function","map","regexp","set","symbol"])});is.use(function equalityBundle(util){util.addPredicate("equal",function isEqual(value,other){return value===other||value!==value&&other!==other});util.addPredicate("deepEqual",function isDeepEqual(value,other){if(is.not.sameType(value,other)){return false}if(is.primitive(value)){return is.equal(value,other)}if(is.array(value)){if(value.length!==other.length){return false}return function(){var index;var length;for(index=0,length=value.length;index<length;index+=1){if(is.not.deepEqual(value[index],other[index])){return false}}return true}()}return function(){var key;var keys;var index;var length;keys=ownKeys(value);length=keys.length;if(length!==ownKeys(other).length){return false}for(index=0;index<length;index+=1){key=keys[index];if(!hasOwnProperty.call(other,key)||is.not.deepEqual(value[key],other[key])){return false}}return true}()})});return is})},{}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/acorn-globals/index.js":[function(require,module,exports){"use strict";var acorn=require("acorn");var walk=require("acorn/dist/walk");function isScope(node){return node.type==="FunctionExpression"||node.type==="FunctionDeclaration"||node.type==="ArrowFunctionExpression"||node.type==="Program"}function isBlockScope(node){return node.type==="BlockStatement"||isScope(node)}function declaresArguments(node){return node.type==="FunctionExpression"||node.type==="FunctionDeclaration"}function declaresThis(node){return node.type==="FunctionExpression"||node.type==="FunctionDeclaration"}function reallyParse(source){return acorn.parse(source,{allowReturnOutsideFunction:true,allowImportExportEverywhere:true,allowHashBang:true})}module.exports=findGlobals;module.exports.parse=reallyParse;function findGlobals(source){var globals=[];var ast;if(typeof source==="string"){ast=reallyParse(source)}else{ast=source}if(!(ast&&typeof ast==="object"&&ast.type==="Program")){throw new TypeError("Source must be either a string of JavaScript or an acorn AST")}var declareFunction=function(node){var fn=node;fn.locals=fn.locals||{};node.params.forEach(function(node){declarePattern(node,fn)});if(node.id){fn.locals[node.id.name]=true}};var declarePattern=function(node,parent){switch(node.type){case"Identifier":parent.locals[node.name]=true;break;case"ObjectPattern":node.properties.forEach(function(node){declarePattern(node.value,parent)});break;case"ArrayPattern":node.elements.forEach(function(node){if(node)declarePattern(node,parent)});break;case"RestElement":declarePattern(node.argument,parent);break;case"AssignmentPattern":declarePattern(node.left,parent);break;default:throw new Error("Unrecognized pattern type: "+node.type)}};var declareModuleSpecifier=function(node,parents){ast.locals=ast.locals||{};ast.locals[node.local.name]=true};walk.ancestor(ast,{VariableDeclaration:function(node,parents){var parent=null;for(var i=parents.length-1;i>=0&&parent===null;i--){if(node.kind==="var"?isScope(parents[i]):isBlockScope(parents[i])){parent=parents[i]}}parent.locals=parent.locals||{};node.declarations.forEach(function(declaration){declarePattern(declaration.id,parent)})},FunctionDeclaration:function(node,parents){var parent=null;for(var i=parents.length-2;i>=0&&parent===null;i--){if(isScope(parents[i])){parent=parents[i]}}parent.locals=parent.locals||{};parent.locals[node.id.name]=true;declareFunction(node)},Function:declareFunction,ClassDeclaration:function(node,parents){var parent=null;for(var i=parents.length-2;i>=0&&parent===null;i--){if(isScope(parents[i])){parent=parents[i]}}parent.locals=parent.locals||{};parent.locals[node.id.name]=true},TryStatement:function(node){if(node.handler===null)return;node.handler.locals=node.handler.locals||{};node.handler.locals[node.handler.param.name]=true},ImportDefaultSpecifier:declareModuleSpecifier,ImportSpecifier:declareModuleSpecifier,ImportNamespaceSpecifier:declareModuleSpecifier});function identifier(node,parents){var name=node.name;if(name==="undefined")return;for(var i=0;i<parents.length;i++){if(name==="arguments"&&declaresArguments(parents[i])){return}if(parents[i].locals&&name in parents[i].locals){return}}node.parents=parents;globals.push(node)}walk.ancestor(ast,{VariablePattern:identifier,Identifier:identifier,ThisExpression:function(node,parents){for(var i=0;i<parents.length;i++){if(declaresThis(parents[i])){return}}node.parents=parents;globals.push(node)}});var groupedGlobals={};globals.forEach(function(node){var name=node.type==="ThisExpression"?"this":node.name;groupedGlobals[name]=groupedGlobals[name]||[];groupedGlobals[name].push(node)});return Object.keys(groupedGlobals).sort().map(function(name){return{name:name,nodes:groupedGlobals[name]}})}},{acorn:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/acorn/dist/acorn.js","acorn/dist/walk":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/acorn/dist/walk.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/acorn/dist/acorn.js":[function(require,module,exports){(function(global){(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.acorn=f()}})(function(){var define,module,exports;return function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s}({1:[function(_dereq_,module,exports){"use strict";var _tokentype=_dereq_("./tokentype");var _state=_dereq_("./state");var _parseutil=_dereq_("./parseutil");var pp=_state.Parser.prototype;pp.checkPropClash=function(prop,propHash){if(this.options.ecmaVersion>=6&&(prop.computed||prop.method||prop.shorthand))return;var key=prop.key;var name=undefined;switch(key.type){case"Identifier":name=key.name;break;case"Literal":name=String(key.value);break;default:return}var kind=prop.kind;if(this.options.ecmaVersion>=6){if(name==="__proto__"&&kind==="init"){if(propHash.proto)this.raiseRecoverable(key.start,"Redefinition of __proto__ property");propHash.proto=true}return}name="$"+name;var other=propHash[name];if(other){var isGetSet=kind!=="init";if((this.strict||isGetSet)&&other[kind]||!(isGetSet^other.init))this.raiseRecoverable(key.start,"Redefinition of property")}else{other=propHash[name]={init:false,get:false,set:false}}other[kind]=true};pp.parseExpression=function(noIn,refDestructuringErrors){var startPos=this.start,startLoc=this.startLoc;var expr=this.parseMaybeAssign(noIn,refDestructuringErrors);if(this.type===_tokentype.types.comma){var node=this.startNodeAt(startPos,startLoc);node.expressions=[expr];while(this.eat(_tokentype.types.comma))node.expressions.push(this.parseMaybeAssign(noIn,refDestructuringErrors));return this.finishNode(node,"SequenceExpression")}return expr};pp.parseMaybeAssign=function(noIn,refDestructuringErrors,afterLeftParse){if(this.inGenerator&&this.isContextual("yield"))return this.parseYield();var ownDestructuringErrors=false;if(!refDestructuringErrors){refDestructuringErrors=new _parseutil.DestructuringErrors;ownDestructuringErrors=true}var startPos=this.start,startLoc=this.startLoc;if(this.type==_tokentype.types.parenL||this.type==_tokentype.types.name)this.potentialArrowAt=this.start;var left=this.parseMaybeConditional(noIn,refDestructuringErrors);if(afterLeftParse)left=afterLeftParse.call(this,left,startPos,startLoc);if(this.type.isAssign){this.checkPatternErrors(refDestructuringErrors,true);if(!ownDestructuringErrors)_parseutil.DestructuringErrors.call(refDestructuringErrors);var node=this.startNodeAt(startPos,startLoc);node.operator=this.value;node.left=this.type===_tokentype.types.eq?this.toAssignable(left):left;refDestructuringErrors.shorthandAssign=0;this.checkLVal(left);this.next();node.right=this.parseMaybeAssign(noIn);return this.finishNode(node,"AssignmentExpression")}else{if(ownDestructuringErrors)this.checkExpressionErrors(refDestructuringErrors,true)}return left};pp.parseMaybeConditional=function(noIn,refDestructuringErrors){var startPos=this.start,startLoc=this.startLoc;var expr=this.parseExprOps(noIn,refDestructuringErrors);if(this.checkExpressionErrors(refDestructuringErrors))return expr;if(this.eat(_tokentype.types.question)){var node=this.startNodeAt(startPos,startLoc);node.test=expr;node.consequent=this.parseMaybeAssign();this.expect(_tokentype.types.colon);node.alternate=this.parseMaybeAssign(noIn);return this.finishNode(node,"ConditionalExpression")}return expr};pp.parseExprOps=function(noIn,refDestructuringErrors){var startPos=this.start,startLoc=this.startLoc;var expr=this.parseMaybeUnary(refDestructuringErrors,false);if(this.checkExpressionErrors(refDestructuringErrors))return expr;return this.parseExprOp(expr,startPos,startLoc,-1,noIn)};pp.parseExprOp=function(left,leftStartPos,leftStartLoc,minPrec,noIn){var prec=this.type.binop;if(prec!=null&&(!noIn||this.type!==_tokentype.types._in)){if(prec>minPrec){var logical=this.type===_tokentype.types.logicalOR||this.type===_tokentype.types.logicalAND;var op=this.value;this.next();var startPos=this.start,startLoc=this.startLoc;var right=this.parseExprOp(this.parseMaybeUnary(null,false),startPos,startLoc,prec,noIn);var node=this.buildBinary(leftStartPos,leftStartLoc,left,right,op,logical);return this.parseExprOp(node,leftStartPos,leftStartLoc,minPrec,noIn)}}return left};pp.buildBinary=function(startPos,startLoc,left,right,op,logical){var node=this.startNodeAt(startPos,startLoc);node.left=left;node.operator=op;node.right=right;return this.finishNode(node,logical?"LogicalExpression":"BinaryExpression")};pp.parseMaybeUnary=function(refDestructuringErrors,sawUnary){var startPos=this.start,startLoc=this.startLoc,expr=undefined;if(this.type.prefix){var node=this.startNode(),update=this.type===_tokentype.types.incDec;node.operator=this.value;node.prefix=true;this.next();node.argument=this.parseMaybeUnary(null,true);this.checkExpressionErrors(refDestructuringErrors,true);if(update)this.checkLVal(node.argument);else if(this.strict&&node.operator==="delete"&&node.argument.type==="Identifier")this.raiseRecoverable(node.start,"Deleting local variable in strict mode");else sawUnary=true;expr=this.finishNode(node,update?"UpdateExpression":"UnaryExpression")}else{expr=this.parseExprSubscripts(refDestructuringErrors);if(this.checkExpressionErrors(refDestructuringErrors))return expr;while(this.type.postfix&&!this.canInsertSemicolon()){var node=this.startNodeAt(startPos,startLoc);node.operator=this.value;node.prefix=false;node.argument=expr;this.checkLVal(expr);this.next();expr=this.finishNode(node,"UpdateExpression")}}if(!sawUnary&&this.eat(_tokentype.types.starstar))return this.buildBinary(startPos,startLoc,expr,this.parseMaybeUnary(null,false),"**",false);else return expr};pp.parseExprSubscripts=function(refDestructuringErrors){var startPos=this.start,startLoc=this.startLoc;var expr=this.parseExprAtom(refDestructuringErrors);var skipArrowSubscripts=expr.type==="ArrowFunctionExpression"&&this.input.slice(this.lastTokStart,this.lastTokEnd)!==")";if(this.checkExpressionErrors(refDestructuringErrors)||skipArrowSubscripts)return expr;return this.parseSubscripts(expr,startPos,startLoc)};pp.parseSubscripts=function(base,startPos,startLoc,noCalls){for(;;){if(this.eat(_tokentype.types.dot)){var node=this.startNodeAt(startPos,startLoc);node.object=base;node.property=this.parseIdent(true);node.computed=false;base=this.finishNode(node,"MemberExpression")}else if(this.eat(_tokentype.types.bracketL)){var node=this.startNodeAt(startPos,startLoc);node.object=base;node.property=this.parseExpression();node.computed=true;this.expect(_tokentype.types.bracketR);base=this.finishNode(node,"MemberExpression")}else if(!noCalls&&this.eat(_tokentype.types.parenL)){var node=this.startNodeAt(startPos,startLoc);node.callee=base;node.arguments=this.parseExprList(_tokentype.types.parenR,false);base=this.finishNode(node,"CallExpression")}else if(this.type===_tokentype.types.backQuote){var node=this.startNodeAt(startPos,startLoc);node.tag=base;node.quasi=this.parseTemplate();base=this.finishNode(node,"TaggedTemplateExpression")}else{return base}}};pp.parseExprAtom=function(refDestructuringErrors){
var node=undefined,canBeArrow=this.potentialArrowAt==this.start;switch(this.type){case _tokentype.types._super:if(!this.inFunction)this.raise(this.start,"'super' outside of function or class");case _tokentype.types._this:var type=this.type===_tokentype.types._this?"ThisExpression":"Super";node=this.startNode();this.next();return this.finishNode(node,type);case _tokentype.types.name:var startPos=this.start,startLoc=this.startLoc;var id=this.parseIdent(this.type!==_tokentype.types.name);if(canBeArrow&&!this.canInsertSemicolon()&&this.eat(_tokentype.types.arrow))return this.parseArrowExpression(this.startNodeAt(startPos,startLoc),[id]);return id;case _tokentype.types.regexp:var value=this.value;node=this.parseLiteral(value.value);node.regex={pattern:value.pattern,flags:value.flags};return node;case _tokentype.types.num:case _tokentype.types.string:return this.parseLiteral(this.value);case _tokentype.types._null:case _tokentype.types._true:case _tokentype.types._false:node=this.startNode();node.value=this.type===_tokentype.types._null?null:this.type===_tokentype.types._true;node.raw=this.type.keyword;this.next();return this.finishNode(node,"Literal");case _tokentype.types.parenL:return this.parseParenAndDistinguishExpression(canBeArrow);case _tokentype.types.bracketL:node=this.startNode();this.next();node.elements=this.parseExprList(_tokentype.types.bracketR,true,true,refDestructuringErrors);return this.finishNode(node,"ArrayExpression");case _tokentype.types.braceL:return this.parseObj(false,refDestructuringErrors);case _tokentype.types._function:node=this.startNode();this.next();return this.parseFunction(node,false);case _tokentype.types._class:return this.parseClass(this.startNode(),false);case _tokentype.types._new:return this.parseNew();case _tokentype.types.backQuote:return this.parseTemplate();default:this.unexpected()}};pp.parseLiteral=function(value){var node=this.startNode();node.value=value;node.raw=this.input.slice(this.start,this.end);this.next();return this.finishNode(node,"Literal")};pp.parseParenExpression=function(){this.expect(_tokentype.types.parenL);var val=this.parseExpression();this.expect(_tokentype.types.parenR);return val};pp.parseParenAndDistinguishExpression=function(canBeArrow){var startPos=this.start,startLoc=this.startLoc,val=undefined;if(this.options.ecmaVersion>=6){this.next();var innerStartPos=this.start,innerStartLoc=this.startLoc;var exprList=[],first=true;var refDestructuringErrors=new _parseutil.DestructuringErrors,spreadStart=undefined,innerParenStart=undefined;while(this.type!==_tokentype.types.parenR){first?first=false:this.expect(_tokentype.types.comma);if(this.type===_tokentype.types.ellipsis){spreadStart=this.start;exprList.push(this.parseParenItem(this.parseRest()));break}else{if(this.type===_tokentype.types.parenL&&!innerParenStart){innerParenStart=this.start}exprList.push(this.parseMaybeAssign(false,refDestructuringErrors,this.parseParenItem))}}var innerEndPos=this.start,innerEndLoc=this.startLoc;this.expect(_tokentype.types.parenR);if(canBeArrow&&!this.canInsertSemicolon()&&this.eat(_tokentype.types.arrow)){this.checkPatternErrors(refDestructuringErrors,true);if(innerParenStart)this.unexpected(innerParenStart);return this.parseParenArrowList(startPos,startLoc,exprList)}if(!exprList.length)this.unexpected(this.lastTokStart);if(spreadStart)this.unexpected(spreadStart);this.checkExpressionErrors(refDestructuringErrors,true);if(exprList.length>1){val=this.startNodeAt(innerStartPos,innerStartLoc);val.expressions=exprList;this.finishNodeAt(val,"SequenceExpression",innerEndPos,innerEndLoc)}else{val=exprList[0]}}else{val=this.parseParenExpression()}if(this.options.preserveParens){var par=this.startNodeAt(startPos,startLoc);par.expression=val;return this.finishNode(par,"ParenthesizedExpression")}else{return val}};pp.parseParenItem=function(item){return item};pp.parseParenArrowList=function(startPos,startLoc,exprList){return this.parseArrowExpression(this.startNodeAt(startPos,startLoc),exprList)};var empty=[];pp.parseNew=function(){var node=this.startNode();var meta=this.parseIdent(true);if(this.options.ecmaVersion>=6&&this.eat(_tokentype.types.dot)){node.meta=meta;node.property=this.parseIdent(true);if(node.property.name!=="target")this.raiseRecoverable(node.property.start,"The only valid meta property for new is new.target");if(!this.inFunction)this.raiseRecoverable(node.start,"new.target can only be used in functions");return this.finishNode(node,"MetaProperty")}var startPos=this.start,startLoc=this.startLoc;node.callee=this.parseSubscripts(this.parseExprAtom(),startPos,startLoc,true);if(this.eat(_tokentype.types.parenL))node.arguments=this.parseExprList(_tokentype.types.parenR,false);else node.arguments=empty;return this.finishNode(node,"NewExpression")};pp.parseTemplateElement=function(){var elem=this.startNode();elem.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,"\n"),cooked:this.value};this.next();elem.tail=this.type===_tokentype.types.backQuote;return this.finishNode(elem,"TemplateElement")};pp.parseTemplate=function(){var node=this.startNode();this.next();node.expressions=[];var curElt=this.parseTemplateElement();node.quasis=[curElt];while(!curElt.tail){this.expect(_tokentype.types.dollarBraceL);node.expressions.push(this.parseExpression());this.expect(_tokentype.types.braceR);node.quasis.push(curElt=this.parseTemplateElement())}this.next();return this.finishNode(node,"TemplateLiteral")};pp.parseObj=function(isPattern,refDestructuringErrors){var node=this.startNode(),first=true,propHash={};node.properties=[];this.next();while(!this.eat(_tokentype.types.braceR)){if(!first){this.expect(_tokentype.types.comma);if(this.afterTrailingComma(_tokentype.types.braceR))break}else first=false;var prop=this.startNode(),isGenerator=undefined,startPos=undefined,startLoc=undefined;if(this.options.ecmaVersion>=6){prop.method=false;prop.shorthand=false;if(isPattern||refDestructuringErrors){startPos=this.start;startLoc=this.startLoc}if(!isPattern)isGenerator=this.eat(_tokentype.types.star)}this.parsePropertyName(prop);this.parsePropertyValue(prop,isPattern,isGenerator,startPos,startLoc,refDestructuringErrors);this.checkPropClash(prop,propHash);node.properties.push(this.finishNode(prop,"Property"))}return this.finishNode(node,isPattern?"ObjectPattern":"ObjectExpression")};pp.parsePropertyValue=function(prop,isPattern,isGenerator,startPos,startLoc,refDestructuringErrors){if(this.eat(_tokentype.types.colon)){prop.value=isPattern?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(false,refDestructuringErrors);prop.kind="init"}else if(this.options.ecmaVersion>=6&&this.type===_tokentype.types.parenL){if(isPattern)this.unexpected();prop.kind="init";prop.method=true;prop.value=this.parseMethod(isGenerator)}else if(this.options.ecmaVersion>=5&&!prop.computed&&prop.key.type==="Identifier"&&(prop.key.name==="get"||prop.key.name==="set")&&this.type!=_tokentype.types.comma&&this.type!=_tokentype.types.braceR){if(isGenerator||isPattern)this.unexpected();prop.kind=prop.key.name;this.parsePropertyName(prop);prop.value=this.parseMethod(false);var paramCount=prop.kind==="get"?0:1;if(prop.value.params.length!==paramCount){var start=prop.value.start;if(prop.kind==="get")this.raiseRecoverable(start,"getter should have no params");else this.raiseRecoverable(start,"setter should have exactly one param")}if(prop.kind==="set"&&prop.value.params[0].type==="RestElement")this.raiseRecoverable(prop.value.params[0].start,"Setter cannot use rest params")}else if(this.options.ecmaVersion>=6&&!prop.computed&&prop.key.type==="Identifier"){if(this.keywords.test(prop.key.name)||(this.strict?this.reservedWordsStrictBind:this.reservedWords).test(prop.key.name)||this.inGenerator&&prop.key.name=="yield")this.raiseRecoverable(prop.key.start,"'"+prop.key.name+"' can not be used as shorthand property");prop.kind="init";if(isPattern){prop.value=this.parseMaybeDefault(startPos,startLoc,prop.key)}else if(this.type===_tokentype.types.eq&&refDestructuringErrors){if(!refDestructuringErrors.shorthandAssign)refDestructuringErrors.shorthandAssign=this.start;prop.value=this.parseMaybeDefault(startPos,startLoc,prop.key)}else{prop.value=prop.key}prop.shorthand=true}else this.unexpected()};pp.parsePropertyName=function(prop){if(this.options.ecmaVersion>=6){if(this.eat(_tokentype.types.bracketL)){prop.computed=true;prop.key=this.parseMaybeAssign();this.expect(_tokentype.types.bracketR);return prop.key}else{prop.computed=false}}return prop.key=this.type===_tokentype.types.num||this.type===_tokentype.types.string?this.parseExprAtom():this.parseIdent(true)};pp.initFunction=function(node){node.id=null;if(this.options.ecmaVersion>=6){node.generator=false;node.expression=false}};pp.parseMethod=function(isGenerator){var node=this.startNode(),oldInGen=this.inGenerator;this.inGenerator=isGenerator;this.initFunction(node);this.expect(_tokentype.types.parenL);node.params=this.parseBindingList(_tokentype.types.parenR,false,false);if(this.options.ecmaVersion>=6)node.generator=isGenerator;this.parseFunctionBody(node,false);this.inGenerator=oldInGen;return this.finishNode(node,"FunctionExpression")};pp.parseArrowExpression=function(node,params){var oldInGen=this.inGenerator;this.inGenerator=false;this.initFunction(node);node.params=this.toAssignableList(params,true);this.parseFunctionBody(node,true);this.inGenerator=oldInGen;return this.finishNode(node,"ArrowFunctionExpression")};pp.parseFunctionBody=function(node,isArrowFunction){var isExpression=isArrowFunction&&this.type!==_tokentype.types.braceL;if(isExpression){node.body=this.parseMaybeAssign();node.expression=true}else{var oldInFunc=this.inFunction,oldLabels=this.labels;this.inFunction=true;this.labels=[];node.body=this.parseBlock(true);node.expression=false;this.inFunction=oldInFunc;this.labels=oldLabels}if(this.strict||!isExpression&&node.body.body.length&&this.isUseStrict(node.body.body[0])){var oldStrict=this.strict;this.strict=true;if(node.id)this.checkLVal(node.id,true);this.checkParams(node);this.strict=oldStrict}else if(isArrowFunction){this.checkParams(node)}};pp.checkParams=function(node){var nameHash={};for(var i=0;i<node.params.length;i++){this.checkLVal(node.params[i],true,nameHash)}};pp.parseExprList=function(close,allowTrailingComma,allowEmpty,refDestructuringErrors){var elts=[],first=true;while(!this.eat(close)){if(!first){this.expect(_tokentype.types.comma);if(allowTrailingComma&&this.afterTrailingComma(close))break}else first=false;var elt=undefined;if(allowEmpty&&this.type===_tokentype.types.comma)elt=null;else if(this.type===_tokentype.types.ellipsis){elt=this.parseSpread(refDestructuringErrors);if(this.type===_tokentype.types.comma&&refDestructuringErrors&&!refDestructuringErrors.trailingComma){refDestructuringErrors.trailingComma=this.lastTokStart}}else elt=this.parseMaybeAssign(false,refDestructuringErrors);elts.push(elt)}return elts};pp.parseIdent=function(liberal){var node=this.startNode();if(liberal&&this.options.allowReserved=="never")liberal=false;if(this.type===_tokentype.types.name){if(!liberal&&(this.strict?this.reservedWordsStrict:this.reservedWords).test(this.value)&&(this.options.ecmaVersion>=6||this.input.slice(this.start,this.end).indexOf("\\")==-1))this.raiseRecoverable(this.start,"The keyword '"+this.value+"' is reserved");if(!liberal&&this.inGenerator&&this.value==="yield")this.raiseRecoverable(this.start,"Can not use 'yield' as identifier inside a generator");node.name=this.value}else if(liberal&&this.type.keyword){node.name=this.type.keyword}else{this.unexpected()}this.next();return this.finishNode(node,"Identifier")};pp.parseYield=function(){var node=this.startNode();this.next();if(this.type==_tokentype.types.semi||this.canInsertSemicolon()||this.type!=_tokentype.types.star&&!this.type.startsExpr){node.delegate=false;node.argument=null}else{node.delegate=this.eat(_tokentype.types.star);node.argument=this.parseMaybeAssign()}return this.finishNode(node,"YieldExpression")}},{"./parseutil":9,"./state":10,"./tokentype":14}],2:[function(_dereq_,module,exports){"use strict";exports.__esModule=true;exports.isIdentifierStart=isIdentifierStart;exports.isIdentifierChar=isIdentifierChar;var reservedWords={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",7:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"};exports.reservedWords=reservedWords;var ecma5AndLessKeywords="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this";var keywords={5:ecma5AndLessKeywords,6:ecma5AndLessKeywords+" const class extends export import super"};exports.keywords=keywords;var nonASCIIidentifierStartChars="ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԯԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠ-ࢴऄ-हऽॐक़-ॡॱ-ঀঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡૹଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-హఽౘ-ౚౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൟ-ൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏽᏸ-ᏽᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛸᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤞᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕ℘-ℝℤΩℨK-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞ々-〇〡-〩〱-〵〸-〼ぁ-ゖ゛-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿕ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚝꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞭꞰ-ꞷꟷ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꣽꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꧠ-ꧤꧦ-ꧯꧺ-ꧾꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꩾ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭥꭰ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ";var nonASCIIidentifierChars="‌‍·̀-ͯ·҃-֑҇-ׇֽֿׁׂׅׄؐ-ًؚ-٩ٰۖ-ۜ۟-۪ۤۧۨ-ۭ۰-۹ܑܰ-݊ަ-ް߀-߉߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ࣣ-ःऺ-़ा-ॏ॑-ॗॢॣ०-९ঁ-ঃ়া-ৄেৈো-্ৗৢৣ০-৯ਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑ੦-ੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢૣ૦-૯ଁ-ଃ଼ା-ୄେୈୋ-୍ୖୗୢୣ୦-୯ஂா-ூெ-ைொ-்ௗ௦-௯ఀ-ఃా-ౄె-ైొ-్ౕౖౢౣ౦-౯ಁ-ಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢೣ೦-೯ഁ-ഃാ-ൄെ-ൈൊ-്ൗൢൣ൦-൯ංඃ්ා-ුූෘ-ෟ෦-෯ෲෳัิ-ฺ็-๎๐-๙ັິ-ູົຼ່-ໍ໐-໙༘༙༠-༩༹༵༷༾༿ཱ-྄྆྇ྍ-ྗྙ-ྼ࿆ါ-ှ၀-၉ၖ-ၙၞ-ၠၢ-ၤၧ-ၭၱ-ၴႂ-ႍႏ-ႝ፝-፟፩-፱ᜒ-᜔ᜲ-᜴ᝒᝓᝲᝳ឴-៓៝០-៩᠋-᠍᠐-᠙ᢩᤠ-ᤫᤰ-᤻᥆-᥏᧐-᧚ᨗ-ᨛᩕ-ᩞ᩠-᩿᩼-᪉᪐-᪙᪰-᪽ᬀ-ᬄ᬴-᭄᭐-᭙᭫-᭳ᮀ-ᮂᮡ-ᮭ᮰-᮹᯦-᯳ᰤ-᰷᱀-᱉᱐-᱙᳐-᳔᳒-᳨᳭ᳲ-᳴᳸᳹᷀-᷵᷼-᷿‿⁀⁔⃐-⃥⃜⃡-⃰⳯-⵿⳱ⷠ-〪ⷿ-゙゚〯꘠-꘩꙯ꙴ-꙽ꚞꚟ꛰꛱ꠂ꠆ꠋꠣ-ꠧꢀꢁꢴ-꣄꣐-꣙꣠-꣱꤀-꤉ꤦ-꤭ꥇ-꥓ꦀ-ꦃ꦳-꧀꧐-꧙ꧥ꧰-꧹ꨩ-ꨶꩃꩌꩍ꩐-꩙ꩻ-ꩽꪰꪲ-ꪴꪷꪸꪾ꪿꫁ꫫ-ꫯꫵ꫶ꯣ-ꯪ꯬꯭꯰-꯹ﬞ︀-️︠-︯︳︴﹍-﹏０-９＿";var nonASCIIidentifierStart=new RegExp("["+nonASCIIidentifierStartChars+"]");var nonASCIIidentifier=new RegExp("["+nonASCIIidentifierStartChars+nonASCIIidentifierChars+"]");nonASCIIidentifierStartChars=nonASCIIidentifierChars=null;var astralIdentifierStartCodes=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,17,26,6,37,11,29,3,35,5,7,2,4,43,157,99,39,9,51,157,310,10,21,11,7,153,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,26,45,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,785,52,76,44,33,24,27,35,42,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,85,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,287,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,86,25,391,63,32,0,449,56,1288,921,103,110,18,195,2749,1070,4050,582,8634,568,8,30,114,29,19,47,17,3,32,20,6,18,881,68,12,0,67,12,16481,1,3071,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,4149,196,1340,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42710,42,4148,12,221,3,5761,10591,541];var astralIdentifierCodes=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,1306,2,54,14,32,9,16,3,46,10,54,9,7,2,37,13,2,9,52,0,13,2,49,13,10,2,4,9,83,11,168,11,6,9,7,3,57,0,2,6,3,1,3,2,10,0,11,1,3,6,4,4,316,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,423,9,20855,9,135,4,60,6,26,9,1016,45,17,3,19723,1,5319,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,3617,6,792618,239];function isInAstralSet(code,set){var pos=65536;for(var i=0;i<set.length;i+=2){pos+=set[i];if(pos>code)return false;pos+=set[i+1];if(pos>=code)return true}}function isIdentifierStart(code,astral){if(code<65)return code===36;if(code<91)return true;if(code<97)return code===95;if(code<123)return true;if(code<=65535)return code>=170&&nonASCIIidentifierStart.test(String.fromCharCode(code));if(astral===false)return false;return isInAstralSet(code,astralIdentifierStartCodes)}function isIdentifierChar(code,astral){if(code<48)return code===36;if(code<58)return true;if(code<65)return false;if(code<91)return true;if(code<97)return code===95;if(code<123)return true;if(code<=65535)return code>=170&&nonASCIIidentifier.test(String.fromCharCode(code));if(astral===false)return false;return isInAstralSet(code,astralIdentifierStartCodes)||isInAstralSet(code,astralIdentifierCodes)}},{}],3:[function(_dereq_,module,exports){"use strict";exports.__esModule=true;exports.parse=parse;exports.parseExpressionAt=parseExpressionAt;exports.tokenizer=tokenizer;var _state=_dereq_("./state");_dereq_("./parseutil");_dereq_("./statement");_dereq_("./lval");_dereq_("./expression");_dereq_("./location");exports.Parser=_state.Parser;exports.plugins=_state.plugins;var _options=_dereq_("./options");exports.defaultOptions=_options.defaultOptions;var _locutil=_dereq_("./locutil");exports.Position=_locutil.Position;exports.SourceLocation=_locutil.SourceLocation;exports.getLineInfo=_locutil.getLineInfo;var _node=_dereq_("./node");exports.Node=_node.Node;var _tokentype=_dereq_("./tokentype");exports.TokenType=_tokentype.TokenType;exports.tokTypes=_tokentype.types;var _tokencontext=_dereq_("./tokencontext");exports.TokContext=_tokencontext.TokContext;exports.tokContexts=_tokencontext.types;var _identifier=_dereq_("./identifier");exports.isIdentifierChar=_identifier.isIdentifierChar;exports.isIdentifierStart=_identifier.isIdentifierStart;var _tokenize=_dereq_("./tokenize");exports.Token=_tokenize.Token;var _whitespace=_dereq_("./whitespace");exports.isNewLine=_whitespace.isNewLine;exports.lineBreak=_whitespace.lineBreak;exports.lineBreakG=_whitespace.lineBreakG;var version="3.1.0";exports.version=version;function parse(input,options){return new _state.Parser(options,input).parse()}function parseExpressionAt(input,pos,options){var p=new _state.Parser(options,input,pos);p.nextToken();return p.parseExpression()}function tokenizer(input,options){return new _state.Parser(options,input)}},{"./expression":1,"./identifier":2,"./location":4,"./locutil":5,"./lval":6,"./node":7,"./options":8,"./parseutil":9,"./state":10,"./statement":11,"./tokencontext":12,"./tokenize":13,"./tokentype":14,"./whitespace":16}],4:[function(_dereq_,module,exports){"use strict";var _state=_dereq_("./state");var _locutil=_dereq_("./locutil");var pp=_state.Parser.prototype;pp.raise=function(pos,message){var loc=_locutil.getLineInfo(this.input,pos);message+=" ("+loc.line+":"+loc.column+")";var err=new SyntaxError(message);err.pos=pos;err.loc=loc;err.raisedAt=this.pos;throw err};pp.raiseRecoverable=pp.raise;pp.curPosition=function(){if(this.options.locations){return new _locutil.Position(this.curLine,this.pos-this.lineStart)}}},{"./locutil":5,"./state":10}],5:[function(_dereq_,module,exports){"use strict";exports.__esModule=true;exports.getLineInfo=getLineInfo;function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var _whitespace=_dereq_("./whitespace");var Position=function(){function Position(line,col){_classCallCheck(this,Position);this.line=line;this.column=col}Position.prototype.offset=function offset(n){return new Position(this.line,this.column+n)};return Position}();exports.Position=Position;var SourceLocation=function SourceLocation(p,start,end){_classCallCheck(this,SourceLocation);this.start=start;this.end=end;if(p.sourceFile!==null)this.source=p.sourceFile};exports.SourceLocation=SourceLocation;function getLineInfo(input,offset){for(var line=1,cur=0;;){_whitespace.lineBreakG.lastIndex=cur;var match=_whitespace.lineBreakG.exec(input);if(match&&match.index<offset){++line;cur=match.index+match[0].length}else{return new Position(line,offset-cur)}}}},{"./whitespace":16}],6:[function(_dereq_,module,exports){"use strict";var _tokentype=_dereq_("./tokentype");var _state=_dereq_("./state");var _util=_dereq_("./util");var pp=_state.Parser.prototype;pp.toAssignable=function(node,isBinding){if(this.options.ecmaVersion>=6&&node){switch(node.type){case"Identifier":case"ObjectPattern":case"ArrayPattern":break;case"ObjectExpression":node.type="ObjectPattern";for(var i=0;i<node.properties.length;i++){var prop=node.properties[i];if(prop.kind!=="init")this.raise(prop.key.start,"Object pattern can't contain getter or setter");this.toAssignable(prop.value,isBinding)}break;case"ArrayExpression":node.type="ArrayPattern";this.toAssignableList(node.elements,isBinding);break;case"AssignmentExpression":if(node.operator==="="){node.type="AssignmentPattern";delete node.operator}else{this.raise(node.left.end,"Only '=' operator can be used for specifying default value.");break}case"AssignmentPattern":if(node.right.type==="YieldExpression")this.raise(node.right.start,"Yield expression cannot be a default value");break;case"ParenthesizedExpression":node.expression=this.toAssignable(node.expression,isBinding);break;case"MemberExpression":if(!isBinding)break;default:this.raise(node.start,"Assigning to rvalue")}}return node};pp.toAssignableList=function(exprList,isBinding){var end=exprList.length;if(end){var last=exprList[end-1];if(last&&last.type=="RestElement"){--end}else if(last&&last.type=="SpreadElement"){last.type="RestElement";var arg=last.argument;this.toAssignable(arg,isBinding);if(arg.type!=="Identifier"&&arg.type!=="MemberExpression"&&arg.type!=="ArrayPattern")this.unexpected(arg.start);--end}if(isBinding&&last.type==="RestElement"&&last.argument.type!=="Identifier")this.unexpected(last.argument.start)}for(var i=0;i<end;i++){var elt=exprList[i];if(elt)this.toAssignable(elt,isBinding)}return exprList};pp.parseSpread=function(refDestructuringErrors){var node=this.startNode();this.next();node.argument=this.parseMaybeAssign(refDestructuringErrors);return this.finishNode(node,"SpreadElement")};pp.parseRest=function(allowNonIdent){var node=this.startNode();this.next();if(allowNonIdent)node.argument=this.type===_tokentype.types.name?this.parseIdent():this.unexpected();else node.argument=this.type===_tokentype.types.name||this.type===_tokentype.types.bracketL?this.parseBindingAtom():this.unexpected();return this.finishNode(node,"RestElement")};pp.parseBindingAtom=function(){if(this.options.ecmaVersion<6)return this.parseIdent();switch(this.type){case _tokentype.types.name:return this.parseIdent();case _tokentype.types.bracketL:var node=this.startNode();this.next();node.elements=this.parseBindingList(_tokentype.types.bracketR,true,true);return this.finishNode(node,"ArrayPattern");case _tokentype.types.braceL:return this.parseObj(true);default:this.unexpected()}};pp.parseBindingList=function(close,allowEmpty,allowTrailingComma,allowNonIdent){var elts=[],first=true;while(!this.eat(close)){if(first)first=false;else this.expect(_tokentype.types.comma);if(allowEmpty&&this.type===_tokentype.types.comma){elts.push(null)}else if(allowTrailingComma&&this.afterTrailingComma(close)){break}else if(this.type===_tokentype.types.ellipsis){var rest=this.parseRest(allowNonIdent);this.parseBindingListItem(rest);elts.push(rest);if(this.type===_tokentype.types.comma)this.raise(this.start,"Comma is not permitted after the rest element");this.expect(close);break}else{var elem=this.parseMaybeDefault(this.start,this.startLoc);this.parseBindingListItem(elem);elts.push(elem)}}return elts};pp.parseBindingListItem=function(param){return param};pp.parseMaybeDefault=function(startPos,startLoc,left){left=left||this.parseBindingAtom();if(this.options.ecmaVersion<6||!this.eat(_tokentype.types.eq))return left;var node=this.startNodeAt(startPos,startLoc);node.left=left;node.right=this.parseMaybeAssign();return this.finishNode(node,"AssignmentPattern")};pp.checkLVal=function(expr,isBinding,checkClashes){switch(expr.type){case"Identifier":if(this.strict&&this.reservedWordsStrictBind.test(expr.name))this.raiseRecoverable(expr.start,(isBinding?"Binding ":"Assigning to ")+expr.name+" in strict mode");if(checkClashes){if(_util.has(checkClashes,expr.name))this.raiseRecoverable(expr.start,"Argument name clash");checkClashes[expr.name]=true}break;case"MemberExpression":if(isBinding)this.raiseRecoverable(expr.start,(isBinding?"Binding":"Assigning to")+" member expression");break;case"ObjectPattern":for(var i=0;i<expr.properties.length;i++){this.checkLVal(expr.properties[i].value,isBinding,checkClashes)}break;case"ArrayPattern":for(var i=0;i<expr.elements.length;i++){var elem=expr.elements[i];if(elem)this.checkLVal(elem,isBinding,checkClashes)}break;case"AssignmentPattern":this.checkLVal(expr.left,isBinding,checkClashes);break;case"RestElement":this.checkLVal(expr.argument,isBinding,checkClashes);break;case"ParenthesizedExpression":this.checkLVal(expr.expression,isBinding,checkClashes);break;default:this.raise(expr.start,(isBinding?"Binding":"Assigning to")+" rvalue")}}},{"./state":10,"./tokentype":14,"./util":15}],7:[function(_dereq_,module,exports){"use strict";exports.__esModule=true;function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var _state=_dereq_("./state");var _locutil=_dereq_("./locutil");var Node=function Node(parser,pos,loc){_classCallCheck(this,Node);this.type="";this.start=pos;this.end=0;if(parser.options.locations)this.loc=new _locutil.SourceLocation(parser,loc);if(parser.options.directSourceFile)this.sourceFile=parser.options.directSourceFile;if(parser.options.ranges)this.range=[pos,0]};exports.Node=Node;var pp=_state.Parser.prototype;pp.startNode=function(){return new Node(this,this.start,this.startLoc)};pp.startNodeAt=function(pos,loc){return new Node(this,pos,loc)};function finishNodeAt(node,type,pos,loc){node.type=type;node.end=pos;if(this.options.locations)node.loc.end=loc;if(this.options.ranges)node.range[1]=pos;return node}pp.finishNode=function(node,type){return finishNodeAt.call(this,node,type,this.lastTokEnd,this.lastTokEndLoc)};pp.finishNodeAt=function(node,type,pos,loc){return finishNodeAt.call(this,node,type,pos,loc)}},{"./locutil":5,"./state":10}],8:[function(_dereq_,module,exports){"use strict";exports.__esModule=true;exports.getOptions=getOptions;var _util=_dereq_("./util");var _locutil=_dereq_("./locutil");var defaultOptions={ecmaVersion:6,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:false,allowImportExportEverywhere:false,allowHashBang:false,locations:false,onToken:null,onComment:null,ranges:false,program:null,sourceFile:null,directSourceFile:null,preserveParens:false,plugins:{}};exports.defaultOptions=defaultOptions;function getOptions(opts){var options={};for(var opt in defaultOptions){options[opt]=opts&&_util.has(opts,opt)?opts[opt]:defaultOptions[opt]}if(options.allowReserved==null)options.allowReserved=options.ecmaVersion<5;if(_util.isArray(options.onToken)){(function(){var tokens=options.onToken;options.onToken=function(token){return tokens.push(token)}})()}if(_util.isArray(options.onComment))options.onComment=pushComment(options,options.onComment);return options}function pushComment(options,array){return function(block,text,start,end,startLoc,endLoc){var comment={type:block?"Block":"Line",value:text,start:start,end:end};if(options.locations)comment.loc=new _locutil.SourceLocation(this,startLoc,endLoc);if(options.ranges)comment.range=[start,end];array.push(comment)}}},{"./locutil":5,"./util":15}],9:[function(_dereq_,module,exports){"use strict";exports.__esModule=true;function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var _tokentype=_dereq_("./tokentype");var _state=_dereq_("./state");var _whitespace=_dereq_("./whitespace");var pp=_state.Parser.prototype;pp.isUseStrict=function(stmt){return this.options.ecmaVersion>=5&&stmt.type==="ExpressionStatement"&&stmt.expression.type==="Literal"&&stmt.expression.raw.slice(1,-1)==="use strict"};pp.eat=function(type){if(this.type===type){this.next();return true}else{return false}};pp.isContextual=function(name){return this.type===_tokentype.types.name&&this.value===name};pp.eatContextual=function(name){return this.value===name&&this.eat(_tokentype.types.name)};pp.expectContextual=function(name){if(!this.eatContextual(name))this.unexpected()};pp.canInsertSemicolon=function(){return this.type===_tokentype.types.eof||this.type===_tokentype.types.braceR||_whitespace.lineBreak.test(this.input.slice(this.lastTokEnd,this.start))};pp.insertSemicolon=function(){if(this.canInsertSemicolon()){if(this.options.onInsertedSemicolon)this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc);return true}};pp.semicolon=function(){if(!this.eat(_tokentype.types.semi)&&!this.insertSemicolon())this.unexpected()};pp.afterTrailingComma=function(tokType){if(this.type==tokType){if(this.options.onTrailingComma)this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc);this.next();return true}};pp.expect=function(type){this.eat(type)||this.unexpected()};pp.unexpected=function(pos){this.raise(pos!=null?pos:this.start,"Unexpected token")};var DestructuringErrors=function DestructuringErrors(){_classCallCheck(this,DestructuringErrors);this.shorthandAssign=0;this.trailingComma=0};exports.DestructuringErrors=DestructuringErrors;pp.checkPatternErrors=function(refDestructuringErrors,andThrow){var trailing=refDestructuringErrors&&refDestructuringErrors.trailingComma;if(!andThrow)return!!trailing;if(trailing)this.raise(trailing,"Comma is not permitted after the rest element")};pp.checkExpressionErrors=function(refDestructuringErrors,andThrow){var pos=refDestructuringErrors&&refDestructuringErrors.shorthandAssign;if(!andThrow)return!!pos;if(pos)this.raise(pos,"Shorthand property assignments are valid only in destructuring patterns")}},{"./state":10,"./tokentype":14,"./whitespace":16}],10:[function(_dereq_,module,exports){"use strict";exports.__esModule=true;function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var _identifier=_dereq_("./identifier");var _tokentype=_dereq_("./tokentype");var _whitespace=_dereq_("./whitespace");var _options=_dereq_("./options");var plugins={};exports.plugins=plugins;function keywordRegexp(words){return new RegExp("^("+words.replace(/ /g,"|")+")$")}var Parser=function(){function Parser(options,input,startPos){_classCallCheck(this,Parser);this.options=options=_options.getOptions(options);this.sourceFile=options.sourceFile;this.keywords=keywordRegexp(_identifier.keywords[options.ecmaVersion>=6?6:5]);var reserved=options.allowReserved?"":_identifier.reservedWords[options.ecmaVersion]+(options.sourceType=="module"?" await":"");this.reservedWords=keywordRegexp(reserved);var reservedStrict=(reserved?reserved+" ":"")+_identifier.reservedWords.strict;this.reservedWordsStrict=keywordRegexp(reservedStrict);this.reservedWordsStrictBind=keywordRegexp(reservedStrict+" "+_identifier.reservedWords.strictBind);this.input=String(input);this.containsEsc=false;this.loadPlugins(options.plugins);if(startPos){this.pos=startPos;this.lineStart=Math.max(0,this.input.lastIndexOf("\n",startPos));this.curLine=this.input.slice(0,this.lineStart).split(_whitespace.lineBreak).length}else{this.pos=this.lineStart=0;this.curLine=1}this.type=_tokentype.types.eof;this.value=null;this.start=this.end=this.pos;this.startLoc=this.endLoc=this.curPosition();
this.lastTokEndLoc=this.lastTokStartLoc=null;this.lastTokStart=this.lastTokEnd=this.pos;this.context=this.initialContext();this.exprAllowed=true;this.strict=this.inModule=options.sourceType==="module";this.potentialArrowAt=-1;this.inFunction=this.inGenerator=false;this.labels=[];if(this.pos===0&&options.allowHashBang&&this.input.slice(0,2)==="#!")this.skipLineComment(2)}Parser.prototype.isKeyword=function isKeyword(word){return this.keywords.test(word)};Parser.prototype.isReservedWord=function isReservedWord(word){return this.reservedWords.test(word)};Parser.prototype.extend=function extend(name,f){this[name]=f(this[name])};Parser.prototype.loadPlugins=function loadPlugins(pluginConfigs){for(var _name in pluginConfigs){var plugin=plugins[_name];if(!plugin)throw new Error("Plugin '"+_name+"' not found");plugin(this,pluginConfigs[_name])}};Parser.prototype.parse=function parse(){var node=this.options.program||this.startNode();this.nextToken();return this.parseTopLevel(node)};return Parser}();exports.Parser=Parser},{"./identifier":2,"./options":8,"./tokentype":14,"./whitespace":16}],11:[function(_dereq_,module,exports){"use strict";var _tokentype=_dereq_("./tokentype");var _state=_dereq_("./state");var _whitespace=_dereq_("./whitespace");var _identifier=_dereq_("./identifier");var _parseutil=_dereq_("./parseutil");var pp=_state.Parser.prototype;pp.parseTopLevel=function(node){var first=true;if(!node.body)node.body=[];while(this.type!==_tokentype.types.eof){var stmt=this.parseStatement(true,true);node.body.push(stmt);if(first){if(this.isUseStrict(stmt))this.setStrict(true);first=false}}this.next();if(this.options.ecmaVersion>=6){node.sourceType=this.options.sourceType}return this.finishNode(node,"Program")};var loopLabel={kind:"loop"},switchLabel={kind:"switch"};pp.isLet=function(){if(this.type!==_tokentype.types.name||this.options.ecmaVersion<6||this.value!="let")return false;_whitespace.skipWhiteSpace.lastIndex=this.pos;var skip=_whitespace.skipWhiteSpace.exec(this.input);var next=this.pos+skip[0].length,nextCh=this.input.charCodeAt(next);if(nextCh===91||nextCh==123)return true;if(_identifier.isIdentifierStart(nextCh,true)){for(var pos=next+1;_identifier.isIdentifierChar(this.input.charCodeAt(pos,true));++pos){}var ident=this.input.slice(next,pos);if(!this.isKeyword(ident))return true}return false};pp.parseStatement=function(declaration,topLevel){var starttype=this.type,node=this.startNode(),kind=undefined;if(this.isLet()){starttype=_tokentype.types._var;kind="let"}switch(starttype){case _tokentype.types._break:case _tokentype.types._continue:return this.parseBreakContinueStatement(node,starttype.keyword);case _tokentype.types._debugger:return this.parseDebuggerStatement(node);case _tokentype.types._do:return this.parseDoStatement(node);case _tokentype.types._for:return this.parseForStatement(node);case _tokentype.types._function:if(!declaration&&this.options.ecmaVersion>=6)this.unexpected();return this.parseFunctionStatement(node);case _tokentype.types._class:if(!declaration)this.unexpected();return this.parseClass(node,true);case _tokentype.types._if:return this.parseIfStatement(node);case _tokentype.types._return:return this.parseReturnStatement(node);case _tokentype.types._switch:return this.parseSwitchStatement(node);case _tokentype.types._throw:return this.parseThrowStatement(node);case _tokentype.types._try:return this.parseTryStatement(node);case _tokentype.types._const:case _tokentype.types._var:kind=kind||this.value;if(!declaration&&kind!="var")this.unexpected();return this.parseVarStatement(node,kind);case _tokentype.types._while:return this.parseWhileStatement(node);case _tokentype.types._with:return this.parseWithStatement(node);case _tokentype.types.braceL:return this.parseBlock();case _tokentype.types.semi:return this.parseEmptyStatement(node);case _tokentype.types._export:case _tokentype.types._import:if(!this.options.allowImportExportEverywhere){if(!topLevel)this.raise(this.start,"'import' and 'export' may only appear at the top level");if(!this.inModule)this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")}return starttype===_tokentype.types._import?this.parseImport(node):this.parseExport(node);default:var maybeName=this.value,expr=this.parseExpression();if(starttype===_tokentype.types.name&&expr.type==="Identifier"&&this.eat(_tokentype.types.colon))return this.parseLabeledStatement(node,maybeName,expr);else return this.parseExpressionStatement(node,expr)}};pp.parseBreakContinueStatement=function(node,keyword){var isBreak=keyword=="break";this.next();if(this.eat(_tokentype.types.semi)||this.insertSemicolon())node.label=null;else if(this.type!==_tokentype.types.name)this.unexpected();else{node.label=this.parseIdent();this.semicolon()}for(var i=0;i<this.labels.length;++i){var lab=this.labels[i];if(node.label==null||lab.name===node.label.name){if(lab.kind!=null&&(isBreak||lab.kind==="loop"))break;if(node.label&&isBreak)break}}if(i===this.labels.length)this.raise(node.start,"Unsyntactic "+keyword);return this.finishNode(node,isBreak?"BreakStatement":"ContinueStatement")};pp.parseDebuggerStatement=function(node){this.next();this.semicolon();return this.finishNode(node,"DebuggerStatement")};pp.parseDoStatement=function(node){this.next();this.labels.push(loopLabel);node.body=this.parseStatement(false);this.labels.pop();this.expect(_tokentype.types._while);node.test=this.parseParenExpression();if(this.options.ecmaVersion>=6)this.eat(_tokentype.types.semi);else this.semicolon();return this.finishNode(node,"DoWhileStatement")};pp.parseForStatement=function(node){this.next();this.labels.push(loopLabel);this.expect(_tokentype.types.parenL);if(this.type===_tokentype.types.semi)return this.parseFor(node,null);var isLet=this.isLet();if(this.type===_tokentype.types._var||this.type===_tokentype.types._const||isLet){var _init=this.startNode(),kind=isLet?"let":this.value;this.next();this.parseVar(_init,true,kind);this.finishNode(_init,"VariableDeclaration");if((this.type===_tokentype.types._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&_init.declarations.length===1&&!(kind!=="var"&&_init.declarations[0].init))return this.parseForIn(node,_init);return this.parseFor(node,_init)}var refDestructuringErrors=new _parseutil.DestructuringErrors;var init=this.parseExpression(true,refDestructuringErrors);if(this.type===_tokentype.types._in||this.options.ecmaVersion>=6&&this.isContextual("of")){this.checkPatternErrors(refDestructuringErrors,true);this.toAssignable(init);this.checkLVal(init);return this.parseForIn(node,init)}else{this.checkExpressionErrors(refDestructuringErrors,true)}return this.parseFor(node,init)};pp.parseFunctionStatement=function(node){this.next();return this.parseFunction(node,true)};pp.parseIfStatement=function(node){this.next();node.test=this.parseParenExpression();node.consequent=this.parseStatement(false);node.alternate=this.eat(_tokentype.types._else)?this.parseStatement(false):null;return this.finishNode(node,"IfStatement")};pp.parseReturnStatement=function(node){if(!this.inFunction&&!this.options.allowReturnOutsideFunction)this.raise(this.start,"'return' outside of function");this.next();if(this.eat(_tokentype.types.semi)||this.insertSemicolon())node.argument=null;else{node.argument=this.parseExpression();this.semicolon()}return this.finishNode(node,"ReturnStatement")};pp.parseSwitchStatement=function(node){this.next();node.discriminant=this.parseParenExpression();node.cases=[];this.expect(_tokentype.types.braceL);this.labels.push(switchLabel);for(var cur,sawDefault=false;this.type!=_tokentype.types.braceR;){if(this.type===_tokentype.types._case||this.type===_tokentype.types._default){var isCase=this.type===_tokentype.types._case;if(cur)this.finishNode(cur,"SwitchCase");node.cases.push(cur=this.startNode());cur.consequent=[];this.next();if(isCase){cur.test=this.parseExpression()}else{if(sawDefault)this.raiseRecoverable(this.lastTokStart,"Multiple default clauses");sawDefault=true;cur.test=null}this.expect(_tokentype.types.colon)}else{if(!cur)this.unexpected();cur.consequent.push(this.parseStatement(true))}}if(cur)this.finishNode(cur,"SwitchCase");this.next();this.labels.pop();return this.finishNode(node,"SwitchStatement")};pp.parseThrowStatement=function(node){this.next();if(_whitespace.lineBreak.test(this.input.slice(this.lastTokEnd,this.start)))this.raise(this.lastTokEnd,"Illegal newline after throw");node.argument=this.parseExpression();this.semicolon();return this.finishNode(node,"ThrowStatement")};var empty=[];pp.parseTryStatement=function(node){this.next();node.block=this.parseBlock();node.handler=null;if(this.type===_tokentype.types._catch){var clause=this.startNode();this.next();this.expect(_tokentype.types.parenL);clause.param=this.parseBindingAtom();this.checkLVal(clause.param,true);this.expect(_tokentype.types.parenR);clause.body=this.parseBlock();node.handler=this.finishNode(clause,"CatchClause")}node.finalizer=this.eat(_tokentype.types._finally)?this.parseBlock():null;if(!node.handler&&!node.finalizer)this.raise(node.start,"Missing catch or finally clause");return this.finishNode(node,"TryStatement")};pp.parseVarStatement=function(node,kind){this.next();this.parseVar(node,false,kind);this.semicolon();return this.finishNode(node,"VariableDeclaration")};pp.parseWhileStatement=function(node){this.next();node.test=this.parseParenExpression();this.labels.push(loopLabel);node.body=this.parseStatement(false);this.labels.pop();return this.finishNode(node,"WhileStatement")};pp.parseWithStatement=function(node){if(this.strict)this.raise(this.start,"'with' in strict mode");this.next();node.object=this.parseParenExpression();node.body=this.parseStatement(false);return this.finishNode(node,"WithStatement")};pp.parseEmptyStatement=function(node){this.next();return this.finishNode(node,"EmptyStatement")};pp.parseLabeledStatement=function(node,maybeName,expr){for(var i=0;i<this.labels.length;++i){if(this.labels[i].name===maybeName)this.raise(expr.start,"Label '"+maybeName+"' is already declared")}var kind=this.type.isLoop?"loop":this.type===_tokentype.types._switch?"switch":null;for(var i=this.labels.length-1;i>=0;i--){var label=this.labels[i];if(label.statementStart==node.start){label.statementStart=this.start;label.kind=kind}else break}this.labels.push({name:maybeName,kind:kind,statementStart:this.start});node.body=this.parseStatement(true);this.labels.pop();node.label=expr;return this.finishNode(node,"LabeledStatement")};pp.parseExpressionStatement=function(node,expr){node.expression=expr;this.semicolon();return this.finishNode(node,"ExpressionStatement")};pp.parseBlock=function(allowStrict){var node=this.startNode(),first=true,oldStrict=undefined;node.body=[];this.expect(_tokentype.types.braceL);while(!this.eat(_tokentype.types.braceR)){var stmt=this.parseStatement(true);node.body.push(stmt);if(first&&allowStrict&&this.isUseStrict(stmt)){oldStrict=this.strict;this.setStrict(this.strict=true)}first=false}if(oldStrict===false)this.setStrict(false);return this.finishNode(node,"BlockStatement")};pp.parseFor=function(node,init){node.init=init;this.expect(_tokentype.types.semi);node.test=this.type===_tokentype.types.semi?null:this.parseExpression();this.expect(_tokentype.types.semi);node.update=this.type===_tokentype.types.parenR?null:this.parseExpression();this.expect(_tokentype.types.parenR);node.body=this.parseStatement(false);this.labels.pop();return this.finishNode(node,"ForStatement")};pp.parseForIn=function(node,init){var type=this.type===_tokentype.types._in?"ForInStatement":"ForOfStatement";this.next();node.left=init;node.right=this.parseExpression();this.expect(_tokentype.types.parenR);node.body=this.parseStatement(false);this.labels.pop();return this.finishNode(node,type)};pp.parseVar=function(node,isFor,kind){node.declarations=[];node.kind=kind;for(;;){var decl=this.startNode();this.parseVarId(decl);if(this.eat(_tokentype.types.eq)){decl.init=this.parseMaybeAssign(isFor)}else if(kind==="const"&&!(this.type===_tokentype.types._in||this.options.ecmaVersion>=6&&this.isContextual("of"))){this.unexpected()}else if(decl.id.type!="Identifier"&&!(isFor&&(this.type===_tokentype.types._in||this.isContextual("of")))){this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value")}else{decl.init=null}node.declarations.push(this.finishNode(decl,"VariableDeclarator"));if(!this.eat(_tokentype.types.comma))break}return node};pp.parseVarId=function(decl){decl.id=this.parseBindingAtom();this.checkLVal(decl.id,true)};pp.parseFunction=function(node,isStatement,allowExpressionBody){this.initFunction(node);if(this.options.ecmaVersion>=6)node.generator=this.eat(_tokentype.types.star);var oldInGen=this.inGenerator;this.inGenerator=node.generator;if(isStatement||this.type===_tokentype.types.name)node.id=this.parseIdent();this.parseFunctionParams(node);this.parseFunctionBody(node,allowExpressionBody);this.inGenerator=oldInGen;return this.finishNode(node,isStatement?"FunctionDeclaration":"FunctionExpression")};pp.parseFunctionParams=function(node){this.expect(_tokentype.types.parenL);node.params=this.parseBindingList(_tokentype.types.parenR,false,false,true)};pp.parseClass=function(node,isStatement){this.next();this.parseClassId(node,isStatement);this.parseClassSuper(node);var classBody=this.startNode();var hadConstructor=false;classBody.body=[];this.expect(_tokentype.types.braceL);while(!this.eat(_tokentype.types.braceR)){if(this.eat(_tokentype.types.semi))continue;var method=this.startNode();var isGenerator=this.eat(_tokentype.types.star);var isMaybeStatic=this.type===_tokentype.types.name&&this.value==="static";this.parsePropertyName(method);method["static"]=isMaybeStatic&&this.type!==_tokentype.types.parenL;if(method["static"]){if(isGenerator)this.unexpected();isGenerator=this.eat(_tokentype.types.star);this.parsePropertyName(method)}method.kind="method";var isGetSet=false;if(!method.computed){var key=method.key;if(!isGenerator&&key.type==="Identifier"&&this.type!==_tokentype.types.parenL&&(key.name==="get"||key.name==="set")){isGetSet=true;method.kind=key.name;key=this.parsePropertyName(method)}if(!method["static"]&&(key.type==="Identifier"&&key.name==="constructor"||key.type==="Literal"&&key.value==="constructor")){if(hadConstructor)this.raise(key.start,"Duplicate constructor in the same class");if(isGetSet)this.raise(key.start,"Constructor can't have get/set modifier");if(isGenerator)this.raise(key.start,"Constructor can't be a generator");method.kind="constructor";hadConstructor=true}}this.parseClassMethod(classBody,method,isGenerator);if(isGetSet){var paramCount=method.kind==="get"?0:1;if(method.value.params.length!==paramCount){var start=method.value.start;if(method.kind==="get")this.raiseRecoverable(start,"getter should have no params");else this.raiseRecoverable(start,"setter should have exactly one param")}if(method.kind==="set"&&method.value.params[0].type==="RestElement")this.raise(method.value.params[0].start,"Setter cannot use rest params")}}node.body=this.finishNode(classBody,"ClassBody");return this.finishNode(node,isStatement?"ClassDeclaration":"ClassExpression")};pp.parseClassMethod=function(classBody,method,isGenerator){method.value=this.parseMethod(isGenerator);classBody.body.push(this.finishNode(method,"MethodDefinition"))};pp.parseClassId=function(node,isStatement){node.id=this.type===_tokentype.types.name?this.parseIdent():isStatement?this.unexpected():null};pp.parseClassSuper=function(node){node.superClass=this.eat(_tokentype.types._extends)?this.parseExprSubscripts():null};pp.parseExport=function(node){this.next();if(this.eat(_tokentype.types.star)){this.expectContextual("from");node.source=this.type===_tokentype.types.string?this.parseExprAtom():this.unexpected();this.semicolon();return this.finishNode(node,"ExportAllDeclaration")}if(this.eat(_tokentype.types._default)){var parens=this.type==_tokentype.types.parenL;var expr=this.parseMaybeAssign();var needsSemi=true;if(!parens&&(expr.type=="FunctionExpression"||expr.type=="ClassExpression")){needsSemi=false;if(expr.id){expr.type=expr.type=="FunctionExpression"?"FunctionDeclaration":"ClassDeclaration"}}node.declaration=expr;if(needsSemi)this.semicolon();return this.finishNode(node,"ExportDefaultDeclaration")}if(this.shouldParseExportStatement()){node.declaration=this.parseStatement(true);node.specifiers=[];node.source=null}else{node.declaration=null;node.specifiers=this.parseExportSpecifiers();if(this.eatContextual("from")){node.source=this.type===_tokentype.types.string?this.parseExprAtom():this.unexpected()}else{for(var i=0;i<node.specifiers.length;i++){if(this.keywords.test(node.specifiers[i].local.name)||this.reservedWords.test(node.specifiers[i].local.name)){this.unexpected(node.specifiers[i].local.start)}}node.source=null}this.semicolon()}return this.finishNode(node,"ExportNamedDeclaration")};pp.shouldParseExportStatement=function(){return this.type.keyword||this.isLet()};pp.parseExportSpecifiers=function(){var nodes=[],first=true;this.expect(_tokentype.types.braceL);while(!this.eat(_tokentype.types.braceR)){if(!first){this.expect(_tokentype.types.comma);if(this.afterTrailingComma(_tokentype.types.braceR))break}else first=false;var node=this.startNode();node.local=this.parseIdent(this.type===_tokentype.types._default);node.exported=this.eatContextual("as")?this.parseIdent(true):node.local;nodes.push(this.finishNode(node,"ExportSpecifier"))}return nodes};pp.parseImport=function(node){this.next();if(this.type===_tokentype.types.string){node.specifiers=empty;node.source=this.parseExprAtom()}else{node.specifiers=this.parseImportSpecifiers();this.expectContextual("from");node.source=this.type===_tokentype.types.string?this.parseExprAtom():this.unexpected()}this.semicolon();return this.finishNode(node,"ImportDeclaration")};pp.parseImportSpecifiers=function(){var nodes=[],first=true;if(this.type===_tokentype.types.name){var node=this.startNode();node.local=this.parseIdent();this.checkLVal(node.local,true);nodes.push(this.finishNode(node,"ImportDefaultSpecifier"));if(!this.eat(_tokentype.types.comma))return nodes}if(this.type===_tokentype.types.star){var node=this.startNode();this.next();this.expectContextual("as");node.local=this.parseIdent();this.checkLVal(node.local,true);nodes.push(this.finishNode(node,"ImportNamespaceSpecifier"));return nodes}this.expect(_tokentype.types.braceL);while(!this.eat(_tokentype.types.braceR)){if(!first){this.expect(_tokentype.types.comma);if(this.afterTrailingComma(_tokentype.types.braceR))break}else first=false;var node=this.startNode();node.imported=this.parseIdent(true);if(this.eatContextual("as")){node.local=this.parseIdent()}else{node.local=node.imported;if(this.isKeyword(node.local.name))this.unexpected(node.local.start);if(this.reservedWordsStrict.test(node.local.name))this.raise(node.local.start,"The keyword '"+node.local.name+"' is reserved")}this.checkLVal(node.local,true);nodes.push(this.finishNode(node,"ImportSpecifier"))}return nodes}},{"./identifier":2,"./parseutil":9,"./state":10,"./tokentype":14,"./whitespace":16}],12:[function(_dereq_,module,exports){"use strict";exports.__esModule=true;function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var _state=_dereq_("./state");var _tokentype=_dereq_("./tokentype");var _whitespace=_dereq_("./whitespace");var TokContext=function TokContext(token,isExpr,preserveSpace,override){_classCallCheck(this,TokContext);this.token=token;this.isExpr=!!isExpr;this.preserveSpace=!!preserveSpace;this.override=override};exports.TokContext=TokContext;var types={b_stat:new TokContext("{",false),b_expr:new TokContext("{",true),b_tmpl:new TokContext("${",true),p_stat:new TokContext("(",false),p_expr:new TokContext("(",true),q_tmpl:new TokContext("`",true,true,function(p){return p.readTmplToken()}),f_expr:new TokContext("function",true)};exports.types=types;var pp=_state.Parser.prototype;pp.initialContext=function(){return[types.b_stat]};pp.braceIsBlock=function(prevType){if(prevType===_tokentype.types.colon){var _parent=this.curContext();if(_parent===types.b_stat||_parent===types.b_expr)return!_parent.isExpr}if(prevType===_tokentype.types._return)return _whitespace.lineBreak.test(this.input.slice(this.lastTokEnd,this.start));if(prevType===_tokentype.types._else||prevType===_tokentype.types.semi||prevType===_tokentype.types.eof||prevType===_tokentype.types.parenR)return true;if(prevType==_tokentype.types.braceL)return this.curContext()===types.b_stat;return!this.exprAllowed};pp.updateContext=function(prevType){var update=undefined,type=this.type;if(type.keyword&&prevType==_tokentype.types.dot)this.exprAllowed=false;else if(update=type.updateContext)update.call(this,prevType);else this.exprAllowed=type.beforeExpr};_tokentype.types.parenR.updateContext=_tokentype.types.braceR.updateContext=function(){if(this.context.length==1){this.exprAllowed=true;return}var out=this.context.pop();if(out===types.b_stat&&this.curContext()===types.f_expr){this.context.pop();this.exprAllowed=false}else if(out===types.b_tmpl){this.exprAllowed=true}else{this.exprAllowed=!out.isExpr}};_tokentype.types.braceL.updateContext=function(prevType){this.context.push(this.braceIsBlock(prevType)?types.b_stat:types.b_expr);this.exprAllowed=true};_tokentype.types.dollarBraceL.updateContext=function(){this.context.push(types.b_tmpl);this.exprAllowed=true};_tokentype.types.parenL.updateContext=function(prevType){var statementParens=prevType===_tokentype.types._if||prevType===_tokentype.types._for||prevType===_tokentype.types._with||prevType===_tokentype.types._while;this.context.push(statementParens?types.p_stat:types.p_expr);this.exprAllowed=true};_tokentype.types.incDec.updateContext=function(){};_tokentype.types._function.updateContext=function(prevType){if(prevType.beforeExpr&&prevType!==_tokentype.types.semi&&prevType!==_tokentype.types._else&&(prevType!==_tokentype.types.colon||this.curContext()!==types.b_stat))this.context.push(types.f_expr);this.exprAllowed=false};_tokentype.types.backQuote.updateContext=function(){if(this.curContext()===types.q_tmpl)this.context.pop();else this.context.push(types.q_tmpl);this.exprAllowed=false}},{"./state":10,"./tokentype":14,"./whitespace":16}],13:[function(_dereq_,module,exports){"use strict";exports.__esModule=true;function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var _identifier=_dereq_("./identifier");var _tokentype=_dereq_("./tokentype");var _state=_dereq_("./state");var _locutil=_dereq_("./locutil");var _whitespace=_dereq_("./whitespace");var Token=function Token(p){_classCallCheck(this,Token);this.type=p.type;this.value=p.value;this.start=p.start;this.end=p.end;if(p.options.locations)this.loc=new _locutil.SourceLocation(p,p.startLoc,p.endLoc);if(p.options.ranges)this.range=[p.start,p.end]};exports.Token=Token;var pp=_state.Parser.prototype;var isRhino=typeof Packages=="object"&&Object.prototype.toString.call(Packages)=="[object JavaPackage]";pp.next=function(){if(this.options.onToken)this.options.onToken(new Token(this));this.lastTokEnd=this.end;this.lastTokStart=this.start;this.lastTokEndLoc=this.endLoc;this.lastTokStartLoc=this.startLoc;this.nextToken()};pp.getToken=function(){this.next();return new Token(this)};if(typeof Symbol!=="undefined")pp[Symbol.iterator]=function(){var self=this;return{next:function next(){var token=self.getToken();return{done:token.type===_tokentype.types.eof,value:token}}}};pp.setStrict=function(strict){this.strict=strict;if(this.type!==_tokentype.types.num&&this.type!==_tokentype.types.string)return;this.pos=this.start;if(this.options.locations){while(this.pos<this.lineStart){this.lineStart=this.input.lastIndexOf("\n",this.lineStart-2)+1;--this.curLine}}this.nextToken()};pp.curContext=function(){return this.context[this.context.length-1]};pp.nextToken=function(){var curContext=this.curContext();if(!curContext||!curContext.preserveSpace)this.skipSpace();this.start=this.pos;if(this.options.locations)this.startLoc=this.curPosition();if(this.pos>=this.input.length)return this.finishToken(_tokentype.types.eof);if(curContext.override)return curContext.override(this);else this.readToken(this.fullCharCodeAtPos())};pp.readToken=function(code){if(_identifier.isIdentifierStart(code,this.options.ecmaVersion>=6)||code===92)return this.readWord();return this.getTokenFromCode(code)};pp.fullCharCodeAtPos=function(){var code=this.input.charCodeAt(this.pos);if(code<=55295||code>=57344)return code;var next=this.input.charCodeAt(this.pos+1);return(code<<10)+next-56613888};pp.skipBlockComment=function(){var startLoc=this.options.onComment&&this.curPosition();var start=this.pos,end=this.input.indexOf("*/",this.pos+=2);if(end===-1)this.raise(this.pos-2,"Unterminated comment");this.pos=end+2;if(this.options.locations){_whitespace.lineBreakG.lastIndex=start;var match=undefined;while((match=_whitespace.lineBreakG.exec(this.input))&&match.index<this.pos){++this.curLine;this.lineStart=match.index+match[0].length}}if(this.options.onComment)this.options.onComment(true,this.input.slice(start+2,end),start,this.pos,startLoc,this.curPosition())};pp.skipLineComment=function(startSkip){var start=this.pos;var startLoc=this.options.onComment&&this.curPosition();var ch=this.input.charCodeAt(this.pos+=startSkip);while(this.pos<this.input.length&&ch!==10&&ch!==13&&ch!==8232&&ch!==8233){++this.pos;ch=this.input.charCodeAt(this.pos)}if(this.options.onComment)this.options.onComment(false,this.input.slice(start+startSkip,this.pos),start,this.pos,startLoc,this.curPosition())};pp.skipSpace=function(){loop:while(this.pos<this.input.length){var ch=this.input.charCodeAt(this.pos);switch(ch){case 32:case 160:++this.pos;break;case 13:if(this.input.charCodeAt(this.pos+1)===10){++this.pos}case 10:case 8232:case 8233:++this.pos;if(this.options.locations){++this.curLine;this.lineStart=this.pos}break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break loop}break;default:if(ch>8&&ch<14||ch>=5760&&_whitespace.nonASCIIwhitespace.test(String.fromCharCode(ch))){++this.pos}else{break loop}}}};pp.finishToken=function(type,val){this.end=this.pos;if(this.options.locations)this.endLoc=this.curPosition();var prevType=this.type;this.type=type;this.value=val;this.updateContext(prevType)};pp.readToken_dot=function(){var next=this.input.charCodeAt(this.pos+1);if(next>=48&&next<=57)return this.readNumber(true);var next2=this.input.charCodeAt(this.pos+2);if(this.options.ecmaVersion>=6&&next===46&&next2===46){this.pos+=3;return this.finishToken(_tokentype.types.ellipsis)}else{++this.pos;return this.finishToken(_tokentype.types.dot)}};pp.readToken_slash=function(){var next=this.input.charCodeAt(this.pos+1);if(this.exprAllowed){++this.pos;return this.readRegexp()}if(next===61)return this.finishOp(_tokentype.types.assign,2);return this.finishOp(_tokentype.types.slash,1)};pp.readToken_mult_modulo_exp=function(code){var next=this.input.charCodeAt(this.pos+1);var size=1;var tokentype=code===42?_tokentype.types.star:_tokentype.types.modulo;if(this.options.ecmaVersion>=7&&next===42){++size;tokentype=_tokentype.types.starstar;next=this.input.charCodeAt(this.pos+2)}if(next===61)return this.finishOp(_tokentype.types.assign,size+1);return this.finishOp(tokentype,size)};pp.readToken_pipe_amp=function(code){var next=this.input.charCodeAt(this.pos+1);if(next===code)return this.finishOp(code===124?_tokentype.types.logicalOR:_tokentype.types.logicalAND,2);if(next===61)return this.finishOp(_tokentype.types.assign,2);return this.finishOp(code===124?_tokentype.types.bitwiseOR:_tokentype.types.bitwiseAND,1)};pp.readToken_caret=function(){var next=this.input.charCodeAt(this.pos+1);if(next===61)return this.finishOp(_tokentype.types.assign,2);return this.finishOp(_tokentype.types.bitwiseXOR,1)};pp.readToken_plus_min=function(code){var next=this.input.charCodeAt(this.pos+1);if(next===code){if(next==45&&this.input.charCodeAt(this.pos+2)==62&&_whitespace.lineBreak.test(this.input.slice(this.lastTokEnd,this.pos))){this.skipLineComment(3);this.skipSpace();return this.nextToken()}return this.finishOp(_tokentype.types.incDec,2)}if(next===61)return this.finishOp(_tokentype.types.assign,2);return this.finishOp(_tokentype.types.plusMin,1)};pp.readToken_lt_gt=function(code){var next=this.input.charCodeAt(this.pos+1);var size=1;if(next===code){size=code===62&&this.input.charCodeAt(this.pos+2)===62?3:2;if(this.input.charCodeAt(this.pos+size)===61)return this.finishOp(_tokentype.types.assign,size+1);return this.finishOp(_tokentype.types.bitShift,size)}if(next==33&&code==60&&this.input.charCodeAt(this.pos+2)==45&&this.input.charCodeAt(this.pos+3)==45){if(this.inModule)this.unexpected();this.skipLineComment(4);this.skipSpace();return this.nextToken()}if(next===61)size=2;return this.finishOp(_tokentype.types.relational,size)};pp.readToken_eq_excl=function(code){var next=this.input.charCodeAt(this.pos+1);if(next===61)return this.finishOp(_tokentype.types.equality,this.input.charCodeAt(this.pos+2)===61?3:2);if(code===61&&next===62&&this.options.ecmaVersion>=6){this.pos+=2;return this.finishToken(_tokentype.types.arrow)}return this.finishOp(code===61?_tokentype.types.eq:_tokentype.types.prefix,1)};pp.getTokenFromCode=function(code){switch(code){case 46:return this.readToken_dot();case 40:++this.pos;return this.finishToken(_tokentype.types.parenL);case 41:++this.pos;return this.finishToken(_tokentype.types.parenR);case 59:++this.pos;return this.finishToken(_tokentype.types.semi);case 44:++this.pos;return this.finishToken(_tokentype.types.comma);case 91:++this.pos;return this.finishToken(_tokentype.types.bracketL);case 93:++this.pos;return this.finishToken(_tokentype.types.bracketR);case 123:++this.pos;return this.finishToken(_tokentype.types.braceL);case 125:++this.pos;return this.finishToken(_tokentype.types.braceR);case 58:++this.pos;return this.finishToken(_tokentype.types.colon);case 63:++this.pos;return this.finishToken(_tokentype.types.question);case 96:if(this.options.ecmaVersion<6)break;++this.pos;return this.finishToken(_tokentype.types.backQuote);case 48:var next=this.input.charCodeAt(this.pos+1);if(next===120||next===88)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(next===111||next===79)return this.readRadixNumber(8);if(next===98||next===66)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(false);case 34:case 39:return this.readString(code);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(code);case 124:case 38:return this.readToken_pipe_amp(code);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(code);case 60:case 62:return this.readToken_lt_gt(code);case 61:case 33:return this.readToken_eq_excl(code);case 126:return this.finishOp(_tokentype.types.prefix,1)}this.raise(this.pos,"Unexpected character '"+codePointToString(code)+"'")};pp.finishOp=function(type,size){var str=this.input.slice(this.pos,this.pos+size);this.pos+=size;return this.finishToken(type,str)};function tryCreateRegexp(src,flags,throwErrorAt,parser){try{return new RegExp(src,flags)}catch(e){if(throwErrorAt!==undefined){if(e instanceof SyntaxError)parser.raise(throwErrorAt,"Error parsing regular expression: "+e.message);throw e}}}var regexpUnicodeSupport=!!tryCreateRegexp("￿","u");pp.readRegexp=function(){var _this=this;var escaped=undefined,inClass=undefined,start=this.pos;for(;;){if(this.pos>=this.input.length)this.raise(start,"Unterminated regular expression");var ch=this.input.charAt(this.pos);if(_whitespace.lineBreak.test(ch))this.raise(start,"Unterminated regular expression");if(!escaped){if(ch==="[")inClass=true;else if(ch==="]"&&inClass)inClass=false;else if(ch==="/"&&!inClass)break;escaped=ch==="\\"}else escaped=false;++this.pos;
}var content=this.input.slice(start,this.pos);++this.pos;var mods=this.readWord1();var tmp=content,tmpFlags="";if(mods){var validFlags=/^[gim]*$/;if(this.options.ecmaVersion>=6)validFlags=/^[gimuy]*$/;if(!validFlags.test(mods))this.raise(start,"Invalid regular expression flag");if(mods.indexOf("u")>=0){if(regexpUnicodeSupport){tmpFlags="u"}else{tmp=tmp.replace(/\\u\{([0-9a-fA-F]+)\}/g,function(_match,code,offset){code=Number("0x"+code);if(code>1114111)_this.raise(start+offset+3,"Code point out of bounds");return"x"});tmp=tmp.replace(/\\u([a-fA-F0-9]{4})|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x");tmpFlags=tmpFlags.replace("u","")}}}var value=null;if(!isRhino){tryCreateRegexp(tmp,tmpFlags,start,this);value=tryCreateRegexp(content,mods)}return this.finishToken(_tokentype.types.regexp,{pattern:content,flags:mods,value:value})};pp.readInt=function(radix,len){var start=this.pos,total=0;for(var i=0,e=len==null?Infinity:len;i<e;++i){var code=this.input.charCodeAt(this.pos),val=undefined;if(code>=97)val=code-97+10;else if(code>=65)val=code-65+10;else if(code>=48&&code<=57)val=code-48;else val=Infinity;if(val>=radix)break;++this.pos;total=total*radix+val}if(this.pos===start||len!=null&&this.pos-start!==len)return null;return total};pp.readRadixNumber=function(radix){this.pos+=2;var val=this.readInt(radix);if(val==null)this.raise(this.start+2,"Expected number in radix "+radix);if(_identifier.isIdentifierStart(this.fullCharCodeAtPos()))this.raise(this.pos,"Identifier directly after number");return this.finishToken(_tokentype.types.num,val)};pp.readNumber=function(startsWithDot){var start=this.pos,isFloat=false,octal=this.input.charCodeAt(this.pos)===48;if(!startsWithDot&&this.readInt(10)===null)this.raise(start,"Invalid number");var next=this.input.charCodeAt(this.pos);if(next===46){++this.pos;this.readInt(10);isFloat=true;next=this.input.charCodeAt(this.pos)}if(next===69||next===101){next=this.input.charCodeAt(++this.pos);if(next===43||next===45)++this.pos;if(this.readInt(10)===null)this.raise(start,"Invalid number");isFloat=true}if(_identifier.isIdentifierStart(this.fullCharCodeAtPos()))this.raise(this.pos,"Identifier directly after number");var str=this.input.slice(start,this.pos),val=undefined;if(isFloat)val=parseFloat(str);else if(!octal||str.length===1)val=parseInt(str,10);else if(/[89]/.test(str)||this.strict)this.raise(start,"Invalid number");else val=parseInt(str,8);return this.finishToken(_tokentype.types.num,val)};pp.readCodePoint=function(){var ch=this.input.charCodeAt(this.pos),code=undefined;if(ch===123){if(this.options.ecmaVersion<6)this.unexpected();var codePos=++this.pos;code=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos);++this.pos;if(code>1114111)this.raise(codePos,"Code point out of bounds")}else{code=this.readHexChar(4)}return code};function codePointToString(code){if(code<=65535)return String.fromCharCode(code);code-=65536;return String.fromCharCode((code>>10)+55296,(code&1023)+56320)}pp.readString=function(quote){var out="",chunkStart=++this.pos;for(;;){if(this.pos>=this.input.length)this.raise(this.start,"Unterminated string constant");var ch=this.input.charCodeAt(this.pos);if(ch===quote)break;if(ch===92){out+=this.input.slice(chunkStart,this.pos);out+=this.readEscapedChar(false);chunkStart=this.pos}else{if(_whitespace.isNewLine(ch))this.raise(this.start,"Unterminated string constant");++this.pos}}out+=this.input.slice(chunkStart,this.pos++);return this.finishToken(_tokentype.types.string,out)};pp.readTmplToken=function(){var out="",chunkStart=this.pos;for(;;){if(this.pos>=this.input.length)this.raise(this.start,"Unterminated template");var ch=this.input.charCodeAt(this.pos);if(ch===96||ch===36&&this.input.charCodeAt(this.pos+1)===123){if(this.pos===this.start&&this.type===_tokentype.types.template){if(ch===36){this.pos+=2;return this.finishToken(_tokentype.types.dollarBraceL)}else{++this.pos;return this.finishToken(_tokentype.types.backQuote)}}out+=this.input.slice(chunkStart,this.pos);return this.finishToken(_tokentype.types.template,out)}if(ch===92){out+=this.input.slice(chunkStart,this.pos);out+=this.readEscapedChar(true);chunkStart=this.pos}else if(_whitespace.isNewLine(ch)){out+=this.input.slice(chunkStart,this.pos);++this.pos;switch(ch){case 13:if(this.input.charCodeAt(this.pos)===10)++this.pos;case 10:out+="\n";break;default:out+=String.fromCharCode(ch);break}if(this.options.locations){++this.curLine;this.lineStart=this.pos}chunkStart=this.pos}else{++this.pos}}};pp.readEscapedChar=function(inTemplate){var ch=this.input.charCodeAt(++this.pos);++this.pos;switch(ch){case 110:return"\n";case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return codePointToString(this.readCodePoint());case 116:return"\t";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:if(this.input.charCodeAt(this.pos)===10)++this.pos;case 10:if(this.options.locations){this.lineStart=this.pos;++this.curLine}return"";default:if(ch>=48&&ch<=55){var octalStr=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0];var octal=parseInt(octalStr,8);if(octal>255){octalStr=octalStr.slice(0,-1);octal=parseInt(octalStr,8)}if(octalStr!=="0"&&(this.strict||inTemplate)){this.raise(this.pos-2,"Octal literal in strict mode")}this.pos+=octalStr.length-1;return String.fromCharCode(octal)}return String.fromCharCode(ch)}};pp.readHexChar=function(len){var codePos=this.pos;var n=this.readInt(16,len);if(n===null)this.raise(codePos,"Bad character escape sequence");return n};pp.readWord1=function(){this.containsEsc=false;var word="",first=true,chunkStart=this.pos;var astral=this.options.ecmaVersion>=6;while(this.pos<this.input.length){var ch=this.fullCharCodeAtPos();if(_identifier.isIdentifierChar(ch,astral)){this.pos+=ch<=65535?1:2}else if(ch===92){this.containsEsc=true;word+=this.input.slice(chunkStart,this.pos);var escStart=this.pos;if(this.input.charCodeAt(++this.pos)!=117)this.raise(this.pos,"Expecting Unicode escape sequence \\uXXXX");++this.pos;var esc=this.readCodePoint();if(!(first?_identifier.isIdentifierStart:_identifier.isIdentifierChar)(esc,astral))this.raise(escStart,"Invalid Unicode escape");word+=codePointToString(esc);chunkStart=this.pos}else{break}first=false}return word+this.input.slice(chunkStart,this.pos)};pp.readWord=function(){var word=this.readWord1();var type=_tokentype.types.name;if((this.options.ecmaVersion>=6||!this.containsEsc)&&this.keywords.test(word))type=_tokentype.keywords[word];return this.finishToken(type,word)}},{"./identifier":2,"./locutil":5,"./state":10,"./tokentype":14,"./whitespace":16}],14:[function(_dereq_,module,exports){"use strict";exports.__esModule=true;function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var TokenType=function TokenType(label){var conf=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];_classCallCheck(this,TokenType);this.label=label;this.keyword=conf.keyword;this.beforeExpr=!!conf.beforeExpr;this.startsExpr=!!conf.startsExpr;this.isLoop=!!conf.isLoop;this.isAssign=!!conf.isAssign;this.prefix=!!conf.prefix;this.postfix=!!conf.postfix;this.binop=conf.binop||null;this.updateContext=null};exports.TokenType=TokenType;function binop(name,prec){return new TokenType(name,{beforeExpr:true,binop:prec})}var beforeExpr={beforeExpr:true},startsExpr={startsExpr:true};var types={num:new TokenType("num",startsExpr),regexp:new TokenType("regexp",startsExpr),string:new TokenType("string",startsExpr),name:new TokenType("name",startsExpr),eof:new TokenType("eof"),bracketL:new TokenType("[",{beforeExpr:true,startsExpr:true}),bracketR:new TokenType("]"),braceL:new TokenType("{",{beforeExpr:true,startsExpr:true}),braceR:new TokenType("}"),parenL:new TokenType("(",{beforeExpr:true,startsExpr:true}),parenR:new TokenType(")"),comma:new TokenType(",",beforeExpr),semi:new TokenType(";",beforeExpr),colon:new TokenType(":",beforeExpr),dot:new TokenType("."),question:new TokenType("?",beforeExpr),arrow:new TokenType("=>",beforeExpr),template:new TokenType("template"),ellipsis:new TokenType("...",beforeExpr),backQuote:new TokenType("`",startsExpr),dollarBraceL:new TokenType("${",{beforeExpr:true,startsExpr:true}),eq:new TokenType("=",{beforeExpr:true,isAssign:true}),assign:new TokenType("_=",{beforeExpr:true,isAssign:true}),incDec:new TokenType("++/--",{prefix:true,postfix:true,startsExpr:true}),prefix:new TokenType("prefix",{beforeExpr:true,prefix:true,startsExpr:true}),logicalOR:binop("||",1),logicalAND:binop("&&",2),bitwiseOR:binop("|",3),bitwiseXOR:binop("^",4),bitwiseAND:binop("&",5),equality:binop("==/!=",6),relational:binop("</>",7),bitShift:binop("<</>>",8),plusMin:new TokenType("+/-",{beforeExpr:true,binop:9,prefix:true,startsExpr:true}),modulo:binop("%",10),star:binop("*",10),slash:binop("/",10),starstar:new TokenType("**",{beforeExpr:true})};exports.types=types;var keywords={};exports.keywords=keywords;function kw(name){var options=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];options.keyword=name;keywords[name]=types["_"+name]=new TokenType(name,options)}kw("break");kw("case",beforeExpr);kw("catch");kw("continue");kw("debugger");kw("default",beforeExpr);kw("do",{isLoop:true,beforeExpr:true});kw("else",beforeExpr);kw("finally");kw("for",{isLoop:true});kw("function",startsExpr);kw("if");kw("return",beforeExpr);kw("switch");kw("throw",beforeExpr);kw("try");kw("var");kw("const");kw("while",{isLoop:true});kw("with");kw("new",{beforeExpr:true,startsExpr:true});kw("this",startsExpr);kw("super",startsExpr);kw("class");kw("extends",beforeExpr);kw("export");kw("import");kw("null",startsExpr);kw("true",startsExpr);kw("false",startsExpr);kw("in",{beforeExpr:true,binop:7});kw("instanceof",{beforeExpr:true,binop:7});kw("typeof",{beforeExpr:true,prefix:true,startsExpr:true});kw("void",{beforeExpr:true,prefix:true,startsExpr:true});kw("delete",{beforeExpr:true,prefix:true,startsExpr:true})},{}],15:[function(_dereq_,module,exports){"use strict";exports.__esModule=true;exports.isArray=isArray;exports.has=has;function isArray(obj){return Object.prototype.toString.call(obj)==="[object Array]"}function has(obj,propName){return Object.prototype.hasOwnProperty.call(obj,propName)}},{}],16:[function(_dereq_,module,exports){"use strict";exports.__esModule=true;exports.isNewLine=isNewLine;var lineBreak=/\r\n?|\n|\u2028|\u2029/;exports.lineBreak=lineBreak;var lineBreakG=new RegExp(lineBreak.source,"g");exports.lineBreakG=lineBreakG;function isNewLine(code){return code===10||code===13||code===8232||code==8233}var nonASCIIwhitespace=/[\u1680\u180e\u2000-\u200a\u202f\u205f\u3000\ufeff]/;exports.nonASCIIwhitespace=nonASCIIwhitespace;var skipWhiteSpace=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g;exports.skipWhiteSpace=skipWhiteSpace},{}]},{},[3])(3)})}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/acorn/dist/walk.js":[function(require,module,exports){(function(global){(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}(g.acorn||(g.acorn={})).walk=f()}})(function(){var define,module,exports;return function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s}({1:[function(_dereq_,module,exports){"use strict";exports.__esModule=true;exports.simple=simple;exports.ancestor=ancestor;exports.recursive=recursive;exports.findNodeAt=findNodeAt;exports.findNodeAround=findNodeAround;exports.findNodeAfter=findNodeAfter;exports.findNodeBefore=findNodeBefore;exports.make=make;function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function simple(node,visitors,base,state,override){if(!base)base=exports.base;(function c(node,st,override){var type=override||node.type,found=visitors[type];base[type](node,st,c);if(found)found(node,st)})(node,state,override)}function ancestor(node,visitors,base,state){if(!base)base=exports.base;var ancestors=[];(function c(node,st,override){var type=override||node.type,found=visitors[type];var isNew=node!=ancestors[ancestors.length-1];if(isNew)ancestors.push(node);base[type](node,st,c);if(found)found(node,st||ancestors,ancestors);if(isNew)ancestors.pop()})(node,state)}function recursive(node,state,funcs,base,override){var visitor=funcs?exports.make(funcs,base):base;(function c(node,st,override){visitor[override||node.type](node,st,c)})(node,state,override)}function makeTest(test){if(typeof test=="string")return function(type){return type==test};else if(!test)return function(){return true};else return test}var Found=function Found(node,state){_classCallCheck(this,Found);this.node=node;this.state=state};function findNodeAt(node,start,end,test,base,state){test=makeTest(test);if(!base)base=exports.base;try{(function c(node,st,override){var type=override||node.type;if((start==null||node.start<=start)&&(end==null||node.end>=end))base[type](node,st,c);if((start==null||node.start==start)&&(end==null||node.end==end)&&test(type,node))throw new Found(node,st)})(node,state)}catch(e){if(e instanceof Found)return e;throw e}}function findNodeAround(node,pos,test,base,state){test=makeTest(test);if(!base)base=exports.base;try{(function c(node,st,override){var type=override||node.type;if(node.start>pos||node.end<pos)return;base[type](node,st,c);if(test(type,node))throw new Found(node,st)})(node,state)}catch(e){if(e instanceof Found)return e;throw e}}function findNodeAfter(node,pos,test,base,state){test=makeTest(test);if(!base)base=exports.base;try{(function c(node,st,override){if(node.end<pos)return;var type=override||node.type;if(node.start>=pos&&test(type,node))throw new Found(node,st);base[type](node,st,c)})(node,state)}catch(e){if(e instanceof Found)return e;throw e}}function findNodeBefore(node,pos,test,base,state){test=makeTest(test);if(!base)base=exports.base;var max=undefined;(function c(node,st,override){if(node.start>pos)return;var type=override||node.type;if(node.end<=pos&&(!max||max.node.end<node.end)&&test(type,node))max=new Found(node,st);base[type](node,st,c)})(node,state);return max}var create=Object.create||function(proto){function Ctor(){}Ctor.prototype=proto;return new Ctor};function make(funcs,base){if(!base)base=exports.base;var visitor=create(base);for(var type in funcs)visitor[type]=funcs[type];return visitor}function skipThrough(node,st,c){c(node,st)}function ignore(_node,_st,_c){}var base={};exports.base=base;base.Program=base.BlockStatement=function(node,st,c){for(var i=0;i<node.body.length;++i){c(node.body[i],st,"Statement")}};base.Statement=skipThrough;base.EmptyStatement=ignore;base.ExpressionStatement=base.ParenthesizedExpression=function(node,st,c){return c(node.expression,st,"Expression")};base.IfStatement=function(node,st,c){c(node.test,st,"Expression");c(node.consequent,st,"Statement");if(node.alternate)c(node.alternate,st,"Statement")};base.LabeledStatement=function(node,st,c){return c(node.body,st,"Statement")};base.BreakStatement=base.ContinueStatement=ignore;base.WithStatement=function(node,st,c){c(node.object,st,"Expression");c(node.body,st,"Statement")};base.SwitchStatement=function(node,st,c){c(node.discriminant,st,"Expression");for(var i=0;i<node.cases.length;++i){var cs=node.cases[i];if(cs.test)c(cs.test,st,"Expression");for(var j=0;j<cs.consequent.length;++j){c(cs.consequent[j],st,"Statement")}}};base.ReturnStatement=base.YieldExpression=function(node,st,c){if(node.argument)c(node.argument,st,"Expression")};base.ThrowStatement=base.SpreadElement=function(node,st,c){return c(node.argument,st,"Expression")};base.TryStatement=function(node,st,c){c(node.block,st,"Statement");if(node.handler)c(node.handler,st);if(node.finalizer)c(node.finalizer,st,"Statement")};base.CatchClause=function(node,st,c){c(node.param,st,"Pattern");c(node.body,st,"ScopeBody")};base.WhileStatement=base.DoWhileStatement=function(node,st,c){c(node.test,st,"Expression");c(node.body,st,"Statement")};base.ForStatement=function(node,st,c){if(node.init)c(node.init,st,"ForInit");if(node.test)c(node.test,st,"Expression");if(node.update)c(node.update,st,"Expression");c(node.body,st,"Statement")};base.ForInStatement=base.ForOfStatement=function(node,st,c){c(node.left,st,"ForInit");c(node.right,st,"Expression");c(node.body,st,"Statement")};base.ForInit=function(node,st,c){if(node.type=="VariableDeclaration")c(node,st);else c(node,st,"Expression")};base.DebuggerStatement=ignore;base.FunctionDeclaration=function(node,st,c){return c(node,st,"Function")};base.VariableDeclaration=function(node,st,c){for(var i=0;i<node.declarations.length;++i){c(node.declarations[i],st)}};base.VariableDeclarator=function(node,st,c){c(node.id,st,"Pattern");if(node.init)c(node.init,st,"Expression")};base.Function=function(node,st,c){if(node.id)c(node.id,st,"Pattern");for(var i=0;i<node.params.length;i++){c(node.params[i],st,"Pattern")}c(node.body,st,node.expression?"ScopeExpression":"ScopeBody")};base.ScopeBody=function(node,st,c){return c(node,st,"Statement")};base.ScopeExpression=function(node,st,c){return c(node,st,"Expression")};base.Pattern=function(node,st,c){if(node.type=="Identifier")c(node,st,"VariablePattern");else if(node.type=="MemberExpression")c(node,st,"MemberPattern");else c(node,st)};base.VariablePattern=ignore;base.MemberPattern=skipThrough;base.RestElement=function(node,st,c){return c(node.argument,st,"Pattern")};base.ArrayPattern=function(node,st,c){for(var i=0;i<node.elements.length;++i){var elt=node.elements[i];if(elt)c(elt,st,"Pattern")}};base.ObjectPattern=function(node,st,c){for(var i=0;i<node.properties.length;++i){c(node.properties[i].value,st,"Pattern")}};base.Expression=skipThrough;base.ThisExpression=base.Super=base.MetaProperty=ignore;base.ArrayExpression=function(node,st,c){for(var i=0;i<node.elements.length;++i){var elt=node.elements[i];if(elt)c(elt,st,"Expression")}};base.ObjectExpression=function(node,st,c){for(var i=0;i<node.properties.length;++i){c(node.properties[i],st)}};base.FunctionExpression=base.ArrowFunctionExpression=base.FunctionDeclaration;base.SequenceExpression=base.TemplateLiteral=function(node,st,c){for(var i=0;i<node.expressions.length;++i){c(node.expressions[i],st,"Expression")}};base.UnaryExpression=base.UpdateExpression=function(node,st,c){c(node.argument,st,"Expression")};base.BinaryExpression=base.LogicalExpression=function(node,st,c){c(node.left,st,"Expression");c(node.right,st,"Expression")};base.AssignmentExpression=base.AssignmentPattern=function(node,st,c){c(node.left,st,"Pattern");c(node.right,st,"Expression")};base.ConditionalExpression=function(node,st,c){c(node.test,st,"Expression");c(node.consequent,st,"Expression");c(node.alternate,st,"Expression")};base.NewExpression=base.CallExpression=function(node,st,c){c(node.callee,st,"Expression");if(node.arguments)for(var i=0;i<node.arguments.length;++i){c(node.arguments[i],st,"Expression")}};base.MemberExpression=function(node,st,c){c(node.object,st,"Expression");if(node.computed)c(node.property,st,"Expression")};base.ExportNamedDeclaration=base.ExportDefaultDeclaration=function(node,st,c){if(node.declaration)c(node.declaration,st,node.type=="ExportNamedDeclaration"||node.declaration.id?"Statement":"Expression");if(node.source)c(node.source,st,"Expression")};base.ExportAllDeclaration=function(node,st,c){c(node.source,st,"Expression")};base.ImportDeclaration=function(node,st,c){for(var i=0;i<node.specifiers.length;i++){c(node.specifiers[i],st)}c(node.source,st,"Expression")};base.ImportSpecifier=base.ImportDefaultSpecifier=base.ImportNamespaceSpecifier=base.Identifier=base.Literal=ignore;base.TaggedTemplateExpression=function(node,st,c){c(node.tag,st,"Expression");c(node.quasi,st)};base.ClassDeclaration=base.ClassExpression=function(node,st,c){return c(node,st,"Class")};base.Class=function(node,st,c){if(node.id)c(node.id,st,"Pattern");if(node.superClass)c(node.superClass,st,"Expression");for(var i=0;i<node.body.body.length;i++){c(node.body.body[i],st)}};base.MethodDefinition=base.Property=function(node,st,c){if(node.computed)c(node.key,st,"Expression");c(node.value,st,"Expression")}},{}]},{},[1])(1)})}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/amdefine/amdefine.js":[function(require,module,exports){(function(process,__filename){"use strict";function amdefine(module,requireFn){"use strict";var defineCache={},loaderCache={},alreadyCalled=false,path=require("path"),makeRequire,stringRequire;function trimDots(ary){var i,part;for(i=0;ary[i];i+=1){part=ary[i];if(part==="."){ary.splice(i,1);i-=1}else if(part===".."){if(i===1&&(ary[2]===".."||ary[0]==="..")){break}else if(i>0){ary.splice(i-1,2);i-=2}}}}function normalize(name,baseName){var baseParts;if(name&&name.charAt(0)==="."){if(baseName){baseParts=baseName.split("/");baseParts=baseParts.slice(0,baseParts.length-1);baseParts=baseParts.concat(name.split("/"));trimDots(baseParts);name=baseParts.join("/")}}return name}function makeNormalize(relName){return function(name){return normalize(name,relName)}}function makeLoad(id){function load(value){loaderCache[id]=value}load.fromText=function(id,text){throw new Error("amdefine does not implement load.fromText")};return load}makeRequire=function(systemRequire,exports,module,relId){function amdRequire(deps,callback){if(typeof deps==="string"){return stringRequire(systemRequire,exports,module,deps,relId)}else{deps=deps.map(function(depName){return stringRequire(systemRequire,exports,module,depName,relId)});if(callback){process.nextTick(function(){callback.apply(null,deps)})}}}amdRequire.toUrl=function(filePath){if(filePath.indexOf(".")===0){return normalize(filePath,path.dirname(module.filename))}else{return filePath}};return amdRequire};requireFn=requireFn||function req(){return module.require.apply(module,arguments)};function runFactory(id,deps,factory){var r,e,m,result;if(id){e=loaderCache[id]={};m={id:id,uri:__filename,exports:e};r=makeRequire(requireFn,e,m,id)}else{if(alreadyCalled){throw new Error("amdefine with no module ID cannot be called more than once per file.")}alreadyCalled=true;e=module.exports;m=module;r=makeRequire(requireFn,e,m,module.id)}if(deps){deps=deps.map(function(depName){return r(depName)})}if(typeof factory==="function"){result=factory.apply(m.exports,deps)}else{result=factory}if(result!==undefined){m.exports=result;if(id){loaderCache[id]=m.exports}}}stringRequire=function(systemRequire,exports,module,id,relId){var index=id.indexOf("!"),originalId=id,prefix,plugin;if(index===-1){id=normalize(id,relId);if(id==="require"){return makeRequire(systemRequire,exports,module,relId)}else if(id==="exports"){return exports}else if(id==="module"){return module}else if(loaderCache.hasOwnProperty(id)){return loaderCache[id]}else if(defineCache[id]){runFactory.apply(null,defineCache[id]);return loaderCache[id]}else{if(systemRequire){return systemRequire(originalId)}else{throw new Error("No module with ID: "+id)}}}else{prefix=id.substring(0,index);id=id.substring(index+1,id.length);plugin=stringRequire(systemRequire,exports,module,prefix,relId);if(plugin.normalize){id=plugin.normalize(id,makeNormalize(relId))}else{id=normalize(id,relId)}if(loaderCache[id]){return loaderCache[id]}else{plugin.load(id,makeRequire(systemRequire,exports,module,relId),makeLoad(id),{});return loaderCache[id]}}};function define(id,deps,factory){if(Array.isArray(id)){factory=deps;deps=id;id=undefined}else if(typeof id!=="string"){factory=id;id=deps=undefined}if(deps&&!Array.isArray(deps)){factory=deps;deps=undefined}if(!deps){deps=["require","exports","module"]}if(id){defineCache[id]=[id,deps,factory]}else{runFactory(id,deps,factory)}}define.require=function(id){if(loaderCache[id]){return loaderCache[id]}if(defineCache[id]){runFactory.apply(null,defineCache[id]);return loaderCache[id]}};define.amd={};return define}module.exports=amdefine}).call(this,require("_process"),"/node_modules/amdefine/amdefine.js")},{_process:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/process/browser.js",path:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/path-browserify/index.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/asap/browser-asap.js":[function(require,module,exports){"use strict";var rawAsap=require("./raw");var freeTasks=[];var pendingErrors=[];var requestErrorThrow=rawAsap.makeRequestCallFromTimer(throwFirstError);function throwFirstError(){if(pendingErrors.length){throw pendingErrors.shift()}}module.exports=asap;function asap(task){var rawTask;if(freeTasks.length){rawTask=freeTasks.pop()}else{rawTask=new RawTask}rawTask.task=task;rawAsap(rawTask)}function RawTask(){this.task=null}RawTask.prototype.call=function(){try{this.task.call()}catch(error){if(asap.onerror){asap.onerror(error)}else{pendingErrors.push(error);requestErrorThrow()}}finally{this.task=null;freeTasks[freeTasks.length]=this}}},{"./raw":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/asap/browser-raw.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/asap/browser-raw.js":[function(require,module,exports){(function(global){"use strict";module.exports=rawAsap;function rawAsap(task){if(!queue.length){requestFlush();flushing=true}queue[queue.length]=task}var queue=[];var flushing=false;var requestFlush;var index=0;var capacity=1024;function flush(){while(index<queue.length){var currentIndex=index;index=index+1;queue[currentIndex].call();if(index>capacity){for(var scan=0,newLength=queue.length-index;scan<newLength;scan++){queue[scan]=queue[scan+index]}queue.length-=index;index=0}}queue.length=0;index=0;flushing=false}var BrowserMutationObserver=global.MutationObserver||global.WebKitMutationObserver;if(typeof BrowserMutationObserver==="function"){requestFlush=makeRequestCallFromMutationObserver(flush)}else{requestFlush=makeRequestCallFromTimer(flush)}rawAsap.requestFlush=requestFlush;function makeRequestCallFromMutationObserver(callback){var toggle=1;var observer=new BrowserMutationObserver(callback);var node=document.createTextNode("");observer.observe(node,{characterData:true});return function requestCall(){toggle=-toggle;node.data=toggle}}function makeRequestCallFromTimer(callback){return function requestCall(){var timeoutHandle=setTimeout(handleTimer,0);var intervalHandle=setInterval(handleTimer,50);function handleTimer(){clearTimeout(timeoutHandle);clearInterval(intervalHandle);callback()}}}rawAsap.makeRequestCallFromTimer=makeRequestCallFromTimer}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/asn1.js/lib/asn1.js":[function(require,module,exports){var asn1=exports;asn1.bignum=require("bn.js");asn1.define=require("./asn1/api").define;asn1.base=require("./asn1/base");asn1.constants=require("./asn1/constants");asn1.decoders=require("./asn1/decoders");asn1.encoders=require("./asn1/encoders")},{"./asn1/api":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/asn1.js/lib/asn1/api.js","./asn1/base":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/asn1.js/lib/asn1/base/index.js","./asn1/constants":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/asn1.js/lib/asn1/constants/index.js","./asn1/decoders":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/asn1.js/lib/asn1/decoders/index.js","./asn1/encoders":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/asn1.js/lib/asn1/encoders/index.js","bn.js":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/bn.js/lib/bn.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/asn1.js/lib/asn1/api.js":[function(require,module,exports){var asn1=require("../asn1");var inherits=require("inherits");var api=exports;api.define=function define(name,body){return new Entity(name,body)};function Entity(name,body){this.name=name;this.body=body;this.decoders={};this.encoders={}}Entity.prototype._createNamed=function createNamed(base){var named;try{named=require("vm").runInThisContext("(function "+this.name+"(entity) {\n"+"  this._initNamed(entity);\n"+"})")}catch(e){named=function(entity){this._initNamed(entity)}}inherits(named,base);named.prototype._initNamed=function initnamed(entity){base.call(this,entity)};return new named(this)};Entity.prototype._getDecoder=function _getDecoder(enc){enc=enc||"der";if(!this.decoders.hasOwnProperty(enc))this.decoders[enc]=this._createNamed(asn1.decoders[enc]);return this.decoders[enc]};Entity.prototype.decode=function decode(data,enc,options){return this._getDecoder(enc).decode(data,options)};Entity.prototype._getEncoder=function _getEncoder(enc){enc=enc||"der";if(!this.encoders.hasOwnProperty(enc))this.encoders[enc]=this._createNamed(asn1.encoders[enc]);return this.encoders[enc]};Entity.prototype.encode=function encode(data,enc,reporter){return this._getEncoder(enc).encode(data,reporter)}},{"../asn1":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/asn1.js/lib/asn1.js",inherits:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/inherits/inherits_browser.js",vm:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/vm-browserify/index.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/asn1.js/lib/asn1/base/buffer.js":[function(require,module,exports){var inherits=require("inherits");var Reporter=require("../base").Reporter;var Buffer=require("buffer").Buffer;function DecoderBuffer(base,options){Reporter.call(this,options);if(!Buffer.isBuffer(base)){this.error("Input not Buffer");return}this.base=base;this.offset=0;this.length=base.length}inherits(DecoderBuffer,Reporter);exports.DecoderBuffer=DecoderBuffer;DecoderBuffer.prototype.save=function save(){return{offset:this.offset,reporter:Reporter.prototype.save.call(this)}};DecoderBuffer.prototype.restore=function restore(save){var res=new DecoderBuffer(this.base);res.offset=save.offset;res.length=this.offset;this.offset=save.offset;Reporter.prototype.restore.call(this,save.reporter);return res};DecoderBuffer.prototype.isEmpty=function isEmpty(){return this.offset===this.length};DecoderBuffer.prototype.readUInt8=function readUInt8(fail){if(this.offset+1<=this.length)return this.base.readUInt8(this.offset++,true);else return this.error(fail||"DecoderBuffer overrun")};DecoderBuffer.prototype.skip=function skip(bytes,fail){if(!(this.offset+bytes<=this.length))return this.error(fail||"DecoderBuffer overrun");var res=new DecoderBuffer(this.base);res._reporterState=this._reporterState;res.offset=this.offset;res.length=this.offset+bytes;this.offset+=bytes;return res};DecoderBuffer.prototype.raw=function raw(save){return this.base.slice(save?save.offset:this.offset,this.length)};function EncoderBuffer(value,reporter){if(Array.isArray(value)){this.length=0;this.value=value.map(function(item){if(!(item instanceof EncoderBuffer))item=new EncoderBuffer(item,reporter);this.length+=item.length;return item},this)}else if(typeof value==="number"){if(!(0<=value&&value<=255))return reporter.error("non-byte EncoderBuffer value");this.value=value;
this.length=1}else if(typeof value==="string"){this.value=value;this.length=Buffer.byteLength(value)}else if(Buffer.isBuffer(value)){this.value=value;this.length=value.length}else{return reporter.error("Unsupported type: "+typeof value)}}exports.EncoderBuffer=EncoderBuffer;EncoderBuffer.prototype.join=function join(out,offset){if(!out)out=new Buffer(this.length);if(!offset)offset=0;if(this.length===0)return out;if(Array.isArray(this.value)){this.value.forEach(function(item){item.join(out,offset);offset+=item.length})}else{if(typeof this.value==="number")out[offset]=this.value;else if(typeof this.value==="string")out.write(this.value,offset);else if(Buffer.isBuffer(this.value))this.value.copy(out,offset);offset+=this.length}return out}},{"../base":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/asn1.js/lib/asn1/base/index.js",buffer:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/buffer/index.js",inherits:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/inherits/inherits_browser.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/asn1.js/lib/asn1/base/index.js":[function(require,module,exports){var base=exports;base.Reporter=require("./reporter").Reporter;base.DecoderBuffer=require("./buffer").DecoderBuffer;base.EncoderBuffer=require("./buffer").EncoderBuffer;base.Node=require("./node")},{"./buffer":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/asn1.js/lib/asn1/base/buffer.js","./node":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/asn1.js/lib/asn1/base/node.js","./reporter":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/asn1.js/lib/asn1/base/reporter.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/asn1.js/lib/asn1/base/node.js":[function(require,module,exports){var Reporter=require("../base").Reporter;var EncoderBuffer=require("../base").EncoderBuffer;var DecoderBuffer=require("../base").DecoderBuffer;var assert=require("minimalistic-assert");var tags=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"];var methods=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(tags);var overrided=["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"];function Node(enc,parent){var state={};this._baseState=state;state.enc=enc;state.parent=parent||null;state.children=null;state.tag=null;state.args=null;state.reverseArgs=null;state.choice=null;state.optional=false;state.any=false;state.obj=false;state.use=null;state.useDecoder=null;state.key=null;state["default"]=null;state.explicit=null;state.implicit=null;state.contains=null;if(!state.parent){state.children=[];this._wrap()}}module.exports=Node;var stateProps=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit"];Node.prototype.clone=function clone(){var state=this._baseState;var cstate={};stateProps.forEach(function(prop){cstate[prop]=state[prop]});var res=new this.constructor(cstate.parent);res._baseState=cstate;return res};Node.prototype._wrap=function wrap(){var state=this._baseState;methods.forEach(function(method){this[method]=function _wrappedMethod(){var clone=new this.constructor(this);state.children.push(clone);return clone[method].apply(clone,arguments)}},this)};Node.prototype._init=function init(body){var state=this._baseState;assert(state.parent===null);body.call(this);state.children=state.children.filter(function(child){return child._baseState.parent===this},this);assert.equal(state.children.length,1,"Root node can have only one child")};Node.prototype._useArgs=function useArgs(args){var state=this._baseState;var children=args.filter(function(arg){return arg instanceof this.constructor},this);args=args.filter(function(arg){return!(arg instanceof this.constructor)},this);if(children.length!==0){assert(state.children===null);state.children=children;children.forEach(function(child){child._baseState.parent=this},this)}if(args.length!==0){assert(state.args===null);state.args=args;state.reverseArgs=args.map(function(arg){if(typeof arg!=="object"||arg.constructor!==Object)return arg;var res={};Object.keys(arg).forEach(function(key){if(key==(key|0))key|=0;var value=arg[key];res[value]=key});return res})}};overrided.forEach(function(method){Node.prototype[method]=function _overrided(){var state=this._baseState;throw new Error(method+" not implemented for encoding: "+state.enc)}});tags.forEach(function(tag){Node.prototype[tag]=function _tagMethod(){var state=this._baseState;var args=Array.prototype.slice.call(arguments);assert(state.tag===null);state.tag=tag;this._useArgs(args);return this}});Node.prototype.use=function use(item){var state=this._baseState;assert(state.use===null);state.use=item;return this};Node.prototype.optional=function optional(){var state=this._baseState;state.optional=true;return this};Node.prototype.def=function def(val){var state=this._baseState;assert(state["default"]===null);state["default"]=val;state.optional=true;return this};Node.prototype.explicit=function explicit(num){var state=this._baseState;assert(state.explicit===null&&state.implicit===null);state.explicit=num;return this};Node.prototype.implicit=function implicit(num){var state=this._baseState;assert(state.explicit===null&&state.implicit===null);state.implicit=num;return this};Node.prototype.obj=function obj(){var state=this._baseState;var args=Array.prototype.slice.call(arguments);state.obj=true;if(args.length!==0)this._useArgs(args);return this};Node.prototype.key=function key(newKey){var state=this._baseState;assert(state.key===null);state.key=newKey;return this};Node.prototype.any=function any(){var state=this._baseState;state.any=true;return this};Node.prototype.choice=function choice(obj){var state=this._baseState;assert(state.choice===null);state.choice=obj;this._useArgs(Object.keys(obj).map(function(key){return obj[key]}));return this};Node.prototype.contains=function contains(item){var state=this._baseState;assert(state.use===null);state.contains=item;return this};Node.prototype._decode=function decode(input){var state=this._baseState;if(state.parent===null)return input.wrapResult(state.children[0]._decode(input));var result=state["default"];var present=true;var prevKey;if(state.key!==null)prevKey=input.enterKey(state.key);if(state.optional){var tag=null;if(state.explicit!==null)tag=state.explicit;else if(state.implicit!==null)tag=state.implicit;else if(state.tag!==null)tag=state.tag;if(tag===null&&!state.any){var save=input.save();try{if(state.choice===null)this._decodeGeneric(state.tag,input);else this._decodeChoice(input);present=true}catch(e){present=false}input.restore(save)}else{present=this._peekTag(input,tag,state.any);if(input.isError(present))return present}}var prevObj;if(state.obj&&present)prevObj=input.enterObject();if(present){if(state.explicit!==null){var explicit=this._decodeTag(input,state.explicit);if(input.isError(explicit))return explicit;input=explicit}if(state.use===null&&state.choice===null){if(state.any)var save=input.save();var body=this._decodeTag(input,state.implicit!==null?state.implicit:state.tag,state.any);if(input.isError(body))return body;if(state.any)result=input.raw(save);else input=body}if(state.any)result=result;else if(state.choice===null)result=this._decodeGeneric(state.tag,input);else result=this._decodeChoice(input);if(input.isError(result))return result;if(!state.any&&state.choice===null&&state.children!==null){state.children.forEach(function decodeChildren(child){child._decode(input)})}if(state.contains&&(state.tag==="octstr"||state.tag==="bitstr")){var data=new DecoderBuffer(result);result=this._getUse(state.contains,input._reporterState.obj)._decode(data)}}if(state.obj&&present)result=input.leaveObject(prevObj);if(state.key!==null&&(result!==null||present===true))input.leaveKey(prevKey,state.key,result);return result};Node.prototype._decodeGeneric=function decodeGeneric(tag,input){var state=this._baseState;if(tag==="seq"||tag==="set")return null;if(tag==="seqof"||tag==="setof")return this._decodeList(input,tag,state.args[0]);else if(/str$/.test(tag))return this._decodeStr(input,tag);else if(tag==="objid"&&state.args)return this._decodeObjid(input,state.args[0],state.args[1]);else if(tag==="objid")return this._decodeObjid(input,null,null);else if(tag==="gentime"||tag==="utctime")return this._decodeTime(input,tag);else if(tag==="null_")return this._decodeNull(input);else if(tag==="bool")return this._decodeBool(input);else if(tag==="int"||tag==="enum")return this._decodeInt(input,state.args&&state.args[0]);else if(state.use!==null)return this._getUse(state.use,input._reporterState.obj)._decode(input);else return input.error("unknown tag: "+tag)};Node.prototype._getUse=function _getUse(entity,obj){var state=this._baseState;state.useDecoder=this._use(entity,obj);assert(state.useDecoder._baseState.parent===null);state.useDecoder=state.useDecoder._baseState.children[0];if(state.implicit!==state.useDecoder._baseState.implicit){state.useDecoder=state.useDecoder.clone();state.useDecoder._baseState.implicit=state.implicit}return state.useDecoder};Node.prototype._decodeChoice=function decodeChoice(input){var state=this._baseState;var result=null;var match=false;Object.keys(state.choice).some(function(key){var save=input.save();var node=state.choice[key];try{var value=node._decode(input);if(input.isError(value))return false;result={type:key,value:value};match=true}catch(e){input.restore(save);return false}return true},this);if(!match)return input.error("Choice not matched");return result};Node.prototype._createEncoderBuffer=function createEncoderBuffer(data){return new EncoderBuffer(data,this.reporter)};Node.prototype._encode=function encode(data,reporter,parent){var state=this._baseState;if(state["default"]!==null&&state["default"]===data)return;var result=this._encodeValue(data,reporter,parent);if(result===undefined)return;if(this._skipDefault(result,reporter,parent))return;return result};Node.prototype._encodeValue=function encode(data,reporter,parent){var state=this._baseState;if(state.parent===null)return state.children[0]._encode(data,reporter||new Reporter);var result=null;this.reporter=reporter;if(state.optional&&data===undefined){if(state["default"]!==null)data=state["default"];else return}var content=null;var primitive=false;if(state.any){result=this._createEncoderBuffer(data)}else if(state.choice){result=this._encodeChoice(data,reporter)}else if(state.contains){content=this._getUse(state.contains,parent)._encode(data,reporter);primitive=true}else if(state.children){content=state.children.map(function(child){if(child._baseState.tag==="null_")return child._encode(null,reporter,data);if(child._baseState.key===null)return reporter.error("Child should have a key");var prevKey=reporter.enterKey(child._baseState.key);if(typeof data!=="object")return reporter.error("Child expected, but input is not object");var res=child._encode(data[child._baseState.key],reporter,data);reporter.leaveKey(prevKey);return res},this).filter(function(child){return child});content=this._createEncoderBuffer(content)}else{if(state.tag==="seqof"||state.tag==="setof"){if(!(state.args&&state.args.length===1))return reporter.error("Too many args for : "+state.tag);if(!Array.isArray(data))return reporter.error("seqof/setof, but data is not Array");var child=this.clone();child._baseState.implicit=null;content=this._createEncoderBuffer(data.map(function(item){var state=this._baseState;return this._getUse(state.args[0],data)._encode(item,reporter)},child))}else if(state.use!==null){result=this._getUse(state.use,parent)._encode(data,reporter)}else{content=this._encodePrimitive(state.tag,data);primitive=true}}var result;if(!state.any&&state.choice===null){var tag=state.implicit!==null?state.implicit:state.tag;var cls=state.implicit===null?"universal":"context";if(tag===null){if(state.use===null)reporter.error("Tag could be ommited only for .use()")}else{if(state.use===null)result=this._encodeComposite(tag,primitive,cls,content)}}if(state.explicit!==null)result=this._encodeComposite(state.explicit,false,"context",result);return result};Node.prototype._encodeChoice=function encodeChoice(data,reporter){var state=this._baseState;var node=state.choice[data.type];if(!node){assert(false,data.type+" not found in "+JSON.stringify(Object.keys(state.choice)))}return node._encode(data.value,reporter)};Node.prototype._encodePrimitive=function encodePrimitive(tag,data){var state=this._baseState;if(/str$/.test(tag))return this._encodeStr(data,tag);else if(tag==="objid"&&state.args)return this._encodeObjid(data,state.reverseArgs[0],state.args[1]);else if(tag==="objid")return this._encodeObjid(data,null,null);else if(tag==="gentime"||tag==="utctime")return this._encodeTime(data,tag);else if(tag==="null_")return this._encodeNull();else if(tag==="int"||tag==="enum")return this._encodeInt(data,state.args&&state.reverseArgs[0]);else if(tag==="bool")return this._encodeBool(data);else throw new Error("Unsupported tag: "+tag)};Node.prototype._isNumstr=function isNumstr(str){return/^[0-9 ]*$/.test(str)};Node.prototype._isPrintstr=function isPrintstr(str){return/^[A-Za-z0-9 '\(\)\+,\-\.\/:=\?]*$/.test(str)}},{"../base":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/asn1.js/lib/asn1/base/index.js","minimalistic-assert":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/minimalistic-assert/index.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/asn1.js/lib/asn1/base/reporter.js":[function(require,module,exports){var inherits=require("inherits");function Reporter(options){this._reporterState={obj:null,path:[],options:options||{},errors:[]}}exports.Reporter=Reporter;Reporter.prototype.isError=function isError(obj){return obj instanceof ReporterError};Reporter.prototype.save=function save(){var state=this._reporterState;return{obj:state.obj,pathLen:state.path.length}};Reporter.prototype.restore=function restore(data){var state=this._reporterState;state.obj=data.obj;state.path=state.path.slice(0,data.pathLen)};Reporter.prototype.enterKey=function enterKey(key){return this._reporterState.path.push(key)};Reporter.prototype.leaveKey=function leaveKey(index,key,value){var state=this._reporterState;state.path=state.path.slice(0,index-1);if(state.obj!==null)state.obj[key]=value};Reporter.prototype.enterObject=function enterObject(){var state=this._reporterState;var prev=state.obj;state.obj={};return prev};Reporter.prototype.leaveObject=function leaveObject(prev){var state=this._reporterState;var now=state.obj;state.obj=prev;return now};Reporter.prototype.error=function error(msg){var err;var state=this._reporterState;var inherited=msg instanceof ReporterError;if(inherited){err=msg}else{err=new ReporterError(state.path.map(function(elem){return"["+JSON.stringify(elem)+"]"}).join(""),msg.message||msg,msg.stack)}if(!state.options.partial)throw err;if(!inherited)state.errors.push(err);return err};Reporter.prototype.wrapResult=function wrapResult(result){var state=this._reporterState;if(!state.options.partial)return result;return{result:this.isError(result)?null:result,errors:state.errors}};function ReporterError(path,msg){this.path=path;this.rethrow(msg)}inherits(ReporterError,Error);ReporterError.prototype.rethrow=function rethrow(msg){this.message=msg+" at: "+(this.path||"(shallow)");if(Error.captureStackTrace)Error.captureStackTrace(this,ReporterError);if(!this.stack){try{throw new Error(this.message)}catch(e){this.stack=e.stack}}return this}},{inherits:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/inherits/inherits_browser.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/asn1.js/lib/asn1/constants/der.js":[function(require,module,exports){var constants=require("../constants");exports.tagClass={0:"universal",1:"application",2:"context",3:"private"};exports.tagClassByName=constants._reverse(exports.tagClass);exports.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"};exports.tagByName=constants._reverse(exports.tag)},{"../constants":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/asn1.js/lib/asn1/constants/index.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/asn1.js/lib/asn1/constants/index.js":[function(require,module,exports){var constants=exports;constants._reverse=function reverse(map){var res={};Object.keys(map).forEach(function(key){if((key|0)==key)key=key|0;var value=map[key];res[value]=key});return res};constants.der=require("./der")},{"./der":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/asn1.js/lib/asn1/constants/der.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/asn1.js/lib/asn1/decoders/der.js":[function(require,module,exports){var inherits=require("inherits");var asn1=require("../../asn1");var base=asn1.base;var bignum=asn1.bignum;var der=asn1.constants.der;function DERDecoder(entity){this.enc="der";this.name=entity.name;this.entity=entity;this.tree=new DERNode;this.tree._init(entity.body)}module.exports=DERDecoder;DERDecoder.prototype.decode=function decode(data,options){if(!(data instanceof base.DecoderBuffer))data=new base.DecoderBuffer(data,options);return this.tree._decode(data,options)};function DERNode(parent){base.Node.call(this,"der",parent)}inherits(DERNode,base.Node);DERNode.prototype._peekTag=function peekTag(buffer,tag,any){if(buffer.isEmpty())return false;var state=buffer.save();var decodedTag=derDecodeTag(buffer,'Failed to peek tag: "'+tag+'"');if(buffer.isError(decodedTag))return decodedTag;buffer.restore(state);return decodedTag.tag===tag||decodedTag.tagStr===tag||decodedTag.tagStr+"of"===tag||any};DERNode.prototype._decodeTag=function decodeTag(buffer,tag,any){var decodedTag=derDecodeTag(buffer,'Failed to decode tag of "'+tag+'"');if(buffer.isError(decodedTag))return decodedTag;var len=derDecodeLen(buffer,decodedTag.primitive,'Failed to get length of "'+tag+'"');if(buffer.isError(len))return len;if(!any&&decodedTag.tag!==tag&&decodedTag.tagStr!==tag&&decodedTag.tagStr+"of"!==tag){return buffer.error('Failed to match tag: "'+tag+'"')}if(decodedTag.primitive||len!==null)return buffer.skip(len,'Failed to match body of: "'+tag+'"');var state=buffer.save();var res=this._skipUntilEnd(buffer,'Failed to skip indefinite length body: "'+this.tag+'"');if(buffer.isError(res))return res;len=buffer.offset-state.offset;buffer.restore(state);return buffer.skip(len,'Failed to match body of: "'+tag+'"')};DERNode.prototype._skipUntilEnd=function skipUntilEnd(buffer,fail){while(true){var tag=derDecodeTag(buffer,fail);if(buffer.isError(tag))return tag;var len=derDecodeLen(buffer,tag.primitive,fail);if(buffer.isError(len))return len;var res;if(tag.primitive||len!==null)res=buffer.skip(len);else res=this._skipUntilEnd(buffer,fail);if(buffer.isError(res))return res;if(tag.tagStr==="end")break}};DERNode.prototype._decodeList=function decodeList(buffer,tag,decoder){var result=[];while(!buffer.isEmpty()){var possibleEnd=this._peekTag(buffer,"end");if(buffer.isError(possibleEnd))return possibleEnd;var res=decoder.decode(buffer,"der");if(buffer.isError(res)&&possibleEnd)break;result.push(res)}return result};DERNode.prototype._decodeStr=function decodeStr(buffer,tag){if(tag==="bitstr"){var unused=buffer.readUInt8();if(buffer.isError(unused))return unused;return{unused:unused,data:buffer.raw()}}else if(tag==="bmpstr"){var raw=buffer.raw();if(raw.length%2===1)return buffer.error("Decoding of string type: bmpstr length mismatch");var str="";for(var i=0;i<raw.length/2;i++){str+=String.fromCharCode(raw.readUInt16BE(i*2))}return str}else if(tag==="numstr"){var numstr=buffer.raw().toString("ascii");if(!this._isNumstr(numstr)){return buffer.error("Decoding of string type: "+"numstr unsupported characters")}return numstr}else if(tag==="octstr"){return buffer.raw()}else if(tag==="printstr"){var printstr=buffer.raw().toString("ascii");if(!this._isPrintstr(printstr)){return buffer.error("Decoding of string type: "+"printstr unsupported characters")}return printstr}else if(/str$/.test(tag)){return buffer.raw().toString()}else{return buffer.error("Decoding of string type: "+tag+" unsupported")}};DERNode.prototype._decodeObjid=function decodeObjid(buffer,values,relative){var result;var identifiers=[];var ident=0;while(!buffer.isEmpty()){var subident=buffer.readUInt8();ident<<=7;ident|=subident&127;if((subident&128)===0){identifiers.push(ident);ident=0}}if(subident&128)identifiers.push(ident);var first=identifiers[0]/40|0;var second=identifiers[0]%40;if(relative)result=identifiers;else result=[first,second].concat(identifiers.slice(1));if(values){var tmp=values[result.join(" ")];if(tmp===undefined)tmp=values[result.join(".")];if(tmp!==undefined)result=tmp}return result};DERNode.prototype._decodeTime=function decodeTime(buffer,tag){var str=buffer.raw().toString();if(tag==="gentime"){var year=str.slice(0,4)|0;var mon=str.slice(4,6)|0;var day=str.slice(6,8)|0;var hour=str.slice(8,10)|0;var min=str.slice(10,12)|0;var sec=str.slice(12,14)|0}else if(tag==="utctime"){var year=str.slice(0,2)|0;var mon=str.slice(2,4)|0;var day=str.slice(4,6)|0;var hour=str.slice(6,8)|0;var min=str.slice(8,10)|0;var sec=str.slice(10,12)|0;if(year<70)year=2e3+year;else year=1900+year}else{return buffer.error("Decoding "+tag+" time is not supported yet")}return Date.UTC(year,mon-1,day,hour,min,sec,0)};DERNode.prototype._decodeNull=function decodeNull(buffer){return null};DERNode.prototype._decodeBool=function decodeBool(buffer){var res=buffer.readUInt8();if(buffer.isError(res))return res;else return res!==0};DERNode.prototype._decodeInt=function decodeInt(buffer,values){var raw=buffer.raw();var res=new bignum(raw);if(values)res=values[res.toString(10)]||res;return res};DERNode.prototype._use=function use(entity,obj){if(typeof entity==="function")entity=entity(obj);return entity._getDecoder("der").tree};function derDecodeTag(buf,fail){var tag=buf.readUInt8(fail);if(buf.isError(tag))return tag;var cls=der.tagClass[tag>>6];var primitive=(tag&32)===0;if((tag&31)===31){var oct=tag;tag=0;while((oct&128)===128){oct=buf.readUInt8(fail);if(buf.isError(oct))return oct;tag<<=7;tag|=oct&127}}else{tag&=31}var tagStr=der.tag[tag];return{cls:cls,primitive:primitive,tag:tag,tagStr:tagStr}}function derDecodeLen(buf,primitive,fail){var len=buf.readUInt8(fail);if(buf.isError(len))return len;if(!primitive&&len===128)return null;if((len&128)===0){return len}var num=len&127;if(num>=4)return buf.error("length octect is too long");len=0;for(var i=0;i<num;i++){len<<=8;var j=buf.readUInt8(fail);if(buf.isError(j))return j;len|=j}return len}},{"../../asn1":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/asn1.js/lib/asn1.js",inherits:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/inherits/inherits_browser.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/asn1.js/lib/asn1/decoders/index.js":[function(require,module,exports){var decoders=exports;decoders.der=require("./der");decoders.pem=require("./pem")},{"./der":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/asn1.js/lib/asn1/decoders/der.js","./pem":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/asn1.js/lib/asn1/decoders/pem.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/asn1.js/lib/asn1/decoders/pem.js":[function(require,module,exports){var inherits=require("inherits");var Buffer=require("buffer").Buffer;var DERDecoder=require("./der");function PEMDecoder(entity){DERDecoder.call(this,entity);this.enc="pem"}inherits(PEMDecoder,DERDecoder);module.exports=PEMDecoder;PEMDecoder.prototype.decode=function decode(data,options){var lines=data.toString().split(/[\r\n]+/g);var label=options.label.toUpperCase();var re=/^-----(BEGIN|END) ([^-]+)-----$/;var start=-1;var end=-1;for(var i=0;i<lines.length;i++){var match=lines[i].match(re);if(match===null)continue;if(match[2]!==label)continue;if(start===-1){if(match[1]!=="BEGIN")break;start=i}else{if(match[1]!=="END")break;end=i;break}}if(start===-1||end===-1)throw new Error("PEM section not found for: "+label);var base64=lines.slice(start+1,end).join("");base64.replace(/[^a-z0-9\+\/=]+/gi,"");var input=new Buffer(base64,"base64");return DERDecoder.prototype.decode.call(this,input,options)}},{"./der":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/asn1.js/lib/asn1/decoders/der.js",buffer:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/buffer/index.js",inherits:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/inherits/inherits_browser.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/asn1.js/lib/asn1/encoders/der.js":[function(require,module,exports){var inherits=require("inherits");var Buffer=require("buffer").Buffer;var asn1=require("../../asn1");var base=asn1.base;var der=asn1.constants.der;function DEREncoder(entity){this.enc="der";this.name=entity.name;this.entity=entity;this.tree=new DERNode;this.tree._init(entity.body)}module.exports=DEREncoder;DEREncoder.prototype.encode=function encode(data,reporter){return this.tree._encode(data,reporter).join()};function DERNode(parent){base.Node.call(this,"der",parent)}inherits(DERNode,base.Node);DERNode.prototype._encodeComposite=function encodeComposite(tag,primitive,cls,content){var encodedTag=encodeTag(tag,primitive,cls,this.reporter);if(content.length<128){var header=new Buffer(2);header[0]=encodedTag;header[1]=content.length;return this._createEncoderBuffer([header,content])}var lenOctets=1;for(var i=content.length;i>=256;i>>=8)lenOctets++;var header=new Buffer(1+1+lenOctets);header[0]=encodedTag;header[1]=128|lenOctets;for(var i=1+lenOctets,j=content.length;j>0;i--,j>>=8)header[i]=j&255;return this._createEncoderBuffer([header,content])};DERNode.prototype._encodeStr=function encodeStr(str,tag){if(tag==="bitstr"){return this._createEncoderBuffer([str.unused|0,str.data])}else if(tag==="bmpstr"){var buf=new Buffer(str.length*2);for(var i=0;i<str.length;i++){buf.writeUInt16BE(str.charCodeAt(i),i*2)}return this._createEncoderBuffer(buf)}else if(tag==="numstr"){if(!this._isNumstr(str)){return this.reporter.error("Encoding of string type: numstr supports "+"only digits and space")}return this._createEncoderBuffer(str)}else if(tag==="printstr"){if(!this._isPrintstr(str)){return this.reporter.error("Encoding of string type: printstr supports "+"only latin upper and lower case letters, "+"digits, space, apostrophe, left and rigth "+"parenthesis, plus sign, comma, hyphen, "+"dot, slash, colon, equal sign, "+"question mark")}return this._createEncoderBuffer(str)}else if(/str$/.test(tag)){return this._createEncoderBuffer(str)}else{return this.reporter.error("Encoding of string type: "+tag+" unsupported")}};DERNode.prototype._encodeObjid=function encodeObjid(id,values,relative){if(typeof id==="string"){if(!values)return this.reporter.error("string objid given, but no values map found");if(!values.hasOwnProperty(id))return this.reporter.error("objid not found in values map");id=values[id].split(/[\s\.]+/g);for(var i=0;i<id.length;i++)id[i]|=0}else if(Array.isArray(id)){id=id.slice();for(var i=0;i<id.length;i++)id[i]|=0}if(!Array.isArray(id)){return this.reporter.error("objid() should be either array or string, "+"got: "+JSON.stringify(id))}if(!relative){if(id[1]>=40)return this.reporter.error("Second objid identifier OOB");id.splice(0,2,id[0]*40+id[1])}var size=0;for(var i=0;i<id.length;i++){var ident=id[i];for(size++;ident>=128;ident>>=7)size++}var objid=new Buffer(size);var offset=objid.length-1;for(var i=id.length-1;i>=0;i--){var ident=id[i];objid[offset--]=ident&127;while((ident>>=7)>0)objid[offset--]=128|ident&127}return this._createEncoderBuffer(objid)};function two(num){if(num<10)return"0"+num;else return num}DERNode.prototype._encodeTime=function encodeTime(time,tag){var str;var date=new Date(time);if(tag==="gentime"){str=[two(date.getFullYear()),two(date.getUTCMonth()+1),two(date.getUTCDate()),two(date.getUTCHours()),two(date.getUTCMinutes()),two(date.getUTCSeconds()),"Z"].join("")}else if(tag==="utctime"){str=[two(date.getFullYear()%100),two(date.getUTCMonth()+1),two(date.getUTCDate()),two(date.getUTCHours()),two(date.getUTCMinutes()),two(date.getUTCSeconds()),"Z"].join("")}else{this.reporter.error("Encoding "+tag+" time is not supported yet")}return this._encodeStr(str,"octstr")};DERNode.prototype._encodeNull=function encodeNull(){return this._createEncoderBuffer("")};DERNode.prototype._encodeInt=function encodeInt(num,values){if(typeof num==="string"){if(!values)return this.reporter.error("String int or enum given, but no values map");if(!values.hasOwnProperty(num)){return this.reporter.error("Values map doesn't contain: "+JSON.stringify(num))}num=values[num]}if(typeof num!=="number"&&!Buffer.isBuffer(num)){var numArray=num.toArray();if(!num.sign&&numArray[0]&128){numArray.unshift(0)}num=new Buffer(numArray)}if(Buffer.isBuffer(num)){var size=num.length;if(num.length===0)size++;var out=new Buffer(size);num.copy(out);if(num.length===0)out[0]=0;return this._createEncoderBuffer(out)}if(num<128)return this._createEncoderBuffer(num);if(num<256)return this._createEncoderBuffer([0,num]);var size=1;for(var i=num;i>=256;i>>=8)size++;var out=new Array(size);for(var i=out.length-1;i>=0;i--){out[i]=num&255;num>>=8}if(out[0]&128){out.unshift(0)}return this._createEncoderBuffer(new Buffer(out))};DERNode.prototype._encodeBool=function encodeBool(value){return this._createEncoderBuffer(value?255:0)};DERNode.prototype._use=function use(entity,obj){if(typeof entity==="function")entity=entity(obj);return entity._getEncoder("der").tree};DERNode.prototype._skipDefault=function skipDefault(dataBuffer,reporter,parent){var state=this._baseState;var i;if(state["default"]===null)return false;var data=dataBuffer.join();if(state.defaultBuffer===undefined)state.defaultBuffer=this._encodeValue(state["default"],reporter,parent).join();if(data.length!==state.defaultBuffer.length)return false;for(i=0;i<data.length;i++)if(data[i]!==state.defaultBuffer[i])return false;return true};function encodeTag(tag,primitive,cls,reporter){var res;if(tag==="seqof")tag="seq";else if(tag==="setof")tag="set";if(der.tagByName.hasOwnProperty(tag))res=der.tagByName[tag];else if(typeof tag==="number"&&(tag|0)===tag)res=tag;else return reporter.error("Unknown tag: "+tag);if(res>=31)return reporter.error("Multi-octet tag encoding unsupported");if(!primitive)res|=32;res|=der.tagClassByName[cls||"universal"]<<6;return res}},{"../../asn1":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/asn1.js/lib/asn1.js",buffer:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/buffer/index.js",inherits:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/inherits/inherits_browser.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/asn1.js/lib/asn1/encoders/index.js":[function(require,module,exports){var encoders=exports;encoders.der=require("./der");encoders.pem=require("./pem")},{"./der":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/asn1.js/lib/asn1/encoders/der.js",
"./pem":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/asn1.js/lib/asn1/encoders/pem.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/asn1.js/lib/asn1/encoders/pem.js":[function(require,module,exports){var inherits=require("inherits");var DEREncoder=require("./der");function PEMEncoder(entity){DEREncoder.call(this,entity);this.enc="pem"}inherits(PEMEncoder,DEREncoder);module.exports=PEMEncoder;PEMEncoder.prototype.encode=function encode(data,options){var buf=DEREncoder.prototype.encode.call(this,data);var p=buf.toString("base64");var out=["-----BEGIN "+options.label+"-----"];for(var i=0;i<p.length;i+=64)out.push(p.slice(i,i+64));out.push("-----END "+options.label+"-----");return out.join("\n")}},{"./der":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/asn1.js/lib/asn1/encoders/der.js",inherits:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/inherits/inherits_browser.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/assert/assert.js":[function(require,module,exports){var util=require("util/");var pSlice=Array.prototype.slice;var hasOwn=Object.prototype.hasOwnProperty;var assert=module.exports=ok;assert.AssertionError=function AssertionError(options){this.name="AssertionError";this.actual=options.actual;this.expected=options.expected;this.operator=options.operator;if(options.message){this.message=options.message;this.generatedMessage=false}else{this.message=getMessage(this);this.generatedMessage=true}var stackStartFunction=options.stackStartFunction||fail;if(Error.captureStackTrace){Error.captureStackTrace(this,stackStartFunction)}else{var err=new Error;if(err.stack){var out=err.stack;var fn_name=stackStartFunction.name;var idx=out.indexOf("\n"+fn_name);if(idx>=0){var next_line=out.indexOf("\n",idx+1);out=out.substring(next_line+1)}this.stack=out}}};util.inherits(assert.AssertionError,Error);function replacer(key,value){if(util.isUndefined(value)){return""+value}if(util.isNumber(value)&&!isFinite(value)){return value.toString()}if(util.isFunction(value)||util.isRegExp(value)){return value.toString()}return value}function truncate(s,n){if(util.isString(s)){return s.length<n?s:s.slice(0,n)}else{return s}}function getMessage(self){return truncate(JSON.stringify(self.actual,replacer),128)+" "+self.operator+" "+truncate(JSON.stringify(self.expected,replacer),128)}function fail(actual,expected,message,operator,stackStartFunction){throw new assert.AssertionError({message:message,actual:actual,expected:expected,operator:operator,stackStartFunction:stackStartFunction})}assert.fail=fail;function ok(value,message){if(!value)fail(value,true,message,"==",assert.ok)}assert.ok=ok;assert.equal=function equal(actual,expected,message){if(actual!=expected)fail(actual,expected,message,"==",assert.equal)};assert.notEqual=function notEqual(actual,expected,message){if(actual==expected){fail(actual,expected,message,"!=",assert.notEqual)}};assert.deepEqual=function deepEqual(actual,expected,message){if(!_deepEqual(actual,expected)){fail(actual,expected,message,"deepEqual",assert.deepEqual)}};function _deepEqual(actual,expected){if(actual===expected){return true}else if(util.isBuffer(actual)&&util.isBuffer(expected)){if(actual.length!=expected.length)return false;for(var i=0;i<actual.length;i++){if(actual[i]!==expected[i])return false}return true}else if(util.isDate(actual)&&util.isDate(expected)){return actual.getTime()===expected.getTime()}else if(util.isRegExp(actual)&&util.isRegExp(expected)){return actual.source===expected.source&&actual.global===expected.global&&actual.multiline===expected.multiline&&actual.lastIndex===expected.lastIndex&&actual.ignoreCase===expected.ignoreCase}else if(!util.isObject(actual)&&!util.isObject(expected)){return actual==expected}else{return objEquiv(actual,expected)}}function isArguments(object){return Object.prototype.toString.call(object)=="[object Arguments]"}function objEquiv(a,b){if(util.isNullOrUndefined(a)||util.isNullOrUndefined(b))return false;if(a.prototype!==b.prototype)return false;if(util.isPrimitive(a)||util.isPrimitive(b)){return a===b}var aIsArgs=isArguments(a),bIsArgs=isArguments(b);if(aIsArgs&&!bIsArgs||!aIsArgs&&bIsArgs)return false;if(aIsArgs){a=pSlice.call(a);b=pSlice.call(b);return _deepEqual(a,b)}var ka=objectKeys(a),kb=objectKeys(b),key,i;if(ka.length!=kb.length)return false;ka.sort();kb.sort();for(i=ka.length-1;i>=0;i--){if(ka[i]!=kb[i])return false}for(i=ka.length-1;i>=0;i--){key=ka[i];if(!_deepEqual(a[key],b[key]))return false}return true}assert.notDeepEqual=function notDeepEqual(actual,expected,message){if(_deepEqual(actual,expected)){fail(actual,expected,message,"notDeepEqual",assert.notDeepEqual)}};assert.strictEqual=function strictEqual(actual,expected,message){if(actual!==expected){fail(actual,expected,message,"===",assert.strictEqual)}};assert.notStrictEqual=function notStrictEqual(actual,expected,message){if(actual===expected){fail(actual,expected,message,"!==",assert.notStrictEqual)}};function expectedException(actual,expected){if(!actual||!expected){return false}if(Object.prototype.toString.call(expected)=="[object RegExp]"){return expected.test(actual)}else if(actual instanceof expected){return true}else if(expected.call({},actual)===true){return true}return false}function _throws(shouldThrow,block,expected,message){var actual;if(util.isString(expected)){message=expected;expected=null}try{block()}catch(e){actual=e}message=(expected&&expected.name?" ("+expected.name+").":".")+(message?" "+message:".");if(shouldThrow&&!actual){fail(actual,expected,"Missing expected exception"+message)}if(!shouldThrow&&expectedException(actual,expected)){fail(actual,expected,"Got unwanted exception"+message)}if(shouldThrow&&actual&&expected&&!expectedException(actual,expected)||!shouldThrow&&actual){throw actual}}assert.throws=function(block,error,message){_throws.apply(this,[true].concat(pSlice.call(arguments)))};assert.doesNotThrow=function(block,message){_throws.apply(this,[false].concat(pSlice.call(arguments)))};assert.ifError=function(err){if(err){throw err}};var objectKeys=Object.keys||function(obj){var keys=[];for(var key in obj){if(hasOwn.call(obj,key))keys.push(key)}return keys}},{"util/":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/util/util.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/async/dist/async.js":[function(require,module,exports){(function(process,global){(function(global,factory){typeof exports==="object"&&typeof module!=="undefined"?factory(exports):typeof define==="function"&&define.amd?define(["exports"],factory):factory(global.async=global.async||{})})(this,function(exports){"use strict";function apply(func,thisArg,args){var length=args.length;switch(length){case 0:return func.call(thisArg);case 1:return func.call(thisArg,args[0]);case 2:return func.call(thisArg,args[0],args[1]);case 3:return func.call(thisArg,args[0],args[1],args[2])}return func.apply(thisArg,args)}function isObject(value){var type=typeof value;return!!value&&(type=="object"||type=="function")}var funcTag="[object Function]";var genTag="[object GeneratorFunction]";var objectProto=Object.prototype;var objectToString=objectProto.toString;function isFunction(value){var tag=isObject(value)?objectToString.call(value):"";return tag==funcTag||tag==genTag}function isObjectLike(value){return!!value&&typeof value=="object"}var symbolTag="[object Symbol]";var objectProto$1=Object.prototype;var objectToString$1=objectProto$1.toString;function isSymbol(value){return typeof value=="symbol"||isObjectLike(value)&&objectToString$1.call(value)==symbolTag}var NAN=0/0;var reTrim=/^\s+|\s+$/g;var reIsBadHex=/^[-+]0x[0-9a-f]+$/i;var reIsBinary=/^0b[01]+$/i;var reIsOctal=/^0o[0-7]+$/i;var freeParseInt=parseInt;function toNumber(value){if(typeof value=="number"){return value}if(isSymbol(value)){return NAN}if(isObject(value)){var other=isFunction(value.valueOf)?value.valueOf():value;value=isObject(other)?other+"":other}if(typeof value!="string"){return value===0?value:+value}value=value.replace(reTrim,"");var isBinary=reIsBinary.test(value);return isBinary||reIsOctal.test(value)?freeParseInt(value.slice(2),isBinary?2:8):reIsBadHex.test(value)?NAN:+value}var INFINITY=1/0;var MAX_INTEGER=1.7976931348623157e308;function toFinite(value){if(!value){return value===0?value:0}value=toNumber(value);if(value===INFINITY||value===-INFINITY){var sign=value<0?-1:1;return sign*MAX_INTEGER}return value===value?value:0}function toInteger(value){var result=toFinite(value),remainder=result%1;return result===result?remainder?result-remainder:result:0}var FUNC_ERROR_TEXT="Expected a function";var nativeMax=Math.max;function rest(func,start){if(typeof func!="function"){throw new TypeError(FUNC_ERROR_TEXT)}start=nativeMax(start===undefined?func.length-1:toInteger(start),0);return function(){var args=arguments,index=-1,length=nativeMax(args.length-start,0),array=Array(length);while(++index<length){array[index]=args[start+index]}switch(start){case 0:return func.call(this,array);case 1:return func.call(this,args[0],array);case 2:return func.call(this,args[0],args[1],array)}var otherArgs=Array(start+1);index=-1;while(++index<start){otherArgs[index]=args[index]}otherArgs[start]=array;return apply(func,this,otherArgs)}}function initialParams(fn){return rest(function(args){var callback=args.pop();fn.call(this,args,callback)})}function applyEach$1(eachfn){return rest(function(fns,args){var go=initialParams(function(args,callback){var that=this;return eachfn(fns,function(fn,cb){fn.apply(that,args.concat([cb]))},callback)});if(args.length){return go.apply(this,args)}else{return go}})}function noop(){}function once(fn){return function(){if(fn===null)return;var callFn=fn;fn=null;callFn.apply(this,arguments)}}function baseProperty(key){return function(object){return object==null?undefined:object[key]}}var getLength=baseProperty("length");var MAX_SAFE_INTEGER=9007199254740991;function isLength(value){return typeof value=="number"&&value>-1&&value%1==0&&value<=MAX_SAFE_INTEGER}function isArrayLike(value){return value!=null&&isLength(getLength(value))&&!isFunction(value)}var iteratorSymbol=typeof Symbol==="function"&&Symbol.iterator;function getIterator(coll){return iteratorSymbol&&coll[iteratorSymbol]&&coll[iteratorSymbol]()}var nativeGetPrototype=Object.getPrototypeOf;function getPrototype(value){return nativeGetPrototype(Object(value))}var objectProto$2=Object.prototype;var hasOwnProperty=objectProto$2.hasOwnProperty;function baseHas(object,key){return object!=null&&(hasOwnProperty.call(object,key)||typeof object=="object"&&key in object&&getPrototype(object)===null)}var nativeKeys=Object.keys;function baseKeys(object){return nativeKeys(Object(object))}function baseTimes(n,iteratee){var index=-1,result=Array(n);while(++index<n){result[index]=iteratee(index)}return result}function isArrayLikeObject(value){return isObjectLike(value)&&isArrayLike(value)}var argsTag="[object Arguments]";var objectProto$3=Object.prototype;var hasOwnProperty$1=objectProto$3.hasOwnProperty;var objectToString$2=objectProto$3.toString;var propertyIsEnumerable=objectProto$3.propertyIsEnumerable;function isArguments(value){return isArrayLikeObject(value)&&hasOwnProperty$1.call(value,"callee")&&(!propertyIsEnumerable.call(value,"callee")||objectToString$2.call(value)==argsTag)}var isArray=Array.isArray;var stringTag="[object String]";var objectProto$4=Object.prototype;var objectToString$3=objectProto$4.toString;function isString(value){return typeof value=="string"||!isArray(value)&&isObjectLike(value)&&objectToString$3.call(value)==stringTag}function indexKeys(object){var length=object?object.length:undefined;if(isLength(length)&&(isArray(object)||isString(object)||isArguments(object))){return baseTimes(length,String)}return null}var MAX_SAFE_INTEGER$1=9007199254740991;var reIsUint=/^(?:0|[1-9]\d*)$/;function isIndex(value,length){length=length==null?MAX_SAFE_INTEGER$1:length;return!!length&&(typeof value=="number"||reIsUint.test(value))&&(value>-1&&value%1==0&&value<length)}var objectProto$5=Object.prototype;function isPrototype(value){var Ctor=value&&value.constructor,proto=typeof Ctor=="function"&&Ctor.prototype||objectProto$5;return value===proto}function keys(object){var isProto=isPrototype(object);if(!(isProto||isArrayLike(object))){return baseKeys(object)}var indexes=indexKeys(object),skipIndexes=!!indexes,result=indexes||[],length=result.length;for(var key in object){if(baseHas(object,key)&&!(skipIndexes&&(key=="length"||isIndex(key,length)))&&!(isProto&&key=="constructor")){result.push(key)}}return result}function iterator(coll){var i=-1;var len;if(isArrayLike(coll)){len=coll.length;return function next(){i++;return i<len?{value:coll[i],key:i}:null}}var iterate=getIterator(coll);if(iterate){return function next(){var item=iterate.next();if(item.done)return null;i++;return{value:item.value,key:i}}}var okeys=keys(coll);len=okeys.length;return function next(){i++;var key=okeys[i];return i<len?{value:coll[key],key:key}:null}}function onlyOnce(fn){return function(){if(fn===null)throw new Error("Callback was already called.");var callFn=fn;fn=null;callFn.apply(this,arguments)}}function _eachOfLimit(limit){return function(obj,iteratee,callback){callback=once(callback||noop);obj=obj||[];var nextElem=iterator(obj);if(limit<=0){return callback(null)}var done=false;var running=0;var errored=false;(function replenish(){if(done&&running<=0){return callback(null)}while(running<limit&&!errored){var elem=nextElem();if(elem===null){done=true;if(running<=0){callback(null)}return}running+=1;iteratee(elem.value,elem.key,onlyOnce(function(err){running-=1;if(err){callback(err);errored=true}else{replenish()}}))}})()}}function doParallelLimit(fn){return function(obj,limit,iteratee,callback){return fn(_eachOfLimit(limit),obj,iteratee,callback)}}function _asyncMap(eachfn,arr,iteratee,callback){callback=once(callback||noop);arr=arr||[];var results=[];var counter=0;eachfn(arr,function(value,_,callback){var index=counter++;iteratee(value,function(err,v){results[index]=v;callback(err)})},function(err){callback(err,results)})}var mapLimit=doParallelLimit(_asyncMap);function doLimit(fn,limit){return function(iterable,iteratee,callback){return fn(iterable,limit,iteratee,callback)}}var map=doLimit(mapLimit,Infinity);var applyEach=applyEach$1(map);var mapSeries=doLimit(mapLimit,1);var applyEachSeries=applyEach$1(mapSeries);var apply$1=rest(function(fn,args){return rest(function(callArgs){return fn.apply(null,args.concat(callArgs))})});function asyncify(func){return initialParams(function(args,callback){var result;try{result=func.apply(this,args)}catch(e){return callback(e)}if(isObject(result)&&typeof result.then==="function"){result.then(function(value){callback(null,value)})["catch"](function(err){callback(err.message?err:new Error(err))})}else{callback(null,result)}})}function arrayEach(array,iteratee){var index=-1,length=array?array.length:0;while(++index<length){if(iteratee(array[index],index,array)===false){break}}return array}function createBaseFor(fromRight){return function(object,iteratee,keysFunc){var index=-1,iterable=Object(object),props=keysFunc(object),length=props.length;while(length--){var key=props[fromRight?length:++index];if(iteratee(iterable[key],key,iterable)===false){break}}return object}}var baseFor=createBaseFor();function baseForOwn(object,iteratee){return object&&baseFor(object,iteratee,keys)}function listCacheClear(){this.__data__=[]}function eq(value,other){return value===other||value!==value&&other!==other}function assocIndexOf(array,key){var length=array.length;while(length--){if(eq(array[length][0],key)){return length}}return-1}var arrayProto=Array.prototype;var splice=arrayProto.splice;function listCacheDelete(key){var data=this.__data__,index=assocIndexOf(data,key);if(index<0){return false}var lastIndex=data.length-1;if(index==lastIndex){data.pop()}else{splice.call(data,index,1)}return true}function listCacheGet(key){var data=this.__data__,index=assocIndexOf(data,key);return index<0?undefined:data[index][1]}function listCacheHas(key){return assocIndexOf(this.__data__,key)>-1}function listCacheSet(key,value){var data=this.__data__,index=assocIndexOf(data,key);if(index<0){data.push([key,value])}else{data[index][1]=value}return this}function ListCache(entries){var index=-1,length=entries?entries.length:0;this.clear();while(++index<length){var entry=entries[index];this.set(entry[0],entry[1])}}ListCache.prototype.clear=listCacheClear;ListCache.prototype["delete"]=listCacheDelete;ListCache.prototype.get=listCacheGet;ListCache.prototype.has=listCacheHas;ListCache.prototype.set=listCacheSet;function stackClear(){this.__data__=new ListCache}function stackDelete(key){return this.__data__["delete"](key)}function stackGet(key){return this.__data__.get(key)}function stackHas(key){return this.__data__.has(key)}function isHostObject(value){var result=false;if(value!=null&&typeof value.toString!="function"){try{result=!!(value+"")}catch(e){}}return result}function checkGlobal(value){return value&&value.Object===Object?value:null}var freeGlobal=checkGlobal(typeof global=="object"&&global);var freeSelf=checkGlobal(typeof self=="object"&&self);var thisGlobal=checkGlobal(typeof this=="object"&&this);var root=freeGlobal||freeSelf||thisGlobal||Function("return this")();var coreJsData=root["__core-js_shared__"];var maskSrcKey=function(){var uid=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||"");return uid?"Symbol(src)_1."+uid:""}();function isMasked(func){return!!maskSrcKey&&maskSrcKey in func}var funcToString$1=Function.prototype.toString;function toSource(func){if(func!=null){try{return funcToString$1.call(func)}catch(e){}try{return func+""}catch(e){}}return""}var reRegExpChar=/[\\^$.*+?()[\]{}|]/g;var reIsHostCtor=/^\[object .+?Constructor\]$/;var objectProto$6=Object.prototype;var funcToString=Function.prototype.toString;var hasOwnProperty$2=objectProto$6.hasOwnProperty;var reIsNative=RegExp("^"+funcToString.call(hasOwnProperty$2).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function baseIsNative(value){if(!isObject(value)||isMasked(value)){return false}var pattern=isFunction(value)||isHostObject(value)?reIsNative:reIsHostCtor;return pattern.test(toSource(value))}function getValue(object,key){return object==null?undefined:object[key]}function getNative(object,key){var value=getValue(object,key);return baseIsNative(value)?value:undefined}var nativeCreate=getNative(Object,"create");function hashClear(){this.__data__=nativeCreate?nativeCreate(null):{}}function hashDelete(key){return this.has(key)&&delete this.__data__[key]}var HASH_UNDEFINED="__lodash_hash_undefined__";var objectProto$7=Object.prototype;var hasOwnProperty$3=objectProto$7.hasOwnProperty;function hashGet(key){var data=this.__data__;if(nativeCreate){var result=data[key];return result===HASH_UNDEFINED?undefined:result}return hasOwnProperty$3.call(data,key)?data[key]:undefined}var objectProto$8=Object.prototype;var hasOwnProperty$4=objectProto$8.hasOwnProperty;function hashHas(key){var data=this.__data__;return nativeCreate?data[key]!==undefined:hasOwnProperty$4.call(data,key)}var HASH_UNDEFINED$1="__lodash_hash_undefined__";function hashSet(key,value){var data=this.__data__;data[key]=nativeCreate&&value===undefined?HASH_UNDEFINED$1:value;return this}function Hash(entries){var index=-1,length=entries?entries.length:0;this.clear();while(++index<length){var entry=entries[index];this.set(entry[0],entry[1])}}Hash.prototype.clear=hashClear;Hash.prototype["delete"]=hashDelete;Hash.prototype.get=hashGet;Hash.prototype.has=hashHas;Hash.prototype.set=hashSet;var Map=getNative(root,"Map");function mapCacheClear(){this.__data__={hash:new Hash,map:new(Map||ListCache),string:new Hash}}function isKeyable(value){var type=typeof value;return type=="string"||type=="number"||type=="symbol"||type=="boolean"?value!=="__proto__":value===null}function getMapData(map,key){var data=map.__data__;return isKeyable(key)?data[typeof key=="string"?"string":"hash"]:data.map}function mapCacheDelete(key){return getMapData(this,key)["delete"](key)}function mapCacheGet(key){return getMapData(this,key).get(key)}function mapCacheHas(key){return getMapData(this,key).has(key)}function mapCacheSet(key,value){getMapData(this,key).set(key,value);return this}function MapCache(entries){var index=-1,length=entries?entries.length:0;this.clear();while(++index<length){var entry=entries[index];this.set(entry[0],entry[1])}}MapCache.prototype.clear=mapCacheClear;MapCache.prototype["delete"]=mapCacheDelete;MapCache.prototype.get=mapCacheGet;MapCache.prototype.has=mapCacheHas;MapCache.prototype.set=mapCacheSet;var LARGE_ARRAY_SIZE=200;function stackSet(key,value){var cache=this.__data__;if(cache instanceof ListCache&&cache.__data__.length==LARGE_ARRAY_SIZE){cache=this.__data__=new MapCache(cache.__data__)}cache.set(key,value);return this}function Stack(entries){this.__data__=new ListCache(entries)}Stack.prototype.clear=stackClear;Stack.prototype["delete"]=stackDelete;Stack.prototype.get=stackGet;Stack.prototype.has=stackHas;Stack.prototype.set=stackSet;var HASH_UNDEFINED$2="__lodash_hash_undefined__";function setCacheAdd(value){this.__data__.set(value,HASH_UNDEFINED$2);return this}function setCacheHas(value){return this.__data__.has(value)}function SetCache(values){var index=-1,length=values?values.length:0;this.__data__=new MapCache;while(++index<length){this.add(values[index])}}SetCache.prototype.add=SetCache.prototype.push=setCacheAdd;SetCache.prototype.has=setCacheHas;function arraySome(array,predicate){var index=-1,length=array?array.length:0;while(++index<length){if(predicate(array[index],index,array)){return true}}return false}var UNORDERED_COMPARE_FLAG$1=1;var PARTIAL_COMPARE_FLAG$2=2;function equalArrays(array,other,equalFunc,customizer,bitmask,stack){var isPartial=bitmask&PARTIAL_COMPARE_FLAG$2,arrLength=array.length,othLength=other.length;if(arrLength!=othLength&&!(isPartial&&othLength>arrLength)){return false}var stacked=stack.get(array);if(stacked){return stacked==other}var index=-1,result=true,seen=bitmask&UNORDERED_COMPARE_FLAG$1?new SetCache:undefined;stack.set(array,other);while(++index<arrLength){var arrValue=array[index],othValue=other[index];if(customizer){var compared=isPartial?customizer(othValue,arrValue,index,other,array,stack):customizer(arrValue,othValue,index,array,other,stack)}if(compared!==undefined){if(compared){continue}result=false;break}if(seen){if(!arraySome(other,function(othValue,othIndex){if(!seen.has(othIndex)&&(arrValue===othValue||equalFunc(arrValue,othValue,customizer,bitmask,stack))){return seen.add(othIndex)}})){result=false;break}}else if(!(arrValue===othValue||equalFunc(arrValue,othValue,customizer,bitmask,stack))){result=false;break}}stack["delete"](array);return result}var Symbol$1=root.Symbol;var Uint8Array=root.Uint8Array;function mapToArray(map){var index=-1,result=Array(map.size);map.forEach(function(value,key){result[++index]=[key,value]});return result}function setToArray(set){var index=-1,result=Array(set.size);set.forEach(function(value){result[++index]=value});return result}var UNORDERED_COMPARE_FLAG$2=1;var PARTIAL_COMPARE_FLAG$3=2;var boolTag="[object Boolean]";var dateTag="[object Date]";var errorTag="[object Error]";var mapTag="[object Map]";var numberTag="[object Number]";var regexpTag="[object RegExp]";var setTag="[object Set]";var stringTag$1="[object String]";var symbolTag$1="[object Symbol]";var arrayBufferTag="[object ArrayBuffer]";var dataViewTag="[object DataView]";var symbolProto=Symbol$1?Symbol$1.prototype:undefined;var symbolValueOf=symbolProto?symbolProto.valueOf:undefined;function equalByTag(object,other,tag,equalFunc,customizer,bitmask,stack){switch(tag){case dataViewTag:if(object.byteLength!=other.byteLength||object.byteOffset!=other.byteOffset){return false}object=object.buffer;other=other.buffer;case arrayBufferTag:if(object.byteLength!=other.byteLength||!equalFunc(new Uint8Array(object),new Uint8Array(other))){return false}return true;case boolTag:case dateTag:return+object==+other;case errorTag:return object.name==other.name&&object.message==other.message;case numberTag:return object!=+object?other!=+other:object==+other;case regexpTag:case stringTag$1:return object==other+"";case mapTag:var convert=mapToArray;case setTag:var isPartial=bitmask&PARTIAL_COMPARE_FLAG$3;convert||(convert=setToArray);if(object.size!=other.size&&!isPartial){return false}var stacked=stack.get(object);if(stacked){return stacked==other}bitmask|=UNORDERED_COMPARE_FLAG$2;stack.set(object,other);return equalArrays(convert(object),convert(other),equalFunc,customizer,bitmask,stack);case symbolTag$1:if(symbolValueOf){return symbolValueOf.call(object)==symbolValueOf.call(other)}}return false}var PARTIAL_COMPARE_FLAG$4=2;function equalObjects(object,other,equalFunc,customizer,bitmask,stack){var isPartial=bitmask&PARTIAL_COMPARE_FLAG$4,objProps=keys(object),objLength=objProps.length,othProps=keys(other),othLength=othProps.length;if(objLength!=othLength&&!isPartial){return false}var index=objLength;while(index--){var key=objProps[index];if(!(isPartial?key in other:baseHas(other,key))){return false}}var stacked=stack.get(object);if(stacked){return stacked==other}var result=true;stack.set(object,other);var skipCtor=isPartial;while(++index<objLength){key=objProps[index];var objValue=object[key],othValue=other[key];if(customizer){var compared=isPartial?customizer(othValue,objValue,key,other,object,stack):customizer(objValue,othValue,key,object,other,stack)}if(!(compared===undefined?objValue===othValue||equalFunc(objValue,othValue,customizer,bitmask,stack):compared)){result=false;break}skipCtor||(skipCtor=key=="constructor")}if(result&&!skipCtor){var objCtor=object.constructor,othCtor=other.constructor;if(objCtor!=othCtor&&("constructor"in object&&"constructor"in other)&&!(typeof objCtor=="function"&&objCtor instanceof objCtor&&typeof othCtor=="function"&&othCtor instanceof othCtor)){result=false}}stack["delete"](object);return result}var DataView=getNative(root,"DataView");var Promise=getNative(root,"Promise");var Set=getNative(root,"Set");var WeakMap=getNative(root,"WeakMap");var mapTag$1="[object Map]";var objectTag$1="[object Object]";var promiseTag="[object Promise]";var setTag$1="[object Set]";var weakMapTag="[object WeakMap]";var dataViewTag$1="[object DataView]";var objectProto$10=Object.prototype;var objectToString$4=objectProto$10.toString;var dataViewCtorString=toSource(DataView);var mapCtorString=toSource(Map);var promiseCtorString=toSource(Promise);var setCtorString=toSource(Set);var weakMapCtorString=toSource(WeakMap);function getTag(value){return objectToString$4.call(value)}if(DataView&&getTag(new DataView(new ArrayBuffer(1)))!=dataViewTag$1||Map&&getTag(new Map)!=mapTag$1||Promise&&getTag(Promise.resolve())!=promiseTag||Set&&getTag(new Set)!=setTag$1||WeakMap&&getTag(new WeakMap)!=weakMapTag){getTag=function(value){var result=objectToString$4.call(value),Ctor=result==objectTag$1?value.constructor:undefined,ctorString=Ctor?toSource(Ctor):undefined;if(ctorString){switch(ctorString){case dataViewCtorString:return dataViewTag$1;case mapCtorString:return mapTag$1;case promiseCtorString:return promiseTag;case setCtorString:return setTag$1;case weakMapCtorString:return weakMapTag}}return result}}var getTag$1=getTag;var argsTag$2="[object Arguments]";var arrayTag$1="[object Array]";var boolTag$1="[object Boolean]";var dateTag$1="[object Date]";var errorTag$1="[object Error]";var funcTag$1="[object Function]";var mapTag$2="[object Map]";var numberTag$1="[object Number]";var objectTag$2="[object Object]";var regexpTag$1="[object RegExp]";var setTag$2="[object Set]";var stringTag$2="[object String]";var weakMapTag$1="[object WeakMap]";var arrayBufferTag$1="[object ArrayBuffer]";var dataViewTag$2="[object DataView]";var float32Tag="[object Float32Array]";var float64Tag="[object Float64Array]";var int8Tag="[object Int8Array]";var int16Tag="[object Int16Array]";var int32Tag="[object Int32Array]";var uint8Tag="[object Uint8Array]";var uint8ClampedTag="[object Uint8ClampedArray]";var uint16Tag="[object Uint16Array]";var uint32Tag="[object Uint32Array]";var typedArrayTags={};typedArrayTags[float32Tag]=typedArrayTags[float64Tag]=typedArrayTags[int8Tag]=typedArrayTags[int16Tag]=typedArrayTags[int32Tag]=typedArrayTags[uint8Tag]=typedArrayTags[uint8ClampedTag]=typedArrayTags[uint16Tag]=typedArrayTags[uint32Tag]=true;typedArrayTags[argsTag$2]=typedArrayTags[arrayTag$1]=typedArrayTags[arrayBufferTag$1]=typedArrayTags[boolTag$1]=typedArrayTags[dataViewTag$2]=typedArrayTags[dateTag$1]=typedArrayTags[errorTag$1]=typedArrayTags[funcTag$1]=typedArrayTags[mapTag$2]=typedArrayTags[numberTag$1]=typedArrayTags[objectTag$2]=typedArrayTags[regexpTag$1]=typedArrayTags[setTag$2]=typedArrayTags[stringTag$2]=typedArrayTags[weakMapTag$1]=false;var objectProto$11=Object.prototype;var objectToString$5=objectProto$11.toString;function isTypedArray(value){return isObjectLike(value)&&isLength(value.length)&&!!typedArrayTags[objectToString$5.call(value)]}var PARTIAL_COMPARE_FLAG$1=2;var argsTag$1="[object Arguments]";var arrayTag="[object Array]";var objectTag="[object Object]";var objectProto$9=Object.prototype;var hasOwnProperty$5=objectProto$9.hasOwnProperty;function baseIsEqualDeep(object,other,equalFunc,customizer,bitmask,stack){var objIsArr=isArray(object),othIsArr=isArray(other),objTag=arrayTag,othTag=arrayTag;if(!objIsArr){objTag=getTag$1(object);objTag=objTag==argsTag$1?objectTag:objTag}if(!othIsArr){othTag=getTag$1(other);othTag=othTag==argsTag$1?objectTag:othTag}var objIsObj=objTag==objectTag&&!isHostObject(object),othIsObj=othTag==objectTag&&!isHostObject(other),isSameTag=objTag==othTag;if(isSameTag&&!objIsObj){stack||(stack=new Stack);return objIsArr||isTypedArray(object)?equalArrays(object,other,equalFunc,customizer,bitmask,stack):equalByTag(object,other,objTag,equalFunc,customizer,bitmask,stack)}if(!(bitmask&PARTIAL_COMPARE_FLAG$1)){var objIsWrapped=objIsObj&&hasOwnProperty$5.call(object,"__wrapped__"),othIsWrapped=othIsObj&&hasOwnProperty$5.call(other,"__wrapped__");if(objIsWrapped||othIsWrapped){var objUnwrapped=objIsWrapped?object.value():object,othUnwrapped=othIsWrapped?other.value():other;stack||(stack=new Stack);return equalFunc(objUnwrapped,othUnwrapped,customizer,bitmask,stack)}}if(!isSameTag){return false}stack||(stack=new Stack);return equalObjects(object,other,equalFunc,customizer,bitmask,stack)}function baseIsEqual(value,other,customizer,bitmask,stack){if(value===other){return true}if(value==null||other==null||!isObject(value)&&!isObjectLike(other)){return value!==value&&other!==other}return baseIsEqualDeep(value,other,baseIsEqual,customizer,bitmask,stack)}var UNORDERED_COMPARE_FLAG=1;var PARTIAL_COMPARE_FLAG=2;function baseIsMatch(object,source,matchData,customizer){var index=matchData.length,length=index,noCustomizer=!customizer;if(object==null){return!length}object=Object(object);while(index--){var data=matchData[index];if(noCustomizer&&data[2]?data[1]!==object[data[0]]:!(data[0]in object)){return false}}while(++index<length){data=matchData[index];var key=data[0],objValue=object[key],srcValue=data[1];if(noCustomizer&&data[2]){if(objValue===undefined&&!(key in object)){return false}}else{var stack=new Stack;if(customizer){var result=customizer(objValue,srcValue,key,object,source,stack)}if(!(result===undefined?baseIsEqual(srcValue,objValue,customizer,UNORDERED_COMPARE_FLAG|PARTIAL_COMPARE_FLAG,stack):result)){return false}}}return true}function isStrictComparable(value){return value===value&&!isObject(value)}function getMatchData(object){var result=keys(object),length=result.length;while(length--){var key=result[length],value=object[key];result[length]=[key,value,isStrictComparable(value)]}return result}function matchesStrictComparable(key,srcValue){
return function(object){if(object==null){return false}return object[key]===srcValue&&(srcValue!==undefined||key in Object(object))}}function baseMatches(source){var matchData=getMatchData(source);if(matchData.length==1&&matchData[0][2]){return matchesStrictComparable(matchData[0][0],matchData[0][1])}return function(object){return object===source||baseIsMatch(object,source,matchData)}}var FUNC_ERROR_TEXT$1="Expected a function";function memoize(func,resolver){if(typeof func!="function"||resolver&&typeof resolver!="function"){throw new TypeError(FUNC_ERROR_TEXT$1)}var memoized=function(){var args=arguments,key=resolver?resolver.apply(this,args):args[0],cache=memoized.cache;if(cache.has(key)){return cache.get(key)}var result=func.apply(this,args);memoized.cache=cache.set(key,result);return result};memoized.cache=new(memoize.Cache||MapCache);return memoized}memoize.Cache=MapCache;var INFINITY$1=1/0;var symbolProto$1=Symbol$1?Symbol$1.prototype:undefined;var symbolToString=symbolProto$1?symbolProto$1.toString:undefined;function baseToString(value){if(typeof value=="string"){return value}if(isSymbol(value)){return symbolToString?symbolToString.call(value):""}var result=value+"";return result=="0"&&1/value==-INFINITY$1?"-0":result}function toString(value){return value==null?"":baseToString(value)}var rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(\.|\[\])(?:\4|$))/g;var reEscapeChar=/\\(\\)?/g;var stringToPath=memoize(function(string){var result=[];toString(string).replace(rePropName,function(match,number,quote,string){result.push(quote?string.replace(reEscapeChar,"$1"):number||match)});return result});function castPath(value){return isArray(value)?value:stringToPath(value)}var reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/;var reIsPlainProp=/^\w*$/;function isKey(value,object){if(isArray(value)){return false}var type=typeof value;if(type=="number"||type=="symbol"||type=="boolean"||value==null||isSymbol(value)){return true}return reIsPlainProp.test(value)||!reIsDeepProp.test(value)||object!=null&&value in Object(object)}var INFINITY$2=1/0;function toKey(value){if(typeof value=="string"||isSymbol(value)){return value}var result=value+"";return result=="0"&&1/value==-INFINITY$2?"-0":result}function baseGet(object,path){path=isKey(path,object)?[path]:castPath(path);var index=0,length=path.length;while(object!=null&&index<length){object=object[toKey(path[index++])]}return index&&index==length?object:undefined}function get(object,path,defaultValue){var result=object==null?undefined:baseGet(object,path);return result===undefined?defaultValue:result}function baseHasIn(object,key){return object!=null&&key in Object(object)}function hasPath(object,path,hasFunc){path=isKey(path,object)?[path]:castPath(path);var result,index=-1,length=path.length;while(++index<length){var key=toKey(path[index]);if(!(result=object!=null&&hasFunc(object,key))){break}object=object[key]}if(result){return result}var length=object?object.length:0;return!!length&&isLength(length)&&isIndex(key,length)&&(isArray(object)||isString(object)||isArguments(object))}function hasIn(object,path){return object!=null&&hasPath(object,path,baseHasIn)}var UNORDERED_COMPARE_FLAG$3=1;var PARTIAL_COMPARE_FLAG$5=2;function baseMatchesProperty(path,srcValue){if(isKey(path)&&isStrictComparable(srcValue)){return matchesStrictComparable(toKey(path),srcValue)}return function(object){var objValue=get(object,path);return objValue===undefined&&objValue===srcValue?hasIn(object,path):baseIsEqual(srcValue,objValue,undefined,UNORDERED_COMPARE_FLAG$3|PARTIAL_COMPARE_FLAG$5)}}function identity(value){return value}function basePropertyDeep(path){return function(object){return baseGet(object,path)}}function property(path){return isKey(path)?baseProperty(toKey(path)):basePropertyDeep(path)}function baseIteratee(value){if(typeof value=="function"){return value}if(value==null){return identity}if(typeof value=="object"){return isArray(value)?baseMatchesProperty(value[0],value[1]):baseMatches(value)}return property(value)}function forOwn(object,iteratee){return object&&baseForOwn(object,baseIteratee(iteratee,3))}function indexOfNaN(array,fromIndex,fromRight){var length=array.length,index=fromIndex+(fromRight?1:-1);while(fromRight?index--:++index<length){var other=array[index];if(other!==other){return index}}return-1}function baseIndexOf(array,value,fromIndex){if(value!==value){return indexOfNaN(array,fromIndex)}var index=fromIndex-1,length=array.length;while(++index<length){if(array[index]===value){return index}}return-1}function auto(tasks,concurrency,callback){if(typeof concurrency==="function"){callback=concurrency;concurrency=null}callback=once(callback||noop);var keys$$=keys(tasks);var numTasks=keys$$.length;if(!numTasks){return callback(null)}if(!concurrency){concurrency=numTasks}var results={};var runningTasks=0;var hasError=false;var listeners={};var readyTasks=[];var readyToCheck=[];var uncheckedDependencies={};forOwn(tasks,function(task,key){if(!isArray(task)){enqueueTask(key,[task]);readyToCheck.push(key);return}var dependencies=task.slice(0,task.length-1);var remainingDependencies=dependencies.length;if(remainingDependencies===0){enqueueTask(key,task);readyToCheck.push(key);return}uncheckedDependencies[key]=remainingDependencies;arrayEach(dependencies,function(dependencyName){if(!tasks[dependencyName]){throw new Error("async.auto task `"+key+"` has a non-existent dependency in "+dependencies.join(", "))}addListener(dependencyName,function(){remainingDependencies--;if(remainingDependencies===0){enqueueTask(key,task)}})})});checkForDeadlocks();processQueue();function enqueueTask(key,task){readyTasks.push(function(){runTask(key,task)})}function processQueue(){if(readyTasks.length===0&&runningTasks===0){return callback(null,results)}while(readyTasks.length&&runningTasks<concurrency){var run=readyTasks.shift();run()}}function addListener(taskName,fn){var taskListeners=listeners[taskName];if(!taskListeners){taskListeners=listeners[taskName]=[]}taskListeners.push(fn)}function taskComplete(taskName){var taskListeners=listeners[taskName]||[];arrayEach(taskListeners,function(fn){fn()});processQueue()}function runTask(key,task){if(hasError)return;var taskCallback=onlyOnce(rest(function(err,args){runningTasks--;if(args.length<=1){args=args[0]}if(err){var safeResults={};forOwn(results,function(val,rkey){safeResults[rkey]=val});safeResults[key]=args;hasError=true;listeners=[];callback(err,safeResults)}else{results[key]=args;taskComplete(key)}}));runningTasks++;var taskFn=task[task.length-1];if(task.length>1){taskFn(results,taskCallback)}else{taskFn(taskCallback)}}function checkForDeadlocks(){var currentTask;var counter=0;while(readyToCheck.length){currentTask=readyToCheck.pop();counter++;arrayEach(getDependents(currentTask),function(dependent){if(!--uncheckedDependencies[dependent]){readyToCheck.push(dependent)}})}if(counter!==numTasks){throw new Error("async.auto cannot execute tasks due to a recursive dependency")}}function getDependents(taskName){var result=[];forOwn(tasks,function(task,key){if(isArray(task)&&baseIndexOf(task,taskName,0)>=0){result.push(key)}});return result}}function arrayMap(array,iteratee){var index=-1,length=array?array.length:0,result=Array(length);while(++index<length){result[index]=iteratee(array[index],index,array)}return result}function copyArray(source,array){var index=-1,length=source.length;array||(array=Array(length));while(++index<length){array[index]=source[index]}return array}function baseSlice(array,start,end){var index=-1,length=array.length;if(start<0){start=-start>length?0:length+start}end=end>length?length:end;if(end<0){end+=length}length=start>end?0:end-start>>>0;start>>>=0;var result=Array(length);while(++index<length){result[index]=array[index+start]}return result}function castSlice(array,start,end){var length=array.length;end=end===undefined?length:end;return!start&&end>=length?array:baseSlice(array,start,end)}function charsEndIndex(strSymbols,chrSymbols){var index=strSymbols.length;while(index--&&baseIndexOf(chrSymbols,strSymbols[index],0)>-1){}return index}function charsStartIndex(strSymbols,chrSymbols){var index=-1,length=strSymbols.length;while(++index<length&&baseIndexOf(chrSymbols,strSymbols[index],0)>-1){}return index}var rsAstralRange="\\ud800-\\udfff";var rsComboMarksRange="\\u0300-\\u036f\\ufe20-\\ufe23";var rsComboSymbolsRange="\\u20d0-\\u20f0";var rsVarRange="\\ufe0e\\ufe0f";var rsAstral="["+rsAstralRange+"]";var rsCombo="["+rsComboMarksRange+rsComboSymbolsRange+"]";var rsFitz="\\ud83c[\\udffb-\\udfff]";var rsModifier="(?:"+rsCombo+"|"+rsFitz+")";var rsNonAstral="[^"+rsAstralRange+"]";var rsRegional="(?:\\ud83c[\\udde6-\\uddff]){2}";var rsSurrPair="[\\ud800-\\udbff][\\udc00-\\udfff]";var rsZWJ="\\u200d";var reOptMod=rsModifier+"?";var rsOptVar="["+rsVarRange+"]?";var rsOptJoin="(?:"+rsZWJ+"(?:"+[rsNonAstral,rsRegional,rsSurrPair].join("|")+")"+rsOptVar+reOptMod+")*";var rsSeq=rsOptVar+reOptMod+rsOptJoin;var rsSymbol="(?:"+[rsNonAstral+rsCombo+"?",rsCombo,rsRegional,rsSurrPair,rsAstral].join("|")+")";var reComplexSymbol=RegExp(rsFitz+"(?="+rsFitz+")|"+rsSymbol+rsSeq,"g");function stringToArray(string){return string.match(reComplexSymbol)}var reTrim$1=/^\s+|\s+$/g;function trim(string,chars,guard){string=toString(string);if(string&&(guard||chars===undefined)){return string.replace(reTrim$1,"")}if(!string||!(chars=baseToString(chars))){return string}var strSymbols=stringToArray(string),chrSymbols=stringToArray(chars),start=charsStartIndex(strSymbols,chrSymbols),end=charsEndIndex(strSymbols,chrSymbols)+1;return castSlice(strSymbols,start,end).join("")}var argsRegex=/^(function[^\(]*)?\(?\s*([^\)=]*)/m;function parseParams(func){return trim(func.toString().match(argsRegex)[2]).split(/\s*\,\s*/)}function autoInject(tasks,callback){var newTasks={};forOwn(tasks,function(taskFn,key){var params;if(isArray(taskFn)){params=copyArray(taskFn);taskFn=params.pop();newTasks[key]=params.concat(params.length>0?newTask:taskFn)}else if(taskFn.length===0){throw new Error("autoInject task functions require explicit parameters.")}else if(taskFn.length===1){newTasks[key]=taskFn}else{params=parseParams(taskFn);params.pop();newTasks[key]=params.concat(newTask)}function newTask(results,taskCb){var newArgs=arrayMap(params,function(name){return results[name]});newArgs.push(taskCb);taskFn.apply(null,newArgs)}});auto(newTasks,callback)}var hasSetImmediate=typeof setImmediate==="function"&&setImmediate;var hasNextTick=typeof process==="object"&&typeof process.nextTick==="function";function fallback(fn){setTimeout(fn,0)}function wrap(defer){return rest(function(fn,args){defer(function(){fn.apply(null,args)})})}var _defer;if(hasSetImmediate){_defer=setImmediate}else if(hasNextTick){_defer=process.nextTick}else{_defer=fallback}var setImmediate$1=wrap(_defer);function queue(worker,concurrency,payload){if(concurrency==null){concurrency=1}else if(concurrency===0){throw new Error("Concurrency must not be zero")}function _insert(q,data,pos,callback){if(callback!=null&&typeof callback!=="function"){throw new Error("task callback must be a function")}q.started=true;if(!isArray(data)){data=[data]}if(data.length===0&&q.idle()){return setImmediate$1(function(){q.drain()})}arrayEach(data,function(task){var item={data:task,callback:callback||noop};if(pos){q.tasks.unshift(item)}else{q.tasks.push(item)}});setImmediate$1(q.process)}function _next(q,tasks){return function(){workers-=1;var removed=false;var args=arguments;arrayEach(tasks,function(task){arrayEach(workersList,function(worker,index){if(worker===task&&!removed){workersList.splice(index,1);removed=true}});task.callback.apply(task,args);if(args[0]!=null){q.error(args[0],task.data)}});if(workers<=q.concurrency-q.buffer){q.unsaturated()}if(q.tasks.length+workers===0){q.drain()}q.process()}}var workers=0;var workersList=[];var q={tasks:[],concurrency:concurrency,payload:payload,saturated:noop,unsaturated:noop,buffer:concurrency/4,empty:noop,drain:noop,error:noop,started:false,paused:false,push:function(data,callback){_insert(q,data,false,callback)},kill:function(){q.drain=noop;q.tasks=[]},unshift:function(data,callback){_insert(q,data,true,callback)},process:function(){while(!q.paused&&workers<q.concurrency&&q.tasks.length){var tasks=q.payload?q.tasks.splice(0,q.payload):q.tasks.splice(0,q.tasks.length);var data=arrayMap(tasks,baseProperty("data"));if(q.tasks.length===0){q.empty()}workers+=1;workersList.push(tasks[0]);if(workers===q.concurrency){q.saturated()}var cb=onlyOnce(_next(q,tasks));worker(data,cb)}},length:function(){return q.tasks.length},running:function(){return workers},workersList:function(){return workersList},idle:function(){return q.tasks.length+workers===0},pause:function(){q.paused=true},resume:function(){if(q.paused===false){return}q.paused=false;var resumeCount=Math.min(q.concurrency,q.tasks.length);for(var w=1;w<=resumeCount;w++){setImmediate$1(q.process)}}};return q}function cargo(worker,payload){return queue(worker,1,payload)}function eachOfLimit(obj,limit,iteratee,cb){_eachOfLimit(limit)(obj,iteratee,cb)}var eachOfSeries=doLimit(eachOfLimit,1);function reduce(arr,memo,iteratee,cb){eachOfSeries(arr,function(x,i,cb){iteratee(memo,x,function(err,v){memo=v;cb(err)})},function(err){cb(err,memo)})}function seq(){var fns=arguments;return rest(function(args){var that=this;var cb=args[args.length-1];if(typeof cb=="function"){args.pop()}else{cb=noop}reduce(fns,args,function(newargs,fn,cb){fn.apply(that,newargs.concat([rest(function(err,nextargs){cb(err,nextargs)})]))},function(err,results){cb.apply(that,[err].concat(results))})})}var reverse=Array.prototype.reverse;function compose(){return seq.apply(null,reverse.call(arguments))}function concat$1(eachfn,arr,fn,callback){var result=[];eachfn(arr,function(x,index,cb){fn(x,function(err,y){result=result.concat(y||[]);cb(err)})},function(err){callback(err,result)})}var eachOf=doLimit(eachOfLimit,Infinity);function doParallel(fn){return function(obj,iteratee,callback){return fn(eachOf,obj,iteratee,callback)}}var concat=doParallel(concat$1);function doSeries(fn){return function(obj,iteratee,callback){return fn(eachOfSeries,obj,iteratee,callback)}}var concatSeries=doSeries(concat$1);var constant=rest(function(values){var args=[null].concat(values);return initialParams(function(ignoredArgs,callback){return callback.apply(this,args)})});function _createTester(eachfn,check,getResult){return function(arr,limit,iteratee,cb){function done(err){if(cb){if(err){cb(err)}else{cb(null,getResult(false))}}}function wrappedIteratee(x,_,callback){if(!cb)return callback();iteratee(x,function(err,v){if(cb){if(err){cb(err);cb=iteratee=false}else if(check(v)){cb(null,getResult(true,x));cb=iteratee=false}}callback()})}if(arguments.length>3){cb=cb||noop;eachfn(arr,limit,wrappedIteratee,done)}else{cb=iteratee;cb=cb||noop;iteratee=limit;eachfn(arr,wrappedIteratee,done)}}}function _findGetResult(v,x){return x}var detect=_createTester(eachOf,identity,_findGetResult);var detectLimit=_createTester(eachOfLimit,identity,_findGetResult);var detectSeries=_createTester(eachOfSeries,identity,_findGetResult);function consoleFunc(name){return rest(function(fn,args){fn.apply(null,args.concat([rest(function(err,args){if(typeof console==="object"){if(err){if(console.error){console.error(err)}}else if(console[name]){arrayEach(args,function(x){console[name](x)})}}})]))})}var dir=consoleFunc("dir");function during(test,iteratee,cb){cb=cb||noop;var next=rest(function(err,args){if(err){cb(err)}else{args.push(check);test.apply(this,args)}});var check=function(err,truth){if(err)return cb(err);if(!truth)return cb(null);iteratee(next)};test(check)}function doDuring(iteratee,test,cb){var calls=0;during(function(next){if(calls++<1)return next(null,true);test.apply(this,arguments)},iteratee,cb)}function whilst(test,iteratee,cb){cb=cb||noop;if(!test())return cb(null);var next=rest(function(err,args){if(err)return cb(err);if(test.apply(this,args))return iteratee(next);cb.apply(null,[null].concat(args))});iteratee(next)}function doWhilst(iteratee,test,cb){var calls=0;return whilst(function(){return++calls<=1||test.apply(this,arguments)},iteratee,cb)}function doUntil(iteratee,test,cb){return doWhilst(iteratee,function(){return!test.apply(this,arguments)},cb)}function _withoutIndex(iteratee){return function(value,index,callback){return iteratee(value,callback)}}function eachLimit(arr,limit,iteratee,cb){return _eachOfLimit(limit)(arr,_withoutIndex(iteratee),cb)}var each=doLimit(eachLimit,Infinity);var eachSeries=doLimit(eachLimit,1);function ensureAsync(fn){return initialParams(function(args,callback){var sync=true;args.push(function(){var innerArgs=arguments;if(sync){setImmediate$1(function(){callback.apply(null,innerArgs)})}else{callback.apply(null,innerArgs)}});fn.apply(this,args);sync=false})}function notId(v){return!v}var everyLimit=_createTester(eachOfLimit,notId,notId);var every=doLimit(everyLimit,Infinity);var everySeries=doLimit(everyLimit,1);function _filter(eachfn,arr,iteratee,callback){var results=[];eachfn(arr,function(x,index,callback){iteratee(x,function(err,v){if(err){callback(err)}else{if(v){results.push({index:index,value:x})}callback()}})},function(err){if(err){callback(err)}else{callback(null,arrayMap(results.sort(function(a,b){return a.index-b.index}),baseProperty("value")))}})}var filterLimit=doParallelLimit(_filter);var filter=doLimit(filterLimit,Infinity);var filterSeries=doLimit(filterLimit,1);function forever(fn,cb){var done=onlyOnce(cb||noop);var task=ensureAsync(fn);function next(err){if(err)return done(err);task(next)}next()}function iterator$1(tasks){function makeCallback(index){function fn(){if(tasks.length){tasks[index].apply(null,arguments)}return fn.next()}fn.next=function(){return index<tasks.length-1?makeCallback(index+1):null};return fn}return makeCallback(0)}var log=consoleFunc("log");function mapValuesLimit(obj,limit,iteratee,callback){var newObj={};eachOfLimit(obj,limit,function(val,key,next){iteratee(val,key,function(err,result){if(err)return next(err);newObj[key]=result;next()})},function(err){callback(err,newObj)})}var mapValues=doLimit(mapValuesLimit,Infinity);var mapValuesSeries=doLimit(mapValuesLimit,1);function has(obj,key){return key in obj}function memoize$1(fn,hasher){var memo=Object.create(null);var queues=Object.create(null);hasher=hasher||identity;var memoized=initialParams(function memoized(args,callback){var key=hasher.apply(null,args);if(has(memo,key)){setImmediate$1(function(){callback.apply(null,memo[key])})}else if(has(queues,key)){queues[key].push(callback)}else{queues[key]=[callback];fn.apply(null,args.concat([rest(function(args){memo[key]=args;var q=queues[key];delete queues[key];for(var i=0,l=q.length;i<l;i++){q[i].apply(null,args)}})]))}});memoized.memo=memo;memoized.unmemoized=fn;return memoized}var _defer$1;if(hasNextTick){_defer$1=process.nextTick}else if(hasSetImmediate){_defer$1=setImmediate}else{_defer$1=fallback}var nextTick=wrap(_defer$1);function _parallel(eachfn,tasks,callback){callback=callback||noop;var results=isArrayLike(tasks)?[]:{};eachfn(tasks,function(task,key,callback){task(rest(function(err,args){if(args.length<=1){args=args[0]}results[key]=args;callback(err)}))},function(err){callback(err,results)})}function parallelLimit(tasks,limit,cb){return _parallel(_eachOfLimit(limit),tasks,cb)}var parallel=doLimit(parallelLimit,Infinity);function queue$1(worker,concurrency){return queue(function(items,cb){worker(items[0],cb)},concurrency,1)}function priorityQueue(worker,concurrency){function _compareTasks(a,b){return a.priority-b.priority}function _binarySearch(sequence,item,compare){var beg=-1,end=sequence.length-1;while(beg<end){var mid=beg+(end-beg+1>>>1);if(compare(item,sequence[mid])>=0){beg=mid}else{end=mid-1}}return beg}function _insert(q,data,priority,callback){if(callback!=null&&typeof callback!=="function"){throw new Error("task callback must be a function")}q.started=true;if(!isArray(data)){data=[data]}if(data.length===0){return setImmediate$1(function(){q.drain()})}arrayEach(data,function(task){var item={data:task,priority:priority,callback:typeof callback==="function"?callback:noop};q.tasks.splice(_binarySearch(q.tasks,item,_compareTasks)+1,0,item);setImmediate$1(q.process)})}var q=queue$1(worker,concurrency);q.push=function(data,priority,callback){_insert(q,data,priority,callback)};delete q.unshift;return q}function createBaseEach(eachFunc,fromRight){return function(collection,iteratee){if(collection==null){return collection}if(!isArrayLike(collection)){return eachFunc(collection,iteratee)}var length=collection.length,index=fromRight?length:-1,iterable=Object(collection);while(fromRight?index--:++index<length){if(iteratee(iterable[index],index,iterable)===false){break}}return collection}}var baseEach=createBaseEach(baseForOwn);function forEach(collection,iteratee){var func=isArray(collection)?arrayEach:baseEach;return func(collection,baseIteratee(iteratee,3))}function race(tasks,cb){cb=once(cb||noop);if(!isArray(tasks))return cb(new TypeError("First argument to race must be an array of functions"));if(!tasks.length)return cb();forEach(tasks,function(task){task(cb)})}var slice=Array.prototype.slice;function reduceRight(arr,memo,iteratee,cb){var reversed=slice.call(arr).reverse();reduce(reversed,memo,iteratee,cb)}function reflect(fn){return initialParams(function reflectOn(args,reflectCallback){args.push(rest(function callback(err,cbArgs){if(err){reflectCallback(null,{error:err})}else{var value=null;if(cbArgs.length===1){value=cbArgs[0]}else if(cbArgs.length>1){value=cbArgs}reflectCallback(null,{value:value})}}));return fn.apply(this,args)})}function reject$1(eachfn,arr,iteratee,callback){_filter(eachfn,arr,function(value,cb){iteratee(value,function(err,v){if(err){cb(err)}else{cb(null,!v)}})},callback)}var rejectLimit=doParallelLimit(reject$1);var reject=doLimit(rejectLimit,Infinity);function reflectAll(tasks){return tasks.map(reflect)}var rejectSeries=doLimit(rejectLimit,1);function series(tasks,cb){return _parallel(eachOfSeries,tasks,cb)}function constant$1(value){return function(){return value}}function retry(times,task,callback){var DEFAULT_TIMES=5;var DEFAULT_INTERVAL=0;var opts={times:DEFAULT_TIMES,intervalFunc:constant$1(DEFAULT_INTERVAL)};function parseTimes(acc,t){if(typeof t==="object"){acc.times=+t.times||DEFAULT_TIMES;acc.intervalFunc=typeof t.interval==="function"?t.interval:constant$1(+t.interval||DEFAULT_INTERVAL)}else if(typeof t==="number"||typeof t==="string"){acc.times=+t||DEFAULT_TIMES}else{throw new Error("Invalid arguments for async.retry")}}if(arguments.length<3&&typeof times==="function"){callback=task||noop;task=times}else{parseTimes(opts,times);callback=callback||noop}if(typeof task!=="function"){throw new Error("Invalid arguments for async.retry")}var attempts=[];for(var i=1;i<opts.times+1;i++){var isFinalAttempt=i==opts.times;attempts.push(retryAttempt(isFinalAttempt));var interval=opts.intervalFunc(i);if(!isFinalAttempt&&interval>0){attempts.push(retryInterval(interval))}}series(attempts,function(done,data){data=data[data.length-1];callback(data.err,data.result)});function retryAttempt(isFinalAttempt){return function(seriesCallback){task(function(err,result){seriesCallback(!err||isFinalAttempt,{err:err,result:result})})}}function retryInterval(interval){return function(seriesCallback){setTimeout(function(){seriesCallback(null)},interval)}}}function retryable(opts,task){if(!task){task=opts;opts=null}return initialParams(function(args,callback){function taskFn(cb){task.apply(null,args.concat([cb]))}if(opts)retry(opts,taskFn,callback);else retry(taskFn,callback)})}var someLimit=_createTester(eachOfLimit,Boolean,identity);var some=doLimit(someLimit,Infinity);var someSeries=doLimit(someLimit,1);function sortBy(arr,iteratee,cb){map(arr,function(x,cb){iteratee(x,function(err,criteria){if(err)return cb(err);cb(null,{value:x,criteria:criteria})})},function(err,results){if(err)return cb(err);cb(null,arrayMap(results.sort(comparator),baseProperty("value")))});function comparator(left,right){var a=left.criteria,b=right.criteria;return a<b?-1:a>b?1:0}}function timeout(asyncFn,miliseconds,info){var originalCallback,timer;var timedOut=false;function injectedCallback(){if(!timedOut){originalCallback.apply(null,arguments);clearTimeout(timer)}}function timeoutCallback(){var name=asyncFn.name||"anonymous";var error=new Error('Callback function "'+name+'" timed out.');error.code="ETIMEDOUT";if(info){error.info=info}timedOut=true;originalCallback(error)}return initialParams(function(args,origCallback){originalCallback=origCallback;timer=setTimeout(timeoutCallback,miliseconds);asyncFn.apply(null,args.concat(injectedCallback))})}var nativeCeil=Math.ceil;var nativeMax$1=Math.max;function baseRange(start,end,step,fromRight){var index=-1,length=nativeMax$1(nativeCeil((end-start)/(step||1)),0),result=Array(length);while(length--){result[fromRight?length:++index]=start;start+=step}return result}function timeLimit(count,limit,iteratee,cb){return mapLimit(baseRange(0,count,1),limit,iteratee,cb)}var times=doLimit(timeLimit,Infinity);var timesSeries=doLimit(timeLimit,1);function transform(arr,acc,iteratee,callback){if(arguments.length===3){callback=iteratee;iteratee=acc;acc=isArray(arr)?[]:{}}eachOf(arr,function(v,k,cb){iteratee(acc,v,k,cb)},function(err){callback(err,acc)})}function unmemoize(fn){return function(){return(fn.unmemoized||fn).apply(null,arguments)}}function until(test,iteratee,cb){return whilst(function(){return!test.apply(this,arguments)},iteratee,cb)}function waterfall(tasks,cb){cb=once(cb||noop);if(!isArray(tasks))return cb(new Error("First argument to waterfall must be an array of functions"));if(!tasks.length)return cb();var taskIndex=0;function nextTask(args){if(taskIndex===tasks.length){return cb.apply(null,[null].concat(args))}var taskCallback=onlyOnce(rest(function(err,args){if(err){return cb.apply(null,[err].concat(args))}nextTask(args)}));args.push(taskCallback);var task=tasks[taskIndex++];task.apply(null,args)}nextTask([])}var index={applyEach:applyEach,applyEachSeries:applyEachSeries,apply:apply$1,asyncify:asyncify,auto:auto,autoInject:autoInject,cargo:cargo,compose:compose,concat:concat,concatSeries:concatSeries,constant:constant,detect:detect,detectLimit:detectLimit,detectSeries:detectSeries,dir:dir,doDuring:doDuring,doUntil:doUntil,doWhilst:doWhilst,during:during,each:each,eachLimit:eachLimit,eachOf:eachOf,eachOfLimit:eachOfLimit,eachOfSeries:eachOfSeries,eachSeries:eachSeries,ensureAsync:ensureAsync,every:every,everyLimit:everyLimit,everySeries:everySeries,filter:filter,filterLimit:filterLimit,filterSeries:filterSeries,forever:forever,iterator:iterator$1,log:log,map:map,mapLimit:mapLimit,mapSeries:mapSeries,mapValues:mapValues,mapValuesLimit:mapValuesLimit,mapValuesSeries:mapValuesSeries,memoize:memoize$1,nextTick:nextTick,parallel:parallel,parallelLimit:parallelLimit,priorityQueue:priorityQueue,queue:queue$1,race:race,reduce:reduce,reduceRight:reduceRight,reflect:reflect,reflectAll:reflectAll,reject:reject,rejectLimit:rejectLimit,rejectSeries:rejectSeries,retry:retry,retryable:retryable,seq:seq,series:series,setImmediate:setImmediate$1,some:some,someLimit:someLimit,someSeries:someSeries,sortBy:sortBy,timeout:timeout,times:times,timesLimit:timeLimit,timesSeries:timesSeries,transform:transform,unmemoize:unmemoize,until:until,waterfall:waterfall,whilst:whilst,all:every,any:some,forEach:each,forEachSeries:eachSeries,forEachLimit:eachLimit,forEachOf:eachOf,forEachOfSeries:eachOfSeries,forEachOfLimit:eachOfLimit,inject:reduce,foldl:reduce,foldr:reduceRight,select:filter,selectLimit:filterLimit,selectSeries:filterSeries,wrapSync:asyncify};exports["default"]=index;exports.applyEach=applyEach;exports.applyEachSeries=applyEachSeries;exports.apply=apply$1;exports.asyncify=asyncify;exports.auto=auto;exports.autoInject=autoInject;exports.cargo=cargo;exports.compose=compose;exports.concat=concat;exports.concatSeries=concatSeries;exports.constant=constant;exports.detect=detect;exports.detectLimit=detectLimit;exports.detectSeries=detectSeries;exports.dir=dir;exports.doDuring=doDuring;exports.doUntil=doUntil;exports.doWhilst=doWhilst;exports.during=during;exports.each=each;exports.eachLimit=eachLimit;exports.eachOf=eachOf;exports.eachOfLimit=eachOfLimit;exports.eachOfSeries=eachOfSeries;exports.eachSeries=eachSeries;exports.ensureAsync=ensureAsync;exports.every=every;exports.everyLimit=everyLimit;exports.everySeries=everySeries;exports.filter=filter;exports.filterLimit=filterLimit;exports.filterSeries=filterSeries;exports.forever=forever;exports.iterator=iterator$1;exports.log=log;exports.map=map;exports.mapLimit=mapLimit;exports.mapSeries=mapSeries;exports.mapValues=mapValues;exports.mapValuesLimit=mapValuesLimit;exports.mapValuesSeries=mapValuesSeries;exports.memoize=memoize$1;exports.nextTick=nextTick;exports.parallel=parallel;exports.parallelLimit=parallelLimit;exports.priorityQueue=priorityQueue;exports.queue=queue$1;exports.race=race;exports.reduce=reduce;exports.reduceRight=reduceRight;exports.reflect=reflect;exports.reflectAll=reflectAll;exports.reject=reject;exports.rejectLimit=rejectLimit;exports.rejectSeries=rejectSeries;exports.retry=retry;exports.retryable=retryable;exports.seq=seq;exports.series=series;exports.setImmediate=setImmediate$1;exports.some=some;exports.someLimit=someLimit;exports.someSeries=someSeries;exports.sortBy=sortBy;exports.timeout=timeout;exports.times=times;exports.timesLimit=timeLimit;exports.timesSeries=timesSeries;exports.transform=transform;exports.unmemoize=unmemoize;exports.until=until;exports.waterfall=waterfall;exports.whilst=whilst;exports.all=every;exports.allLimit=everyLimit;exports.allSeries=everySeries;exports.any=some;exports.anyLimit=someLimit;exports.anySeries=someSeries;exports.find=detect;exports.findLimit=detectLimit;exports.findSeries=detectSeries;exports.forEach=each;exports.forEachSeries=eachSeries;exports.forEachLimit=eachLimit;exports.forEachOf=eachOf;exports.forEachOfSeries=eachOfSeries;exports.forEachOfLimit=eachOfLimit;exports.inject=reduce;exports.foldl=reduce;exports.foldr=reduceRight;exports.select=filter;exports.selectLimit=filterLimit;exports.selectSeries=filterSeries;exports.wrapSync=asyncify})}).call(this,require("_process"),typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{_process:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/process/browser.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/base64-js/lib/b64.js":[function(require,module,exports){"use strict";exports.toByteArray=toByteArray;exports.fromByteArray=fromByteArray;var lookup=[];var revLookup=[];var Arr=typeof Uint8Array!=="undefined"?Uint8Array:Array;function init(){var code="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var i=0,len=code.length;i<len;++i){lookup[i]=code[i];revLookup[code.charCodeAt(i)]=i}revLookup["-".charCodeAt(0)]=62;revLookup["_".charCodeAt(0)]=63}init();function toByteArray(b64){var i,j,l,tmp,placeHolders,arr;var len=b64.length;if(len%4>0){throw new Error("Invalid string. Length must be a multiple of 4")}placeHolders=b64[len-2]==="="?2:b64[len-1]==="="?1:0;arr=new Arr(len*3/4-placeHolders);l=placeHolders>0?len-4:len;var L=0;for(i=0,j=0;i<l;i+=4,j+=3){tmp=revLookup[b64.charCodeAt(i)]<<18|revLookup[b64.charCodeAt(i+1)]<<12|revLookup[b64.charCodeAt(i+2)]<<6|revLookup[b64.charCodeAt(i+3)];arr[L++]=tmp>>16&255;arr[L++]=tmp>>8&255;arr[L++]=tmp&255}if(placeHolders===2){tmp=revLookup[b64.charCodeAt(i)]<<2|revLookup[b64.charCodeAt(i+1)]>>4;arr[L++]=tmp&255}else if(placeHolders===1){tmp=revLookup[b64.charCodeAt(i)]<<10|revLookup[b64.charCodeAt(i+1)]<<4|revLookup[b64.charCodeAt(i+2)]>>2;arr[L++]=tmp>>8&255;arr[L++]=tmp&255}return arr}function tripletToBase64(num){return lookup[num>>18&63]+lookup[num>>12&63]+lookup[num>>6&63]+lookup[num&63]}function encodeChunk(uint8,start,end){
var tmp;var output=[];for(var i=start;i<end;i+=3){tmp=(uint8[i]<<16)+(uint8[i+1]<<8)+uint8[i+2];output.push(tripletToBase64(tmp))}return output.join("")}function fromByteArray(uint8){var tmp;var len=uint8.length;var extraBytes=len%3;var output="";var parts=[];var maxChunkLength=16383;for(var i=0,len2=len-extraBytes;i<len2;i+=maxChunkLength){parts.push(encodeChunk(uint8,i,i+maxChunkLength>len2?len2:i+maxChunkLength))}if(extraBytes===1){tmp=uint8[len-1];output+=lookup[tmp>>2];output+=lookup[tmp<<4&63];output+="=="}else if(extraBytes===2){tmp=(uint8[len-2]<<8)+uint8[len-1];output+=lookup[tmp>>10];output+=lookup[tmp>>4&63];output+=lookup[tmp<<2&63];output+="="}parts.push(output);return parts.join("")}},{}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/bn.js/lib/bn.js":[function(require,module,exports){(function(module,exports){"use strict";function assert(val,msg){if(!val)throw new Error(msg||"Assertion failed")}function inherits(ctor,superCtor){ctor.super_=superCtor;var TempCtor=function(){};TempCtor.prototype=superCtor.prototype;ctor.prototype=new TempCtor;ctor.prototype.constructor=ctor}function BN(number,base,endian){if(BN.isBN(number)){return number}this.negative=0;this.words=null;this.length=0;this.red=null;if(number!==null){if(base==="le"||base==="be"){endian=base;base=10}this._init(number||0,base||10,endian||"be")}}if(typeof module==="object"){module.exports=BN}else{exports.BN=BN}BN.BN=BN;BN.wordSize=26;var Buffer;try{Buffer=require("buf"+"fer").Buffer}catch(e){}BN.isBN=function isBN(num){return num!==null&&typeof num==="object"&&num.constructor.name==="BN"&&Array.isArray(num.words)};BN.max=function max(left,right){if(left.cmp(right)>0)return left;return right};BN.min=function min(left,right){if(left.cmp(right)<0)return left;return right};BN.prototype._init=function init(number,base,endian){if(typeof number==="number"){return this._initNumber(number,base,endian)}if(typeof number==="object"){return this._initArray(number,base,endian)}if(base==="hex"){base=16}assert(base===(base|0)&&base>=2&&base<=36);number=number.toString().replace(/\s+/g,"");var start=0;if(number[0]==="-"){start++}if(base===16){this._parseHex(number,start)}else{this._parseBase(number,base,start)}if(number[0]==="-"){this.negative=1}this.strip();if(endian!=="le")return;this._initArray(this.toArray(),base,endian)};BN.prototype._initNumber=function _initNumber(number,base,endian){if(number<0){this.negative=1;number=-number}if(number<67108864){this.words=[number&67108863];this.length=1}else if(number<4503599627370496){this.words=[number&67108863,number/67108864&67108863];this.length=2}else{assert(number<9007199254740992);this.words=[number&67108863,number/67108864&67108863,1];this.length=3}if(endian!=="le")return;this._initArray(this.toArray(),base,endian)};BN.prototype._initArray=function _initArray(number,base,endian){assert(typeof number.length==="number");if(number.length<=0){this.words=[0];this.length=1;return this}this.length=Math.ceil(number.length/3);this.words=new Array(this.length);for(var i=0;i<this.length;i++){this.words[i]=0}var j,w;var off=0;if(endian==="be"){for(i=number.length-1,j=0;i>=0;i-=3){w=number[i]|number[i-1]<<8|number[i-2]<<16;this.words[j]|=w<<off&67108863;this.words[j+1]=w>>>26-off&67108863;off+=24;if(off>=26){off-=26;j++}}}else if(endian==="le"){for(i=0,j=0;i<number.length;i+=3){w=number[i]|number[i+1]<<8|number[i+2]<<16;this.words[j]|=w<<off&67108863;this.words[j+1]=w>>>26-off&67108863;off+=24;if(off>=26){off-=26;j++}}}return this.strip()};function parseHex(str,start,end){var r=0;var len=Math.min(str.length,end);for(var i=start;i<len;i++){var c=str.charCodeAt(i)-48;r<<=4;if(c>=49&&c<=54){r|=c-49+10}else if(c>=17&&c<=22){r|=c-17+10}else{r|=c&15}}return r}BN.prototype._parseHex=function _parseHex(number,start){this.length=Math.ceil((number.length-start)/6);this.words=new Array(this.length);for(var i=0;i<this.length;i++){this.words[i]=0}var j,w;var off=0;for(i=number.length-6,j=0;i>=start;i-=6){w=parseHex(number,i,i+6);this.words[j]|=w<<off&67108863;this.words[j+1]|=w>>>26-off&4194303;off+=24;if(off>=26){off-=26;j++}}if(i+6!==start){w=parseHex(number,start,i+6);this.words[j]|=w<<off&67108863;this.words[j+1]|=w>>>26-off&4194303}this.strip()};function parseBase(str,start,end,mul){var r=0;var len=Math.min(str.length,end);for(var i=start;i<len;i++){var c=str.charCodeAt(i)-48;r*=mul;if(c>=49){r+=c-49+10}else if(c>=17){r+=c-17+10}else{r+=c}}return r}BN.prototype._parseBase=function _parseBase(number,base,start){this.words=[0];this.length=1;for(var limbLen=0,limbPow=1;limbPow<=67108863;limbPow*=base){limbLen++}limbLen--;limbPow=limbPow/base|0;var total=number.length-start;var mod=total%limbLen;var end=Math.min(total,total-mod)+start;var word=0;for(var i=start;i<end;i+=limbLen){word=parseBase(number,i,i+limbLen,base);this.imuln(limbPow);if(this.words[0]+word<67108864){this.words[0]+=word}else{this._iaddn(word)}}if(mod!==0){var pow=1;word=parseBase(number,i,number.length,base);for(i=0;i<mod;i++){pow*=base}this.imuln(pow);if(this.words[0]+word<67108864){this.words[0]+=word}else{this._iaddn(word)}}};BN.prototype.copy=function copy(dest){dest.words=new Array(this.length);for(var i=0;i<this.length;i++){dest.words[i]=this.words[i]}dest.length=this.length;dest.negative=this.negative;dest.red=this.red};BN.prototype.clone=function clone(){var r=new BN(null);this.copy(r);return r};BN.prototype._expand=function _expand(size){while(this.length<size){this.words[this.length++]=0}return this};BN.prototype.strip=function strip(){while(this.length>1&&this.words[this.length-1]===0){this.length--}return this._normSign()};BN.prototype._normSign=function _normSign(){if(this.length===1&&this.words[0]===0){this.negative=0}return this};BN.prototype.inspect=function inspect(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var zeros=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"];var groupSizes=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5];var groupBases=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];BN.prototype.toString=function toString(base,padding){base=base||10;padding=padding|0||1;var out;if(base===16||base==="hex"){out="";var off=0;var carry=0;for(var i=0;i<this.length;i++){var w=this.words[i];var word=((w<<off|carry)&16777215).toString(16);carry=w>>>24-off&16777215;if(carry!==0||i!==this.length-1){out=zeros[6-word.length]+word+out}else{out=word+out}off+=2;if(off>=26){off-=26;i--}}if(carry!==0){out=carry.toString(16)+out}while(out.length%padding!==0){out="0"+out}if(this.negative!==0){out="-"+out}return out}if(base===(base|0)&&base>=2&&base<=36){var groupSize=groupSizes[base];var groupBase=groupBases[base];out="";var c=this.clone();c.negative=0;while(!c.isZero()){var r=c.modn(groupBase).toString(base);c=c.idivn(groupBase);if(!c.isZero()){out=zeros[groupSize-r.length]+r+out}else{out=r+out}}if(this.isZero()){out="0"+out}while(out.length%padding!==0){out="0"+out}if(this.negative!==0){out="-"+out}return out}assert(false,"Base should be between 2 and 36")};BN.prototype.toNumber=function toNumber(){var ret=this.words[0];if(this.length===2){ret+=this.words[1]*67108864}else if(this.length===3&&this.words[2]===1){ret+=4503599627370496+this.words[1]*67108864}else if(this.length>2){assert(false,"Number can only safely store up to 53 bits")}return this.negative!==0?-ret:ret};BN.prototype.toJSON=function toJSON(){return this.toString(16)};BN.prototype.toBuffer=function toBuffer(endian,length){assert(typeof Buffer!=="undefined");return this.toArrayLike(Buffer,endian,length)};BN.prototype.toArray=function toArray(endian,length){return this.toArrayLike(Array,endian,length)};BN.prototype.toArrayLike=function toArrayLike(ArrayType,endian,length){var byteLength=this.byteLength();var reqLength=length||Math.max(1,byteLength);assert(byteLength<=reqLength,"byte array longer than desired length");assert(reqLength>0,"Requested array length <= 0");this.strip();var littleEndian=endian==="le";var res=new ArrayType(reqLength);var b,i;var q=this.clone();if(!littleEndian){for(i=0;i<reqLength-byteLength;i++){res[i]=0}for(i=0;!q.isZero();i++){b=q.andln(255);q.iushrn(8);res[reqLength-i-1]=b}}else{for(i=0;!q.isZero();i++){b=q.andln(255);q.iushrn(8);res[i]=b}for(;i<reqLength;i++){res[i]=0}}return res};if(Math.clz32){BN.prototype._countBits=function _countBits(w){return 32-Math.clz32(w)}}else{BN.prototype._countBits=function _countBits(w){var t=w;var r=0;if(t>=4096){r+=13;t>>>=13}if(t>=64){r+=7;t>>>=7}if(t>=8){r+=4;t>>>=4}if(t>=2){r+=2;t>>>=2}return r+t}}BN.prototype._zeroBits=function _zeroBits(w){if(w===0)return 26;var t=w;var r=0;if((t&8191)===0){r+=13;t>>>=13}if((t&127)===0){r+=7;t>>>=7}if((t&15)===0){r+=4;t>>>=4}if((t&3)===0){r+=2;t>>>=2}if((t&1)===0){r++}return r};BN.prototype.bitLength=function bitLength(){var w=this.words[this.length-1];var hi=this._countBits(w);return(this.length-1)*26+hi};function toBitArray(num){var w=new Array(num.bitLength());for(var bit=0;bit<w.length;bit++){var off=bit/26|0;var wbit=bit%26;w[bit]=(num.words[off]&1<<wbit)>>>wbit}return w}BN.prototype.zeroBits=function zeroBits(){if(this.isZero())return 0;var r=0;for(var i=0;i<this.length;i++){var b=this._zeroBits(this.words[i]);r+=b;if(b!==26)break}return r};BN.prototype.byteLength=function byteLength(){return Math.ceil(this.bitLength()/8)};BN.prototype.toTwos=function toTwos(width){if(this.negative!==0){return this.abs().inotn(width).iaddn(1)}return this.clone()};BN.prototype.fromTwos=function fromTwos(width){if(this.testn(width-1)){return this.notn(width).iaddn(1).ineg()}return this.clone()};BN.prototype.isNeg=function isNeg(){return this.negative!==0};BN.prototype.neg=function neg(){return this.clone().ineg()};BN.prototype.ineg=function ineg(){if(!this.isZero()){this.negative^=1}return this};BN.prototype.iuor=function iuor(num){while(this.length<num.length){this.words[this.length++]=0}for(var i=0;i<num.length;i++){this.words[i]=this.words[i]|num.words[i]}return this.strip()};BN.prototype.ior=function ior(num){assert((this.negative|num.negative)===0);return this.iuor(num)};BN.prototype.or=function or(num){if(this.length>num.length)return this.clone().ior(num);return num.clone().ior(this)};BN.prototype.uor=function uor(num){if(this.length>num.length)return this.clone().iuor(num);return num.clone().iuor(this)};BN.prototype.iuand=function iuand(num){var b;if(this.length>num.length){b=num}else{b=this}for(var i=0;i<b.length;i++){this.words[i]=this.words[i]&num.words[i]}this.length=b.length;return this.strip()};BN.prototype.iand=function iand(num){assert((this.negative|num.negative)===0);return this.iuand(num)};BN.prototype.and=function and(num){if(this.length>num.length)return this.clone().iand(num);return num.clone().iand(this)};BN.prototype.uand=function uand(num){if(this.length>num.length)return this.clone().iuand(num);return num.clone().iuand(this)};BN.prototype.iuxor=function iuxor(num){var a;var b;if(this.length>num.length){a=this;b=num}else{a=num;b=this}for(var i=0;i<b.length;i++){this.words[i]=a.words[i]^b.words[i]}if(this!==a){for(;i<a.length;i++){this.words[i]=a.words[i]}}this.length=a.length;return this.strip()};BN.prototype.ixor=function ixor(num){assert((this.negative|num.negative)===0);return this.iuxor(num)};BN.prototype.xor=function xor(num){if(this.length>num.length)return this.clone().ixor(num);return num.clone().ixor(this)};BN.prototype.uxor=function uxor(num){if(this.length>num.length)return this.clone().iuxor(num);return num.clone().iuxor(this)};BN.prototype.inotn=function inotn(width){assert(typeof width==="number"&&width>=0);var bytesNeeded=Math.ceil(width/26)|0;var bitsLeft=width%26;this._expand(bytesNeeded);if(bitsLeft>0){bytesNeeded--}for(var i=0;i<bytesNeeded;i++){this.words[i]=~this.words[i]&67108863}if(bitsLeft>0){this.words[i]=~this.words[i]&67108863>>26-bitsLeft}return this.strip()};BN.prototype.notn=function notn(width){return this.clone().inotn(width)};BN.prototype.setn=function setn(bit,val){assert(typeof bit==="number"&&bit>=0);var off=bit/26|0;var wbit=bit%26;this._expand(off+1);if(val){this.words[off]=this.words[off]|1<<wbit}else{this.words[off]=this.words[off]&~(1<<wbit)}return this.strip()};BN.prototype.iadd=function iadd(num){var r;if(this.negative!==0&&num.negative===0){this.negative=0;r=this.isub(num);this.negative^=1;return this._normSign()}else if(this.negative===0&&num.negative!==0){num.negative=0;r=this.isub(num);num.negative=1;return r._normSign()}var a,b;if(this.length>num.length){a=this;b=num}else{a=num;b=this}var carry=0;for(var i=0;i<b.length;i++){r=(a.words[i]|0)+(b.words[i]|0)+carry;this.words[i]=r&67108863;carry=r>>>26}for(;carry!==0&&i<a.length;i++){r=(a.words[i]|0)+carry;this.words[i]=r&67108863;carry=r>>>26}this.length=a.length;if(carry!==0){this.words[this.length]=carry;this.length++}else if(a!==this){for(;i<a.length;i++){this.words[i]=a.words[i]}}return this};BN.prototype.add=function add(num){var res;if(num.negative!==0&&this.negative===0){num.negative=0;res=this.sub(num);num.negative^=1;return res}else if(num.negative===0&&this.negative!==0){this.negative=0;res=num.sub(this);this.negative=1;return res}if(this.length>num.length)return this.clone().iadd(num);return num.clone().iadd(this)};BN.prototype.isub=function isub(num){if(num.negative!==0){num.negative=0;var r=this.iadd(num);num.negative=1;return r._normSign()}else if(this.negative!==0){this.negative=0;this.iadd(num);this.negative=1;return this._normSign()}var cmp=this.cmp(num);if(cmp===0){this.negative=0;this.length=1;this.words[0]=0;return this}var a,b;if(cmp>0){a=this;b=num}else{a=num;b=this}var carry=0;for(var i=0;i<b.length;i++){r=(a.words[i]|0)-(b.words[i]|0)+carry;carry=r>>26;this.words[i]=r&67108863}for(;carry!==0&&i<a.length;i++){r=(a.words[i]|0)+carry;carry=r>>26;this.words[i]=r&67108863}if(carry===0&&i<a.length&&a!==this){for(;i<a.length;i++){this.words[i]=a.words[i]}}this.length=Math.max(this.length,i);if(a!==this){this.negative=1}return this.strip()};BN.prototype.sub=function sub(num){return this.clone().isub(num)};function smallMulTo(self,num,out){out.negative=num.negative^self.negative;var len=self.length+num.length|0;out.length=len;len=len-1|0;var a=self.words[0]|0;var b=num.words[0]|0;var r=a*b;var lo=r&67108863;var carry=r/67108864|0;out.words[0]=lo;for(var k=1;k<len;k++){var ncarry=carry>>>26;var rword=carry&67108863;var maxJ=Math.min(k,num.length-1);for(var j=Math.max(0,k-self.length+1);j<=maxJ;j++){var i=k-j|0;a=self.words[i]|0;b=num.words[j]|0;r=a*b+rword;ncarry+=r/67108864|0;rword=r&67108863}out.words[k]=rword|0;carry=ncarry|0}if(carry!==0){out.words[k]=carry|0}else{out.length--}return out.strip()}var comb10MulTo=function comb10MulTo(self,num,out){var a=self.words;var b=num.words;var o=out.words;var c=0;var lo;var mid;var hi;var a0=a[0]|0;var al0=a0&8191;var ah0=a0>>>13;var a1=a[1]|0;var al1=a1&8191;var ah1=a1>>>13;var a2=a[2]|0;var al2=a2&8191;var ah2=a2>>>13;var a3=a[3]|0;var al3=a3&8191;var ah3=a3>>>13;var a4=a[4]|0;var al4=a4&8191;var ah4=a4>>>13;var a5=a[5]|0;var al5=a5&8191;var ah5=a5>>>13;var a6=a[6]|0;var al6=a6&8191;var ah6=a6>>>13;var a7=a[7]|0;var al7=a7&8191;var ah7=a7>>>13;var a8=a[8]|0;var al8=a8&8191;var ah8=a8>>>13;var a9=a[9]|0;var al9=a9&8191;var ah9=a9>>>13;var b0=b[0]|0;var bl0=b0&8191;var bh0=b0>>>13;var b1=b[1]|0;var bl1=b1&8191;var bh1=b1>>>13;var b2=b[2]|0;var bl2=b2&8191;var bh2=b2>>>13;var b3=b[3]|0;var bl3=b3&8191;var bh3=b3>>>13;var b4=b[4]|0;var bl4=b4&8191;var bh4=b4>>>13;var b5=b[5]|0;var bl5=b5&8191;var bh5=b5>>>13;var b6=b[6]|0;var bl6=b6&8191;var bh6=b6>>>13;var b7=b[7]|0;var bl7=b7&8191;var bh7=b7>>>13;var b8=b[8]|0;var bl8=b8&8191;var bh8=b8>>>13;var b9=b[9]|0;var bl9=b9&8191;var bh9=b9>>>13;out.negative=self.negative^num.negative;out.length=19;lo=Math.imul(al0,bl0);mid=Math.imul(al0,bh0);mid=mid+Math.imul(ah0,bl0)|0;hi=Math.imul(ah0,bh0);var w0=(c+lo|0)+((mid&8191)<<13)|0;c=(hi+(mid>>>13)|0)+(w0>>>26)|0;w0&=67108863;lo=Math.imul(al1,bl0);mid=Math.imul(al1,bh0);mid=mid+Math.imul(ah1,bl0)|0;hi=Math.imul(ah1,bh0);lo=lo+Math.imul(al0,bl1)|0;mid=mid+Math.imul(al0,bh1)|0;mid=mid+Math.imul(ah0,bl1)|0;hi=hi+Math.imul(ah0,bh1)|0;var w1=(c+lo|0)+((mid&8191)<<13)|0;c=(hi+(mid>>>13)|0)+(w1>>>26)|0;w1&=67108863;lo=Math.imul(al2,bl0);mid=Math.imul(al2,bh0);mid=mid+Math.imul(ah2,bl0)|0;hi=Math.imul(ah2,bh0);lo=lo+Math.imul(al1,bl1)|0;mid=mid+Math.imul(al1,bh1)|0;mid=mid+Math.imul(ah1,bl1)|0;hi=hi+Math.imul(ah1,bh1)|0;lo=lo+Math.imul(al0,bl2)|0;mid=mid+Math.imul(al0,bh2)|0;mid=mid+Math.imul(ah0,bl2)|0;hi=hi+Math.imul(ah0,bh2)|0;var w2=(c+lo|0)+((mid&8191)<<13)|0;c=(hi+(mid>>>13)|0)+(w2>>>26)|0;w2&=67108863;lo=Math.imul(al3,bl0);mid=Math.imul(al3,bh0);mid=mid+Math.imul(ah3,bl0)|0;hi=Math.imul(ah3,bh0);lo=lo+Math.imul(al2,bl1)|0;mid=mid+Math.imul(al2,bh1)|0;mid=mid+Math.imul(ah2,bl1)|0;hi=hi+Math.imul(ah2,bh1)|0;lo=lo+Math.imul(al1,bl2)|0;mid=mid+Math.imul(al1,bh2)|0;mid=mid+Math.imul(ah1,bl2)|0;hi=hi+Math.imul(ah1,bh2)|0;lo=lo+Math.imul(al0,bl3)|0;mid=mid+Math.imul(al0,bh3)|0;mid=mid+Math.imul(ah0,bl3)|0;hi=hi+Math.imul(ah0,bh3)|0;var w3=(c+lo|0)+((mid&8191)<<13)|0;c=(hi+(mid>>>13)|0)+(w3>>>26)|0;w3&=67108863;lo=Math.imul(al4,bl0);mid=Math.imul(al4,bh0);mid=mid+Math.imul(ah4,bl0)|0;hi=Math.imul(ah4,bh0);lo=lo+Math.imul(al3,bl1)|0;mid=mid+Math.imul(al3,bh1)|0;mid=mid+Math.imul(ah3,bl1)|0;hi=hi+Math.imul(ah3,bh1)|0;lo=lo+Math.imul(al2,bl2)|0;mid=mid+Math.imul(al2,bh2)|0;mid=mid+Math.imul(ah2,bl2)|0;hi=hi+Math.imul(ah2,bh2)|0;lo=lo+Math.imul(al1,bl3)|0;mid=mid+Math.imul(al1,bh3)|0;mid=mid+Math.imul(ah1,bl3)|0;hi=hi+Math.imul(ah1,bh3)|0;lo=lo+Math.imul(al0,bl4)|0;mid=mid+Math.imul(al0,bh4)|0;mid=mid+Math.imul(ah0,bl4)|0;hi=hi+Math.imul(ah0,bh4)|0;var w4=(c+lo|0)+((mid&8191)<<13)|0;c=(hi+(mid>>>13)|0)+(w4>>>26)|0;w4&=67108863;lo=Math.imul(al5,bl0);mid=Math.imul(al5,bh0);mid=mid+Math.imul(ah5,bl0)|0;hi=Math.imul(ah5,bh0);lo=lo+Math.imul(al4,bl1)|0;mid=mid+Math.imul(al4,bh1)|0;mid=mid+Math.imul(ah4,bl1)|0;hi=hi+Math.imul(ah4,bh1)|0;lo=lo+Math.imul(al3,bl2)|0;mid=mid+Math.imul(al3,bh2)|0;mid=mid+Math.imul(ah3,bl2)|0;hi=hi+Math.imul(ah3,bh2)|0;lo=lo+Math.imul(al2,bl3)|0;mid=mid+Math.imul(al2,bh3)|0;mid=mid+Math.imul(ah2,bl3)|0;hi=hi+Math.imul(ah2,bh3)|0;lo=lo+Math.imul(al1,bl4)|0;mid=mid+Math.imul(al1,bh4)|0;mid=mid+Math.imul(ah1,bl4)|0;hi=hi+Math.imul(ah1,bh4)|0;lo=lo+Math.imul(al0,bl5)|0;mid=mid+Math.imul(al0,bh5)|0;mid=mid+Math.imul(ah0,bl5)|0;hi=hi+Math.imul(ah0,bh5)|0;var w5=(c+lo|0)+((mid&8191)<<13)|0;c=(hi+(mid>>>13)|0)+(w5>>>26)|0;w5&=67108863;lo=Math.imul(al6,bl0);mid=Math.imul(al6,bh0);mid=mid+Math.imul(ah6,bl0)|0;hi=Math.imul(ah6,bh0);lo=lo+Math.imul(al5,bl1)|0;mid=mid+Math.imul(al5,bh1)|0;mid=mid+Math.imul(ah5,bl1)|0;hi=hi+Math.imul(ah5,bh1)|0;lo=lo+Math.imul(al4,bl2)|0;mid=mid+Math.imul(al4,bh2)|0;mid=mid+Math.imul(ah4,bl2)|0;hi=hi+Math.imul(ah4,bh2)|0;lo=lo+Math.imul(al3,bl3)|0;mid=mid+Math.imul(al3,bh3)|0;mid=mid+Math.imul(ah3,bl3)|0;hi=hi+Math.imul(ah3,bh3)|0;lo=lo+Math.imul(al2,bl4)|0;mid=mid+Math.imul(al2,bh4)|0;mid=mid+Math.imul(ah2,bl4)|0;hi=hi+Math.imul(ah2,bh4)|0;lo=lo+Math.imul(al1,bl5)|0;mid=mid+Math.imul(al1,bh5)|0;mid=mid+Math.imul(ah1,bl5)|0;hi=hi+Math.imul(ah1,bh5)|0;lo=lo+Math.imul(al0,bl6)|0;mid=mid+Math.imul(al0,bh6)|0;mid=mid+Math.imul(ah0,bl6)|0;hi=hi+Math.imul(ah0,bh6)|0;var w6=(c+lo|0)+((mid&8191)<<13)|0;c=(hi+(mid>>>13)|0)+(w6>>>26)|0;w6&=67108863;lo=Math.imul(al7,bl0);mid=Math.imul(al7,bh0);mid=mid+Math.imul(ah7,bl0)|0;hi=Math.imul(ah7,bh0);lo=lo+Math.imul(al6,bl1)|0;mid=mid+Math.imul(al6,bh1)|0;mid=mid+Math.imul(ah6,bl1)|0;hi=hi+Math.imul(ah6,bh1)|0;lo=lo+Math.imul(al5,bl2)|0;mid=mid+Math.imul(al5,bh2)|0;mid=mid+Math.imul(ah5,bl2)|0;hi=hi+Math.imul(ah5,bh2)|0;lo=lo+Math.imul(al4,bl3)|0;mid=mid+Math.imul(al4,bh3)|0;mid=mid+Math.imul(ah4,bl3)|0;hi=hi+Math.imul(ah4,bh3)|0;lo=lo+Math.imul(al3,bl4)|0;mid=mid+Math.imul(al3,bh4)|0;mid=mid+Math.imul(ah3,bl4)|0;hi=hi+Math.imul(ah3,bh4)|0;lo=lo+Math.imul(al2,bl5)|0;mid=mid+Math.imul(al2,bh5)|0;mid=mid+Math.imul(ah2,bl5)|0;hi=hi+Math.imul(ah2,bh5)|0;lo=lo+Math.imul(al1,bl6)|0;mid=mid+Math.imul(al1,bh6)|0;mid=mid+Math.imul(ah1,bl6)|0;hi=hi+Math.imul(ah1,bh6)|0;lo=lo+Math.imul(al0,bl7)|0;mid=mid+Math.imul(al0,bh7)|0;mid=mid+Math.imul(ah0,bl7)|0;hi=hi+Math.imul(ah0,bh7)|0;var w7=(c+lo|0)+((mid&8191)<<13)|0;c=(hi+(mid>>>13)|0)+(w7>>>26)|0;w7&=67108863;lo=Math.imul(al8,bl0);mid=Math.imul(al8,bh0);mid=mid+Math.imul(ah8,bl0)|0;hi=Math.imul(ah8,bh0);lo=lo+Math.imul(al7,bl1)|0;mid=mid+Math.imul(al7,bh1)|0;mid=mid+Math.imul(ah7,bl1)|0;hi=hi+Math.imul(ah7,bh1)|0;lo=lo+Math.imul(al6,bl2)|0;mid=mid+Math.imul(al6,bh2)|0;mid=mid+Math.imul(ah6,bl2)|0;hi=hi+Math.imul(ah6,bh2)|0;lo=lo+Math.imul(al5,bl3)|0;mid=mid+Math.imul(al5,bh3)|0;mid=mid+Math.imul(ah5,bl3)|0;hi=hi+Math.imul(ah5,bh3)|0;lo=lo+Math.imul(al4,bl4)|0;mid=mid+Math.imul(al4,bh4)|0;mid=mid+Math.imul(ah4,bl4)|0;hi=hi+Math.imul(ah4,bh4)|0;lo=lo+Math.imul(al3,bl5)|0;mid=mid+Math.imul(al3,bh5)|0;mid=mid+Math.imul(ah3,bl5)|0;hi=hi+Math.imul(ah3,bh5)|0;lo=lo+Math.imul(al2,bl6)|0;mid=mid+Math.imul(al2,bh6)|0;mid=mid+Math.imul(ah2,bl6)|0;hi=hi+Math.imul(ah2,bh6)|0;lo=lo+Math.imul(al1,bl7)|0;mid=mid+Math.imul(al1,bh7)|0;mid=mid+Math.imul(ah1,bl7)|0;hi=hi+Math.imul(ah1,bh7)|0;lo=lo+Math.imul(al0,bl8)|0;mid=mid+Math.imul(al0,bh8)|0;mid=mid+Math.imul(ah0,bl8)|0;hi=hi+Math.imul(ah0,bh8)|0;var w8=(c+lo|0)+((mid&8191)<<13)|0;c=(hi+(mid>>>13)|0)+(w8>>>26)|0;w8&=67108863;lo=Math.imul(al9,bl0);mid=Math.imul(al9,bh0);mid=mid+Math.imul(ah9,bl0)|0;hi=Math.imul(ah9,bh0);lo=lo+Math.imul(al8,bl1)|0;mid=mid+Math.imul(al8,bh1)|0;mid=mid+Math.imul(ah8,bl1)|0;hi=hi+Math.imul(ah8,bh1)|0;lo=lo+Math.imul(al7,bl2)|0;mid=mid+Math.imul(al7,bh2)|0;mid=mid+Math.imul(ah7,bl2)|0;hi=hi+Math.imul(ah7,bh2)|0;lo=lo+Math.imul(al6,bl3)|0;mid=mid+Math.imul(al6,bh3)|0;mid=mid+Math.imul(ah6,bl3)|0;hi=hi+Math.imul(ah6,bh3)|0;lo=lo+Math.imul(al5,bl4)|0;mid=mid+Math.imul(al5,bh4)|0;mid=mid+Math.imul(ah5,bl4)|0;hi=hi+Math.imul(ah5,bh4)|0;lo=lo+Math.imul(al4,bl5)|0;mid=mid+Math.imul(al4,bh5)|0;mid=mid+Math.imul(ah4,bl5)|0;hi=hi+Math.imul(ah4,bh5)|0;lo=lo+Math.imul(al3,bl6)|0;mid=mid+Math.imul(al3,bh6)|0;mid=mid+Math.imul(ah3,bl6)|0;hi=hi+Math.imul(ah3,bh6)|0;lo=lo+Math.imul(al2,bl7)|0;mid=mid+Math.imul(al2,bh7)|0;mid=mid+Math.imul(ah2,bl7)|0;hi=hi+Math.imul(ah2,bh7)|0;lo=lo+Math.imul(al1,bl8)|0;mid=mid+Math.imul(al1,bh8)|0;mid=mid+Math.imul(ah1,bl8)|0;hi=hi+Math.imul(ah1,bh8)|0;lo=lo+Math.imul(al0,bl9)|0;mid=mid+Math.imul(al0,bh9)|0;mid=mid+Math.imul(ah0,bl9)|0;hi=hi+Math.imul(ah0,bh9)|0;var w9=(c+lo|0)+((mid&8191)<<13)|0;c=(hi+(mid>>>13)|0)+(w9>>>26)|0;w9&=67108863;lo=Math.imul(al9,bl1);mid=Math.imul(al9,bh1);mid=mid+Math.imul(ah9,bl1)|0;hi=Math.imul(ah9,bh1);lo=lo+Math.imul(al8,bl2)|0;mid=mid+Math.imul(al8,bh2)|0;mid=mid+Math.imul(ah8,bl2)|0;hi=hi+Math.imul(ah8,bh2)|0;lo=lo+Math.imul(al7,bl3)|0;mid=mid+Math.imul(al7,bh3)|0;mid=mid+Math.imul(ah7,bl3)|0;hi=hi+Math.imul(ah7,bh3)|0;lo=lo+Math.imul(al6,bl4)|0;mid=mid+Math.imul(al6,bh4)|0;mid=mid+Math.imul(ah6,bl4)|0;hi=hi+Math.imul(ah6,bh4)|0;lo=lo+Math.imul(al5,bl5)|0;mid=mid+Math.imul(al5,bh5)|0;mid=mid+Math.imul(ah5,bl5)|0;hi=hi+Math.imul(ah5,bh5)|0;lo=lo+Math.imul(al4,bl6)|0;mid=mid+Math.imul(al4,bh6)|0;mid=mid+Math.imul(ah4,bl6)|0;hi=hi+Math.imul(ah4,bh6)|0;lo=lo+Math.imul(al3,bl7)|0;mid=mid+Math.imul(al3,bh7)|0;mid=mid+Math.imul(ah3,bl7)|0;hi=hi+Math.imul(ah3,bh7)|0;lo=lo+Math.imul(al2,bl8)|0;mid=mid+Math.imul(al2,bh8)|0;mid=mid+Math.imul(ah2,bl8)|0;hi=hi+Math.imul(ah2,bh8)|0;lo=lo+Math.imul(al1,bl9)|0;mid=mid+Math.imul(al1,bh9)|0;mid=mid+Math.imul(ah1,bl9)|0;hi=hi+Math.imul(ah1,bh9)|0;var w10=(c+lo|0)+((mid&8191)<<13)|0;c=(hi+(mid>>>13)|0)+(w10>>>26)|0;w10&=67108863;lo=Math.imul(al9,bl2);mid=Math.imul(al9,bh2);mid=mid+Math.imul(ah9,bl2)|0;hi=Math.imul(ah9,bh2);lo=lo+Math.imul(al8,bl3)|0;mid=mid+Math.imul(al8,bh3)|0;mid=mid+Math.imul(ah8,bl3)|0;hi=hi+Math.imul(ah8,bh3)|0;lo=lo+Math.imul(al7,bl4)|0;mid=mid+Math.imul(al7,bh4)|0;mid=mid+Math.imul(ah7,bl4)|0;hi=hi+Math.imul(ah7,bh4)|0;lo=lo+Math.imul(al6,bl5)|0;mid=mid+Math.imul(al6,bh5)|0;mid=mid+Math.imul(ah6,bl5)|0;hi=hi+Math.imul(ah6,bh5)|0;lo=lo+Math.imul(al5,bl6)|0;mid=mid+Math.imul(al5,bh6)|0;mid=mid+Math.imul(ah5,bl6)|0;hi=hi+Math.imul(ah5,bh6)|0;lo=lo+Math.imul(al4,bl7)|0;mid=mid+Math.imul(al4,bh7)|0;mid=mid+Math.imul(ah4,bl7)|0;hi=hi+Math.imul(ah4,bh7)|0;lo=lo+Math.imul(al3,bl8)|0;mid=mid+Math.imul(al3,bh8)|0;mid=mid+Math.imul(ah3,bl8)|0;hi=hi+Math.imul(ah3,bh8)|0;lo=lo+Math.imul(al2,bl9)|0;mid=mid+Math.imul(al2,bh9)|0;mid=mid+Math.imul(ah2,bl9)|0;hi=hi+Math.imul(ah2,bh9)|0;var w11=(c+lo|0)+((mid&8191)<<13)|0;c=(hi+(mid>>>13)|0)+(w11>>>26)|0;w11&=67108863;lo=Math.imul(al9,bl3);mid=Math.imul(al9,bh3);mid=mid+Math.imul(ah9,bl3)|0;hi=Math.imul(ah9,bh3);lo=lo+Math.imul(al8,bl4)|0;mid=mid+Math.imul(al8,bh4)|0;mid=mid+Math.imul(ah8,bl4)|0;hi=hi+Math.imul(ah8,bh4)|0;lo=lo+Math.imul(al7,bl5)|0;mid=mid+Math.imul(al7,bh5)|0;mid=mid+Math.imul(ah7,bl5)|0;hi=hi+Math.imul(ah7,bh5)|0;lo=lo+Math.imul(al6,bl6)|0;mid=mid+Math.imul(al6,bh6)|0;mid=mid+Math.imul(ah6,bl6)|0;hi=hi+Math.imul(ah6,bh6)|0;lo=lo+Math.imul(al5,bl7)|0;mid=mid+Math.imul(al5,bh7)|0;mid=mid+Math.imul(ah5,bl7)|0;hi=hi+Math.imul(ah5,bh7)|0;lo=lo+Math.imul(al4,bl8)|0;mid=mid+Math.imul(al4,bh8)|0;mid=mid+Math.imul(ah4,bl8)|0;hi=hi+Math.imul(ah4,bh8)|0;lo=lo+Math.imul(al3,bl9)|0;mid=mid+Math.imul(al3,bh9)|0;mid=mid+Math.imul(ah3,bl9)|0;hi=hi+Math.imul(ah3,bh9)|0;var w12=(c+lo|0)+((mid&8191)<<13)|0;c=(hi+(mid>>>13)|0)+(w12>>>26)|0;w12&=67108863;lo=Math.imul(al9,bl4);mid=Math.imul(al9,bh4);mid=mid+Math.imul(ah9,bl4)|0;hi=Math.imul(ah9,bh4);lo=lo+Math.imul(al8,bl5)|0;mid=mid+Math.imul(al8,bh5)|0;mid=mid+Math.imul(ah8,bl5)|0;hi=hi+Math.imul(ah8,bh5)|0;lo=lo+Math.imul(al7,bl6)|0;mid=mid+Math.imul(al7,bh6)|0;mid=mid+Math.imul(ah7,bl6)|0;hi=hi+Math.imul(ah7,bh6)|0;lo=lo+Math.imul(al6,bl7)|0;mid=mid+Math.imul(al6,bh7)|0;mid=mid+Math.imul(ah6,bl7)|0;hi=hi+Math.imul(ah6,bh7)|0;lo=lo+Math.imul(al5,bl8)|0;mid=mid+Math.imul(al5,bh8)|0;mid=mid+Math.imul(ah5,bl8)|0;hi=hi+Math.imul(ah5,bh8)|0;lo=lo+Math.imul(al4,bl9)|0;mid=mid+Math.imul(al4,bh9)|0;mid=mid+Math.imul(ah4,bl9)|0;hi=hi+Math.imul(ah4,bh9)|0;var w13=(c+lo|0)+((mid&8191)<<13)|0;c=(hi+(mid>>>13)|0)+(w13>>>26)|0;w13&=67108863;lo=Math.imul(al9,bl5);mid=Math.imul(al9,bh5);mid=mid+Math.imul(ah9,bl5)|0;hi=Math.imul(ah9,bh5);lo=lo+Math.imul(al8,bl6)|0;mid=mid+Math.imul(al8,bh6)|0;mid=mid+Math.imul(ah8,bl6)|0;hi=hi+Math.imul(ah8,bh6)|0;lo=lo+Math.imul(al7,bl7)|0;mid=mid+Math.imul(al7,bh7)|0;mid=mid+Math.imul(ah7,bl7)|0;hi=hi+Math.imul(ah7,bh7)|0;lo=lo+Math.imul(al6,bl8)|0;mid=mid+Math.imul(al6,bh8)|0;mid=mid+Math.imul(ah6,bl8)|0;hi=hi+Math.imul(ah6,bh8)|0;lo=lo+Math.imul(al5,bl9)|0;mid=mid+Math.imul(al5,bh9)|0;mid=mid+Math.imul(ah5,bl9)|0;hi=hi+Math.imul(ah5,bh9)|0;var w14=(c+lo|0)+((mid&8191)<<13)|0;c=(hi+(mid>>>13)|0)+(w14>>>26)|0;w14&=67108863;lo=Math.imul(al9,bl6);mid=Math.imul(al9,bh6);mid=mid+Math.imul(ah9,bl6)|0;hi=Math.imul(ah9,bh6);lo=lo+Math.imul(al8,bl7)|0;mid=mid+Math.imul(al8,bh7)|0;mid=mid+Math.imul(ah8,bl7)|0;hi=hi+Math.imul(ah8,bh7)|0;lo=lo+Math.imul(al7,bl8)|0;mid=mid+Math.imul(al7,bh8)|0;mid=mid+Math.imul(ah7,bl8)|0;hi=hi+Math.imul(ah7,bh8)|0;lo=lo+Math.imul(al6,bl9)|0;mid=mid+Math.imul(al6,bh9)|0;mid=mid+Math.imul(ah6,bl9)|0;hi=hi+Math.imul(ah6,bh9)|0;var w15=(c+lo|0)+((mid&8191)<<13)|0;c=(hi+(mid>>>13)|0)+(w15>>>26)|0;w15&=67108863;lo=Math.imul(al9,bl7);mid=Math.imul(al9,bh7);mid=mid+Math.imul(ah9,bl7)|0;hi=Math.imul(ah9,bh7);lo=lo+Math.imul(al8,bl8)|0;mid=mid+Math.imul(al8,bh8)|0;mid=mid+Math.imul(ah8,bl8)|0;hi=hi+Math.imul(ah8,bh8)|0;lo=lo+Math.imul(al7,bl9)|0;mid=mid+Math.imul(al7,bh9)|0;mid=mid+Math.imul(ah7,bl9)|0;hi=hi+Math.imul(ah7,bh9)|0;var w16=(c+lo|0)+((mid&8191)<<13)|0;c=(hi+(mid>>>13)|0)+(w16>>>26)|0;w16&=67108863;lo=Math.imul(al9,bl8);mid=Math.imul(al9,bh8);mid=mid+Math.imul(ah9,bl8)|0;hi=Math.imul(ah9,bh8);lo=lo+Math.imul(al8,bl9)|0;mid=mid+Math.imul(al8,bh9)|0;mid=mid+Math.imul(ah8,bl9)|0;hi=hi+Math.imul(ah8,bh9)|0;var w17=(c+lo|0)+((mid&8191)<<13)|0;c=(hi+(mid>>>13)|0)+(w17>>>26)|0;w17&=67108863;lo=Math.imul(al9,bl9);mid=Math.imul(al9,bh9);mid=mid+Math.imul(ah9,bl9)|0;hi=Math.imul(ah9,bh9);var w18=(c+lo|0)+((mid&8191)<<13)|0;c=(hi+(mid>>>13)|0)+(w18>>>26)|0;w18&=67108863;o[0]=w0;o[1]=w1;o[2]=w2;o[3]=w3;o[4]=w4;o[5]=w5;o[6]=w6;o[7]=w7;o[8]=w8;o[9]=w9;o[10]=w10;o[11]=w11;o[12]=w12;o[13]=w13;o[14]=w14;o[15]=w15;o[16]=w16;o[17]=w17;o[18]=w18;if(c!==0){o[19]=c;out.length++}return out};if(!Math.imul){comb10MulTo=smallMulTo}function bigMulTo(self,num,out){out.negative=num.negative^self.negative;out.length=self.length+num.length;var carry=0;var hncarry=0;for(var k=0;k<out.length-1;k++){var ncarry=hncarry;hncarry=0;var rword=carry&67108863;var maxJ=Math.min(k,num.length-1);for(var j=Math.max(0,k-self.length+1);j<=maxJ;j++){var i=k-j;var a=self.words[i]|0;var b=num.words[j]|0;var r=a*b;var lo=r&67108863;ncarry=ncarry+(r/67108864|0)|0;lo=lo+rword|0;rword=lo&67108863;ncarry=ncarry+(lo>>>26)|0;hncarry+=ncarry>>>26;ncarry&=67108863}out.words[k]=rword;carry=ncarry;ncarry=hncarry}if(carry!==0){out.words[k]=carry}else{out.length--}return out.strip()}function jumboMulTo(self,num,out){var fftm=new FFTM;return fftm.mulp(self,num,out)}BN.prototype.mulTo=function mulTo(num,out){var res;var len=this.length+num.length;if(this.length===10&&num.length===10){res=comb10MulTo(this,num,out)}else if(len<63){res=smallMulTo(this,num,out)}else if(len<1024){res=bigMulTo(this,num,out)}else{res=jumboMulTo(this,num,out)}return res};function FFTM(x,y){this.x=x;this.y=y}FFTM.prototype.makeRBT=function makeRBT(N){var t=new Array(N);var l=BN.prototype._countBits(N)-1;for(var i=0;i<N;i++){t[i]=this.revBin(i,l,N)}return t};FFTM.prototype.revBin=function revBin(x,l,N){if(x===0||x===N-1)return x;var rb=0;for(var i=0;i<l;i++){rb|=(x&1)<<l-i-1;x>>=1}return rb};FFTM.prototype.permute=function permute(rbt,rws,iws,rtws,itws,N){for(var i=0;i<N;i++){rtws[i]=rws[rbt[i]];itws[i]=iws[rbt[i]]}};FFTM.prototype.transform=function transform(rws,iws,rtws,itws,N,rbt){this.permute(rbt,rws,iws,rtws,itws,N);for(var s=1;s<N;s<<=1){var l=s<<1;var rtwdf=Math.cos(2*Math.PI/l);var itwdf=Math.sin(2*Math.PI/l);for(var p=0;p<N;p+=l){var rtwdf_=rtwdf;var itwdf_=itwdf;for(var j=0;j<s;j++){var re=rtws[p+j];var ie=itws[p+j];var ro=rtws[p+j+s];var io=itws[p+j+s];var rx=rtwdf_*ro-itwdf_*io;io=rtwdf_*io+itwdf_*ro;ro=rx;rtws[p+j]=re+ro;itws[p+j]=ie+io;rtws[p+j+s]=re-ro;itws[p+j+s]=ie-io;if(j!==l){rx=rtwdf*rtwdf_-itwdf*itwdf_;itwdf_=rtwdf*itwdf_+itwdf*rtwdf_;rtwdf_=rx}}}}};FFTM.prototype.guessLen13b=function guessLen13b(n,m){var N=Math.max(m,n)|1;var odd=N&1;var i=0;for(N=N/2|0;N;N=N>>>1){i++}return 1<<i+1+odd};FFTM.prototype.conjugate=function conjugate(rws,iws,N){if(N<=1)return;for(var i=0;i<N/2;i++){var t=rws[i];rws[i]=rws[N-i-1];rws[N-i-1]=t;t=iws[i];iws[i]=-iws[N-i-1];iws[N-i-1]=-t}};FFTM.prototype.normalize13b=function normalize13b(ws,N){var carry=0;for(var i=0;i<N/2;i++){var w=Math.round(ws[2*i+1]/N)*8192+Math.round(ws[2*i]/N)+carry;ws[i]=w&67108863;if(w<67108864){carry=0}else{carry=w/67108864|0}}return ws};FFTM.prototype.convert13b=function convert13b(ws,len,rws,N){var carry=0;for(var i=0;i<len;i++){carry=carry+(ws[i]|0);rws[2*i]=carry&8191;carry=carry>>>13;rws[2*i+1]=carry&8191;carry=carry>>>13}for(i=2*len;i<N;++i){rws[i]=0}assert(carry===0);assert((carry&~8191)===0)};FFTM.prototype.stub=function stub(N){var ph=new Array(N);for(var i=0;i<N;i++){ph[i]=0}return ph};FFTM.prototype.mulp=function mulp(x,y,out){var N=2*this.guessLen13b(x.length,y.length);
var rbt=this.makeRBT(N);var _=this.stub(N);var rws=new Array(N);var rwst=new Array(N);var iwst=new Array(N);var nrws=new Array(N);var nrwst=new Array(N);var niwst=new Array(N);var rmws=out.words;rmws.length=N;this.convert13b(x.words,x.length,rws,N);this.convert13b(y.words,y.length,nrws,N);this.transform(rws,_,rwst,iwst,N,rbt);this.transform(nrws,_,nrwst,niwst,N,rbt);for(var i=0;i<N;i++){var rx=rwst[i]*nrwst[i]-iwst[i]*niwst[i];iwst[i]=rwst[i]*niwst[i]+iwst[i]*nrwst[i];rwst[i]=rx}this.conjugate(rwst,iwst,N);this.transform(rwst,iwst,rmws,_,N,rbt);this.conjugate(rmws,_,N);this.normalize13b(rmws,N);out.negative=x.negative^y.negative;out.length=x.length+y.length;return out.strip()};BN.prototype.mul=function mul(num){var out=new BN(null);out.words=new Array(this.length+num.length);return this.mulTo(num,out)};BN.prototype.mulf=function mulf(num){var out=new BN(null);out.words=new Array(this.length+num.length);return jumboMulTo(this,num,out)};BN.prototype.imul=function imul(num){return this.clone().mulTo(num,this)};BN.prototype.imuln=function imuln(num){assert(typeof num==="number");assert(num<67108864);var carry=0;for(var i=0;i<this.length;i++){var w=(this.words[i]|0)*num;var lo=(w&67108863)+(carry&67108863);carry>>=26;carry+=w/67108864|0;carry+=lo>>>26;this.words[i]=lo&67108863}if(carry!==0){this.words[i]=carry;this.length++}return this};BN.prototype.muln=function muln(num){return this.clone().imuln(num)};BN.prototype.sqr=function sqr(){return this.mul(this)};BN.prototype.isqr=function isqr(){return this.imul(this.clone())};BN.prototype.pow=function pow(num){var w=toBitArray(num);if(w.length===0)return new BN(1);var res=this;for(var i=0;i<w.length;i++,res=res.sqr()){if(w[i]!==0)break}if(++i<w.length){for(var q=res.sqr();i<w.length;i++,q=q.sqr()){if(w[i]===0)continue;res=res.mul(q)}}return res};BN.prototype.iushln=function iushln(bits){assert(typeof bits==="number"&&bits>=0);var r=bits%26;var s=(bits-r)/26;var carryMask=67108863>>>26-r<<26-r;var i;if(r!==0){var carry=0;for(i=0;i<this.length;i++){var newCarry=this.words[i]&carryMask;var c=(this.words[i]|0)-newCarry<<r;this.words[i]=c|carry;carry=newCarry>>>26-r}if(carry){this.words[i]=carry;this.length++}}if(s!==0){for(i=this.length-1;i>=0;i--){this.words[i+s]=this.words[i]}for(i=0;i<s;i++){this.words[i]=0}this.length+=s}return this.strip()};BN.prototype.ishln=function ishln(bits){assert(this.negative===0);return this.iushln(bits)};BN.prototype.iushrn=function iushrn(bits,hint,extended){assert(typeof bits==="number"&&bits>=0);var h;if(hint){h=(hint-hint%26)/26}else{h=0}var r=bits%26;var s=Math.min((bits-r)/26,this.length);var mask=67108863^67108863>>>r<<r;var maskedWords=extended;h-=s;h=Math.max(0,h);if(maskedWords){for(var i=0;i<s;i++){maskedWords.words[i]=this.words[i]}maskedWords.length=s}if(s===0){}else if(this.length>s){this.length-=s;for(i=0;i<this.length;i++){this.words[i]=this.words[i+s]}}else{this.words[0]=0;this.length=1}var carry=0;for(i=this.length-1;i>=0&&(carry!==0||i>=h);i--){var word=this.words[i]|0;this.words[i]=carry<<26-r|word>>>r;carry=word&mask}if(maskedWords&&carry!==0){maskedWords.words[maskedWords.length++]=carry}if(this.length===0){this.words[0]=0;this.length=1}return this.strip()};BN.prototype.ishrn=function ishrn(bits,hint,extended){assert(this.negative===0);return this.iushrn(bits,hint,extended)};BN.prototype.shln=function shln(bits){return this.clone().ishln(bits)};BN.prototype.ushln=function ushln(bits){return this.clone().iushln(bits)};BN.prototype.shrn=function shrn(bits){return this.clone().ishrn(bits)};BN.prototype.ushrn=function ushrn(bits){return this.clone().iushrn(bits)};BN.prototype.testn=function testn(bit){assert(typeof bit==="number"&&bit>=0);var r=bit%26;var s=(bit-r)/26;var q=1<<r;if(this.length<=s)return false;var w=this.words[s];return!!(w&q)};BN.prototype.imaskn=function imaskn(bits){assert(typeof bits==="number"&&bits>=0);var r=bits%26;var s=(bits-r)/26;assert(this.negative===0,"imaskn works only with positive numbers");if(r!==0){s++}this.length=Math.min(s,this.length);if(r!==0){var mask=67108863^67108863>>>r<<r;this.words[this.length-1]&=mask}return this.strip()};BN.prototype.maskn=function maskn(bits){return this.clone().imaskn(bits)};BN.prototype.iaddn=function iaddn(num){assert(typeof num==="number");assert(num<67108864);if(num<0)return this.isubn(-num);if(this.negative!==0){if(this.length===1&&(this.words[0]|0)<num){this.words[0]=num-(this.words[0]|0);this.negative=0;return this}this.negative=0;this.isubn(num);this.negative=1;return this}return this._iaddn(num)};BN.prototype._iaddn=function _iaddn(num){this.words[0]+=num;for(var i=0;i<this.length&&this.words[i]>=67108864;i++){this.words[i]-=67108864;if(i===this.length-1){this.words[i+1]=1}else{this.words[i+1]++}}this.length=Math.max(this.length,i+1);return this};BN.prototype.isubn=function isubn(num){assert(typeof num==="number");assert(num<67108864);if(num<0)return this.iaddn(-num);if(this.negative!==0){this.negative=0;this.iaddn(num);this.negative=1;return this}this.words[0]-=num;if(this.length===1&&this.words[0]<0){this.words[0]=-this.words[0];this.negative=1}else{for(var i=0;i<this.length&&this.words[i]<0;i++){this.words[i]+=67108864;this.words[i+1]-=1}}return this.strip()};BN.prototype.addn=function addn(num){return this.clone().iaddn(num)};BN.prototype.subn=function subn(num){return this.clone().isubn(num)};BN.prototype.iabs=function iabs(){this.negative=0;return this};BN.prototype.abs=function abs(){return this.clone().iabs()};BN.prototype._ishlnsubmul=function _ishlnsubmul(num,mul,shift){var len=num.length+shift;var i;this._expand(len);var w;var carry=0;for(i=0;i<num.length;i++){w=(this.words[i+shift]|0)+carry;var right=(num.words[i]|0)*mul;w-=right&67108863;carry=(w>>26)-(right/67108864|0);this.words[i+shift]=w&67108863}for(;i<this.length-shift;i++){w=(this.words[i+shift]|0)+carry;carry=w>>26;this.words[i+shift]=w&67108863}if(carry===0)return this.strip();assert(carry===-1);carry=0;for(i=0;i<this.length;i++){w=-(this.words[i]|0)+carry;carry=w>>26;this.words[i]=w&67108863}this.negative=1;return this.strip()};BN.prototype._wordDiv=function _wordDiv(num,mode){var shift=this.length-num.length;var a=this.clone();var b=num;var bhi=b.words[b.length-1]|0;var bhiBits=this._countBits(bhi);shift=26-bhiBits;if(shift!==0){b=b.ushln(shift);a.iushln(shift);bhi=b.words[b.length-1]|0}var m=a.length-b.length;var q;if(mode!=="mod"){q=new BN(null);q.length=m+1;q.words=new Array(q.length);for(var i=0;i<q.length;i++){q.words[i]=0}}var diff=a.clone()._ishlnsubmul(b,1,m);if(diff.negative===0){a=diff;if(q){q.words[m]=1}}for(var j=m-1;j>=0;j--){var qj=(a.words[b.length+j]|0)*67108864+(a.words[b.length+j-1]|0);qj=Math.min(qj/bhi|0,67108863);a._ishlnsubmul(b,qj,j);while(a.negative!==0){qj--;a.negative=0;a._ishlnsubmul(b,1,j);if(!a.isZero()){a.negative^=1}}if(q){q.words[j]=qj}}if(q){q.strip()}a.strip();if(mode!=="div"&&shift!==0){a.iushrn(shift)}return{div:q||null,mod:a}};BN.prototype.divmod=function divmod(num,mode,positive){assert(!num.isZero());if(this.isZero()){return{div:new BN(0),mod:new BN(0)}}var div,mod,res;if(this.negative!==0&&num.negative===0){res=this.neg().divmod(num,mode);if(mode!=="mod"){div=res.div.neg()}if(mode!=="div"){mod=res.mod.neg();if(positive&&mod.negative!==0){mod.iadd(num)}}return{div:div,mod:mod}}if(this.negative===0&&num.negative!==0){res=this.divmod(num.neg(),mode);if(mode!=="mod"){div=res.div.neg()}return{div:div,mod:res.mod}}if((this.negative&num.negative)!==0){res=this.neg().divmod(num.neg(),mode);if(mode!=="div"){mod=res.mod.neg();if(positive&&mod.negative!==0){mod.isub(num)}}return{div:res.div,mod:mod}}if(num.length>this.length||this.cmp(num)<0){return{div:new BN(0),mod:this}}if(num.length===1){if(mode==="div"){return{div:this.divn(num.words[0]),mod:null}}if(mode==="mod"){return{div:null,mod:new BN(this.modn(num.words[0]))}}return{div:this.divn(num.words[0]),mod:new BN(this.modn(num.words[0]))}}return this._wordDiv(num,mode)};BN.prototype.div=function div(num){return this.divmod(num,"div",false).div};BN.prototype.mod=function mod(num){return this.divmod(num,"mod",false).mod};BN.prototype.umod=function umod(num){return this.divmod(num,"mod",true).mod};BN.prototype.divRound=function divRound(num){var dm=this.divmod(num);if(dm.mod.isZero())return dm.div;var mod=dm.div.negative!==0?dm.mod.isub(num):dm.mod;var half=num.ushrn(1);var r2=num.andln(1);var cmp=mod.cmp(half);if(cmp<0||r2===1&&cmp===0)return dm.div;return dm.div.negative!==0?dm.div.isubn(1):dm.div.iaddn(1)};BN.prototype.modn=function modn(num){assert(num<=67108863);var p=(1<<26)%num;var acc=0;for(var i=this.length-1;i>=0;i--){acc=(p*acc+(this.words[i]|0))%num}return acc};BN.prototype.idivn=function idivn(num){assert(num<=67108863);var carry=0;for(var i=this.length-1;i>=0;i--){var w=(this.words[i]|0)+carry*67108864;this.words[i]=w/num|0;carry=w%num}return this.strip()};BN.prototype.divn=function divn(num){return this.clone().idivn(num)};BN.prototype.egcd=function egcd(p){assert(p.negative===0);assert(!p.isZero());var x=this;var y=p.clone();if(x.negative!==0){x=x.umod(p)}else{x=x.clone()}var A=new BN(1);var B=new BN(0);var C=new BN(0);var D=new BN(1);var g=0;while(x.isEven()&&y.isEven()){x.iushrn(1);y.iushrn(1);++g}var yp=y.clone();var xp=x.clone();while(!x.isZero()){for(var i=0,im=1;(x.words[0]&im)===0&&i<26;++i,im<<=1);if(i>0){x.iushrn(i);while(i-- >0){if(A.isOdd()||B.isOdd()){A.iadd(yp);B.isub(xp)}A.iushrn(1);B.iushrn(1)}}for(var j=0,jm=1;(y.words[0]&jm)===0&&j<26;++j,jm<<=1);if(j>0){y.iushrn(j);while(j-- >0){if(C.isOdd()||D.isOdd()){C.iadd(yp);D.isub(xp)}C.iushrn(1);D.iushrn(1)}}if(x.cmp(y)>=0){x.isub(y);A.isub(C);B.isub(D)}else{y.isub(x);C.isub(A);D.isub(B)}}return{a:C,b:D,gcd:y.iushln(g)}};BN.prototype._invmp=function _invmp(p){assert(p.negative===0);assert(!p.isZero());var a=this;var b=p.clone();if(a.negative!==0){a=a.umod(p)}else{a=a.clone()}var x1=new BN(1);var x2=new BN(0);var delta=b.clone();while(a.cmpn(1)>0&&b.cmpn(1)>0){for(var i=0,im=1;(a.words[0]&im)===0&&i<26;++i,im<<=1);if(i>0){a.iushrn(i);while(i-- >0){if(x1.isOdd()){x1.iadd(delta)}x1.iushrn(1)}}for(var j=0,jm=1;(b.words[0]&jm)===0&&j<26;++j,jm<<=1);if(j>0){b.iushrn(j);while(j-- >0){if(x2.isOdd()){x2.iadd(delta)}x2.iushrn(1)}}if(a.cmp(b)>=0){a.isub(b);x1.isub(x2)}else{b.isub(a);x2.isub(x1)}}var res;if(a.cmpn(1)===0){res=x1}else{res=x2}if(res.cmpn(0)<0){res.iadd(p)}return res};BN.prototype.gcd=function gcd(num){if(this.isZero())return num.abs();if(num.isZero())return this.abs();var a=this.clone();var b=num.clone();a.negative=0;b.negative=0;for(var shift=0;a.isEven()&&b.isEven();shift++){a.iushrn(1);b.iushrn(1)}do{while(a.isEven()){a.iushrn(1)}while(b.isEven()){b.iushrn(1)}var r=a.cmp(b);if(r<0){var t=a;a=b;b=t}else if(r===0||b.cmpn(1)===0){break}a.isub(b)}while(true);return b.iushln(shift)};BN.prototype.invm=function invm(num){return this.egcd(num).a.umod(num)};BN.prototype.isEven=function isEven(){return(this.words[0]&1)===0};BN.prototype.isOdd=function isOdd(){return(this.words[0]&1)===1};BN.prototype.andln=function andln(num){return this.words[0]&num};BN.prototype.bincn=function bincn(bit){assert(typeof bit==="number");var r=bit%26;var s=(bit-r)/26;var q=1<<r;if(this.length<=s){this._expand(s+1);this.words[s]|=q;return this}var carry=q;for(var i=s;carry!==0&&i<this.length;i++){var w=this.words[i]|0;w+=carry;carry=w>>>26;w&=67108863;this.words[i]=w}if(carry!==0){this.words[i]=carry;this.length++}return this};BN.prototype.isZero=function isZero(){return this.length===1&&this.words[0]===0};BN.prototype.cmpn=function cmpn(num){var negative=num<0;if(this.negative!==0&&!negative)return-1;if(this.negative===0&&negative)return 1;this.strip();var res;if(this.length>1){res=1}else{if(negative){num=-num}assert(num<=67108863,"Number is too big");var w=this.words[0]|0;res=w===num?0:w<num?-1:1}if(this.negative!==0)return-res|0;return res};BN.prototype.cmp=function cmp(num){if(this.negative!==0&&num.negative===0)return-1;if(this.negative===0&&num.negative!==0)return 1;var res=this.ucmp(num);if(this.negative!==0)return-res|0;return res};BN.prototype.ucmp=function ucmp(num){if(this.length>num.length)return 1;if(this.length<num.length)return-1;var res=0;for(var i=this.length-1;i>=0;i--){var a=this.words[i]|0;var b=num.words[i]|0;if(a===b)continue;if(a<b){res=-1}else if(a>b){res=1}break}return res};BN.prototype.gtn=function gtn(num){return this.cmpn(num)===1};BN.prototype.gt=function gt(num){return this.cmp(num)===1};BN.prototype.gten=function gten(num){return this.cmpn(num)>=0};BN.prototype.gte=function gte(num){return this.cmp(num)>=0};BN.prototype.ltn=function ltn(num){return this.cmpn(num)===-1};BN.prototype.lt=function lt(num){return this.cmp(num)===-1};BN.prototype.lten=function lten(num){return this.cmpn(num)<=0};BN.prototype.lte=function lte(num){return this.cmp(num)<=0};BN.prototype.eqn=function eqn(num){return this.cmpn(num)===0};BN.prototype.eq=function eq(num){return this.cmp(num)===0};BN.red=function red(num){return new Red(num)};BN.prototype.toRed=function toRed(ctx){assert(!this.red,"Already a number in reduction context");assert(this.negative===0,"red works only with positives");return ctx.convertTo(this)._forceRed(ctx)};BN.prototype.fromRed=function fromRed(){assert(this.red,"fromRed works only with numbers in reduction context");return this.red.convertFrom(this)};BN.prototype._forceRed=function _forceRed(ctx){this.red=ctx;return this};BN.prototype.forceRed=function forceRed(ctx){assert(!this.red,"Already a number in reduction context");return this._forceRed(ctx)};BN.prototype.redAdd=function redAdd(num){assert(this.red,"redAdd works only with red numbers");return this.red.add(this,num)};BN.prototype.redIAdd=function redIAdd(num){assert(this.red,"redIAdd works only with red numbers");return this.red.iadd(this,num)};BN.prototype.redSub=function redSub(num){assert(this.red,"redSub works only with red numbers");return this.red.sub(this,num)};BN.prototype.redISub=function redISub(num){assert(this.red,"redISub works only with red numbers");return this.red.isub(this,num)};BN.prototype.redShl=function redShl(num){assert(this.red,"redShl works only with red numbers");return this.red.shl(this,num)};BN.prototype.redMul=function redMul(num){assert(this.red,"redMul works only with red numbers");this.red._verify2(this,num);return this.red.mul(this,num)};BN.prototype.redIMul=function redIMul(num){assert(this.red,"redMul works only with red numbers");this.red._verify2(this,num);return this.red.imul(this,num)};BN.prototype.redSqr=function redSqr(){assert(this.red,"redSqr works only with red numbers");this.red._verify1(this);return this.red.sqr(this)};BN.prototype.redISqr=function redISqr(){assert(this.red,"redISqr works only with red numbers");this.red._verify1(this);return this.red.isqr(this)};BN.prototype.redSqrt=function redSqrt(){assert(this.red,"redSqrt works only with red numbers");this.red._verify1(this);return this.red.sqrt(this)};BN.prototype.redInvm=function redInvm(){assert(this.red,"redInvm works only with red numbers");this.red._verify1(this);return this.red.invm(this)};BN.prototype.redNeg=function redNeg(){assert(this.red,"redNeg works only with red numbers");this.red._verify1(this);return this.red.neg(this)};BN.prototype.redPow=function redPow(num){assert(this.red&&!num.red,"redPow(normalNum)");this.red._verify1(this);return this.red.pow(this,num)};var primes={k256:null,p224:null,p192:null,p25519:null};function MPrime(name,p){this.name=name;this.p=new BN(p,16);this.n=this.p.bitLength();this.k=new BN(1).iushln(this.n).isub(this.p);this.tmp=this._tmp()}MPrime.prototype._tmp=function _tmp(){var tmp=new BN(null);tmp.words=new Array(Math.ceil(this.n/13));return tmp};MPrime.prototype.ireduce=function ireduce(num){var r=num;var rlen;do{this.split(r,this.tmp);r=this.imulK(r);r=r.iadd(this.tmp);rlen=r.bitLength()}while(rlen>this.n);var cmp=rlen<this.n?-1:r.ucmp(this.p);if(cmp===0){r.words[0]=0;r.length=1}else if(cmp>0){r.isub(this.p)}else{r.strip()}return r};MPrime.prototype.split=function split(input,out){input.iushrn(this.n,0,out)};MPrime.prototype.imulK=function imulK(num){return num.imul(this.k)};function K256(){MPrime.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}inherits(K256,MPrime);K256.prototype.split=function split(input,output){var mask=4194303;var outLen=Math.min(input.length,9);for(var i=0;i<outLen;i++){output.words[i]=input.words[i]}output.length=outLen;if(input.length<=9){input.words[0]=0;input.length=1;return}var prev=input.words[9];output.words[output.length++]=prev&mask;for(i=10;i<input.length;i++){var next=input.words[i]|0;input.words[i-10]=(next&mask)<<4|prev>>>22;prev=next}prev>>>=22;input.words[i-10]=prev;if(prev===0&&input.length>10){input.length-=10}else{input.length-=9}};K256.prototype.imulK=function imulK(num){num.words[num.length]=0;num.words[num.length+1]=0;num.length+=2;var lo=0;for(var i=0;i<num.length;i++){var w=num.words[i]|0;lo+=w*977;num.words[i]=lo&67108863;lo=w*64+(lo/67108864|0)}if(num.words[num.length-1]===0){num.length--;if(num.words[num.length-1]===0){num.length--}}return num};function P224(){MPrime.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}inherits(P224,MPrime);function P192(){MPrime.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}inherits(P192,MPrime);function P25519(){MPrime.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}inherits(P25519,MPrime);P25519.prototype.imulK=function imulK(num){var carry=0;for(var i=0;i<num.length;i++){var hi=(num.words[i]|0)*19+carry;var lo=hi&67108863;hi>>>=26;num.words[i]=lo;carry=hi}if(carry!==0){num.words[num.length++]=carry}return num};BN._prime=function prime(name){if(primes[name])return primes[name];var prime;if(name==="k256"){prime=new K256}else if(name==="p224"){prime=new P224}else if(name==="p192"){prime=new P192}else if(name==="p25519"){prime=new P25519}else{throw new Error("Unknown prime "+name)}primes[name]=prime;return prime};function Red(m){if(typeof m==="string"){var prime=BN._prime(m);this.m=prime.p;this.prime=prime}else{assert(m.gtn(1),"modulus must be greater than 1");this.m=m;this.prime=null}}Red.prototype._verify1=function _verify1(a){assert(a.negative===0,"red works only with positives");assert(a.red,"red works only with red numbers")};Red.prototype._verify2=function _verify2(a,b){assert((a.negative|b.negative)===0,"red works only with positives");assert(a.red&&a.red===b.red,"red works only with red numbers")};Red.prototype.imod=function imod(a){if(this.prime)return this.prime.ireduce(a)._forceRed(this);return a.umod(this.m)._forceRed(this)};Red.prototype.neg=function neg(a){if(a.isZero()){return a.clone()}return this.m.sub(a)._forceRed(this)};Red.prototype.add=function add(a,b){this._verify2(a,b);var res=a.add(b);if(res.cmp(this.m)>=0){res.isub(this.m)}return res._forceRed(this)};Red.prototype.iadd=function iadd(a,b){this._verify2(a,b);var res=a.iadd(b);if(res.cmp(this.m)>=0){res.isub(this.m)}return res};Red.prototype.sub=function sub(a,b){this._verify2(a,b);var res=a.sub(b);if(res.cmpn(0)<0){res.iadd(this.m)}return res._forceRed(this)};Red.prototype.isub=function isub(a,b){this._verify2(a,b);var res=a.isub(b);if(res.cmpn(0)<0){res.iadd(this.m)}return res};Red.prototype.shl=function shl(a,num){this._verify1(a);return this.imod(a.ushln(num))};Red.prototype.imul=function imul(a,b){this._verify2(a,b);return this.imod(a.imul(b))};Red.prototype.mul=function mul(a,b){this._verify2(a,b);return this.imod(a.mul(b))};Red.prototype.isqr=function isqr(a){return this.imul(a,a.clone())};Red.prototype.sqr=function sqr(a){return this.mul(a,a)};Red.prototype.sqrt=function sqrt(a){if(a.isZero())return a.clone();var mod3=this.m.andln(3);assert(mod3%2===1);if(mod3===3){var pow=this.m.add(new BN(1)).iushrn(2);return this.pow(a,pow)}var q=this.m.subn(1);var s=0;while(!q.isZero()&&q.andln(1)===0){s++;q.iushrn(1)}assert(!q.isZero());var one=new BN(1).toRed(this);var nOne=one.redNeg();var lpow=this.m.subn(1).iushrn(1);var z=this.m.bitLength();z=new BN(2*z*z).toRed(this);while(this.pow(z,lpow).cmp(nOne)!==0){z.redIAdd(nOne)}var c=this.pow(z,q);var r=this.pow(a,q.addn(1).iushrn(1));var t=this.pow(a,q);var m=s;while(t.cmp(one)!==0){var tmp=t;for(var i=0;tmp.cmp(one)!==0;i++){tmp=tmp.redSqr()}assert(i<m);var b=this.pow(c,new BN(1).iushln(m-i-1));r=r.redMul(b);c=b.redSqr();t=t.redMul(c);m=i}return r};Red.prototype.invm=function invm(a){var inv=a._invmp(this.m);if(inv.negative!==0){inv.negative=0;return this.imod(inv).redNeg()}else{return this.imod(inv)}};Red.prototype.pow=function pow(a,num){if(num.isZero())return new BN(1);if(num.cmpn(1)===0)return a.clone();var windowSize=4;var wnd=new Array(1<<windowSize);wnd[0]=new BN(1).toRed(this);wnd[1]=a;for(var i=2;i<wnd.length;i++){wnd[i]=this.mul(wnd[i-1],a)}var res=wnd[0];var current=0;var currentLen=0;var start=num.bitLength()%26;if(start===0){start=26}for(i=num.length-1;i>=0;i--){var word=num.words[i];for(var j=start-1;j>=0;j--){var bit=word>>j&1;if(res!==wnd[0]){res=this.sqr(res)}if(bit===0&&current===0){currentLen=0;continue}current<<=1;current|=bit;currentLen++;if(currentLen!==windowSize&&(i!==0||j!==0))continue;res=this.mul(res,wnd[current]);currentLen=0;current=0}start=26}return res};Red.prototype.convertTo=function convertTo(num){var r=num.umod(this.m);return r===num?r.clone():r};Red.prototype.convertFrom=function convertFrom(num){var res=num.clone();res.red=null;return res};BN.mont=function mont(num){return new Mont(num)};function Mont(m){Red.call(this,m);this.shift=this.m.bitLength();if(this.shift%26!==0){this.shift+=26-this.shift%26}this.r=new BN(1).iushln(this.shift);this.r2=this.imod(this.r.sqr());this.rinv=this.r._invmp(this.m);this.minv=this.rinv.mul(this.r).isubn(1).div(this.m);this.minv=this.minv.umod(this.r);this.minv=this.r.sub(this.minv)}inherits(Mont,Red);Mont.prototype.convertTo=function convertTo(num){return this.imod(num.ushln(this.shift))};Mont.prototype.convertFrom=function convertFrom(num){var r=this.imod(num.mul(this.rinv));r.red=null;return r};Mont.prototype.imul=function imul(a,b){if(a.isZero()||b.isZero()){a.words[0]=0;a.length=1;return a}var t=a.imul(b);var c=t.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m);var u=t.isub(c).iushrn(this.shift);var res=u;if(u.cmp(this.m)>=0){res=u.isub(this.m)}else if(u.cmpn(0)<0){res=u.iadd(this.m)}return res._forceRed(this)};Mont.prototype.mul=function mul(a,b){if(a.isZero()||b.isZero())return new BN(0)._forceRed(this);var t=a.mul(b);var c=t.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m);var u=t.isub(c).iushrn(this.shift);var res=u;if(u.cmp(this.m)>=0){res=u.isub(this.m)}else if(u.cmpn(0)<0){res=u.iadd(this.m)}return res._forceRed(this)};Mont.prototype.invm=function invm(a){var res=this.imod(a._invmp(this.m).mul(this.r2));return res._forceRed(this)}})(typeof module==="undefined"||module,this)},{}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/brorand/index.js":[function(require,module,exports){var r;module.exports=function rand(len){if(!r)r=new Rand(null);return r.generate(len)};function Rand(rand){this.rand=rand}module.exports.Rand=Rand;Rand.prototype.generate=function generate(len){return this._rand(len)};if(typeof window==="object"){if(window.crypto&&window.crypto.getRandomValues){Rand.prototype._rand=function _rand(n){var arr=new Uint8Array(n);window.crypto.getRandomValues(arr);return arr}}else if(window.msCrypto&&window.msCrypto.getRandomValues){Rand.prototype._rand=function _rand(n){var arr=new Uint8Array(n);window.msCrypto.getRandomValues(arr);return arr}}else{Rand.prototype._rand=function(){throw new Error("Not implemented yet")}}}else{try{var crypto=require("cry"+"pto");Rand.prototype._rand=function _rand(n){return crypto.randomBytes(n)}}catch(e){Rand.prototype._rand=function _rand(n){var res=new Uint8Array(n);for(var i=0;i<res.length;i++)res[i]=this.rand.getByte();return res}}}},{}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/browser-resolve/empty.js":[function(require,module,exports){},{}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/browserify-aes/aes.js":[function(require,module,exports){(function(Buffer){var uint_max=Math.pow(2,32);function fixup_uint32(x){var ret,x_pos;ret=x>uint_max||x<0?(x_pos=Math.abs(x)%uint_max,x<0?uint_max-x_pos:x_pos):x;return ret}function scrub_vec(v){for(var i=0;i<v.length;v++){v[i]=0}return false}function Global(){this.SBOX=[];this.INV_SBOX=[];this.SUB_MIX=[[],[],[],[]];this.INV_SUB_MIX=[[],[],[],[]];this.init();this.RCON=[0,1,2,4,8,16,32,64,128,27,54]}Global.prototype.init=function(){var d,i,sx,t,x,x2,x4,x8,xi,_i;d=function(){var _i,_results;_results=[];for(i=_i=0;_i<256;i=++_i){if(i<128){_results.push(i<<1)}else{_results.push(i<<1^283)}}return _results}();x=0;xi=0;for(i=_i=0;_i<256;i=++_i){sx=xi^xi<<1^xi<<2^xi<<3^xi<<4;sx=sx>>>8^sx&255^99;this.SBOX[x]=sx;this.INV_SBOX[sx]=x;x2=d[x];x4=d[x2];x8=d[x4];t=d[sx]*257^sx*16843008;this.SUB_MIX[0][x]=t<<24|t>>>8;this.SUB_MIX[1][x]=t<<16|t>>>16;this.SUB_MIX[2][x]=t<<8|t>>>24;this.SUB_MIX[3][x]=t;t=x8*16843009^x4*65537^x2*257^x*16843008;this.INV_SUB_MIX[0][sx]=t<<24|t>>>8;this.INV_SUB_MIX[1][sx]=t<<16|t>>>16;this.INV_SUB_MIX[2][sx]=t<<8|t>>>24;this.INV_SUB_MIX[3][sx]=t;if(x===0){x=xi=1}else{x=x2^d[d[d[x8^x2]]];xi^=d[d[xi]]}}return true};var G=new Global;AES.blockSize=4*4;AES.prototype.blockSize=AES.blockSize;AES.keySize=256/8;AES.prototype.keySize=AES.keySize;function bufferToArray(buf){var len=buf.length/4;var out=new Array(len);var i=-1;while(++i<len){out[i]=buf.readUInt32BE(i*4)}return out}function AES(key){this._key=bufferToArray(key);this._doReset()}AES.prototype._doReset=function(){var invKsRow,keySize,keyWords,ksRow,ksRows,t;keyWords=this._key;keySize=keyWords.length;this._nRounds=keySize+6;ksRows=(this._nRounds+1)*4;this._keySchedule=[];for(ksRow=0;ksRow<ksRows;ksRow++){this._keySchedule[ksRow]=ksRow<keySize?keyWords[ksRow]:(t=this._keySchedule[ksRow-1],ksRow%keySize===0?(t=t<<8|t>>>24,t=G.SBOX[t>>>24]<<24|G.SBOX[t>>>16&255]<<16|G.SBOX[t>>>8&255]<<8|G.SBOX[t&255],t^=G.RCON[ksRow/keySize|0]<<24):keySize>6&&ksRow%keySize===4?t=G.SBOX[t>>>24]<<24|G.SBOX[t>>>16&255]<<16|G.SBOX[t>>>8&255]<<8|G.SBOX[t&255]:void 0,this._keySchedule[ksRow-keySize]^t)}this._invKeySchedule=[];for(invKsRow=0;invKsRow<ksRows;invKsRow++){ksRow=ksRows-invKsRow;t=this._keySchedule[ksRow-(invKsRow%4?0:4)];this._invKeySchedule[invKsRow]=invKsRow<4||ksRow<=4?t:G.INV_SUB_MIX[0][G.SBOX[t>>>24]]^G.INV_SUB_MIX[1][G.SBOX[t>>>16&255]]^G.INV_SUB_MIX[2][G.SBOX[t>>>8&255]]^G.INV_SUB_MIX[3][G.SBOX[t&255]]}return true};AES.prototype.encryptBlock=function(M){M=bufferToArray(new Buffer(M));var out=this._doCryptBlock(M,this._keySchedule,G.SUB_MIX,G.SBOX);var buf=new Buffer(16);buf.writeUInt32BE(out[0],0);buf.writeUInt32BE(out[1],4);buf.writeUInt32BE(out[2],8);buf.writeUInt32BE(out[3],12);return buf};AES.prototype.decryptBlock=function(M){M=bufferToArray(new Buffer(M));var temp=[M[3],M[1]];M[1]=temp[0];M[3]=temp[1];var out=this._doCryptBlock(M,this._invKeySchedule,G.INV_SUB_MIX,G.INV_SBOX);var buf=new Buffer(16);buf.writeUInt32BE(out[0],0);buf.writeUInt32BE(out[3],4);buf.writeUInt32BE(out[2],8);buf.writeUInt32BE(out[1],12);return buf};AES.prototype.scrub=function(){scrub_vec(this._keySchedule);scrub_vec(this._invKeySchedule);scrub_vec(this._key)};AES.prototype._doCryptBlock=function(M,keySchedule,SUB_MIX,SBOX){var ksRow,s0,s1,s2,s3,t0,t1,t2,t3;s0=M[0]^keySchedule[0];s1=M[1]^keySchedule[1];s2=M[2]^keySchedule[2];s3=M[3]^keySchedule[3];ksRow=4;for(var round=1;round<this._nRounds;round++){t0=SUB_MIX[0][s0>>>24]^SUB_MIX[1][s1>>>16&255]^SUB_MIX[2][s2>>>8&255]^SUB_MIX[3][s3&255]^keySchedule[ksRow++];t1=SUB_MIX[0][s1>>>24]^SUB_MIX[1][s2>>>16&255]^SUB_MIX[2][s3>>>8&255]^SUB_MIX[3][s0&255]^keySchedule[ksRow++];t2=SUB_MIX[0][s2>>>24]^SUB_MIX[1][s3>>>16&255]^SUB_MIX[2][s0>>>8&255]^SUB_MIX[3][s1&255]^keySchedule[ksRow++];t3=SUB_MIX[0][s3>>>24]^SUB_MIX[1][s0>>>16&255]^SUB_MIX[2][s1>>>8&255]^SUB_MIX[3][s2&255]^keySchedule[ksRow++];s0=t0;s1=t1;s2=t2;s3=t3}t0=(SBOX[s0>>>24]<<24|SBOX[s1>>>16&255]<<16|SBOX[s2>>>8&255]<<8|SBOX[s3&255])^keySchedule[ksRow++];t1=(SBOX[s1>>>24]<<24|SBOX[s2>>>16&255]<<16|SBOX[s3>>>8&255]<<8|SBOX[s0&255])^keySchedule[ksRow++];t2=(SBOX[s2>>>24]<<24|SBOX[s3>>>16&255]<<16|SBOX[s0>>>8&255]<<8|SBOX[s1&255])^keySchedule[ksRow++];t3=(SBOX[s3>>>24]<<24|SBOX[s0>>>16&255]<<16|SBOX[s1>>>8&255]<<8|SBOX[s2&255])^keySchedule[ksRow++];return[fixup_uint32(t0),fixup_uint32(t1),fixup_uint32(t2),fixup_uint32(t3)]};exports.AES=AES}).call(this,require("buffer").Buffer)},{buffer:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/buffer/index.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/browserify-aes/authCipher.js":[function(require,module,exports){(function(Buffer){var aes=require("./aes");var Transform=require("cipher-base");var inherits=require("inherits");var GHASH=require("./ghash");var xor=require("buffer-xor");inherits(StreamCipher,Transform);module.exports=StreamCipher;function StreamCipher(mode,key,iv,decrypt){if(!(this instanceof StreamCipher)){return new StreamCipher(mode,key,iv)}Transform.call(this);this._finID=Buffer.concat([iv,new Buffer([0,0,0,1])]);iv=Buffer.concat([iv,new Buffer([0,0,0,2])]);this._cipher=new aes.AES(key);this._prev=new Buffer(iv.length);this._cache=new Buffer("");this._secCache=new Buffer("");this._decrypt=decrypt;this._alen=0;this._len=0;iv.copy(this._prev);this._mode=mode;var h=new Buffer(4);h.fill(0);this._ghash=new GHASH(this._cipher.encryptBlock(h));this._authTag=null;this._called=false}StreamCipher.prototype._update=function(chunk){if(!this._called&&this._alen){var rump=16-this._alen%16;if(rump<16){rump=new Buffer(rump);rump.fill(0);this._ghash.update(rump)}}this._called=true;var out=this._mode.encrypt(this,chunk);if(this._decrypt){this._ghash.update(chunk)}else{this._ghash.update(out)}this._len+=chunk.length;return out};StreamCipher.prototype._final=function(){if(this._decrypt&&!this._authTag){throw new Error("Unsupported state or unable to authenticate data")}var tag=xor(this._ghash.final(this._alen*8,this._len*8),this._cipher.encryptBlock(this._finID));if(this._decrypt){if(xorTest(tag,this._authTag)){throw new Error("Unsupported state or unable to authenticate data")}}else{this._authTag=tag}this._cipher.scrub()};StreamCipher.prototype.getAuthTag=function getAuthTag(){if(!this._decrypt&&Buffer.isBuffer(this._authTag)){return this._authTag}else{throw new Error("Attempting to get auth tag in unsupported state")}};StreamCipher.prototype.setAuthTag=function setAuthTag(tag){if(this._decrypt){this._authTag=tag}else{throw new Error("Attempting to set auth tag in unsupported state")}};StreamCipher.prototype.setAAD=function setAAD(buf){if(!this._called){this._ghash.update(buf);this._alen+=buf.length}else{throw new Error("Attempting to set AAD in unsupported state")}};function xorTest(a,b){var out=0;if(a.length!==b.length){out++}var len=Math.min(a.length,b.length);var i=-1;while(++i<len){out+=a[i]^b[i]}return out}}).call(this,require("buffer").Buffer)},{"./aes":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/browserify-aes/aes.js","./ghash":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/browserify-aes/ghash.js",buffer:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/buffer/index.js","buffer-xor":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/buffer-xor/index.js","cipher-base":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/cipher-base/index.js",inherits:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/inherits/inherits_browser.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/browserify-aes/browser.js":[function(require,module,exports){var ciphers=require("./encrypter");exports.createCipher=exports.Cipher=ciphers.createCipher;exports.createCipheriv=exports.Cipheriv=ciphers.createCipheriv;
var deciphers=require("./decrypter");exports.createDecipher=exports.Decipher=deciphers.createDecipher;exports.createDecipheriv=exports.Decipheriv=deciphers.createDecipheriv;var modes=require("./modes");function getCiphers(){return Object.keys(modes)}exports.listCiphers=exports.getCiphers=getCiphers},{"./decrypter":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/browserify-aes/decrypter.js","./encrypter":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/browserify-aes/encrypter.js","./modes":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/browserify-aes/modes.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/browserify-aes/decrypter.js":[function(require,module,exports){(function(Buffer){var aes=require("./aes");var Transform=require("cipher-base");var inherits=require("inherits");var modes=require("./modes");var StreamCipher=require("./streamCipher");var AuthCipher=require("./authCipher");var ebtk=require("evp_bytestokey");inherits(Decipher,Transform);function Decipher(mode,key,iv){if(!(this instanceof Decipher)){return new Decipher(mode,key,iv)}Transform.call(this);this._cache=new Splitter;this._last=void 0;this._cipher=new aes.AES(key);this._prev=new Buffer(iv.length);iv.copy(this._prev);this._mode=mode;this._autopadding=true}Decipher.prototype._update=function(data){this._cache.add(data);var chunk;var thing;var out=[];while(chunk=this._cache.get(this._autopadding)){thing=this._mode.decrypt(this,chunk);out.push(thing)}return Buffer.concat(out)};Decipher.prototype._final=function(){var chunk=this._cache.flush();if(this._autopadding){return unpad(this._mode.decrypt(this,chunk))}else if(chunk){throw new Error("data not multiple of block length")}};Decipher.prototype.setAutoPadding=function(setTo){this._autopadding=!!setTo;return this};function Splitter(){if(!(this instanceof Splitter)){return new Splitter}this.cache=new Buffer("")}Splitter.prototype.add=function(data){this.cache=Buffer.concat([this.cache,data])};Splitter.prototype.get=function(autoPadding){var out;if(autoPadding){if(this.cache.length>16){out=this.cache.slice(0,16);this.cache=this.cache.slice(16);return out}}else{if(this.cache.length>=16){out=this.cache.slice(0,16);this.cache=this.cache.slice(16);return out}}return null};Splitter.prototype.flush=function(){if(this.cache.length){return this.cache}};function unpad(last){var padded=last[15];var i=-1;while(++i<padded){if(last[i+(16-padded)]!==padded){throw new Error("unable to decrypt data")}}if(padded===16){return}return last.slice(0,16-padded)}var modelist={ECB:require("./modes/ecb"),CBC:require("./modes/cbc"),CFB:require("./modes/cfb"),CFB8:require("./modes/cfb8"),CFB1:require("./modes/cfb1"),OFB:require("./modes/ofb"),CTR:require("./modes/ctr"),GCM:require("./modes/ctr")};function createDecipheriv(suite,password,iv){var config=modes[suite.toLowerCase()];if(!config){throw new TypeError("invalid suite type")}if(typeof iv==="string"){iv=new Buffer(iv)}if(typeof password==="string"){password=new Buffer(password)}if(password.length!==config.key/8){throw new TypeError("invalid key length "+password.length)}if(iv.length!==config.iv){throw new TypeError("invalid iv length "+iv.length)}if(config.type==="stream"){return new StreamCipher(modelist[config.mode],password,iv,true)}else if(config.type==="auth"){return new AuthCipher(modelist[config.mode],password,iv,true)}return new Decipher(modelist[config.mode],password,iv)}function createDecipher(suite,password){var config=modes[suite.toLowerCase()];if(!config){throw new TypeError("invalid suite type")}var keys=ebtk(password,false,config.key,config.iv);return createDecipheriv(suite,keys.key,keys.iv)}exports.createDecipher=createDecipher;exports.createDecipheriv=createDecipheriv}).call(this,require("buffer").Buffer)},{"./aes":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/browserify-aes/aes.js","./authCipher":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/browserify-aes/authCipher.js","./modes":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/browserify-aes/modes.js","./modes/cbc":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/browserify-aes/modes/cbc.js","./modes/cfb":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/browserify-aes/modes/cfb.js","./modes/cfb1":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/browserify-aes/modes/cfb1.js","./modes/cfb8":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/browserify-aes/modes/cfb8.js","./modes/ctr":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/browserify-aes/modes/ctr.js","./modes/ecb":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/browserify-aes/modes/ecb.js","./modes/ofb":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/browserify-aes/modes/ofb.js","./streamCipher":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/browserify-aes/streamCipher.js",buffer:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/buffer/index.js","cipher-base":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/cipher-base/index.js",evp_bytestokey:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/evp_bytestokey/index.js",inherits:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/inherits/inherits_browser.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/browserify-aes/encrypter.js":[function(require,module,exports){(function(Buffer){var aes=require("./aes");var Transform=require("cipher-base");var inherits=require("inherits");var modes=require("./modes");var ebtk=require("evp_bytestokey");var StreamCipher=require("./streamCipher");var AuthCipher=require("./authCipher");inherits(Cipher,Transform);function Cipher(mode,key,iv){if(!(this instanceof Cipher)){return new Cipher(mode,key,iv)}Transform.call(this);this._cache=new Splitter;this._cipher=new aes.AES(key);this._prev=new Buffer(iv.length);iv.copy(this._prev);this._mode=mode;this._autopadding=true}Cipher.prototype._update=function(data){this._cache.add(data);var chunk;var thing;var out=[];while(chunk=this._cache.get()){thing=this._mode.encrypt(this,chunk);out.push(thing)}return Buffer.concat(out)};Cipher.prototype._final=function(){var chunk=this._cache.flush();if(this._autopadding){chunk=this._mode.encrypt(this,chunk);this._cipher.scrub();return chunk}else if(chunk.toString("hex")!=="10101010101010101010101010101010"){this._cipher.scrub();throw new Error("data not multiple of block length")}};Cipher.prototype.setAutoPadding=function(setTo){this._autopadding=!!setTo;return this};function Splitter(){if(!(this instanceof Splitter)){return new Splitter}this.cache=new Buffer("")}Splitter.prototype.add=function(data){this.cache=Buffer.concat([this.cache,data])};Splitter.prototype.get=function(){if(this.cache.length>15){var out=this.cache.slice(0,16);this.cache=this.cache.slice(16);return out}return null};Splitter.prototype.flush=function(){var len=16-this.cache.length;var padBuff=new Buffer(len);var i=-1;while(++i<len){padBuff.writeUInt8(len,i)}var out=Buffer.concat([this.cache,padBuff]);return out};var modelist={ECB:require("./modes/ecb"),CBC:require("./modes/cbc"),CFB:require("./modes/cfb"),CFB8:require("./modes/cfb8"),CFB1:require("./modes/cfb1"),OFB:require("./modes/ofb"),CTR:require("./modes/ctr"),GCM:require("./modes/ctr")};function createCipheriv(suite,password,iv){var config=modes[suite.toLowerCase()];if(!config){throw new TypeError("invalid suite type")}if(typeof iv==="string"){iv=new Buffer(iv)}if(typeof password==="string"){password=new Buffer(password)}if(password.length!==config.key/8){throw new TypeError("invalid key length "+password.length)}if(iv.length!==config.iv){throw new TypeError("invalid iv length "+iv.length)}if(config.type==="stream"){return new StreamCipher(modelist[config.mode],password,iv)}else if(config.type==="auth"){return new AuthCipher(modelist[config.mode],password,iv)}return new Cipher(modelist[config.mode],password,iv)}function createCipher(suite,password){var config=modes[suite.toLowerCase()];if(!config){throw new TypeError("invalid suite type")}var keys=ebtk(password,false,config.key,config.iv);return createCipheriv(suite,keys.key,keys.iv)}exports.createCipheriv=createCipheriv;exports.createCipher=createCipher}).call(this,require("buffer").Buffer)},{"./aes":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/browserify-aes/aes.js","./authCipher":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/browserify-aes/authCipher.js","./modes":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/browserify-aes/modes.js","./modes/cbc":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/browserify-aes/modes/cbc.js","./modes/cfb":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/browserify-aes/modes/cfb.js","./modes/cfb1":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/browserify-aes/modes/cfb1.js","./modes/cfb8":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/browserify-aes/modes/cfb8.js","./modes/ctr":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/browserify-aes/modes/ctr.js","./modes/ecb":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/browserify-aes/modes/ecb.js","./modes/ofb":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/browserify-aes/modes/ofb.js","./streamCipher":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/browserify-aes/streamCipher.js",buffer:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/buffer/index.js","cipher-base":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/cipher-base/index.js",evp_bytestokey:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/evp_bytestokey/index.js",inherits:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/inherits/inherits_browser.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/browserify-aes/ghash.js":[function(require,module,exports){(function(Buffer){var zeros=new Buffer(16);zeros.fill(0);module.exports=GHASH;function GHASH(key){this.h=key;this.state=new Buffer(16);this.state.fill(0);this.cache=new Buffer("")}GHASH.prototype.ghash=function(block){var i=-1;while(++i<block.length){this.state[i]^=block[i]}this._multiply()};GHASH.prototype._multiply=function(){var Vi=toArray(this.h);var Zi=[0,0,0,0];var j,xi,lsb_Vi;var i=-1;while(++i<128){xi=(this.state[~~(i/8)]&1<<7-i%8)!==0;if(xi){Zi=xor(Zi,Vi)}lsb_Vi=(Vi[3]&1)!==0;for(j=3;j>0;j--){Vi[j]=Vi[j]>>>1|(Vi[j-1]&1)<<31}Vi[0]=Vi[0]>>>1;if(lsb_Vi){Vi[0]=Vi[0]^225<<24}}this.state=fromArray(Zi)};GHASH.prototype.update=function(buf){this.cache=Buffer.concat([this.cache,buf]);var chunk;while(this.cache.length>=16){chunk=this.cache.slice(0,16);this.cache=this.cache.slice(16);this.ghash(chunk)}};GHASH.prototype.final=function(abl,bl){if(this.cache.length){this.ghash(Buffer.concat([this.cache,zeros],16))}this.ghash(fromArray([0,abl,0,bl]));return this.state};function toArray(buf){return[buf.readUInt32BE(0),buf.readUInt32BE(4),buf.readUInt32BE(8),buf.readUInt32BE(12)]}function fromArray(out){out=out.map(fixup_uint32);var buf=new Buffer(16);buf.writeUInt32BE(out[0],0);buf.writeUInt32BE(out[1],4);buf.writeUInt32BE(out[2],8);buf.writeUInt32BE(out[3],12);return buf}var uint_max=Math.pow(2,32);function fixup_uint32(x){var ret,x_pos;ret=x>uint_max||x<0?(x_pos=Math.abs(x)%uint_max,x<0?uint_max-x_pos:x_pos):x;return ret}function xor(a,b){return[a[0]^b[0],a[1]^b[1],a[2]^b[2],a[3]^b[3]]}}).call(this,require("buffer").Buffer)},{buffer:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/buffer/index.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/browserify-aes/modes.js":[function(require,module,exports){exports["aes-128-ecb"]={cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"};exports["aes-192-ecb"]={cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"};exports["aes-256-ecb"]={cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"};exports["aes-128-cbc"]={cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"};exports["aes-192-cbc"]={cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"};exports["aes-256-cbc"]={cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"};exports["aes128"]=exports["aes-128-cbc"];exports["aes192"]=exports["aes-192-cbc"];exports["aes256"]=exports["aes-256-cbc"];exports["aes-128-cfb"]={cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"};exports["aes-192-cfb"]={cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"};exports["aes-256-cfb"]={cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"};exports["aes-128-cfb8"]={cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"};exports["aes-192-cfb8"]={cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"};exports["aes-256-cfb8"]={cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"};exports["aes-128-cfb1"]={cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"};exports["aes-192-cfb1"]={cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"};exports["aes-256-cfb1"]={cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"};exports["aes-128-ofb"]={cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"};exports["aes-192-ofb"]={cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"};exports["aes-256-ofb"]={cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"};exports["aes-128-ctr"]={cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"};exports["aes-192-ctr"]={cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"};exports["aes-256-ctr"]={cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"};exports["aes-128-gcm"]={cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"};exports["aes-192-gcm"]={cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"};exports["aes-256-gcm"]={cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}},{}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/browserify-aes/modes/cbc.js":[function(require,module,exports){var xor=require("buffer-xor");exports.encrypt=function(self,block){var data=xor(block,self._prev);self._prev=self._cipher.encryptBlock(data);return self._prev};exports.decrypt=function(self,block){var pad=self._prev;self._prev=block;var out=self._cipher.decryptBlock(block);return xor(out,pad)}},{"buffer-xor":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/buffer-xor/index.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/browserify-aes/modes/cfb.js":[function(require,module,exports){(function(Buffer){var xor=require("buffer-xor");exports.encrypt=function(self,data,decrypt){var out=new Buffer("");var len;while(data.length){if(self._cache.length===0){self._cache=self._cipher.encryptBlock(self._prev);self._prev=new Buffer("")}if(self._cache.length<=data.length){len=self._cache.length;out=Buffer.concat([out,encryptStart(self,data.slice(0,len),decrypt)]);data=data.slice(len)}else{out=Buffer.concat([out,encryptStart(self,data,decrypt)]);break}}return out};function encryptStart(self,data,decrypt){var len=data.length;var out=xor(data,self._cache);self._cache=self._cache.slice(len);self._prev=Buffer.concat([self._prev,decrypt?data:out]);return out}}).call(this,require("buffer").Buffer)},{buffer:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/buffer/index.js","buffer-xor":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/buffer-xor/index.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/browserify-aes/modes/cfb1.js":[function(require,module,exports){(function(Buffer){function encryptByte(self,byteParam,decrypt){var pad;var i=-1;var len=8;var out=0;var bit,value;while(++i<len){pad=self._cipher.encryptBlock(self._prev);bit=byteParam&1<<7-i?128:0;value=pad[0]^bit;out+=(value&128)>>i%8;self._prev=shiftIn(self._prev,decrypt?bit:value)}return out}exports.encrypt=function(self,chunk,decrypt){var len=chunk.length;var out=new Buffer(len);var i=-1;while(++i<len){out[i]=encryptByte(self,chunk[i],decrypt)}return out};function shiftIn(buffer,value){var len=buffer.length;var i=-1;var out=new Buffer(buffer.length);buffer=Buffer.concat([buffer,new Buffer([value])]);while(++i<len){out[i]=buffer[i]<<1|buffer[i+1]>>7}return out}}).call(this,require("buffer").Buffer)},{buffer:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/buffer/index.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/browserify-aes/modes/cfb8.js":[function(require,module,exports){(function(Buffer){function encryptByte(self,byteParam,decrypt){var pad=self._cipher.encryptBlock(self._prev);var out=pad[0]^byteParam;self._prev=Buffer.concat([self._prev.slice(1),new Buffer([decrypt?byteParam:out])]);return out}exports.encrypt=function(self,chunk,decrypt){var len=chunk.length;var out=new Buffer(len);var i=-1;while(++i<len){out[i]=encryptByte(self,chunk[i],decrypt)}return out}}).call(this,require("buffer").Buffer)},{buffer:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/buffer/index.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/browserify-aes/modes/ctr.js":[function(require,module,exports){(function(Buffer){var xor=require("buffer-xor");function incr32(iv){var len=iv.length;var item;while(len--){item=iv.readUInt8(len);if(item===255){iv.writeUInt8(0,len)}else{item++;iv.writeUInt8(item,len);break}}}function getBlock(self){var out=self._cipher.encryptBlock(self._prev);incr32(self._prev);return out}exports.encrypt=function(self,chunk){while(self._cache.length<chunk.length){self._cache=Buffer.concat([self._cache,getBlock(self)])}var pad=self._cache.slice(0,chunk.length);self._cache=self._cache.slice(chunk.length);return xor(chunk,pad)}}).call(this,require("buffer").Buffer)},{buffer:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/buffer/index.js","buffer-xor":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/buffer-xor/index.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/browserify-aes/modes/ecb.js":[function(require,module,exports){exports.encrypt=function(self,block){return self._cipher.encryptBlock(block)};exports.decrypt=function(self,block){return self._cipher.decryptBlock(block)}},{}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/browserify-aes/modes/ofb.js":[function(require,module,exports){(function(Buffer){var xor=require("buffer-xor");function getBlock(self){self._prev=self._cipher.encryptBlock(self._prev);return self._prev}exports.encrypt=function(self,chunk){while(self._cache.length<chunk.length){self._cache=Buffer.concat([self._cache,getBlock(self)])}var pad=self._cache.slice(0,chunk.length);self._cache=self._cache.slice(chunk.length);return xor(chunk,pad)}}).call(this,require("buffer").Buffer)},{buffer:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/buffer/index.js","buffer-xor":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/buffer-xor/index.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/browserify-aes/streamCipher.js":[function(require,module,exports){(function(Buffer){var aes=require("./aes");var Transform=require("cipher-base");var inherits=require("inherits");inherits(StreamCipher,Transform);module.exports=StreamCipher;function StreamCipher(mode,key,iv,decrypt){if(!(this instanceof StreamCipher)){return new StreamCipher(mode,key,iv)}Transform.call(this);this._cipher=new aes.AES(key);this._prev=new Buffer(iv.length);this._cache=new Buffer("");this._secCache=new Buffer("");this._decrypt=decrypt;iv.copy(this._prev);this._mode=mode}StreamCipher.prototype._update=function(chunk){return this._mode.encrypt(this,chunk,this._decrypt)};StreamCipher.prototype._final=function(){this._cipher.scrub()}}).call(this,require("buffer").Buffer)},{"./aes":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/browserify-aes/aes.js",buffer:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/buffer/index.js","cipher-base":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/cipher-base/index.js",inherits:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/inherits/inherits_browser.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/browserify-cipher/browser.js":[function(require,module,exports){var ebtk=require("evp_bytestokey");var aes=require("browserify-aes/browser");var DES=require("browserify-des");var desModes=require("browserify-des/modes");var aesModes=require("browserify-aes/modes");function createCipher(suite,password){var keyLen,ivLen;suite=suite.toLowerCase();if(aesModes[suite]){keyLen=aesModes[suite].key;ivLen=aesModes[suite].iv}else if(desModes[suite]){keyLen=desModes[suite].key*8;ivLen=desModes[suite].iv}else{throw new TypeError("invalid suite type")}var keys=ebtk(password,false,keyLen,ivLen);return createCipheriv(suite,keys.key,keys.iv)}function createDecipher(suite,password){var keyLen,ivLen;suite=suite.toLowerCase();if(aesModes[suite]){keyLen=aesModes[suite].key;ivLen=aesModes[suite].iv}else if(desModes[suite]){keyLen=desModes[suite].key*8;ivLen=desModes[suite].iv}else{throw new TypeError("invalid suite type")}var keys=ebtk(password,false,keyLen,ivLen);return createDecipheriv(suite,keys.key,keys.iv)}function createCipheriv(suite,key,iv){suite=suite.toLowerCase();if(aesModes[suite]){return aes.createCipheriv(suite,key,iv)}else if(desModes[suite]){return new DES({key:key,iv:iv,mode:suite})}else{throw new TypeError("invalid suite type")}}function createDecipheriv(suite,key,iv){suite=suite.toLowerCase();if(aesModes[suite]){return aes.createDecipheriv(suite,key,iv)}else if(desModes[suite]){return new DES({key:key,iv:iv,mode:suite,decrypt:true})}else{throw new TypeError("invalid suite type")}}exports.createCipher=exports.Cipher=createCipher;exports.createCipheriv=exports.Cipheriv=createCipheriv;exports.createDecipher=exports.Decipher=createDecipher;exports.createDecipheriv=exports.Decipheriv=createDecipheriv;function getCiphers(){return Object.keys(desModes).concat(aes.getCiphers())}exports.listCiphers=exports.getCiphers=getCiphers},{"browserify-aes/browser":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/browserify-aes/browser.js","browserify-aes/modes":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/browserify-aes/modes.js","browserify-des":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/browserify-des/index.js","browserify-des/modes":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/browserify-des/modes.js",evp_bytestokey:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/evp_bytestokey/index.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/browserify-des/index.js":[function(require,module,exports){(function(Buffer){var CipherBase=require("cipher-base");var des=require("des.js");var inherits=require("inherits");var modes={"des-ede3-cbc":des.CBC.instantiate(des.EDE),"des-ede3":des.EDE,"des-ede-cbc":des.CBC.instantiate(des.EDE),"des-ede":des.EDE,"des-cbc":des.CBC.instantiate(des.DES),"des-ecb":des.DES};modes.des=modes["des-cbc"];modes.des3=modes["des-ede3-cbc"];module.exports=DES;inherits(DES,CipherBase);function DES(opts){CipherBase.call(this);var modeName=opts.mode.toLowerCase();var mode=modes[modeName];var type;if(opts.decrypt){type="decrypt"}else{type="encrypt"}var key=opts.key;if(modeName==="des-ede"||modeName==="des-ede-cbc"){key=Buffer.concat([key,key.slice(0,8)])}var iv=opts.iv;this._des=mode.create({key:key,iv:iv,type:type})}DES.prototype._update=function(data){return new Buffer(this._des.update(data))};DES.prototype._final=function(){return new Buffer(this._des.final())}}).call(this,require("buffer").Buffer)},{buffer:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/buffer/index.js","cipher-base":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/cipher-base/index.js","des.js":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/des.js/lib/des.js",inherits:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/inherits/inherits_browser.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/browserify-des/modes.js":[function(require,module,exports){exports["des-ecb"]={key:8,iv:0};exports["des-cbc"]=exports.des={key:8,iv:8};exports["des-ede3-cbc"]=exports.des3={key:24,iv:8};exports["des-ede3"]={key:24,iv:0};exports["des-ede-cbc"]={key:16,iv:8};exports["des-ede"]={key:16,iv:0}},{}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/browserify-rsa/index.js":[function(require,module,exports){(function(Buffer){var bn=require("bn.js");var randomBytes=require("randombytes");module.exports=crt;function blind(priv){var r=getr(priv);var blinder=r.toRed(bn.mont(priv.modulus)).redPow(new bn(priv.publicExponent)).fromRed();return{blinder:blinder,unblinder:r.invm(priv.modulus)}}function crt(msg,priv){var blinds=blind(priv);var len=priv.modulus.byteLength();var mod=bn.mont(priv.modulus);var blinded=new bn(msg).mul(blinds.blinder).umod(priv.modulus);var c1=blinded.toRed(bn.mont(priv.prime1));var c2=blinded.toRed(bn.mont(priv.prime2));var qinv=priv.coefficient;var p=priv.prime1;var q=priv.prime2;var m1=c1.redPow(priv.exponent1);var m2=c2.redPow(priv.exponent2);m1=m1.fromRed();m2=m2.fromRed();var h=m1.isub(m2).imul(qinv).umod(p);h.imul(q);m2.iadd(h);return new Buffer(m2.imul(blinds.unblinder).umod(priv.modulus).toArray(false,len))}crt.getr=getr;function getr(priv){var len=priv.modulus.byteLength();var r=new bn(randomBytes(len));while(r.cmp(priv.modulus)>=0||!r.umod(priv.prime1)||!r.umod(priv.prime2)){r=new bn(randomBytes(len))}return r}}).call(this,require("buffer").Buffer)},{"bn.js":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/bn.js/lib/bn.js",buffer:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/buffer/index.js",randombytes:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/randombytes/browser.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/browserify-sign/algos.js":[function(require,module,exports){(function(Buffer){"use strict";exports["RSA-SHA224"]=exports.sha224WithRSAEncryption={sign:"rsa",hash:"sha224",id:new Buffer("302d300d06096086480165030402040500041c","hex")};exports["RSA-SHA256"]=exports.sha256WithRSAEncryption={sign:"rsa",hash:"sha256",id:new Buffer("3031300d060960864801650304020105000420","hex")};exports["RSA-SHA384"]=exports.sha384WithRSAEncryption={sign:"rsa",hash:"sha384",id:new Buffer("3041300d060960864801650304020205000430","hex")};exports["RSA-SHA512"]=exports.sha512WithRSAEncryption={sign:"rsa",hash:"sha512",id:new Buffer("3051300d060960864801650304020305000440","hex")};exports["RSA-SHA1"]={sign:"rsa",hash:"sha1",id:new Buffer("3021300906052b0e03021a05000414","hex")};exports["ecdsa-with-SHA1"]={sign:"ecdsa",hash:"sha1",id:new Buffer("","hex")};exports.DSA=exports["DSA-SHA1"]=exports["DSA-SHA"]={sign:"dsa",hash:"sha1",id:new Buffer("","hex")};exports["DSA-SHA224"]=exports["DSA-WITH-SHA224"]={sign:"dsa",hash:"sha224",id:new Buffer("","hex")};exports["DSA-SHA256"]=exports["DSA-WITH-SHA256"]={sign:"dsa",hash:"sha256",id:new Buffer("","hex")};exports["DSA-SHA384"]=exports["DSA-WITH-SHA384"]={sign:"dsa",hash:"sha384",id:new Buffer("","hex")};exports["DSA-SHA512"]=exports["DSA-WITH-SHA512"]={sign:"dsa",hash:"sha512",id:new Buffer("","hex")};exports["DSA-RIPEMD160"]={sign:"dsa",hash:"rmd160",id:new Buffer("","hex")};exports["RSA-RIPEMD160"]=exports.ripemd160WithRSA={sign:"rsa",hash:"rmd160",id:new Buffer("3021300906052b2403020105000414","hex")};exports["RSA-MD5"]=exports.md5WithRSAEncryption={sign:"rsa",hash:"md5",id:new Buffer("3020300c06082a864886f70d020505000410","hex")}}).call(this,require("buffer").Buffer)},{buffer:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/buffer/index.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/browserify-sign/browser.js":[function(require,module,exports){(function(Buffer){var _algos=require("./algos");var createHash=require("create-hash");var inherits=require("inherits");var sign=require("./sign");var stream=require("stream");var verify=require("./verify");var algos={};Object.keys(_algos).forEach(function(key){algos[key]=algos[key.toLowerCase()]=_algos[key]});function Sign(algorithm){stream.Writable.call(this);var data=algos[algorithm];if(!data){throw new Error("Unknown message digest")}this._hashType=data.hash;this._hash=createHash(data.hash);this._tag=data.id;this._signType=data.sign}inherits(Sign,stream.Writable);Sign.prototype._write=function _write(data,_,done){this._hash.update(data);done()};Sign.prototype.update=function update(data,enc){if(typeof data==="string"){data=new Buffer(data,enc)}this._hash.update(data);return this};Sign.prototype.sign=function signMethod(key,enc){this.end();var hash=this._hash.digest();var sig=sign(Buffer.concat([this._tag,hash]),key,this._hashType,this._signType);return enc?sig.toString(enc):sig};function Verify(algorithm){stream.Writable.call(this);var data=algos[algorithm];if(!data){throw new Error("Unknown message digest")}this._hash=createHash(data.hash);this._tag=data.id;this._signType=data.sign}inherits(Verify,stream.Writable);Verify.prototype._write=function _write(data,_,done){this._hash.update(data);done()};Verify.prototype.update=function update(data,enc){if(typeof data==="string"){data=new Buffer(data,enc)}this._hash.update(data);return this};Verify.prototype.verify=function verifyMethod(key,sig,enc){if(typeof sig==="string"){sig=new Buffer(sig,enc)}this.end();var hash=this._hash.digest();return verify(sig,Buffer.concat([this._tag,hash]),key,this._signType)};function createSign(algorithm){return new Sign(algorithm)}function createVerify(algorithm){return new Verify(algorithm)}module.exports={Sign:createSign,Verify:createVerify,createSign:createSign,createVerify:createVerify}}).call(this,require("buffer").Buffer)},{"./algos":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/browserify-sign/algos.js","./sign":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/browserify-sign/sign.js","./verify":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/browserify-sign/verify.js",buffer:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/buffer/index.js","create-hash":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/create-hash/browser.js",inherits:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/inherits/inherits_browser.js",stream:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/stream-browserify/index.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/browserify-sign/curves.js":[function(require,module,exports){"use strict";exports["1.3.132.0.10"]="secp256k1";exports["1.3.132.0.33"]="p224";exports["1.2.840.10045.3.1.1"]="p192";exports["1.2.840.10045.3.1.7"]="p256";exports["1.3.132.0.34"]="p384";exports["1.3.132.0.35"]="p521"},{}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/browserify-sign/sign.js":[function(require,module,exports){(function(Buffer){var createHmac=require("create-hmac");var crt=require("browserify-rsa");var curves=require("./curves");var elliptic=require("elliptic");var parseKeys=require("parse-asn1");var BN=require("bn.js");var EC=elliptic.ec;function sign(hash,key,hashType,signType){var priv=parseKeys(key);
if(priv.curve){if(signType!=="ecdsa")throw new Error("wrong private key type");return ecSign(hash,priv)}else if(priv.type==="dsa"){if(signType!=="dsa"){throw new Error("wrong private key type")}return dsaSign(hash,priv,hashType)}else{if(signType!=="rsa")throw new Error("wrong private key type")}var len=priv.modulus.byteLength();var pad=[0,1];while(hash.length+pad.length+1<len){pad.push(255)}pad.push(0);var i=-1;while(++i<hash.length){pad.push(hash[i])}var out=crt(pad,priv);return out}function ecSign(hash,priv){var curveId=curves[priv.curve.join(".")];if(!curveId)throw new Error("unknown curve "+priv.curve.join("."));var curve=new EC(curveId);var key=curve.genKeyPair();key._importPrivate(priv.privateKey);var out=key.sign(hash);return new Buffer(out.toDER())}function dsaSign(hash,priv,algo){var x=priv.params.priv_key;var p=priv.params.p;var q=priv.params.q;var g=priv.params.g;var r=new BN(0);var k;var H=bits2int(hash,q).mod(q);var s=false;var kv=getKey(x,q,hash,algo);while(s===false){k=makeKey(q,kv,algo);r=makeR(g,k,p,q);s=k.invm(q).imul(H.add(x.mul(r))).mod(q);if(!s.cmpn(0)){s=false;r=new BN(0)}}return toDER(r,s)}function toDER(r,s){r=r.toArray();s=s.toArray();if(r[0]&128){r=[0].concat(r)}if(s[0]&128){s=[0].concat(s)}var total=r.length+s.length+4;var res=[48,total,2,r.length];res=res.concat(r,[2,s.length],s);return new Buffer(res)}function getKey(x,q,hash,algo){x=new Buffer(x.toArray());if(x.length<q.byteLength()){var zeros=new Buffer(q.byteLength()-x.length);zeros.fill(0);x=Buffer.concat([zeros,x])}var hlen=hash.length;var hbits=bits2octets(hash,q);var v=new Buffer(hlen);v.fill(1);var k=new Buffer(hlen);k.fill(0);k=createHmac(algo,k).update(v).update(new Buffer([0])).update(x).update(hbits).digest();v=createHmac(algo,k).update(v).digest();k=createHmac(algo,k).update(v).update(new Buffer([1])).update(x).update(hbits).digest();v=createHmac(algo,k).update(v).digest();return{k:k,v:v}}function bits2int(obits,q){var bits=new BN(obits);var shift=(obits.length<<3)-q.bitLength();if(shift>0){bits.ishrn(shift)}return bits}function bits2octets(bits,q){bits=bits2int(bits,q);bits=bits.mod(q);var out=new Buffer(bits.toArray());if(out.length<q.byteLength()){var zeros=new Buffer(q.byteLength()-out.length);zeros.fill(0);out=Buffer.concat([zeros,out])}return out}function makeKey(q,kv,algo){var t,k;do{t=new Buffer("");while(t.length*8<q.bitLength()){kv.v=createHmac(algo,kv.k).update(kv.v).digest();t=Buffer.concat([t,kv.v])}k=bits2int(t,q);kv.k=createHmac(algo,kv.k).update(kv.v).update(new Buffer([0])).digest();kv.v=createHmac(algo,kv.k).update(kv.v).digest()}while(k.cmp(q)!==-1);return k}function makeR(g,k,p,q){return g.toRed(BN.mont(p)).redPow(k).fromRed().mod(q)}module.exports=sign;module.exports.getKey=getKey;module.exports.makeKey=makeKey}).call(this,require("buffer").Buffer)},{"./curves":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/browserify-sign/curves.js","bn.js":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/bn.js/lib/bn.js","browserify-rsa":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/browserify-rsa/index.js",buffer:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/buffer/index.js","create-hmac":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/create-hmac/browser.js",elliptic:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/elliptic/lib/elliptic.js","parse-asn1":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/parse-asn1/index.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/browserify-sign/verify.js":[function(require,module,exports){(function(Buffer){var curves=require("./curves");var elliptic=require("elliptic");var parseKeys=require("parse-asn1");var BN=require("bn.js");var EC=elliptic.ec;function verify(sig,hash,key,signType){var pub=parseKeys(key);if(pub.type==="ec"){if(signType!=="ecdsa"){throw new Error("wrong public key type")}return ecVerify(sig,hash,pub)}else if(pub.type==="dsa"){if(signType!=="dsa"){throw new Error("wrong public key type")}return dsaVerify(sig,hash,pub)}else{if(signType!=="rsa"){throw new Error("wrong public key type")}}var len=pub.modulus.byteLength();var pad=[1];var padNum=0;while(hash.length+pad.length+2<len){pad.push(255);padNum++}pad.push(0);var i=-1;while(++i<hash.length){pad.push(hash[i])}pad=new Buffer(pad);var red=BN.mont(pub.modulus);sig=new BN(sig).toRed(red);sig=sig.redPow(new BN(pub.publicExponent));sig=new Buffer(sig.fromRed().toArray());var out=0;if(padNum<8){out=1}len=Math.min(sig.length,pad.length);if(sig.length!==pad.length){out=1}i=-1;while(++i<len){out|=sig[i]^pad[i]}return out===0}function ecVerify(sig,hash,pub){var curveId=curves[pub.data.algorithm.curve.join(".")];if(!curveId)throw new Error("unknown curve "+pub.data.algorithm.curve.join("."));var curve=new EC(curveId);var pubkey=pub.data.subjectPrivateKey.data;return curve.verify(hash,sig,pubkey)}function dsaVerify(sig,hash,pub){var p=pub.data.p;var q=pub.data.q;var g=pub.data.g;var y=pub.data.pub_key;var unpacked=parseKeys.signature.decode(sig,"der");var s=unpacked.s;var r=unpacked.r;checkValue(s,q);checkValue(r,q);var montp=BN.mont(p);var w=s.invm(q);var v=g.toRed(montp).redPow(new BN(hash).mul(w).mod(q)).fromRed().mul(y.toRed(montp).redPow(r.mul(w).mod(q)).fromRed()).mod(p).mod(q);return!v.cmp(r)}function checkValue(b,q){if(b.cmpn(0)<=0){throw new Error("invalid sig")}if(b.cmp(q)>=q){throw new Error("invalid sig")}}module.exports=verify}).call(this,require("buffer").Buffer)},{"./curves":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/browserify-sign/curves.js","bn.js":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/bn.js/lib/bn.js",buffer:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/buffer/index.js",elliptic:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/elliptic/lib/elliptic.js","parse-asn1":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/parse-asn1/index.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/browserify/lib/_empty.js":[function(require,module,exports){arguments[4]["/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/browser-resolve/empty.js"][0].apply(exports,arguments)},{}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/buffer-shims/index.js":[function(require,module,exports){(function(global){"use strict";var buffer=require("buffer");var Buffer=buffer.Buffer;var SlowBuffer=buffer.SlowBuffer;var MAX_LEN=buffer.kMaxLength||2147483647;exports.alloc=function alloc(size,fill,encoding){if(typeof Buffer.alloc==="function"){return Buffer.alloc(size,fill,encoding)}if(typeof encoding==="number"){throw new TypeError("encoding must not be number")}if(typeof size!=="number"){throw new TypeError("size must be a number")}if(size>MAX_LEN){throw new RangeError("size is too large")}var enc=encoding;var _fill=fill;if(_fill===undefined){enc=undefined;_fill=0}var buf=new Buffer(size);if(typeof _fill==="string"){var fillBuf=new Buffer(_fill,enc);var flen=fillBuf.length;var i=-1;while(++i<size){buf[i]=fillBuf[i%flen]}}else{buf.fill(_fill)}return buf};exports.allocUnsafe=function allocUnsafe(size){if(typeof Buffer.allocUnsafe==="function"){return Buffer.allocUnsafe(size)}if(typeof size!=="number"){throw new TypeError("size must be a number")}if(size>MAX_LEN){throw new RangeError("size is too large")}return new Buffer(size)};exports.from=function from(value,encodingOrOffset,length){if(typeof Buffer.from==="function"&&(!global.Uint8Array||Uint8Array.from!==Buffer.from)){return Buffer.from(value,encodingOrOffset,length)}if(typeof value==="number"){throw new TypeError('"value" argument must not be a number')}if(typeof value==="string"){return new Buffer(value,encodingOrOffset)}if(typeof ArrayBuffer!=="undefined"&&value instanceof ArrayBuffer){var offset=encodingOrOffset;if(arguments.length===1){return new Buffer(value)}if(typeof offset==="undefined"){offset=0}var len=length;if(typeof len==="undefined"){len=value.byteLength-offset}if(offset>=value.byteLength){throw new RangeError("'offset' is out of bounds")}if(len>value.byteLength-offset){throw new RangeError("'length' is out of bounds")}return new Buffer(value.slice(offset,offset+len))}if(Buffer.isBuffer(value)){var out=new Buffer(value.length);value.copy(out,0,0,value.length);return out}if(value){if(Array.isArray(value)||typeof ArrayBuffer!=="undefined"&&value.buffer instanceof ArrayBuffer||"length"in value){return new Buffer(value)}if(value.type==="Buffer"&&Array.isArray(value.data)){return new Buffer(value.data)}}throw new TypeError("First argument must be a string, Buffer, "+"ArrayBuffer, Array, or array-like object.")};exports.allocUnsafeSlow=function allocUnsafeSlow(size){if(typeof Buffer.allocUnsafeSlow==="function"){return Buffer.allocUnsafeSlow(size)}if(typeof size!=="number"){throw new TypeError("size must be a number")}if(size>=MAX_LEN){throw new RangeError("size is too large")}return new SlowBuffer(size)}}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{buffer:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/buffer/index.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/buffer-xor/index.js":[function(require,module,exports){(function(Buffer){module.exports=function xor(a,b){var length=Math.min(a.length,b.length);var buffer=new Buffer(length);for(var i=0;i<length;++i){buffer[i]=a[i]^b[i]}return buffer}}).call(this,require("buffer").Buffer)},{buffer:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/buffer/index.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/buffer/index.js":[function(require,module,exports){(function(global){"use strict";var base64=require("base64-js");var ieee754=require("ieee754");var isArray=require("isarray");exports.Buffer=Buffer;exports.SlowBuffer=SlowBuffer;exports.INSPECT_MAX_BYTES=50;Buffer.TYPED_ARRAY_SUPPORT=global.TYPED_ARRAY_SUPPORT!==undefined?global.TYPED_ARRAY_SUPPORT:typedArraySupport();exports.kMaxLength=kMaxLength();function typedArraySupport(){try{var arr=new Uint8Array(1);arr.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}};return arr.foo()===42&&typeof arr.subarray==="function"&&arr.subarray(1,1).byteLength===0}catch(e){return false}}function kMaxLength(){return Buffer.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function createBuffer(that,length){if(kMaxLength()<length){throw new RangeError("Invalid typed array length")}if(Buffer.TYPED_ARRAY_SUPPORT){that=new Uint8Array(length);that.__proto__=Buffer.prototype}else{if(that===null){that=new Buffer(length)}that.length=length}return that}function Buffer(arg,encodingOrOffset,length){if(!Buffer.TYPED_ARRAY_SUPPORT&&!(this instanceof Buffer)){return new Buffer(arg,encodingOrOffset,length)}if(typeof arg==="number"){if(typeof encodingOrOffset==="string"){throw new Error("If encoding is specified then the first argument must be a string")}return allocUnsafe(this,arg)}return from(this,arg,encodingOrOffset,length)}Buffer.poolSize=8192;Buffer._augment=function(arr){arr.__proto__=Buffer.prototype;return arr};function from(that,value,encodingOrOffset,length){if(typeof value==="number"){throw new TypeError('"value" argument must not be a number')}if(typeof ArrayBuffer!=="undefined"&&value instanceof ArrayBuffer){return fromArrayBuffer(that,value,encodingOrOffset,length)}if(typeof value==="string"){return fromString(that,value,encodingOrOffset)}return fromObject(that,value)}Buffer.from=function(value,encodingOrOffset,length){return from(null,value,encodingOrOffset,length)};if(Buffer.TYPED_ARRAY_SUPPORT){Buffer.prototype.__proto__=Uint8Array.prototype;Buffer.__proto__=Uint8Array;if(typeof Symbol!=="undefined"&&Symbol.species&&Buffer[Symbol.species]===Buffer){Object.defineProperty(Buffer,Symbol.species,{value:null,configurable:true})}}function assertSize(size){if(typeof size!=="number"){throw new TypeError('"size" argument must be a number')}}function alloc(that,size,fill,encoding){assertSize(size);if(size<=0){return createBuffer(that,size)}if(fill!==undefined){return typeof encoding==="string"?createBuffer(that,size).fill(fill,encoding):createBuffer(that,size).fill(fill)}return createBuffer(that,size)}Buffer.alloc=function(size,fill,encoding){return alloc(null,size,fill,encoding)};function allocUnsafe(that,size){assertSize(size);that=createBuffer(that,size<0?0:checked(size)|0);if(!Buffer.TYPED_ARRAY_SUPPORT){for(var i=0;i<size;++i){that[i]=0}}return that}Buffer.allocUnsafe=function(size){return allocUnsafe(null,size)};Buffer.allocUnsafeSlow=function(size){return allocUnsafe(null,size)};function fromString(that,string,encoding){if(typeof encoding!=="string"||encoding===""){encoding="utf8"}if(!Buffer.isEncoding(encoding)){throw new TypeError('"encoding" must be a valid string encoding')}var length=byteLength(string,encoding)|0;that=createBuffer(that,length);that.write(string,encoding);return that}function fromArrayLike(that,array){var length=checked(array.length)|0;that=createBuffer(that,length);for(var i=0;i<length;i+=1){that[i]=array[i]&255}return that}function fromArrayBuffer(that,array,byteOffset,length){array.byteLength;if(byteOffset<0||array.byteLength<byteOffset){throw new RangeError("'offset' is out of bounds")}if(array.byteLength<byteOffset+(length||0)){throw new RangeError("'length' is out of bounds")}if(length===undefined){array=new Uint8Array(array,byteOffset)}else{array=new Uint8Array(array,byteOffset,length)}if(Buffer.TYPED_ARRAY_SUPPORT){that=array;that.__proto__=Buffer.prototype}else{that=fromArrayLike(that,array)}return that}function fromObject(that,obj){if(Buffer.isBuffer(obj)){var len=checked(obj.length)|0;that=createBuffer(that,len);if(that.length===0){return that}obj.copy(that,0,0,len);return that}if(obj){if(typeof ArrayBuffer!=="undefined"&&obj.buffer instanceof ArrayBuffer||"length"in obj){if(typeof obj.length!=="number"||isnan(obj.length)){return createBuffer(that,0)}return fromArrayLike(that,obj)}if(obj.type==="Buffer"&&isArray(obj.data)){return fromArrayLike(that,obj.data)}}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function checked(length){if(length>=kMaxLength()){throw new RangeError("Attempt to allocate Buffer larger than maximum "+"size: 0x"+kMaxLength().toString(16)+" bytes")}return length|0}function SlowBuffer(length){if(+length!=length){length=0}return Buffer.alloc(+length)}Buffer.isBuffer=function isBuffer(b){return!!(b!=null&&b._isBuffer)};Buffer.compare=function compare(a,b){if(!Buffer.isBuffer(a)||!Buffer.isBuffer(b)){throw new TypeError("Arguments must be Buffers")}if(a===b)return 0;var x=a.length;var y=b.length;for(var i=0,len=Math.min(x,y);i<len;++i){if(a[i]!==b[i]){x=a[i];y=b[i];break}}if(x<y)return-1;if(y<x)return 1;return 0};Buffer.isEncoding=function isEncoding(encoding){switch(String(encoding).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return true;default:return false}};Buffer.concat=function concat(list,length){if(!isArray(list)){throw new TypeError('"list" argument must be an Array of Buffers')}if(list.length===0){return Buffer.alloc(0)}var i;if(length===undefined){length=0;for(i=0;i<list.length;++i){length+=list[i].length}}var buffer=Buffer.allocUnsafe(length);var pos=0;for(i=0;i<list.length;++i){var buf=list[i];if(!Buffer.isBuffer(buf)){throw new TypeError('"list" argument must be an Array of Buffers')}buf.copy(buffer,pos);pos+=buf.length}return buffer};function byteLength(string,encoding){if(Buffer.isBuffer(string)){return string.length}if(typeof ArrayBuffer!=="undefined"&&typeof ArrayBuffer.isView==="function"&&(ArrayBuffer.isView(string)||string instanceof ArrayBuffer)){return string.byteLength}if(typeof string!=="string"){string=""+string}var len=string.length;if(len===0)return 0;var loweredCase=false;for(;;){switch(encoding){case"ascii":case"binary":case"raw":case"raws":return len;case"utf8":case"utf-8":case undefined:return utf8ToBytes(string).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return len*2;case"hex":return len>>>1;case"base64":return base64ToBytes(string).length;default:if(loweredCase)return utf8ToBytes(string).length;encoding=(""+encoding).toLowerCase();loweredCase=true}}}Buffer.byteLength=byteLength;function slowToString(encoding,start,end){var loweredCase=false;if(start===undefined||start<0){start=0}if(start>this.length){return""}if(end===undefined||end>this.length){end=this.length}if(end<=0){return""}end>>>=0;start>>>=0;if(end<=start){return""}if(!encoding)encoding="utf8";while(true){switch(encoding){case"hex":return hexSlice(this,start,end);case"utf8":case"utf-8":return utf8Slice(this,start,end);case"ascii":return asciiSlice(this,start,end);case"binary":return binarySlice(this,start,end);case"base64":return base64Slice(this,start,end);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return utf16leSlice(this,start,end);default:if(loweredCase)throw new TypeError("Unknown encoding: "+encoding);encoding=(encoding+"").toLowerCase();loweredCase=true}}}Buffer.prototype._isBuffer=true;function swap(b,n,m){var i=b[n];b[n]=b[m];b[m]=i}Buffer.prototype.swap16=function swap16(){var len=this.length;if(len%2!==0){throw new RangeError("Buffer size must be a multiple of 16-bits")}for(var i=0;i<len;i+=2){swap(this,i,i+1)}return this};Buffer.prototype.swap32=function swap32(){var len=this.length;if(len%4!==0){throw new RangeError("Buffer size must be a multiple of 32-bits")}for(var i=0;i<len;i+=4){swap(this,i,i+3);swap(this,i+1,i+2)}return this};Buffer.prototype.toString=function toString(){var length=this.length|0;if(length===0)return"";if(arguments.length===0)return utf8Slice(this,0,length);return slowToString.apply(this,arguments)};Buffer.prototype.equals=function equals(b){if(!Buffer.isBuffer(b))throw new TypeError("Argument must be a Buffer");if(this===b)return true;return Buffer.compare(this,b)===0};Buffer.prototype.inspect=function inspect(){var str="";var max=exports.INSPECT_MAX_BYTES;if(this.length>0){str=this.toString("hex",0,max).match(/.{2}/g).join(" ");if(this.length>max)str+=" ... "}return"<Buffer "+str+">"};Buffer.prototype.compare=function compare(target,start,end,thisStart,thisEnd){if(!Buffer.isBuffer(target)){throw new TypeError("Argument must be a Buffer")}if(start===undefined){start=0}if(end===undefined){end=target?target.length:0}if(thisStart===undefined){thisStart=0}if(thisEnd===undefined){thisEnd=this.length}if(start<0||end>target.length||thisStart<0||thisEnd>this.length){throw new RangeError("out of range index")}if(thisStart>=thisEnd&&start>=end){return 0}if(thisStart>=thisEnd){return-1}if(start>=end){return 1}start>>>=0;end>>>=0;thisStart>>>=0;thisEnd>>>=0;if(this===target)return 0;var x=thisEnd-thisStart;var y=end-start;var len=Math.min(x,y);var thisCopy=this.slice(thisStart,thisEnd);var targetCopy=target.slice(start,end);for(var i=0;i<len;++i){if(thisCopy[i]!==targetCopy[i]){x=thisCopy[i];y=targetCopy[i];break}}if(x<y)return-1;if(y<x)return 1;return 0};function arrayIndexOf(arr,val,byteOffset,encoding){var indexSize=1;var arrLength=arr.length;var valLength=val.length;if(encoding!==undefined){encoding=String(encoding).toLowerCase();if(encoding==="ucs2"||encoding==="ucs-2"||encoding==="utf16le"||encoding==="utf-16le"){if(arr.length<2||val.length<2){return-1}indexSize=2;arrLength/=2;valLength/=2;byteOffset/=2}}function read(buf,i){if(indexSize===1){return buf[i]}else{return buf.readUInt16BE(i*indexSize)}}var foundIndex=-1;for(var i=byteOffset;i<arrLength;++i){if(read(arr,i)===read(val,foundIndex===-1?0:i-foundIndex)){if(foundIndex===-1)foundIndex=i;if(i-foundIndex+1===valLength)return foundIndex*indexSize}else{if(foundIndex!==-1)i-=i-foundIndex;foundIndex=-1}}return-1}Buffer.prototype.indexOf=function indexOf(val,byteOffset,encoding){if(typeof byteOffset==="string"){encoding=byteOffset;byteOffset=0}else if(byteOffset>2147483647){byteOffset=2147483647}else if(byteOffset<-2147483648){byteOffset=-2147483648}byteOffset>>=0;if(this.length===0)return-1;if(byteOffset>=this.length)return-1;if(byteOffset<0)byteOffset=Math.max(this.length+byteOffset,0);if(typeof val==="string"){val=Buffer.from(val,encoding)}if(Buffer.isBuffer(val)){if(val.length===0){return-1}return arrayIndexOf(this,val,byteOffset,encoding)}if(typeof val==="number"){if(Buffer.TYPED_ARRAY_SUPPORT&&Uint8Array.prototype.indexOf==="function"){return Uint8Array.prototype.indexOf.call(this,val,byteOffset)}return arrayIndexOf(this,[val],byteOffset,encoding)}throw new TypeError("val must be string, number or Buffer")};Buffer.prototype.includes=function includes(val,byteOffset,encoding){return this.indexOf(val,byteOffset,encoding)!==-1};function hexWrite(buf,string,offset,length){offset=Number(offset)||0;var remaining=buf.length-offset;if(!length){length=remaining}else{length=Number(length);if(length>remaining){length=remaining}}var strLen=string.length;if(strLen%2!==0)throw new Error("Invalid hex string");if(length>strLen/2){length=strLen/2}for(var i=0;i<length;++i){var parsed=parseInt(string.substr(i*2,2),16);if(isNaN(parsed))return i;buf[offset+i]=parsed}return i}function utf8Write(buf,string,offset,length){return blitBuffer(utf8ToBytes(string,buf.length-offset),buf,offset,length)}function asciiWrite(buf,string,offset,length){return blitBuffer(asciiToBytes(string),buf,offset,length)}function binaryWrite(buf,string,offset,length){return asciiWrite(buf,string,offset,length)}function base64Write(buf,string,offset,length){return blitBuffer(base64ToBytes(string),buf,offset,length)}function ucs2Write(buf,string,offset,length){return blitBuffer(utf16leToBytes(string,buf.length-offset),buf,offset,length)}Buffer.prototype.write=function write(string,offset,length,encoding){if(offset===undefined){encoding="utf8";length=this.length;offset=0}else if(length===undefined&&typeof offset==="string"){encoding=offset;length=this.length;offset=0}else if(isFinite(offset)){offset=offset|0;if(isFinite(length)){length=length|0;if(encoding===undefined)encoding="utf8"}else{encoding=length;length=undefined}}else{throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported")}var remaining=this.length-offset;if(length===undefined||length>remaining)length=remaining;if(string.length>0&&(length<0||offset<0)||offset>this.length){throw new RangeError("Attempt to write outside buffer bounds")}if(!encoding)encoding="utf8";var loweredCase=false;for(;;){switch(encoding){case"hex":return hexWrite(this,string,offset,length);case"utf8":case"utf-8":return utf8Write(this,string,offset,length);case"ascii":return asciiWrite(this,string,offset,length);case"binary":return binaryWrite(this,string,offset,length);case"base64":return base64Write(this,string,offset,length);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ucs2Write(this,string,offset,length);default:if(loweredCase)throw new TypeError("Unknown encoding: "+encoding);encoding=(""+encoding).toLowerCase();loweredCase=true}}};Buffer.prototype.toJSON=function toJSON(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function base64Slice(buf,start,end){if(start===0&&end===buf.length){return base64.fromByteArray(buf)}else{return base64.fromByteArray(buf.slice(start,end))}}function utf8Slice(buf,start,end){end=Math.min(buf.length,end);var res=[];var i=start;while(i<end){var firstByte=buf[i];var codePoint=null;var bytesPerSequence=firstByte>239?4:firstByte>223?3:firstByte>191?2:1;if(i+bytesPerSequence<=end){var secondByte,thirdByte,fourthByte,tempCodePoint;switch(bytesPerSequence){case 1:if(firstByte<128){codePoint=firstByte}break;case 2:secondByte=buf[i+1];if((secondByte&192)===128){tempCodePoint=(firstByte&31)<<6|secondByte&63;if(tempCodePoint>127){codePoint=tempCodePoint}}break;case 3:secondByte=buf[i+1];thirdByte=buf[i+2];if((secondByte&192)===128&&(thirdByte&192)===128){tempCodePoint=(firstByte&15)<<12|(secondByte&63)<<6|thirdByte&63;if(tempCodePoint>2047&&(tempCodePoint<55296||tempCodePoint>57343)){codePoint=tempCodePoint}}break;case 4:secondByte=buf[i+1];thirdByte=buf[i+2];fourthByte=buf[i+3];if((secondByte&192)===128&&(thirdByte&192)===128&&(fourthByte&192)===128){tempCodePoint=(firstByte&15)<<18|(secondByte&63)<<12|(thirdByte&63)<<6|fourthByte&63;if(tempCodePoint>65535&&tempCodePoint<1114112){codePoint=tempCodePoint}}}}if(codePoint===null){codePoint=65533;bytesPerSequence=1}else if(codePoint>65535){codePoint-=65536;res.push(codePoint>>>10&1023|55296);codePoint=56320|codePoint&1023}res.push(codePoint);i+=bytesPerSequence}return decodeCodePointsArray(res)}var MAX_ARGUMENTS_LENGTH=4096;function decodeCodePointsArray(codePoints){var len=codePoints.length;if(len<=MAX_ARGUMENTS_LENGTH){return String.fromCharCode.apply(String,codePoints)}var res="";var i=0;while(i<len){res+=String.fromCharCode.apply(String,codePoints.slice(i,i+=MAX_ARGUMENTS_LENGTH))}return res}function asciiSlice(buf,start,end){var ret="";end=Math.min(buf.length,end);for(var i=start;i<end;++i){ret+=String.fromCharCode(buf[i]&127)}return ret}function binarySlice(buf,start,end){var ret="";end=Math.min(buf.length,end);for(var i=start;i<end;++i){ret+=String.fromCharCode(buf[i])}return ret}function hexSlice(buf,start,end){var len=buf.length;if(!start||start<0)start=0;if(!end||end<0||end>len)end=len;var out="";for(var i=start;i<end;++i){out+=toHex(buf[i])}return out}function utf16leSlice(buf,start,end){var bytes=buf.slice(start,end);var res="";for(var i=0;i<bytes.length;i+=2){res+=String.fromCharCode(bytes[i]+bytes[i+1]*256)}return res}Buffer.prototype.slice=function slice(start,end){var len=this.length;start=~~start;end=end===undefined?len:~~end;if(start<0){start+=len;if(start<0)start=0}else if(start>len){start=len}if(end<0){end+=len;if(end<0)end=0}else if(end>len){end=len}if(end<start)end=start;var newBuf;if(Buffer.TYPED_ARRAY_SUPPORT){newBuf=this.subarray(start,end);newBuf.__proto__=Buffer.prototype}else{var sliceLen=end-start;newBuf=new Buffer(sliceLen,undefined);for(var i=0;i<sliceLen;++i){newBuf[i]=this[i+start]}}return newBuf};function checkOffset(offset,ext,length){if(offset%1!==0||offset<0)throw new RangeError("offset is not uint");if(offset+ext>length)throw new RangeError("Trying to access beyond buffer length")}Buffer.prototype.readUIntLE=function readUIntLE(offset,byteLength,noAssert){offset=offset|0;byteLength=byteLength|0;if(!noAssert)checkOffset(offset,byteLength,this.length);var val=this[offset];var mul=1;var i=0;while(++i<byteLength&&(mul*=256)){val+=this[offset+i]*mul}return val};Buffer.prototype.readUIntBE=function readUIntBE(offset,byteLength,noAssert){offset=offset|0;byteLength=byteLength|0;if(!noAssert){checkOffset(offset,byteLength,this.length)}var val=this[offset+--byteLength];var mul=1;while(byteLength>0&&(mul*=256)){val+=this[offset+--byteLength]*mul}return val};Buffer.prototype.readUInt8=function readUInt8(offset,noAssert){if(!noAssert)checkOffset(offset,1,this.length);return this[offset]};Buffer.prototype.readUInt16LE=function readUInt16LE(offset,noAssert){if(!noAssert)checkOffset(offset,2,this.length);return this[offset]|this[offset+1]<<8};Buffer.prototype.readUInt16BE=function readUInt16BE(offset,noAssert){if(!noAssert)checkOffset(offset,2,this.length);return this[offset]<<8|this[offset+1]};Buffer.prototype.readUInt32LE=function readUInt32LE(offset,noAssert){if(!noAssert)checkOffset(offset,4,this.length);return(this[offset]|this[offset+1]<<8|this[offset+2]<<16)+this[offset+3]*16777216};Buffer.prototype.readUInt32BE=function readUInt32BE(offset,noAssert){if(!noAssert)checkOffset(offset,4,this.length);return this[offset]*16777216+(this[offset+1]<<16|this[offset+2]<<8|this[offset+3])};Buffer.prototype.readIntLE=function readIntLE(offset,byteLength,noAssert){offset=offset|0;byteLength=byteLength|0;if(!noAssert)checkOffset(offset,byteLength,this.length);var val=this[offset];var mul=1;var i=0;while(++i<byteLength&&(mul*=256)){val+=this[offset+i]*mul}mul*=128;if(val>=mul)val-=Math.pow(2,8*byteLength);return val};Buffer.prototype.readIntBE=function readIntBE(offset,byteLength,noAssert){offset=offset|0;byteLength=byteLength|0;if(!noAssert)checkOffset(offset,byteLength,this.length);var i=byteLength;var mul=1;var val=this[offset+--i];while(i>0&&(mul*=256)){val+=this[offset+--i]*mul}mul*=128;if(val>=mul)val-=Math.pow(2,8*byteLength);return val};Buffer.prototype.readInt8=function readInt8(offset,noAssert){if(!noAssert)checkOffset(offset,1,this.length);if(!(this[offset]&128))return this[offset];return(255-this[offset]+1)*-1};Buffer.prototype.readInt16LE=function readInt16LE(offset,noAssert){if(!noAssert)checkOffset(offset,2,this.length);var val=this[offset]|this[offset+1]<<8;return val&32768?val|4294901760:val};Buffer.prototype.readInt16BE=function readInt16BE(offset,noAssert){if(!noAssert)checkOffset(offset,2,this.length);var val=this[offset+1]|this[offset]<<8;return val&32768?val|4294901760:val};Buffer.prototype.readInt32LE=function readInt32LE(offset,noAssert){if(!noAssert)checkOffset(offset,4,this.length);return this[offset]|this[offset+1]<<8|this[offset+2]<<16|this[offset+3]<<24};Buffer.prototype.readInt32BE=function readInt32BE(offset,noAssert){if(!noAssert)checkOffset(offset,4,this.length);return this[offset]<<24|this[offset+1]<<16|this[offset+2]<<8|this[offset+3]};Buffer.prototype.readFloatLE=function readFloatLE(offset,noAssert){if(!noAssert)checkOffset(offset,4,this.length);return ieee754.read(this,offset,true,23,4)};Buffer.prototype.readFloatBE=function readFloatBE(offset,noAssert){if(!noAssert)checkOffset(offset,4,this.length);return ieee754.read(this,offset,false,23,4)};Buffer.prototype.readDoubleLE=function readDoubleLE(offset,noAssert){if(!noAssert)checkOffset(offset,8,this.length);return ieee754.read(this,offset,true,52,8)};Buffer.prototype.readDoubleBE=function readDoubleBE(offset,noAssert){if(!noAssert)checkOffset(offset,8,this.length);return ieee754.read(this,offset,false,52,8)};function checkInt(buf,value,offset,ext,max,min){if(!Buffer.isBuffer(buf))throw new TypeError('"buffer" argument must be a Buffer instance');if(value>max||value<min)throw new RangeError('"value" argument is out of bounds');if(offset+ext>buf.length)throw new RangeError("Index out of range")}Buffer.prototype.writeUIntLE=function writeUIntLE(value,offset,byteLength,noAssert){value=+value;offset=offset|0;byteLength=byteLength|0;if(!noAssert){var maxBytes=Math.pow(2,8*byteLength)-1;checkInt(this,value,offset,byteLength,maxBytes,0)}var mul=1;var i=0;this[offset]=value&255;while(++i<byteLength&&(mul*=256)){this[offset+i]=value/mul&255}return offset+byteLength};Buffer.prototype.writeUIntBE=function writeUIntBE(value,offset,byteLength,noAssert){value=+value;offset=offset|0;byteLength=byteLength|0;if(!noAssert){var maxBytes=Math.pow(2,8*byteLength)-1;checkInt(this,value,offset,byteLength,maxBytes,0)}var i=byteLength-1;var mul=1;this[offset+i]=value&255;while(--i>=0&&(mul*=256)){this[offset+i]=value/mul&255}return offset+byteLength};Buffer.prototype.writeUInt8=function writeUInt8(value,offset,noAssert){value=+value;offset=offset|0;if(!noAssert)checkInt(this,value,offset,1,255,0);if(!Buffer.TYPED_ARRAY_SUPPORT)value=Math.floor(value);this[offset]=value&255;return offset+1};function objectWriteUInt16(buf,value,offset,littleEndian){if(value<0)value=65535+value+1;for(var i=0,j=Math.min(buf.length-offset,2);i<j;++i){buf[offset+i]=(value&255<<8*(littleEndian?i:1-i))>>>(littleEndian?i:1-i)*8}}Buffer.prototype.writeUInt16LE=function writeUInt16LE(value,offset,noAssert){value=+value;offset=offset|0;if(!noAssert)checkInt(this,value,offset,2,65535,0);if(Buffer.TYPED_ARRAY_SUPPORT){this[offset]=value&255;this[offset+1]=value>>>8}else{objectWriteUInt16(this,value,offset,true)}return offset+2};Buffer.prototype.writeUInt16BE=function writeUInt16BE(value,offset,noAssert){
value=+value;offset=offset|0;if(!noAssert)checkInt(this,value,offset,2,65535,0);if(Buffer.TYPED_ARRAY_SUPPORT){this[offset]=value>>>8;this[offset+1]=value&255}else{objectWriteUInt16(this,value,offset,false)}return offset+2};function objectWriteUInt32(buf,value,offset,littleEndian){if(value<0)value=4294967295+value+1;for(var i=0,j=Math.min(buf.length-offset,4);i<j;++i){buf[offset+i]=value>>>(littleEndian?i:3-i)*8&255}}Buffer.prototype.writeUInt32LE=function writeUInt32LE(value,offset,noAssert){value=+value;offset=offset|0;if(!noAssert)checkInt(this,value,offset,4,4294967295,0);if(Buffer.TYPED_ARRAY_SUPPORT){this[offset+3]=value>>>24;this[offset+2]=value>>>16;this[offset+1]=value>>>8;this[offset]=value&255}else{objectWriteUInt32(this,value,offset,true)}return offset+4};Buffer.prototype.writeUInt32BE=function writeUInt32BE(value,offset,noAssert){value=+value;offset=offset|0;if(!noAssert)checkInt(this,value,offset,4,4294967295,0);if(Buffer.TYPED_ARRAY_SUPPORT){this[offset]=value>>>24;this[offset+1]=value>>>16;this[offset+2]=value>>>8;this[offset+3]=value&255}else{objectWriteUInt32(this,value,offset,false)}return offset+4};Buffer.prototype.writeIntLE=function writeIntLE(value,offset,byteLength,noAssert){value=+value;offset=offset|0;if(!noAssert){var limit=Math.pow(2,8*byteLength-1);checkInt(this,value,offset,byteLength,limit-1,-limit)}var i=0;var mul=1;var sub=0;this[offset]=value&255;while(++i<byteLength&&(mul*=256)){if(value<0&&sub===0&&this[offset+i-1]!==0){sub=1}this[offset+i]=(value/mul>>0)-sub&255}return offset+byteLength};Buffer.prototype.writeIntBE=function writeIntBE(value,offset,byteLength,noAssert){value=+value;offset=offset|0;if(!noAssert){var limit=Math.pow(2,8*byteLength-1);checkInt(this,value,offset,byteLength,limit-1,-limit)}var i=byteLength-1;var mul=1;var sub=0;this[offset+i]=value&255;while(--i>=0&&(mul*=256)){if(value<0&&sub===0&&this[offset+i+1]!==0){sub=1}this[offset+i]=(value/mul>>0)-sub&255}return offset+byteLength};Buffer.prototype.writeInt8=function writeInt8(value,offset,noAssert){value=+value;offset=offset|0;if(!noAssert)checkInt(this,value,offset,1,127,-128);if(!Buffer.TYPED_ARRAY_SUPPORT)value=Math.floor(value);if(value<0)value=255+value+1;this[offset]=value&255;return offset+1};Buffer.prototype.writeInt16LE=function writeInt16LE(value,offset,noAssert){value=+value;offset=offset|0;if(!noAssert)checkInt(this,value,offset,2,32767,-32768);if(Buffer.TYPED_ARRAY_SUPPORT){this[offset]=value&255;this[offset+1]=value>>>8}else{objectWriteUInt16(this,value,offset,true)}return offset+2};Buffer.prototype.writeInt16BE=function writeInt16BE(value,offset,noAssert){value=+value;offset=offset|0;if(!noAssert)checkInt(this,value,offset,2,32767,-32768);if(Buffer.TYPED_ARRAY_SUPPORT){this[offset]=value>>>8;this[offset+1]=value&255}else{objectWriteUInt16(this,value,offset,false)}return offset+2};Buffer.prototype.writeInt32LE=function writeInt32LE(value,offset,noAssert){value=+value;offset=offset|0;if(!noAssert)checkInt(this,value,offset,4,2147483647,-2147483648);if(Buffer.TYPED_ARRAY_SUPPORT){this[offset]=value&255;this[offset+1]=value>>>8;this[offset+2]=value>>>16;this[offset+3]=value>>>24}else{objectWriteUInt32(this,value,offset,true)}return offset+4};Buffer.prototype.writeInt32BE=function writeInt32BE(value,offset,noAssert){value=+value;offset=offset|0;if(!noAssert)checkInt(this,value,offset,4,2147483647,-2147483648);if(value<0)value=4294967295+value+1;if(Buffer.TYPED_ARRAY_SUPPORT){this[offset]=value>>>24;this[offset+1]=value>>>16;this[offset+2]=value>>>8;this[offset+3]=value&255}else{objectWriteUInt32(this,value,offset,false)}return offset+4};function checkIEEE754(buf,value,offset,ext,max,min){if(offset+ext>buf.length)throw new RangeError("Index out of range");if(offset<0)throw new RangeError("Index out of range")}function writeFloat(buf,value,offset,littleEndian,noAssert){if(!noAssert){checkIEEE754(buf,value,offset,4,3.4028234663852886e38,-3.4028234663852886e38)}ieee754.write(buf,value,offset,littleEndian,23,4);return offset+4}Buffer.prototype.writeFloatLE=function writeFloatLE(value,offset,noAssert){return writeFloat(this,value,offset,true,noAssert)};Buffer.prototype.writeFloatBE=function writeFloatBE(value,offset,noAssert){return writeFloat(this,value,offset,false,noAssert)};function writeDouble(buf,value,offset,littleEndian,noAssert){if(!noAssert){checkIEEE754(buf,value,offset,8,1.7976931348623157e308,-1.7976931348623157e308)}ieee754.write(buf,value,offset,littleEndian,52,8);return offset+8}Buffer.prototype.writeDoubleLE=function writeDoubleLE(value,offset,noAssert){return writeDouble(this,value,offset,true,noAssert)};Buffer.prototype.writeDoubleBE=function writeDoubleBE(value,offset,noAssert){return writeDouble(this,value,offset,false,noAssert)};Buffer.prototype.copy=function copy(target,targetStart,start,end){if(!start)start=0;if(!end&&end!==0)end=this.length;if(targetStart>=target.length)targetStart=target.length;if(!targetStart)targetStart=0;if(end>0&&end<start)end=start;if(end===start)return 0;if(target.length===0||this.length===0)return 0;if(targetStart<0){throw new RangeError("targetStart out of bounds")}if(start<0||start>=this.length)throw new RangeError("sourceStart out of bounds");if(end<0)throw new RangeError("sourceEnd out of bounds");if(end>this.length)end=this.length;if(target.length-targetStart<end-start){end=target.length-targetStart+start}var len=end-start;var i;if(this===target&&start<targetStart&&targetStart<end){for(i=len-1;i>=0;--i){target[i+targetStart]=this[i+start]}}else if(len<1e3||!Buffer.TYPED_ARRAY_SUPPORT){for(i=0;i<len;++i){target[i+targetStart]=this[i+start]}}else{Uint8Array.prototype.set.call(target,this.subarray(start,start+len),targetStart)}return len};Buffer.prototype.fill=function fill(val,start,end,encoding){if(typeof val==="string"){if(typeof start==="string"){encoding=start;start=0;end=this.length}else if(typeof end==="string"){encoding=end;end=this.length}if(val.length===1){var code=val.charCodeAt(0);if(code<256){val=code}}if(encoding!==undefined&&typeof encoding!=="string"){throw new TypeError("encoding must be a string")}if(typeof encoding==="string"&&!Buffer.isEncoding(encoding)){throw new TypeError("Unknown encoding: "+encoding)}}else if(typeof val==="number"){val=val&255}if(start<0||this.length<start||this.length<end){throw new RangeError("Out of range index")}if(end<=start){return this}start=start>>>0;end=end===undefined?this.length:end>>>0;if(!val)val=0;var i;if(typeof val==="number"){for(i=start;i<end;++i){this[i]=val}}else{var bytes=Buffer.isBuffer(val)?val:utf8ToBytes(new Buffer(val,encoding).toString());var len=bytes.length;for(i=0;i<end-start;++i){this[i+start]=bytes[i%len]}}return this};var INVALID_BASE64_RE=/[^+\/0-9A-Za-z-_]/g;function base64clean(str){str=stringtrim(str).replace(INVALID_BASE64_RE,"");if(str.length<2)return"";while(str.length%4!==0){str=str+"="}return str}function stringtrim(str){if(str.trim)return str.trim();return str.replace(/^\s+|\s+$/g,"")}function toHex(n){if(n<16)return"0"+n.toString(16);return n.toString(16)}function utf8ToBytes(string,units){units=units||Infinity;var codePoint;var length=string.length;var leadSurrogate=null;var bytes=[];for(var i=0;i<length;++i){codePoint=string.charCodeAt(i);if(codePoint>55295&&codePoint<57344){if(!leadSurrogate){if(codePoint>56319){if((units-=3)>-1)bytes.push(239,191,189);continue}else if(i+1===length){if((units-=3)>-1)bytes.push(239,191,189);continue}leadSurrogate=codePoint;continue}if(codePoint<56320){if((units-=3)>-1)bytes.push(239,191,189);leadSurrogate=codePoint;continue}codePoint=(leadSurrogate-55296<<10|codePoint-56320)+65536}else if(leadSurrogate){if((units-=3)>-1)bytes.push(239,191,189)}leadSurrogate=null;if(codePoint<128){if((units-=1)<0)break;bytes.push(codePoint)}else if(codePoint<2048){if((units-=2)<0)break;bytes.push(codePoint>>6|192,codePoint&63|128)}else if(codePoint<65536){if((units-=3)<0)break;bytes.push(codePoint>>12|224,codePoint>>6&63|128,codePoint&63|128)}else if(codePoint<1114112){if((units-=4)<0)break;bytes.push(codePoint>>18|240,codePoint>>12&63|128,codePoint>>6&63|128,codePoint&63|128)}else{throw new Error("Invalid code point")}}return bytes}function asciiToBytes(str){var byteArray=[];for(var i=0;i<str.length;++i){byteArray.push(str.charCodeAt(i)&255)}return byteArray}function utf16leToBytes(str,units){var c,hi,lo;var byteArray=[];for(var i=0;i<str.length;++i){if((units-=2)<0)break;c=str.charCodeAt(i);hi=c>>8;lo=c%256;byteArray.push(lo);byteArray.push(hi)}return byteArray}function base64ToBytes(str){return base64.toByteArray(base64clean(str))}function blitBuffer(src,dst,offset,length){for(var i=0;i<length;++i){if(i+offset>=dst.length||i>=src.length)break;dst[i+offset]=src[i]}return i}function isnan(val){return val!==val}}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"base64-js":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/base64-js/lib/b64.js",ieee754:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/ieee754/index.js",isarray:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/isarray/index.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/builtin-status-codes/browser.js":[function(require,module,exports){module.exports={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},{}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/character-parser/index.js":[function(require,module,exports){"use strict";var objIsRegex=require("is-regex");exports=module.exports=parse;var TOKEN_TYPES=exports.TOKEN_TYPES={LINE_COMMENT:"//",BLOCK_COMMENT:"/**/",SINGLE_QUOTE:"'",DOUBLE_QUOTE:'"',TEMPLATE_QUOTE:"`",REGEXP:"//g"};var BRACKETS=exports.BRACKETS={"(":")","{":"}","[":"]"};var BRACKETS_REVERSED={")":"(","}":"{","]":"["};exports.parse=parse;function parse(src,state,options){options=options||{};state=state||exports.defaultState();var start=options.start||0;var end=options.end||src.length;var index=start;while(index<end){try{parseChar(src[index],state)}catch(ex){ex.index=index;throw ex}index++}return state}exports.parseUntil=parseUntil;function parseUntil(src,delimiter,options){options=options||{};var start=options.start||0;var index=start;var state=exports.defaultState();while(index<src.length){if((options.ignoreNesting||!state.isNesting(options))&&matches(src,delimiter,index)){var end=index;return{start:start,end:end,src:src.substring(start,end)}}try{parseChar(src[index],state)}catch(ex){ex.index=index;throw ex}index++}var err=new Error("The end of the string was reached with no closing bracket found.");err.code="CHARACTER_PARSER:END_OF_STRING_REACHED";err.index=index;throw err}exports.parseChar=parseChar;function parseChar(character,state){if(character.length!==1){var err=new Error("Character must be a string of length 1");err.name="InvalidArgumentError";err.code="CHARACTER_PARSER:CHAR_LENGTH_NOT_ONE";throw err}state=state||exports.defaultState();state.src+=character;var wasComment=state.isComment();var lastChar=state.history?state.history[0]:"";if(state.regexpStart){if(character==="/"||character=="*"){state.stack.pop()}state.regexpStart=false}switch(state.current()){case TOKEN_TYPES.LINE_COMMENT:if(character==="\n"){state.stack.pop()}break;case TOKEN_TYPES.BLOCK_COMMENT:if(state.lastChar==="*"&&character==="/"){state.stack.pop()}break;case TOKEN_TYPES.SINGLE_QUOTE:if(character==="'"&&!state.escaped){state.stack.pop()}else if(character==="\\"&&!state.escaped){state.escaped=true}else{state.escaped=false}break;case TOKEN_TYPES.DOUBLE_QUOTE:if(character==='"'&&!state.escaped){state.stack.pop()}else if(character==="\\"&&!state.escaped){state.escaped=true}else{state.escaped=false}break;case TOKEN_TYPES.TEMPLATE_QUOTE:if(character==="`"&&!state.escaped){state.stack.pop();state.hasDollar=false}else if(character==="\\"&&!state.escaped){state.escaped=true;state.hasDollar=false}else if(character==="$"&&!state.escaped){state.hasDollar=true}else if(character==="{"&&state.hasDollar){state.stack.push(BRACKETS[character])}else{state.escaped=false;state.hasDollar=false}break;case TOKEN_TYPES.REGEXP:if(character==="/"&&!state.escaped){state.stack.pop()}else if(character==="\\"&&!state.escaped){state.escaped=true}else{state.escaped=false}break;default:if(character in BRACKETS){state.stack.push(BRACKETS[character])}else if(character in BRACKETS_REVERSED){if(state.current()!==character){var err=new SyntaxError("Mismatched Bracket: "+character);err.code="CHARACTER_PARSER:MISMATCHED_BRACKET";throw err}state.stack.pop()}else if(lastChar==="/"&&character==="/"){state.history=state.history.substr(1);state.stack.push(TOKEN_TYPES.LINE_COMMENT)}else if(lastChar==="/"&&character==="*"){state.history=state.history.substr(1);state.stack.push(TOKEN_TYPES.BLOCK_COMMENT)}else if(character==="/"&&isRegexp(state.history)){state.stack.push(TOKEN_TYPES.REGEXP);state.regexpStart=true}else if(character==="'"){state.stack.push(TOKEN_TYPES.SINGLE_QUOTE)}else if(character==='"'){state.stack.push(TOKEN_TYPES.DOUBLE_QUOTE)}else if(character==="`"){state.stack.push(TOKEN_TYPES.TEMPLATE_QUOTE)}break}if(!state.isComment()&&!wasComment){state.history=character+state.history}state.lastChar=character;return state}exports.defaultState=function(){return new State};function State(){this.stack=[];this.regexpStart=false;this.escaped=false;this.hasDollar=false;this.src="";this.history="";this.lastChar=""}State.prototype.current=function(){return this.stack[this.stack.length-1]};State.prototype.isString=function(){return this.current()===TOKEN_TYPES.SINGLE_QUOTE||this.current()===TOKEN_TYPES.DOUBLE_QUOTE||this.current()===TOKEN_TYPES.TEMPLATE_QUOTE};State.prototype.isComment=function(){return this.current()===TOKEN_TYPES.LINE_COMMENT||this.current()===TOKEN_TYPES.BLOCK_COMMENT};State.prototype.isNesting=function(opts){if(opts&&opts.ignoreLineComment&&this.stack.length===1&&this.stack[0]===TOKEN_TYPES.LINE_COMMENT){return false}return!!this.stack.length};function matches(str,matcher,i){if(objIsRegex(matcher)){return matcher.test(str.substr(i||0))}else{return str.substr(i||0,matcher.length)===matcher}}exports.isPunctuator=isPunctuator;function isPunctuator(c){if(!c)return true;var code=c.charCodeAt(0);switch(code){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:case 37:case 38:case 42:case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 33:case 61:return true;default:return false}}exports.isKeyword=isKeyword;function isKeyword(id){return id==="if"||id==="in"||id==="do"||id==="var"||id==="for"||id==="new"||id==="try"||id==="let"||id==="this"||id==="else"||id==="case"||id==="void"||id==="with"||id==="enum"||id==="while"||id==="break"||id==="catch"||id==="throw"||id==="const"||id==="yield"||id==="class"||id==="super"||id==="return"||id==="typeof"||id==="delete"||id==="switch"||id==="export"||id==="import"||id==="default"||id==="finally"||id==="extends"||id==="function"||id==="continue"||id==="debugger"||id==="package"||id==="private"||id==="interface"||id==="instanceof"||id==="implements"||id==="protected"||id==="public"||id==="static"}function isRegexp(history){history=history.replace(/^\s*/,"");if(history[0]===")")return false;if(history[0]==="}")return true;if(isPunctuator(history[0]))return true;if(/^\w+\b/.test(history)&&isKeyword(/^\w+\b/.exec(history)[0].split("").reverse().join("")))return true;return false}},{"is-regex":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/is-regex/index.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/cipher-base/index.js":[function(require,module,exports){(function(Buffer){var Transform=require("stream").Transform;var inherits=require("inherits");var StringDecoder=require("string_decoder").StringDecoder;module.exports=CipherBase;inherits(CipherBase,Transform);function CipherBase(hashMode){Transform.call(this);this.hashMode=typeof hashMode==="string";if(this.hashMode){this[hashMode]=this._finalOrDigest}else{this.final=this._finalOrDigest}this._decoder=null;this._encoding=null}CipherBase.prototype.update=function(data,inputEnc,outputEnc){if(typeof data==="string"){data=new Buffer(data,inputEnc)}var outData=this._update(data);if(this.hashMode){return this}if(outputEnc){outData=this._toString(outData,outputEnc)}return outData};CipherBase.prototype.setAutoPadding=function(){};CipherBase.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")};CipherBase.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")};CipherBase.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")};CipherBase.prototype._transform=function(data,_,next){var err;try{if(this.hashMode){this._update(data)}else{this.push(this._update(data))}}catch(e){err=e}finally{next(err)}};CipherBase.prototype._flush=function(done){var err;try{this.push(this._final())}catch(e){err=e}finally{done(err)}};CipherBase.prototype._finalOrDigest=function(outputEnc){var outData=this._final()||new Buffer("");if(outputEnc){outData=this._toString(outData,outputEnc,true)}return outData};CipherBase.prototype._toString=function(value,enc,final){if(!this._decoder){this._decoder=new StringDecoder(enc);this._encoding=enc}if(this._encoding!==enc){throw new Error("can't switch encodings")}var out=this._decoder.write(value);if(final){out+=this._decoder.end()}return out}}).call(this,require("buffer").Buffer)},{buffer:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/buffer/index.js",inherits:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/inherits/inherits_browser.js",stream:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/stream-browserify/index.js",string_decoder:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/string_decoder/index.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/index.js":[function(require,module,exports){module.exports=require("./lib/clean")},{"./lib/clean":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/clean.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/clean.js":[function(require,module,exports){(function(process){var ImportInliner=require("./imports/inliner");var rebaseUrls=require("./urls/rebase");var tokenize=require("./tokenizer/tokenize");var simpleOptimize=require("./selectors/simple");var advancedOptimize=require("./selectors/advanced");var simpleStringify=require("./stringifier/simple");var sourceMapStringify=require("./stringifier/source-maps");var CommentsProcessor=require("./text/comments-processor");var ExpressionsProcessor=require("./text/expressions-processor");var FreeTextProcessor=require("./text/free-text-processor");var UrlsProcessor=require("./text/urls-processor");var Compatibility=require("./utils/compatibility");var InputSourceMapTracker=require("./utils/input-source-map-tracker");var SourceTracker=require("./utils/source-tracker");var SourceReader=require("./utils/source-reader");var Validator=require("./properties/validator");var fs=require("fs");var path=require("path");var url=require("url");var override=require("./utils/object").override;var DEFAULT_TIMEOUT=5e3;var CleanCSS=module.exports=function CleanCSS(options){options=options||{};this.options={advanced:undefined===options.advanced?true:!!options.advanced,aggressiveMerging:undefined===options.aggressiveMerging?true:!!options.aggressiveMerging,benchmark:options.benchmark,compatibility:new Compatibility(options.compatibility).toOptions(),debug:options.debug,explicitRoot:!!options.root,explicitTarget:!!options.target,inliner:options.inliner||{},keepBreaks:options.keepBreaks||false,keepSpecialComments:"keepSpecialComments"in options?options.keepSpecialComments:"*",mediaMerging:undefined===options.mediaMerging?true:!!options.mediaMerging,processImport:undefined===options.processImport?true:!!options.processImport,processImportFrom:importOptionsFrom(options.processImportFrom),rebase:undefined===options.rebase?true:!!options.rebase,relativeTo:options.relativeTo,restructuring:undefined===options.restructuring?true:!!options.restructuring,root:options.root||process.cwd(),roundingPrecision:options.roundingPrecision,semanticMerging:undefined===options.semanticMerging?false:!!options.semanticMerging,shorthandCompacting:undefined===options.shorthandCompacting?true:!!options.shorthandCompacting,sourceMap:options.sourceMap,sourceMapInlineSources:!!options.sourceMapInlineSources,target:!options.target||missingDirectory(options.target)||presentDirectory(options.target)?options.target:path.dirname(options.target)};this.options.inliner.timeout=this.options.inliner.timeout||DEFAULT_TIMEOUT;this.options.inliner.request=override(proxyOptionsFrom(process.env.HTTP_PROXY||process.env.http_proxy),this.options.inliner.request||{})};function importOptionsFrom(rules){return undefined===rules?["all"]:rules}function missingDirectory(filepath){return!fs.existsSync(filepath)&&!/\.css$/.test(filepath)}function presentDirectory(filepath){return fs.existsSync(filepath)&&fs.statSync(filepath).isDirectory()}function proxyOptionsFrom(httpProxy){return httpProxy?{hostname:url.parse(httpProxy).hostname,port:parseInt(url.parse(httpProxy).port)}:{}}CleanCSS.prototype.minify=function(data,callback){var context={stats:{},errors:[],warnings:[],options:this.options,debug:this.options.debug,localOnly:!callback,sourceTracker:new SourceTracker,validator:new Validator(this.options.compatibility)};if(context.options.sourceMap)context.inputSourceMapTracker=new InputSourceMapTracker(context);context.sourceReader=new SourceReader(context,data);data=context.sourceReader.toString();if(context.options.processImport||data.indexOf("@shallow")>0){var runner=callback?process.nextTick:function(callback){return callback()};return runner(function(){return new ImportInliner(context).process(data,{localOnly:context.localOnly,imports:context.options.processImportFrom,whenDone:runMinifier(callback,context)})})}else{return runMinifier(callback,context)(data)}};function runMinifier(callback,context){function whenSourceMapReady(data){data=context.options.debug?minifyWithDebug(context,data):minify(context,data);data=withMetadata(context,data);return callback?callback.call(null,context.errors.length>0?context.errors:null,data):data}return function(data){if(context.options.sourceMap){return context.inputSourceMapTracker.track(data,function(){if(context.options.sourceMapInlineSources){return context.inputSourceMapTracker.resolveSources(function(){return whenSourceMapReady(data)})}else{return whenSourceMapReady(data)}})}else{return whenSourceMapReady(data)}}}function withMetadata(context,data){data.stats=context.stats;data.errors=context.errors;data.warnings=context.warnings;return data}function minifyWithDebug(context,data){var startedAt=process.hrtime();context.stats.originalSize=context.sourceTracker.removeAll(data).length;data=minify(context,data);var elapsed=process.hrtime(startedAt);context.stats.timeSpent=~~(elapsed[0]*1e3+elapsed[1]/1e6);context.stats.efficiency=1-data.styles.length/context.stats.originalSize;context.stats.minifiedSize=data.styles.length;return data}function benchmark(runner){return function(processor,action){var name=processor.constructor.name+"#"+action;var start=process.hrtime();runner(processor,action);var itTook=process.hrtime(start);console.log("%d ms: "+name,1e3*itTook[0]+itTook[1]/1e6)}}function minify(context,data){var options=context.options;var commentsProcessor=new CommentsProcessor(context,options.keepSpecialComments,options.keepBreaks,options.sourceMap);var expressionsProcessor=new ExpressionsProcessor(options.sourceMap);var freeTextProcessor=new FreeTextProcessor(options.sourceMap);var urlsProcessor=new UrlsProcessor(context,options.sourceMap,options.compatibility.properties.urlQuotes);var stringify=options.sourceMap?sourceMapStringify:simpleStringify;var run=function(processor,action){data=typeof processor=="function"?processor(data):processor[action](data)};if(options.benchmark)run=benchmark(run);run(commentsProcessor,"escape");run(expressionsProcessor,"escape");run(urlsProcessor,"escape");run(freeTextProcessor,"escape");function restoreEscapes(data,prefixContent){data=freeTextProcessor.restore(data,prefixContent);data=urlsProcessor.restore(data);data=options.rebase?rebaseUrls(data,context):data;data=expressionsProcessor.restore(data);return commentsProcessor.restore(data)}var tokens=tokenize(data,context);simpleOptimize(tokens,options);if(options.advanced)advancedOptimize(tokens,options,context,true);return stringify(tokens,options,restoreEscapes,context.inputSourceMapTracker)}}).call(this,require("_process"))},{"./imports/inliner":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/imports/inliner.js","./properties/validator":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/properties/validator.js","./selectors/advanced":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/selectors/advanced.js","./selectors/simple":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/selectors/simple.js","./stringifier/simple":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/stringifier/simple.js","./stringifier/source-maps":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/stringifier/source-maps.js","./text/comments-processor":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/text/comments-processor.js","./text/expressions-processor":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/text/expressions-processor.js","./text/free-text-processor":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/text/free-text-processor.js","./text/urls-processor":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/text/urls-processor.js","./tokenizer/tokenize":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/tokenizer/tokenize.js","./urls/rebase":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/urls/rebase.js","./utils/compatibility":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/utils/compatibility.js","./utils/input-source-map-tracker":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/utils/input-source-map-tracker.js","./utils/object":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/utils/object.js","./utils/source-reader":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/utils/source-reader.js","./utils/source-tracker":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/utils/source-tracker.js",_process:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/process/browser.js",fs:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/browserify/lib/_empty.js",path:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/path-browserify/index.js",url:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/url/url.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/colors/hex-name-shortener.js":[function(require,module,exports){var HexNameShortener={};var COLORS={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#0ff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000",blanchedalmond:"#ffebcd",blue:"#00f",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#0ff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#f0f",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#0f0",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#f00",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#fff",whitesmoke:"#f5f5f5",yellow:"#ff0",yellowgreen:"#9acd32"};var toHex={};var toName={};for(var name in COLORS){
var hex=COLORS[name];if(name.length<hex.length)toName[hex]=name;else toHex[name]=hex}var toHexPattern=new RegExp("(^| |,|\\))("+Object.keys(toHex).join("|")+")( |,|\\)|$)","ig");var toNamePattern=new RegExp("("+Object.keys(toName).join("|")+")([^a-f0-9]|$)","ig");function hexConverter(match,prefix,colorValue,suffix){return prefix+toHex[colorValue.toLowerCase()]+suffix}function nameConverter(match,colorValue,suffix){return toName[colorValue.toLowerCase()]+suffix}HexNameShortener.shorten=function(value){var hasHex=value.indexOf("#")>-1;var shortened=value.replace(toHexPattern,hexConverter);if(shortened!=value)shortened=shortened.replace(toHexPattern,hexConverter);return hasHex?shortened.replace(toNamePattern,nameConverter):shortened};module.exports=HexNameShortener},{}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/colors/hsl.js":[function(require,module,exports){function HSLColor(hue,saturation,lightness){this.hue=hue;this.saturation=saturation;this.lightness=lightness}function hslToRgb(h,s,l){var r,g,b;h=h%360;if(h<0)h+=360;h=~~h/360;if(s<0)s=0;else if(s>100)s=100;s=~~s/100;if(l<0)l=0;else if(l>100)l=100;l=~~l/100;if(s===0){r=g=b=l}else{var q=l<.5?l*(1+s):l+s-l*s;var p=2*l-q;r=hueToRgb(p,q,h+1/3);g=hueToRgb(p,q,h);b=hueToRgb(p,q,h-1/3)}return[~~(r*255),~~(g*255),~~(b*255)]}function hueToRgb(p,q,t){if(t<0)t+=1;if(t>1)t-=1;if(t<1/6)return p+(q-p)*6*t;if(t<1/2)return q;if(t<2/3)return p+(q-p)*(2/3-t)*6;return p}HSLColor.prototype.toHex=function(){var asRgb=hslToRgb(this.hue,this.saturation,this.lightness);var redAsHex=asRgb[0].toString(16);var greenAsHex=asRgb[1].toString(16);var blueAsHex=asRgb[2].toString(16);return"#"+((redAsHex.length==1?"0":"")+redAsHex)+((greenAsHex.length==1?"0":"")+greenAsHex)+((blueAsHex.length==1?"0":"")+blueAsHex)};module.exports=HSLColor},{}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/colors/rgb.js":[function(require,module,exports){function RGB(red,green,blue){this.red=red;this.green=green;this.blue=blue}RGB.prototype.toHex=function(){var red=Math.max(0,Math.min(~~this.red,255));var green=Math.max(0,Math.min(~~this.green,255));var blue=Math.max(0,Math.min(~~this.blue,255));return"#"+("00000"+(red<<16|green<<8|blue).toString(16)).slice(-6)};module.exports=RGB},{}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/imports/inliner.js":[function(require,module,exports){(function(process){var fs=require("fs");var path=require("path");var http=require("http");var https=require("https");var url=require("url");var rewriteUrls=require("../urls/rewrite");var split=require("../utils/split");var override=require("../utils/object.js").override;var MAP_MARKER=/\/\*# sourceMappingURL=(\S+) \*\//;var REMOTE_RESOURCE=/^(https?:)?\/\//;var NO_PROTOCOL_RESOURCE=/^\/\//;function ImportInliner(context){this.outerContext=context}ImportInliner.prototype.process=function(data,context){var root=this.outerContext.options.root;context=override(context,{baseRelativeTo:this.outerContext.options.relativeTo||root,debug:this.outerContext.options.debug,done:[],errors:this.outerContext.errors,left:[],inliner:this.outerContext.options.inliner,rebase:this.outerContext.options.rebase,relativeTo:this.outerContext.options.relativeTo||root,root:root,sourceReader:this.outerContext.sourceReader,sourceTracker:this.outerContext.sourceTracker,warnings:this.outerContext.warnings,visited:[]});return importFrom(data,context)};function importFrom(data,context){if(context.shallow){context.shallow=false;context.done.push(data);return processNext(context)}var nextStart=0;var nextEnd=0;var cursor=0;var isComment=commentScanner(data);for(;nextEnd<data.length;){nextStart=nextImportAt(data,cursor);if(nextStart==-1)break;if(isComment(nextStart)){cursor=nextStart+1;continue}nextEnd=data.indexOf(";",nextStart);if(nextEnd==-1){cursor=data.length;data="";break}var noImportPart=data.substring(0,nextStart);context.done.push(noImportPart);context.left.unshift([data.substring(nextEnd+1),context]);context.afterContent=hasContent(noImportPart);return inline(data,nextStart,nextEnd,context)}context.done.push(data);return processNext(context)}function rebaseMap(data,source){return data.replace(MAP_MARKER,function(match,sourceMapUrl){return REMOTE_RESOURCE.test(sourceMapUrl)?match:match.replace(sourceMapUrl,url.resolve(source,sourceMapUrl))})}function nextImportAt(data,cursor){var nextLowerCase=data.indexOf("@import",cursor);var nextUpperCase=data.indexOf("@IMPORT",cursor);if(nextLowerCase>-1&&nextUpperCase==-1)return nextLowerCase;else if(nextLowerCase==-1&&nextUpperCase>-1)return nextUpperCase;else return Math.min(nextLowerCase,nextUpperCase)}function processNext(context){return context.left.length>0?importFrom.apply(null,context.left.shift()):context.whenDone(context.done.join(""))}function commentScanner(data){var commentRegex=/(\/\*(?!\*\/)[\s\S]*?\*\/)/;var lastStartIndex=0;var lastEndIndex=0;var noComments=false;return function scanner(idx){var comment;var localStartIndex=0;var localEndIndex=0;var globalStartIndex=0;var globalEndIndex=0;if(noComments)return false;do{if(idx>lastStartIndex&&idx<lastEndIndex)return true;comment=data.match(commentRegex);if(!comment){noComments=true;return false}lastStartIndex=localStartIndex=comment.index;localEndIndex=localStartIndex+comment[0].length;globalEndIndex=localEndIndex+lastEndIndex;globalStartIndex=globalEndIndex-comment[0].length;data=data.substring(localEndIndex);lastEndIndex=globalEndIndex}while(globalEndIndex<idx);return globalEndIndex>idx&&idx>globalStartIndex}}function hasContent(data){var isComment=commentScanner(data);var firstContentIdx=-1;while(true){firstContentIdx=data.indexOf("{",firstContentIdx+1);if(firstContentIdx==-1||!isComment(firstContentIdx))break}return firstContentIdx>-1}function inline(data,nextStart,nextEnd,context){context.shallow=data.indexOf("@shallow")>0;var importDeclaration=data.substring(nextImportAt(data,nextStart)+"@import".length+1,nextEnd).replace(/@shallow\)$/,")").trim();var viaUrl=importDeclaration.indexOf("url(")===0;var urlStartsAt=viaUrl?4:0;var isQuoted=/^['"]/.exec(importDeclaration.substring(urlStartsAt,urlStartsAt+2));var urlEndsAt=isQuoted?importDeclaration.indexOf(isQuoted[0],urlStartsAt+1):split(importDeclaration," ")[0].length-(viaUrl?1:0);var importedFile=importDeclaration.substring(urlStartsAt,urlEndsAt).replace(/['"]/g,"").replace(/\)$/,"").trim();var mediaQuery=importDeclaration.substring(urlEndsAt+1).replace(/^\)/,"").trim();var isRemote=context.isRemote||REMOTE_RESOURCE.test(importedFile);if(isRemote&&(context.localOnly||!allowedResource(importedFile,true,context.imports))){if(context.afterContent||hasContent(context.done.join("")))context.warnings.push('Ignoring remote @import of "'+importedFile+'" as no callback given.');else restoreImport(importedFile,mediaQuery,context);return processNext(context)}if(!isRemote&&!allowedResource(importedFile,false,context.imports)){if(context.afterImport)context.warnings.push('Ignoring local @import of "'+importedFile+'" as after other inlined content.');else restoreImport(importedFile,mediaQuery,context);return processNext(context)}if(!isRemote&&context.afterContent){context.warnings.push('Ignoring local @import of "'+importedFile+'" as after other CSS content.');return processNext(context)}var method=isRemote?inlineRemoteResource:inlineLocalResource;return method(importedFile,mediaQuery,context)}function allowedResource(importedFile,isRemote,rules){if(rules.length===0)return false;if(isRemote&&NO_PROTOCOL_RESOURCE.test(importedFile))importedFile="http:"+importedFile;var match=isRemote?url.parse(importedFile).host:importedFile;var allowed=true;for(var i=0;i<rules.length;i++){var rule=rules[i];if(rule=="all")allowed=true;else if(isRemote&&rule=="local")allowed=false;else if(isRemote&&rule=="remote")allowed=true;else if(!isRemote&&rule=="remote")allowed=false;else if(!isRemote&&rule=="local")allowed=true;else if(rule[0]=="!"&&rule.substring(1)===match)allowed=false}return allowed}function inlineRemoteResource(importedFile,mediaQuery,context){var importedUrl=REMOTE_RESOURCE.test(importedFile)?importedFile:url.resolve(context.relativeTo,importedFile);var originalUrl=importedUrl;if(NO_PROTOCOL_RESOURCE.test(importedUrl))importedUrl="http:"+importedUrl;if(context.visited.indexOf(importedUrl)>-1)return processNext(context);if(context.debug)console.error("Inlining remote stylesheet: "+importedUrl);context.visited.push(importedUrl);var proxyProtocol=context.inliner.request.protocol||context.inliner.request.hostname;var get=proxyProtocol&&proxyProtocol.indexOf("https://")!==0||importedUrl.indexOf("http://")===0?http.get:https.get;var errorHandled=false;function handleError(message){if(errorHandled)return;errorHandled=true;context.errors.push('Broken @import declaration of "'+importedUrl+'" - '+message);restoreImport(importedUrl,mediaQuery,context);process.nextTick(function(){processNext(context)})}var requestOptions=override(url.parse(importedUrl),context.inliner.request);if(context.inliner.request.hostname!==undefined){requestOptions.protocol=context.inliner.request.protocol||"http:";requestOptions.path=requestOptions.href}get(requestOptions,function(res){if(res.statusCode<200||res.statusCode>399){return handleError("error "+res.statusCode)}else if(res.statusCode>299){var movedUrl=url.resolve(importedUrl,res.headers.location);return inlineRemoteResource(movedUrl,mediaQuery,context)}var chunks=[];var parsedUrl=url.parse(importedUrl);res.on("data",function(chunk){chunks.push(chunk.toString())});res.on("end",function(){var importedData=chunks.join("");if(context.rebase)importedData=rewriteUrls(importedData,{toBase:originalUrl},context);context.sourceReader.trackSource(importedUrl,importedData);importedData=context.sourceTracker.store(importedUrl,importedData);importedData=rebaseMap(importedData,importedUrl);if(mediaQuery.length>0)importedData="@media "+mediaQuery+"{"+importedData+"}";context.afterImport=true;var newContext=override(context,{isRemote:true,relativeTo:parsedUrl.protocol+"//"+parsedUrl.host+parsedUrl.pathname});process.nextTick(function(){importFrom(importedData,newContext)})})}).on("error",function(res){handleError(res.message)}).on("timeout",function(){handleError("timeout")}).setTimeout(context.inliner.timeout)}function inlineLocalResource(importedFile,mediaQuery,context){var relativeTo=importedFile[0]=="/"?context.root:context.relativeTo;var fullPath=path.resolve(path.join(relativeTo,importedFile));if(!fs.existsSync(fullPath)||!fs.statSync(fullPath).isFile()){context.errors.push('Broken @import declaration of "'+importedFile+'"');return processNext(context)}if(context.visited.indexOf(fullPath)>-1)return processNext(context);if(context.debug)console.error("Inlining local stylesheet: "+fullPath);context.visited.push(fullPath);var importRelativeTo=path.dirname(fullPath);var importedData=fs.readFileSync(fullPath,"utf8");if(context.rebase){var rewriteOptions={relative:true,fromBase:importRelativeTo,toBase:context.baseRelativeTo};importedData=rewriteUrls(importedData,rewriteOptions,context)}var relativePath=path.relative(context.root,fullPath);context.sourceReader.trackSource(relativePath,importedData);importedData=context.sourceTracker.store(relativePath,importedData);if(mediaQuery.length>0)importedData="@media "+mediaQuery+"{"+importedData+"}";context.afterImport=true;var newContext=override(context,{relativeTo:importRelativeTo});return importFrom(importedData,newContext)}function restoreImport(importedUrl,mediaQuery,context){var restoredImport="@import url("+importedUrl+")"+(mediaQuery.length>0?" "+mediaQuery:"")+";";context.done.push(restoredImport)}module.exports=ImportInliner}).call(this,require("_process"))},{"../urls/rewrite":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/urls/rewrite.js","../utils/object.js":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/utils/object.js","../utils/split":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/utils/split.js",_process:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/process/browser.js",fs:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/browserify/lib/_empty.js",http:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/stream-http/index.js",https:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/https-browserify/index.js",path:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/path-browserify/index.js",url:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/url/url.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/properties/break-up.js":[function(require,module,exports){var wrapSingle=require("./wrap-for-optimizing").single;var InvalidPropertyError=require("./invalid-property-error");var split=require("../utils/split");var MULTIPLEX_SEPARATOR=",";function _colorFilter(validator){return function(value){return value[0]=="invert"||validator.isValidColor(value[0])}}function _styleFilter(validator){return function(value){return value[0]!="inherit"&&validator.isValidStyle(value[0])&&!validator.isValidColorValue(value[0])}}function _wrapDefault(name,property,compactable){var descriptor=compactable[name];if(descriptor.doubleValues&&descriptor.defaultValue.length==2)return wrapSingle([[name,property.important],[descriptor.defaultValue[0]],[descriptor.defaultValue[1]]]);else if(descriptor.doubleValues&&descriptor.defaultValue.length==1)return wrapSingle([[name,property.important],[descriptor.defaultValue[0]]]);else return wrapSingle([[name,property.important],[descriptor.defaultValue]])}function _widthFilter(validator){return function(value){return value[0]!="inherit"&&validator.isValidWidth(value[0])&&!validator.isValidStyleKeyword(value[0])&&!validator.isValidColorValue(value[0])}}function background(property,compactable,validator){var image=_wrapDefault("background-image",property,compactable);var position=_wrapDefault("background-position",property,compactable);var size=_wrapDefault("background-size",property,compactable);var repeat=_wrapDefault("background-repeat",property,compactable);var attachment=_wrapDefault("background-attachment",property,compactable);var origin=_wrapDefault("background-origin",property,compactable);var clip=_wrapDefault("background-clip",property,compactable);var color=_wrapDefault("background-color",property,compactable);var components=[image,position,size,repeat,attachment,origin,clip,color];var values=property.value;var positionSet=false;var clipSet=false;var originSet=false;var repeatSet=false;if(property.value.length==1&&property.value[0][0]=="inherit"){color.value=image.value=repeat.value=position.value=size.value=origin.value=clip.value=property.value;return components}for(var i=values.length-1;i>=0;i--){var value=values[i];if(validator.isValidBackgroundAttachment(value[0])){attachment.value=[value]}else if(validator.isValidBackgroundBox(value[0])){if(clipSet){origin.value=[value];originSet=true}else{clip.value=[value];clipSet=true}}else if(validator.isValidBackgroundRepeat(value[0])){if(repeatSet){repeat.value.unshift(value)}else{repeat.value=[value];repeatSet=true}}else if(validator.isValidBackgroundPositionPart(value[0])||validator.isValidBackgroundSizePart(value[0])){if(i>0){var previousValue=values[i-1];if(previousValue[0].indexOf("/")>0){var twoParts=split(previousValue[0],"/");size.value=[[twoParts.pop()].concat(previousValue.slice(1)),value];values[i-1]=[twoParts.pop()].concat(previousValue.slice(1))}else if(i>1&&values[i-2][0]=="/"){size.value=[previousValue,value];i-=2}else if(previousValue[0]=="/"){size.value=[value]}else{if(!positionSet)position.value=[];position.value.unshift(value);positionSet=true}}else{if(!positionSet)position.value=[];position.value.unshift(value);positionSet=true}}else if(validator.isValidBackgroundPositionAndSize(value[0])){var sizeValue=split(value[0],"/");size.value=[[sizeValue.pop()].concat(value.slice(1))];position.value=[[sizeValue.pop()].concat(value.slice(1))]}else if((color.value[0][0]==compactable[color.name].defaultValue||color.value[0][0]=="none")&&validator.isValidColor(value[0])){color.value=[value]}else if(validator.isValidUrl(value[0])||validator.isValidFunction(value[0])){image.value=[value]}}if(clipSet&&!originSet)origin.value=clip.value.slice(0);return components}function borderRadius(property,compactable){var values=property.value;var splitAt=-1;for(var i=0,l=values.length;i<l;i++){if(values[i][0]=="/"){splitAt=i;break}}if(splitAt===0||splitAt===values.length-1){throw new InvalidPropertyError("Invalid border-radius value.")}var target=_wrapDefault(property.name,property,compactable);target.value=splitAt>-1?values.slice(0,splitAt):values.slice(0);target.components=fourValues(target,compactable);var remainder=_wrapDefault(property.name,property,compactable);remainder.value=splitAt>-1?values.slice(splitAt+1):values.slice(0);remainder.components=fourValues(remainder,compactable);for(var j=0;j<4;j++){target.components[j].multiplex=true;target.components[j].value=target.components[j].value.concat(remainder.components[j].value)}return target.components}function fourValues(property,compactable){var componentNames=compactable[property.name].components;var components=[];var value=property.value;if(value.length<1)return[];if(value.length<2)value[1]=value[0].slice(0);if(value.length<3)value[2]=value[0].slice(0);if(value.length<4)value[3]=value[1].slice(0);for(var i=componentNames.length-1;i>=0;i--){var component=wrapSingle([[componentNames[i],property.important]]);component.value=[value[i]];components.unshift(component)}return components}function multiplex(splitWith){return function(property,compactable,validator){var splitsAt=[];var values=property.value;var i,j,l,m;for(i=0,l=values.length;i<l;i++){if(values[i][0]==",")splitsAt.push(i)}if(splitsAt.length===0)return splitWith(property,compactable,validator);var splitComponents=[];for(i=0,l=splitsAt.length;i<=l;i++){var from=i===0?0:splitsAt[i-1]+1;var to=i<l?splitsAt[i]:values.length;var _property=_wrapDefault(property.name,property,compactable);_property.value=values.slice(from,to);splitComponents.push(splitWith(_property,compactable,validator))}var components=splitComponents[0];for(i=0,l=components.length;i<l;i++){components[i].multiplex=true;for(j=1,m=splitComponents.length;j<m;j++){components[i].value.push([MULTIPLEX_SEPARATOR]);Array.prototype.push.apply(components[i].value,splitComponents[j][i].value)}}return components}}function listStyle(property,compactable,validator){var type=_wrapDefault("list-style-type",property,compactable);var position=_wrapDefault("list-style-position",property,compactable);var image=_wrapDefault("list-style-image",property,compactable);var components=[type,position,image];if(property.value.length==1&&property.value[0][0]=="inherit"){type.value=position.value=image.value=[property.value[0]];return components}var values=property.value.slice(0);var total=values.length;var index=0;for(index=0,total=values.length;index<total;index++){if(validator.isValidUrl(values[index][0])||values[index][0]=="0"){image.value=[values[index]];values.splice(index,1);break}}for(index=0,total=values.length;index<total;index++){if(validator.isValidListStyleType(values[index][0])){type.value=[values[index]];values.splice(index,1);break}}if(values.length>0&&validator.isValidListStylePosition(values[0][0]))position.value=[values[0]];return components}function widthStyleColor(property,compactable,validator){var descriptor=compactable[property.name];var components=[_wrapDefault(descriptor.components[0],property,compactable),_wrapDefault(descriptor.components[1],property,compactable),_wrapDefault(descriptor.components[2],property,compactable)];var color,style,width;for(var i=0;i<3;i++){var component=components[i];if(component.name.indexOf("color")>0)color=component;else if(component.name.indexOf("style")>0)style=component;else width=component}if(property.value.length==1&&property.value[0][0]=="inherit"||property.value.length==3&&property.value[0][0]=="inherit"&&property.value[1][0]=="inherit"&&property.value[2][0]=="inherit"){color.value=style.value=width.value=[property.value[0]];return components}var values=property.value.slice(0);var match,matches;if(values.length>0){matches=values.filter(_widthFilter(validator));match=matches.length>1&&(matches[0][0]=="none"||matches[0][0]=="auto")?matches[1]:matches[0];if(match){width.value=[match];values.splice(values.indexOf(match),1)}}if(values.length>0){match=values.filter(_styleFilter(validator))[0];if(match){style.value=[match];values.splice(values.indexOf(match),1)}}if(values.length>0){match=values.filter(_colorFilter(validator))[0];if(match){color.value=[match];values.splice(values.indexOf(match),1)}}return components}module.exports={background:background,border:widthStyleColor,borderRadius:borderRadius,fourValues:fourValues,listStyle:listStyle,multiplex:multiplex,outline:widthStyleColor}},{"../utils/split":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/utils/split.js","./invalid-property-error":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/properties/invalid-property-error.js","./wrap-for-optimizing":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/properties/wrap-for-optimizing.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/properties/can-override.js":[function(require,module,exports){function always(){return true}function alwaysButIntoFunction(property1,property2,validator){var value1=property1.value[0][0];var value2=property2.value[0][0];var validFunction1=validator.isValidFunction(value1);var validFunction2=validator.isValidFunction(value2);if(validFunction1&&validFunction2){return validator.areSameFunction(value1,value2)}else if(!validFunction1&&validFunction2){return false}else{return true}}function backgroundImage(property1,property2,validator){var image1=property1.value[0][0];var image2=property2.value[0][0];if(image2=="none"||image2=="inherit"||validator.isValidUrl(image2))return true;if(image1=="none"||image1=="inherit"||validator.isValidUrl(image1))return false;return sameFunctionOrValue(property1,property2,validator)}function border(property1,property2,validator){return color(property1.components[2],property2.components[2],validator)}function color(property1,property2,validator){var color1=property1.value[0][0];var color2=property2.value[0][0];if(!validator.colorOpacity&&(validator.isValidRgbaColor(color1)||validator.isValidHslaColor(color1)))return false;if(!validator.colorOpacity&&(validator.isValidRgbaColor(color2)||validator.isValidHslaColor(color2)))return false;if(validator.isValidNamedColor(color2)||validator.isValidHexColor(color2))return true;if(validator.isValidNamedColor(color1)||validator.isValidHexColor(color1))return false;if(validator.isValidRgbaColor(color2)||validator.isValidHslaColor(color2))return true;if(validator.isValidRgbaColor(color1)||validator.isValidHslaColor(color1))return false;return sameFunctionOrValue(property1,property2,validator)}function twoOptionalFunctions(property1,property2,validator){var value1=property1.value[0][0];var value2=property2.value[0][0];return!(validator.isValidFunction(value1)^validator.isValidFunction(value2))}function sameValue(property1,property2){var value1=property1.value[0][0];var value2=property2.value[0][0];return value1===value2}function sameFunctionOrValue(property1,property2,validator){var value1=property1.value[0][0];var value2=property2.value[0][0];if(validator.areSameFunction(value1,value2))return true;return value1===value2}function unit(property1,property2,validator){var value1=property1.value[0][0];var value2=property2.value[0][0];if(validator.isValidAndCompatibleUnitWithoutFunction(value1)&&!validator.isValidAndCompatibleUnitWithoutFunction(value2))return false;if(validator.isValidUnitWithoutFunction(value2))return true;if(validator.isValidUnitWithoutFunction(value1))return false;if(validator.isValidFunctionWithoutVendorPrefix(value2)&&validator.isValidFunctionWithoutVendorPrefix(value1)){return true}return sameFunctionOrValue(property1,property2,validator)}module.exports={always:always,alwaysButIntoFunction:alwaysButIntoFunction,backgroundImage:backgroundImage,border:border,color:color,sameValue:sameValue,sameFunctionOrValue:sameFunctionOrValue,twoOptionalFunctions:twoOptionalFunctions,unit:unit}},{}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/properties/clone.js":[function(require,module,exports){var wrapSingle=require("./wrap-for-optimizing").single;function deep(property){var cloned=shallow(property);for(var i=property.components.length-1;i>=0;i--){var component=shallow(property.components[i]);component.value=property.components[i].value.slice(0);cloned.components.unshift(component)}cloned.dirty=true;cloned.value=property.value.slice(0);return cloned}function shallow(property){var cloned=wrapSingle([[property.name,property.important,property.hack]]);cloned.unused=false;return cloned}module.exports={deep:deep,shallow:shallow}},{"./wrap-for-optimizing":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/properties/wrap-for-optimizing.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/properties/compactable.js":[function(require,module,exports){var breakUp=require("./break-up");var canOverride=require("./can-override");var restore=require("./restore");var compactable={color:{canOverride:canOverride.color,defaultValue:"transparent",shortestValue:"red"},background:{components:["background-image","background-position","background-size","background-repeat","background-attachment","background-origin","background-clip","background-color"],breakUp:breakUp.multiplex(breakUp.background),defaultValue:"0 0",restore:restore.multiplex(restore.background),shortestValue:"0",shorthand:true},"background-clip":{canOverride:canOverride.always,defaultValue:"border-box",shortestValue:"border-box"},"background-color":{canOverride:canOverride.color,defaultValue:"transparent",multiplexLastOnly:true,nonMergeableValue:"none",shortestValue:"red"},"background-image":{canOverride:canOverride.backgroundImage,defaultValue:"none"},"background-origin":{canOverride:canOverride.always,defaultValue:"padding-box",shortestValue:"border-box"},"background-repeat":{canOverride:canOverride.always,defaultValue:["repeat"],doubleValues:true},"background-position":{canOverride:canOverride.alwaysButIntoFunction,defaultValue:["0","0"],doubleValues:true,shortestValue:"0"},"background-size":{canOverride:canOverride.alwaysButIntoFunction,defaultValue:["auto"],doubleValues:true,shortestValue:"0 0"},"background-attachment":{canOverride:canOverride.always,defaultValue:"scroll"},border:{breakUp:breakUp.border,canOverride:canOverride.border,components:["border-width","border-style","border-color"],defaultValue:"none",restore:restore.withoutDefaults,shorthand:true},"border-color":{canOverride:canOverride.color,defaultValue:"none",shorthand:true},"border-style":{canOverride:canOverride.always,defaultValue:"none",shorthand:true},"border-width":{canOverride:canOverride.unit,defaultValue:"medium",shortestValue:"0",shorthand:true},"list-style":{components:["list-style-type","list-style-position","list-style-image"],canOverride:canOverride.always,breakUp:breakUp.listStyle,restore:restore.withoutDefaults,defaultValue:"outside",shortestValue:"none",shorthand:true},"list-style-type":{canOverride:canOverride.always,defaultValue:"__hack",shortestValue:"none"},"list-style-position":{canOverride:canOverride.always,defaultValue:"outside",shortestValue:"inside"},"list-style-image":{canOverride:canOverride.always,defaultValue:"none"},outline:{components:["outline-color","outline-style","outline-width"],breakUp:breakUp.outline,restore:restore.withoutDefaults,defaultValue:"0",shorthand:true},"outline-color":{canOverride:canOverride.color,defaultValue:"invert",shortestValue:"red"},"outline-style":{canOverride:canOverride.always,defaultValue:"none"},"outline-width":{canOverride:canOverride.unit,defaultValue:"medium",shortestValue:"0"},"-moz-transform":{canOverride:canOverride.sameFunctionOrValue},"-ms-transform":{canOverride:canOverride.sameFunctionOrValue},"-webkit-transform":{canOverride:canOverride.sameFunctionOrValue},transform:{canOverride:canOverride.sameFunctionOrValue}};var addFourValueShorthand=function(prop,components,options){options=options||{};compactable[prop]={canOverride:options.canOverride,components:components,breakUp:options.breakUp||breakUp.fourValues,defaultValue:options.defaultValue||"0",restore:options.restore||restore.fourValues,shortestValue:options.shortestValue,shorthand:true};for(var i=0;i<components.length;i++){compactable[components[i]]={breakUp:options.breakUp||breakUp.fourValues,canOverride:options.canOverride||canOverride.unit,defaultValue:options.defaultValue||"0",shortestValue:options.shortestValue}}};["","-moz-","-o-","-webkit-"].forEach(function(prefix){addFourValueShorthand(prefix+"border-radius",[prefix+"border-top-left-radius",prefix+"border-top-right-radius",prefix+"border-bottom-right-radius",prefix+"border-bottom-left-radius"],{breakUp:breakUp.borderRadius,restore:restore.borderRadius})});addFourValueShorthand("border-color",["border-top-color","border-right-color","border-bottom-color","border-left-color"],{breakUp:breakUp.fourValues,canOverride:canOverride.color,defaultValue:"none",shortestValue:"red"});addFourValueShorthand("border-style",["border-top-style","border-right-style","border-bottom-style","border-left-style"],{breakUp:breakUp.fourValues,canOverride:canOverride.always,defaultValue:"none"});addFourValueShorthand("border-width",["border-top-width","border-right-width","border-bottom-width","border-left-width"],{defaultValue:"medium",shortestValue:"0"});addFourValueShorthand("padding",["padding-top","padding-right","padding-bottom","padding-left"]);addFourValueShorthand("margin",["margin-top","margin-right","margin-bottom","margin-left"]);for(var property in compactable){if(compactable[property].shorthand){for(var i=0,l=compactable[property].components.length;i<l;i++){compactable[compactable[property].components[i]].componentOf=property}}}module.exports=compactable},{"./break-up":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/properties/break-up.js","./can-override":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/properties/can-override.js","./restore":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/properties/restore.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/properties/every-combination.js":[function(require,module,exports){var shallowClone=require("./clone").shallow;var MULTIPLEX_SEPARATOR=",";function everyCombination(fn,left,right,validator){var samePositon=!left.shorthand&&!right.shorthand&&!left.multiplex&&!right.multiplex;var _left=shallowClone(left);var _right=shallowClone(right);for(var i=0,l=left.value.length;i<l;i++){for(var j=0,m=right.value.length;j<m;j++){if(left.value[i][0]==MULTIPLEX_SEPARATOR||right.value[j][0]==MULTIPLEX_SEPARATOR)continue;if(samePositon&&i!=j)continue;_left.value=[left.value[i]];_right.value=[right.value[j]];if(!fn(_left,_right,validator))return false}}return true}module.exports=everyCombination},{"./clone":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/properties/clone.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/properties/has-inherit.js":[function(require,module,exports){function hasInherit(property){for(var i=property.value.length-1;i>=0;i--){
if(property.value[i][0]=="inherit")return true}return false}module.exports=hasInherit},{}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/properties/invalid-property-error.js":[function(require,module,exports){function InvalidPropertyError(message){this.name="InvalidPropertyError";this.message=message;this.stack=(new Error).stack}InvalidPropertyError.prototype=Object.create(Error.prototype);InvalidPropertyError.prototype.constructor=InvalidPropertyError;module.exports=InvalidPropertyError},{}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/properties/optimizer.js":[function(require,module,exports){var compactable=require("./compactable");var wrapForOptimizing=require("./wrap-for-optimizing").all;var populateComponents=require("./populate-components");var compactOverrides=require("./override-compactor");var compactShorthands=require("./shorthand-compactor");var removeUnused=require("./remove-unused");var restoreFromOptimizing=require("./restore-from-optimizing");var stringifyProperty=require("../stringifier/one-time").property;var shorthands={"animation-delay":["animation"],"animation-direction":["animation"],"animation-duration":["animation"],"animation-fill-mode":["animation"],"animation-iteration-count":["animation"],"animation-name":["animation"],"animation-play-state":["animation"],"animation-timing-function":["animation"],"-moz-animation-delay":["-moz-animation"],"-moz-animation-direction":["-moz-animation"],"-moz-animation-duration":["-moz-animation"],"-moz-animation-fill-mode":["-moz-animation"],"-moz-animation-iteration-count":["-moz-animation"],"-moz-animation-name":["-moz-animation"],"-moz-animation-play-state":["-moz-animation"],"-moz-animation-timing-function":["-moz-animation"],"-o-animation-delay":["-o-animation"],"-o-animation-direction":["-o-animation"],"-o-animation-duration":["-o-animation"],"-o-animation-fill-mode":["-o-animation"],"-o-animation-iteration-count":["-o-animation"],"-o-animation-name":["-o-animation"],"-o-animation-play-state":["-o-animation"],"-o-animation-timing-function":["-o-animation"],"-webkit-animation-delay":["-webkit-animation"],"-webkit-animation-direction":["-webkit-animation"],"-webkit-animation-duration":["-webkit-animation"],"-webkit-animation-fill-mode":["-webkit-animation"],"-webkit-animation-iteration-count":["-webkit-animation"],"-webkit-animation-name":["-webkit-animation"],"-webkit-animation-play-state":["-webkit-animation"],"-webkit-animation-timing-function":["-webkit-animation"],"border-color":["border"],"border-style":["border"],"border-width":["border"],"border-bottom":["border"],"border-bottom-color":["border-bottom","border-color","border"],"border-bottom-style":["border-bottom","border-style","border"],"border-bottom-width":["border-bottom","border-width","border"],"border-left":["border"],"border-left-color":["border-left","border-color","border"],"border-left-style":["border-left","border-style","border"],"border-left-width":["border-left","border-width","border"],"border-right":["border"],"border-right-color":["border-right","border-color","border"],"border-right-style":["border-right","border-style","border"],"border-right-width":["border-right","border-width","border"],"border-top":["border"],"border-top-color":["border-top","border-color","border"],"border-top-style":["border-top","border-style","border"],"border-top-width":["border-top","border-width","border"],"font-family":["font"],"font-size":["font"],"font-style":["font"],"font-variant":["font"],"font-weight":["font"],"transition-delay":["transition"],"transition-duration":["transition"],"transition-property":["transition"],"transition-timing-function":["transition"],"-moz-transition-delay":["-moz-transition"],"-moz-transition-duration":["-moz-transition"],"-moz-transition-property":["-moz-transition"],"-moz-transition-timing-function":["-moz-transition"],"-o-transition-delay":["-o-transition"],"-o-transition-duration":["-o-transition"],"-o-transition-property":["-o-transition"],"-o-transition-timing-function":["-o-transition"],"-webkit-transition-delay":["-webkit-transition"],"-webkit-transition-duration":["-webkit-transition"],"-webkit-transition-property":["-webkit-transition"],"-webkit-transition-timing-function":["-webkit-transition"]};function _optimize(properties,mergeAdjacent,aggressiveMerging,validator){var overrideMapping={};var lastName=null;var lastProperty;var j;function mergeablePosition(position){if(mergeAdjacent===false||mergeAdjacent===true)return mergeAdjacent;return mergeAdjacent.indexOf(position)>-1}function sameValue(position){var left=properties[position-1];var right=properties[position];return stringifyProperty(left.all,left.position)==stringifyProperty(right.all,right.position)}propertyLoop:for(var position=0,total=properties.length;position<total;position++){var property=properties[position];var _name=property.name=="-ms-filter"||property.name=="filter"?lastName=="background"||lastName=="background-image"?lastName:property.name:property.name;var isImportant=property.important;var isHack=property.hack;if(property.unused)continue;if(position>0&&lastProperty&&_name==lastName&&isImportant==lastProperty.important&&isHack==lastProperty.hack&&sameValue(position)&&!lastProperty.unused){property.unused=true;continue}if(_name in overrideMapping&&(aggressiveMerging&&_name!=lastName||mergeablePosition(position))){var toOverridePositions=overrideMapping[_name];var canOverride=compactable[_name]&&compactable[_name].canOverride;var anyRemoved=false;for(j=toOverridePositions.length-1;j>=0;j--){var toRemove=properties[toOverridePositions[j]];var longhandToShorthand=toRemove.name!=_name;var wasImportant=toRemove.important;var wasHack=toRemove.hack;if(toRemove.unused)continue;if(longhandToShorthand&&wasImportant)continue;if(!wasImportant&&(wasHack&&!isHack||!wasHack&&isHack))continue;if(wasImportant&&(isHack=="star"||isHack=="underscore"))continue;if(!wasHack&&!isHack&&!longhandToShorthand&&canOverride&&!canOverride(toRemove,property,validator))continue;if(wasImportant&&!isImportant||wasImportant&&isHack){property.unused=true;lastProperty=property;continue propertyLoop}else{anyRemoved=true;toRemove.unused=true}}if(anyRemoved){position=-1;lastProperty=null;lastName=null;overrideMapping={};continue}}else{overrideMapping[_name]=overrideMapping[_name]||[];overrideMapping[_name].push(position);var _shorthands=shorthands[_name];if(_shorthands){for(j=_shorthands.length-1;j>=0;j--){var shorthand=_shorthands[j];overrideMapping[shorthand]=overrideMapping[shorthand]||[];overrideMapping[shorthand].push(position)}}}lastName=_name;lastProperty=property}}function optimize(selector,properties,mergeAdjacent,withCompacting,options,context){var validator=context.validator;var warnings=context.warnings;var _properties=wrapForOptimizing(properties);populateComponents(_properties,validator,warnings);_optimize(_properties,mergeAdjacent,options.aggressiveMerging,validator);for(var i=0,l=_properties.length;i<l;i++){var _property=_properties[i];if(_property.variable&&_property.block)optimize(selector,_property.value[0],mergeAdjacent,withCompacting,options,context)}if(withCompacting&&options.shorthandCompacting){compactOverrides(_properties,options.compatibility,validator);compactShorthands(_properties,options.sourceMap,validator)}restoreFromOptimizing(_properties);removeUnused(_properties)}module.exports=optimize},{"../stringifier/one-time":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/stringifier/one-time.js","./compactable":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/properties/compactable.js","./override-compactor":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/properties/override-compactor.js","./populate-components":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/properties/populate-components.js","./remove-unused":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/properties/remove-unused.js","./restore-from-optimizing":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/properties/restore-from-optimizing.js","./shorthand-compactor":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/properties/shorthand-compactor.js","./wrap-for-optimizing":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/properties/wrap-for-optimizing.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/properties/override-compactor.js":[function(require,module,exports){var canOverride=require("./can-override");var compactable=require("./compactable");var deepClone=require("./clone").deep;var shallowClone=require("./clone").shallow;var hasInherit=require("./has-inherit");var restoreFromOptimizing=require("./restore-from-optimizing");var everyCombination=require("./every-combination");var sameVendorPrefixesIn=require("./vendor-prefixes").same;var stringifyProperty=require("../stringifier/one-time").property;var MULTIPLEX_SEPARATOR=",";function nameMatchFilter(to){return function(property){return to.name===property.name}}function wouldBreakCompatibility(property,validator){for(var i=0;i<property.components.length;i++){var component=property.components[i];var descriptor=compactable[component.name];var canOverride=descriptor&&descriptor.canOverride||canOverride.sameValue;var _component=shallowClone(component);_component.value=[[descriptor.defaultValue]];if(!canOverride(_component,component,validator))return true}return false}function isComponentOf(shorthand,longhand){return compactable[shorthand.name].components.indexOf(longhand.name)>-1}function overrideIntoMultiplex(property,by){by.unused=true;turnIntoMultiplex(by,multiplexSize(property));property.value=by.value}function overrideByMultiplex(property,by){by.unused=true;property.multiplex=true;property.value=by.value}function overrideSimple(property,by){by.unused=true;property.value=by.value}function override(property,by){if(by.multiplex)overrideByMultiplex(property,by);else if(property.multiplex)overrideIntoMultiplex(property,by);else overrideSimple(property,by)}function overrideShorthand(property,by){by.unused=true;for(var i=0,l=property.components.length;i<l;i++){override(property.components[i],by.components[i],property.multiplex)}}function turnIntoMultiplex(property,size){property.multiplex=true;for(var i=0,l=property.components.length;i<l;i++){var component=property.components[i];if(component.multiplex)continue;var value=component.value.slice(0);for(var j=1;j<size;j++){component.value.push([MULTIPLEX_SEPARATOR]);Array.prototype.push.apply(component.value,value)}}}function multiplexSize(component){var size=0;for(var i=0,l=component.value.length;i<l;i++){if(component.value[i][0]==MULTIPLEX_SEPARATOR)size++}return size+1}function lengthOf(property){var fakeAsArray=[[property.name]].concat(property.value);return stringifyProperty([fakeAsArray],0).length}function moreSameShorthands(properties,startAt,name){var count=0;for(var i=startAt;i>=0;i--){if(properties[i].name==name&&!properties[i].unused)count++;if(count>1)break}return count>1}function overridingFunction(shorthand,validator){for(var i=0,l=shorthand.components.length;i<l;i++){if(anyValue(validator.isValidFunction,shorthand.components[i]))return true}return false}function anyValue(fn,property){for(var i=0,l=property.value.length;i<l;i++){if(property.value[i][0]==MULTIPLEX_SEPARATOR)continue;if(fn(property.value[i][0]))return true}return false}function wouldResultInLongerValue(left,right){if(!left.multiplex&&!right.multiplex||left.multiplex&&right.multiplex)return false;var multiplex=left.multiplex?left:right;var simple=left.multiplex?right:left;var component;var multiplexClone=deepClone(multiplex);restoreFromOptimizing([multiplexClone]);var simpleClone=deepClone(simple);restoreFromOptimizing([simpleClone]);var lengthBefore=lengthOf(multiplexClone)+1+lengthOf(simpleClone);if(left.multiplex){component=multiplexClone.components.filter(nameMatchFilter(simpleClone))[0];overrideIntoMultiplex(component,simpleClone)}else{component=simpleClone.components.filter(nameMatchFilter(multiplexClone))[0];turnIntoMultiplex(simpleClone,multiplexSize(multiplexClone));overrideByMultiplex(component,multiplexClone)}restoreFromOptimizing([simpleClone]);var lengthAfter=lengthOf(simpleClone);return lengthBefore<lengthAfter}function isCompactable(property){return property.name in compactable}function noneOverrideHack(left,right){return!left.multiplex&&(left.name=="background"||left.name=="background-image")&&right.multiplex&&(right.name=="background"||right.name=="background-image")&&anyLayerIsNone(right.value)}function anyLayerIsNone(values){var layers=intoLayers(values);for(var i=0,l=layers.length;i<l;i++){if(layers[i].length==1&&layers[i][0][0]=="none")return true}return false}function intoLayers(values){var layers=[];for(var i=0,layer=[],l=values.length;i<l;i++){var value=values[i];if(value[0]==MULTIPLEX_SEPARATOR){layers.push(layer);layer=[]}else{layer.push(value)}}layers.push(layer);return layers}function compactOverrides(properties,compatibility,validator){var mayOverride,right,left,component;var i,j,k;propertyLoop:for(i=properties.length-1;i>=0;i--){right=properties[i];if(!isCompactable(right))continue;if(right.variable)continue;mayOverride=compactable[right.name].canOverride||canOverride.sameValue;for(j=i-1;j>=0;j--){left=properties[j];if(!isCompactable(left))continue;if(left.variable)continue;if(left.unused||right.unused)continue;if(left.hack&&!right.hack||!left.hack&&right.hack)continue;if(hasInherit(right))continue;if(noneOverrideHack(left,right))continue;if(!left.shorthand&&right.shorthand&&isComponentOf(right,left)){if(!right.important&&left.important)continue;if(!sameVendorPrefixesIn([left],right.components))continue;if(!anyValue(validator.isValidFunction,left)&&overridingFunction(right,validator))continue;component=right.components.filter(nameMatchFilter(left))[0];mayOverride=compactable[left.name]&&compactable[left.name].canOverride||canOverride.sameValue;if(everyCombination(mayOverride,left,component,validator)){left.unused=true}}else if(left.shorthand&&!right.shorthand&&isComponentOf(left,right)){if(right.important&&!left.important)continue;if(moreSameShorthands(properties,i-1,left.name))continue;if(overridingFunction(left,validator))continue;component=left.components.filter(nameMatchFilter(right))[0];if(everyCombination(mayOverride,component,right,validator)){var disabledBackgroundMerging=!compatibility.properties.backgroundClipMerging&&component.name.indexOf("background-clip")>-1||!compatibility.properties.backgroundOriginMerging&&component.name.indexOf("background-origin")>-1||!compatibility.properties.backgroundSizeMerging&&component.name.indexOf("background-size")>-1;var nonMergeableValue=compactable[right.name].nonMergeableValue===right.value[0][0];if(disabledBackgroundMerging||nonMergeableValue)continue;if(!compatibility.properties.merging&&wouldBreakCompatibility(left,validator))continue;if(component.value[0][0]!=right.value[0][0]&&(hasInherit(left)||hasInherit(right)))continue;if(wouldResultInLongerValue(left,right))continue;if(!left.multiplex&&right.multiplex)turnIntoMultiplex(left,multiplexSize(right));override(component,right);left.dirty=true}}else if(left.shorthand&&right.shorthand&&left.name==right.name){if(!left.multiplex&&right.multiplex)continue;if(!right.important&&left.important){right.unused=true;continue propertyLoop}if(right.important&&!left.important){left.unused=true;continue}for(k=left.components.length-1;k>=0;k--){var leftComponent=left.components[k];var rightComponent=right.components[k];mayOverride=compactable[leftComponent.name].canOverride||canOverride.sameValue;if(!everyCombination(mayOverride,leftComponent,rightComponent,validator))continue propertyLoop;if(!everyCombination(canOverride.twoOptionalFunctions,leftComponent,rightComponent,validator)&&validator.isValidFunction(rightComponent))continue propertyLoop}overrideShorthand(left,right);left.dirty=true}else if(left.shorthand&&right.shorthand&&isComponentOf(left,right)){if(!left.important&&right.important)continue;component=left.components.filter(nameMatchFilter(right))[0];mayOverride=compactable[right.name].canOverride||canOverride.sameValue;if(!everyCombination(mayOverride,component,right,validator))continue;if(left.important&&!right.important){right.unused=true;continue}var rightRestored=compactable[right.name].restore(right,compactable);if(rightRestored.length>1)continue;component=left.components.filter(nameMatchFilter(right))[0];override(component,right);right.dirty=true}else if(left.name==right.name){if(left.important&&!right.important){right.unused=true;continue}mayOverride=compactable[right.name].canOverride||canOverride.sameValue;if(!everyCombination(mayOverride,left,right,validator))continue;left.unused=true}}}}module.exports=compactOverrides},{"../stringifier/one-time":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/stringifier/one-time.js","./can-override":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/properties/can-override.js","./clone":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/properties/clone.js","./compactable":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/properties/compactable.js","./every-combination":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/properties/every-combination.js","./has-inherit":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/properties/has-inherit.js","./restore-from-optimizing":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/properties/restore-from-optimizing.js","./vendor-prefixes":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/properties/vendor-prefixes.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/properties/populate-components.js":[function(require,module,exports){var compactable=require("./compactable");var InvalidPropertyError=require("./invalid-property-error");function populateComponents(properties,validator,warnings){for(var i=properties.length-1;i>=0;i--){var property=properties[i];var descriptor=compactable[property.name];if(descriptor&&descriptor.shorthand){property.shorthand=true;property.dirty=true;try{property.components=descriptor.breakUp(property,compactable,validator)}catch(e){if(e instanceof InvalidPropertyError){property.components=[];warnings.push(e.message)}else{throw e}}if(property.components.length>0)property.multiplex=property.components[0].multiplex;else property.unused=true}}}module.exports=populateComponents},{"./compactable":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/properties/compactable.js","./invalid-property-error":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/properties/invalid-property-error.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/properties/remove-unused.js":[function(require,module,exports){function removeUnused(properties){for(var i=properties.length-1;i>=0;i--){var property=properties[i];if(property.unused)property.all.splice(property.position,1)}}module.exports=removeUnused},{}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/properties/restore-from-optimizing.js":[function(require,module,exports){var compactable=require("./compactable");var BACKSLASH_HACK="\\9";var IMPORTANT_TOKEN="!important";var STAR_HACK="*";var UNDERSCORE_HACK="_";var BANG_HACK="!ie";function restoreImportant(property){property.value[property.value.length-1][0]+=IMPORTANT_TOKEN}function restoreHack(property){if(property.hack=="underscore")property.name=UNDERSCORE_HACK+property.name;else if(property.hack=="star")property.name=STAR_HACK+property.name;else if(property.hack=="backslash")property.value[property.value.length-1][0]+=BACKSLASH_HACK;else if(property.hack=="bang")property.value[property.value.length-1][0]+=" "+BANG_HACK}function restoreFromOptimizing(properties,simpleMode){for(var i=properties.length-1;i>=0;i--){var property=properties[i];var descriptor=compactable[property.name];var restored;if(property.unused)continue;if(!property.dirty&&!property.important&&!property.hack)continue;if(!simpleMode&&descriptor&&descriptor.shorthand){restored=descriptor.restore(property,compactable);property.value=restored}else{restored=property.value}if(property.important)restoreImportant(property);if(property.hack)restoreHack(property);if(!("all"in property))continue;var current=property.all[property.position];current[0][0]=property.name;current.splice(1,current.length-1);Array.prototype.push.apply(current,restored)}}module.exports=restoreFromOptimizing},{"./compactable":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/properties/compactable.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/properties/restore.js":[function(require,module,exports){var shallowClone=require("./clone").shallow;var MULTIPLEX_SEPARATOR=",";var SIZE_POSITION_SEPARATOR="/";function isInheritOnly(values){for(var i=0,l=values.length;i<l;i++){var value=values[i][0];if(value!="inherit"&&value!=MULTIPLEX_SEPARATOR&&value!=SIZE_POSITION_SEPARATOR)return false}return true}function background(property,compactable,lastInMultiplex){var components=property.components;var restored=[];var needsOne,needsBoth;function restoreValue(component){Array.prototype.unshift.apply(restored,component.value)}function isDefaultValue(component){var descriptor=compactable[component.name];if(descriptor.doubleValues){if(descriptor.defaultValue.length==1)return component.value[0][0]==descriptor.defaultValue[0]&&(component.value[1]?component.value[1][0]==descriptor.defaultValue[0]:true);else return component.value[0][0]==descriptor.defaultValue[0]&&(component.value[1]?component.value[1][0]:component.value[0][0])==descriptor.defaultValue[1]}else{return component.value[0][0]==descriptor.defaultValue}}for(var i=components.length-1;i>=0;i--){var component=components[i];var isDefault=isDefaultValue(component);if(component.name=="background-clip"){var originComponent=components[i-1];var isOriginDefault=isDefaultValue(originComponent);needsOne=component.value[0][0]==originComponent.value[0][0];needsBoth=!needsOne&&(isOriginDefault&&!isDefault||!isOriginDefault&&!isDefault||!isOriginDefault&&isDefault&&component.value[0][0]!=originComponent.value[0][0]);if(needsOne){restoreValue(originComponent)}else if(needsBoth){restoreValue(component);restoreValue(originComponent)}i--}else if(component.name=="background-size"){var positionComponent=components[i-1];var isPositionDefault=isDefaultValue(positionComponent);needsOne=!isPositionDefault&&isDefault;needsBoth=!needsOne&&(isPositionDefault&&!isDefault||!isPositionDefault&&!isDefault);if(needsOne){restoreValue(positionComponent)}else if(needsBoth){restoreValue(component);restored.unshift([SIZE_POSITION_SEPARATOR]);restoreValue(positionComponent)}else if(positionComponent.value.length==1){restoreValue(positionComponent)}i--}else{if(isDefault||compactable[component.name].multiplexLastOnly&&!lastInMultiplex)continue;restoreValue(component)}}if(restored.length===0&&property.value.length==1&&property.value[0][0]=="0")restored.push(property.value[0]);if(restored.length===0)restored.push([compactable[property.name].defaultValue]);if(isInheritOnly(restored))return[restored[0]];return restored}function borderRadius(property,compactable){if(property.multiplex){var horizontal=shallowClone(property);var vertical=shallowClone(property);for(var i=0;i<4;i++){var component=property.components[i];var horizontalComponent=shallowClone(property);horizontalComponent.value=[component.value[0]];horizontal.components.push(horizontalComponent);var verticalComponent=shallowClone(property);verticalComponent.value=[component.value[1]||component.value[0]];vertical.components.push(verticalComponent)}var horizontalValues=fourValues(horizontal,compactable);var verticalValues=fourValues(vertical,compactable);if(horizontalValues.length==verticalValues.length&&horizontalValues[0][0]==verticalValues[0][0]&&(horizontalValues.length>1?horizontalValues[1][0]==verticalValues[1][0]:true)&&(horizontalValues.length>2?horizontalValues[2][0]==verticalValues[2][0]:true)&&(horizontalValues.length>3?horizontalValues[3][0]==verticalValues[3][0]:true)){return horizontalValues}else{return horizontalValues.concat([["/"]]).concat(verticalValues)}}else{return fourValues(property,compactable)}}function fourValues(property){var components=property.components;var value1=components[0].value[0];var value2=components[1].value[0];var value3=components[2].value[0];var value4=components[3].value[0];if(value1[0]==value2[0]&&value1[0]==value3[0]&&value1[0]==value4[0]){return[value1]}else if(value1[0]==value3[0]&&value2[0]==value4[0]){return[value1,value2]}else if(value2[0]==value4[0]){return[value1,value2,value3]}else{return[value1,value2,value3,value4]}}function multiplex(restoreWith){return function(property,compactable){if(!property.multiplex)return restoreWith(property,compactable,true);var multiplexSize=0;var restored=[];var componentMultiplexSoFar={};var i,l;for(i=0,l=property.components[0].value.length;i<l;i++){if(property.components[0].value[i][0]==MULTIPLEX_SEPARATOR)multiplexSize++}for(i=0;i<=multiplexSize;i++){var _property=shallowClone(property);for(var j=0,m=property.components.length;j<m;j++){var componentToClone=property.components[j];var _component=shallowClone(componentToClone);_property.components.push(_component);for(var k=componentMultiplexSoFar[_component.name]||0,n=componentToClone.value.length;k<n;k++){if(componentToClone.value[k][0]==MULTIPLEX_SEPARATOR){componentMultiplexSoFar[_component.name]=k+1;break}_component.value.push(componentToClone.value[k])}}var lastInMultiplex=i==multiplexSize;var _restored=restoreWith(_property,compactable,lastInMultiplex);Array.prototype.push.apply(restored,_restored);if(i<multiplexSize)restored.push([","])}return restored}}function withoutDefaults(property,compactable){var components=property.components;var restored=[];for(var i=components.length-1;i>=0;i--){var component=components[i];var descriptor=compactable[component.name];if(component.value[0][0]!=descriptor.defaultValue)restored.unshift(component.value[0])}if(restored.length===0)restored.push([compactable[property.name].defaultValue]);if(isInheritOnly(restored))return[restored[0]];return restored}module.exports={background:background,borderRadius:borderRadius,fourValues:fourValues,multiplex:multiplex,withoutDefaults:withoutDefaults}},{"./clone":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/properties/clone.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/properties/shorthand-compactor.js":[function(require,module,exports){var compactable=require("./compactable");var deepClone=require("./clone").deep;var hasInherit=require("./has-inherit");var populateComponents=require("./populate-components");var wrapSingle=require("./wrap-for-optimizing").single;var everyCombination=require("./every-combination");function mixedImportance(components){var important;for(var name in components){if(undefined!==important&&components[name].important!=important)return true;important=components[name].important}return false}function componentSourceMaps(components){var sourceMapping=[];for(var name in components){var component=components[name];var originalValue=component.all[component.position];var mapping=originalValue[0][originalValue[0].length-1];if(Array.isArray(mapping))Array.prototype.push.apply(sourceMapping,mapping)}return sourceMapping}function replaceWithShorthand(properties,candidateComponents,name,sourceMaps,validator){var descriptor=compactable[name];var newValuePlaceholder=[[name],[descriptor.defaultValue]];var all;var newProperty=wrapSingle(newValuePlaceholder);newProperty.shorthand=true;newProperty.dirty=true;populateComponents([newProperty],validator,[]);for(var i=0,l=descriptor.components.length;i<l;i++){var component=candidateComponents[descriptor.components[i]];var canOverride=compactable[component.name].canOverride;if(hasInherit(component))return;if(!everyCombination(canOverride,newProperty.components[i],component,validator))return;newProperty.components[i]=deepClone(component);newProperty.important=component.important;all=component.all}for(var componentName in candidateComponents){candidateComponents[componentName].unused=true}if(sourceMaps){var sourceMapping=componentSourceMaps(candidateComponents);if(sourceMapping.length>0)newValuePlaceholder[0].push(sourceMapping)}newProperty.position=all.length;newProperty.all=all;newProperty.all.push(newValuePlaceholder);properties.push(newProperty)}function invalidateOrCompact(properties,position,candidates,sourceMaps,validator){var property=properties[position];for(var name in candidates){if(undefined!==property&&name==property.name)continue;var descriptor=compactable[name];var candidateComponents=candidates[name];if(descriptor.components.length>Object.keys(candidateComponents).length){delete candidates[name];continue}if(mixedImportance(candidateComponents))continue;replaceWithShorthand(properties,candidateComponents,name,sourceMaps,validator)}}function compactShortands(properties,sourceMaps,validator){var candidates={};if(properties.length<3)return;for(var i=0,l=properties.length;i<l;i++){var property=properties[i];if(property.unused)continue;if(property.hack)continue;if(property.variable)continue;var descriptor=compactable[property.name];if(!descriptor||!descriptor.componentOf)continue;if(property.shorthand){invalidateOrCompact(properties,i,candidates,sourceMaps,validator)}else{var componentOf=descriptor.componentOf;candidates[componentOf]=candidates[componentOf]||{};candidates[componentOf][property.name]=property}}invalidateOrCompact(properties,i,candidates,sourceMaps,validator)}module.exports=compactShortands},{"./clone":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/properties/clone.js","./compactable":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/properties/compactable.js","./every-combination":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/properties/every-combination.js","./has-inherit":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/properties/has-inherit.js","./populate-components":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/properties/populate-components.js","./wrap-for-optimizing":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/properties/wrap-for-optimizing.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/properties/validator.js":[function(require,module,exports){var split=require("../utils/split");var widthKeywords=["thin","thick","medium","inherit","initial"];var allUnits=["px","%","em","in","cm","mm","ex","pt","pc","ch","rem","vh","vm","vmin","vmax","vw"];var cssUnitRegexStr="(\\-?\\.?\\d+\\.?\\d*("+allUnits.join("|")+"|)|auto|inherit)";var cssCalcRegexStr="(\\-moz\\-|\\-webkit\\-)?calc\\([^\\)]+\\)";var cssFunctionNoVendorRegexStr="[A-Z]+(\\-|[A-Z]|[0-9])+\\(.*?\\)";var cssFunctionVendorRegexStr="\\-(\\-|[A-Z]|[0-9])+\\(.*?\\)";var cssVariableRegexStr="var\\(\\-\\-[^\\)]+\\)";var cssFunctionAnyRegexStr="("+cssVariableRegexStr+"|"+cssFunctionNoVendorRegexStr+"|"+cssFunctionVendorRegexStr+")";var cssUnitOrCalcRegexStr="("+cssUnitRegexStr+"|"+cssCalcRegexStr+")";
var cssUnitAnyRegexStr="(none|"+widthKeywords.join("|")+"|"+cssUnitRegexStr+"|"+cssVariableRegexStr+"|"+cssFunctionNoVendorRegexStr+"|"+cssFunctionVendorRegexStr+")";var cssFunctionNoVendorRegex=new RegExp("^"+cssFunctionNoVendorRegexStr+"$","i");var cssFunctionVendorRegex=new RegExp("^"+cssFunctionVendorRegexStr+"$","i");var cssVariableRegex=new RegExp("^"+cssVariableRegexStr+"$","i");var cssFunctionAnyRegex=new RegExp("^"+cssFunctionAnyRegexStr+"$","i");var cssUnitRegex=new RegExp("^"+cssUnitRegexStr+"$","i");var cssUnitOrCalcRegex=new RegExp("^"+cssUnitOrCalcRegexStr+"$","i");var cssUnitAnyRegex=new RegExp("^"+cssUnitAnyRegexStr+"$","i");var backgroundRepeatKeywords=["repeat","no-repeat","repeat-x","repeat-y","inherit"];var backgroundAttachmentKeywords=["inherit","scroll","fixed","local"];var backgroundPositionKeywords=["center","top","bottom","left","right"];var backgroundSizeKeywords=["contain","cover"];var backgroundBoxKeywords=["border-box","content-box","padding-box"];var styleKeywords=["auto","inherit","hidden","none","dotted","dashed","solid","double","groove","ridge","inset","outset"];var listStyleTypeKeywords=["armenian","circle","cjk-ideographic","decimal","decimal-leading-zero","disc","georgian","hebrew","hiragana","hiragana-iroha","inherit","katakana","katakana-iroha","lower-alpha","lower-greek","lower-latin","lower-roman","none","square","upper-alpha","upper-latin","upper-roman"];var listStylePositionKeywords=["inside","outside","inherit"];function Validator(compatibility){var validUnits=allUnits.slice(0).filter(function(value){return!(value in compatibility.units)||compatibility.units[value]===true});var compatibleCssUnitRegexStr="(\\-?\\.?\\d+\\.?\\d*("+validUnits.join("|")+"|)|auto|inherit)";this.compatibleCssUnitRegex=new RegExp("^"+compatibleCssUnitRegexStr+"$","i");this.compatibleCssUnitAnyRegex=new RegExp("^(none|"+widthKeywords.join("|")+"|"+compatibleCssUnitRegexStr+"|"+cssVariableRegexStr+"|"+cssFunctionNoVendorRegexStr+"|"+cssFunctionVendorRegexStr+")$","i");this.colorOpacity=compatibility.colors.opacity}Validator.prototype.isValidHexColor=function(s){return(s.length===4||s.length===7)&&s[0]==="#"};Validator.prototype.isValidRgbaColor=function(s){s=s.split(" ").join("");return s.length>0&&s.indexOf("rgba(")===0&&s.indexOf(")")===s.length-1};Validator.prototype.isValidHslaColor=function(s){s=s.split(" ").join("");return s.length>0&&s.indexOf("hsla(")===0&&s.indexOf(")")===s.length-1};Validator.prototype.isValidNamedColor=function(s){return s!=="auto"&&(s==="transparent"||s==="inherit"||/^[a-zA-Z]+$/.test(s))};Validator.prototype.isValidVariable=function(s){return cssVariableRegex.test(s)};Validator.prototype.isValidColor=function(s){return this.isValidNamedColor(s)||this.isValidColorValue(s)||this.isValidVariable(s)||this.isValidVendorPrefixedValue(s)};Validator.prototype.isValidColorValue=function(s){return this.isValidHexColor(s)||this.isValidRgbaColor(s)||this.isValidHslaColor(s)};Validator.prototype.isValidUrl=function(s){return s.indexOf("__ESCAPED_URL_CLEAN_CSS")===0};Validator.prototype.isValidUnit=function(s){return cssUnitAnyRegex.test(s)};Validator.prototype.isValidUnitWithoutFunction=function(s){return cssUnitRegex.test(s)};Validator.prototype.isValidAndCompatibleUnit=function(s){return this.compatibleCssUnitAnyRegex.test(s)};Validator.prototype.isValidAndCompatibleUnitWithoutFunction=function(s){return this.compatibleCssUnitRegex.test(s)};Validator.prototype.isValidFunctionWithoutVendorPrefix=function(s){return cssFunctionNoVendorRegex.test(s)};Validator.prototype.isValidFunctionWithVendorPrefix=function(s){return cssFunctionVendorRegex.test(s)};Validator.prototype.isValidFunction=function(s){return cssFunctionAnyRegex.test(s)};Validator.prototype.isValidBackgroundRepeat=function(s){return backgroundRepeatKeywords.indexOf(s)>=0||this.isValidVariable(s)};Validator.prototype.isValidBackgroundAttachment=function(s){return backgroundAttachmentKeywords.indexOf(s)>=0||this.isValidVariable(s)};Validator.prototype.isValidBackgroundBox=function(s){return backgroundBoxKeywords.indexOf(s)>=0||this.isValidVariable(s)};Validator.prototype.isValidBackgroundPositionPart=function(s){return backgroundPositionKeywords.indexOf(s)>=0||cssUnitOrCalcRegex.test(s)||this.isValidVariable(s)};Validator.prototype.isValidBackgroundPosition=function(s){if(s==="inherit")return true;var parts=s.split(" ");for(var i=0,l=parts.length;i<l;i++){if(parts[i]==="")continue;if(this.isValidBackgroundPositionPart(parts[i])||this.isValidVariable(parts[i]))continue;return false}return true};Validator.prototype.isValidBackgroundSizePart=function(s){return backgroundSizeKeywords.indexOf(s)>=0||cssUnitRegex.test(s)||this.isValidVariable(s)};Validator.prototype.isValidBackgroundPositionAndSize=function(s){if(s.indexOf("/")<0)return false;var twoParts=split(s,"/");return this.isValidBackgroundSizePart(twoParts.pop())&&this.isValidBackgroundPositionPart(twoParts.pop())};Validator.prototype.isValidListStyleType=function(s){return listStyleTypeKeywords.indexOf(s)>=0||this.isValidVariable(s)};Validator.prototype.isValidListStylePosition=function(s){return listStylePositionKeywords.indexOf(s)>=0||this.isValidVariable(s)};Validator.prototype.isValidStyle=function(s){return this.isValidStyleKeyword(s)||this.isValidVariable(s)};Validator.prototype.isValidStyleKeyword=function(s){return styleKeywords.indexOf(s)>=0};Validator.prototype.isValidWidth=function(s){return this.isValidUnit(s)||this.isValidWidthKeyword(s)||this.isValidVariable(s)};Validator.prototype.isValidWidthKeyword=function(s){return widthKeywords.indexOf(s)>=0};Validator.prototype.isValidVendorPrefixedValue=function(s){return/^-([A-Za-z0-9]|-)*$/gi.test(s)};Validator.prototype.areSameFunction=function(a,b){if(!this.isValidFunction(a)||!this.isValidFunction(b))return false;var f1name=a.substring(0,a.indexOf("("));var f2name=b.substring(0,b.indexOf("("));return f1name===f2name};module.exports=Validator},{"../utils/split":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/utils/split.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/properties/vendor-prefixes.js":[function(require,module,exports){var VENDOR_PREFIX_PATTERN=/$\-moz\-|\-ms\-|\-o\-|\-webkit\-/;function prefixesIn(tokens){var prefixes=[];for(var i=0,l=tokens.length;i<l;i++){var token=tokens[i];for(var j=0,m=token.value.length;j<m;j++){var match=VENDOR_PREFIX_PATTERN.exec(token.value[j][0]);if(match&&prefixes.indexOf(match[0])==-1)prefixes.push(match[0])}}return prefixes}function same(left,right){return prefixesIn(left).sort().join(",")==prefixesIn(right).sort().join(",")}module.exports={same:same}},{}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/properties/wrap-for-optimizing.js":[function(require,module,exports){var BACKSLASH_HACK="\\";var IMPORTANT_WORD="important";var IMPORTANT_TOKEN="!"+IMPORTANT_WORD;var IMPORTANT_WORD_MATCH=new RegExp(IMPORTANT_WORD+"$","i");var IMPORTANT_TOKEN_MATCH=new RegExp(IMPORTANT_TOKEN+"$","i");var STAR_HACK="*";var UNDERSCORE_HACK="_";var BANG_HACK="!";function wrapAll(properties){var wrapped=[];for(var i=properties.length-1;i>=0;i--){if(typeof properties[i][0]=="string")continue;var single=wrapSingle(properties[i]);single.all=properties;single.position=i;wrapped.unshift(single)}return wrapped}function isMultiplex(property){for(var i=1,l=property.length;i<l;i++){if(property[i][0]==","||property[i][0]=="/")return true}return false}function hackType(property){var type=false;var name=property[0][0];var lastValue=property[property.length-1];if(name[0]==UNDERSCORE_HACK){type="underscore"}else if(name[0]==STAR_HACK){type="star"}else if(lastValue[0][0]==BANG_HACK&&!lastValue[0].match(IMPORTANT_WORD_MATCH)){type="bang"}else if(lastValue[0].indexOf(BANG_HACK)>0&&!lastValue[0].match(IMPORTANT_WORD_MATCH)){type="bang"}else if(lastValue[0].indexOf(BACKSLASH_HACK)>0&&lastValue[0].indexOf(BACKSLASH_HACK)==lastValue[0].length-BACKSLASH_HACK.length-1){type="backslash"}else if(lastValue[0].indexOf(BACKSLASH_HACK)===0&&lastValue[0].length==2){type="backslash"}return type}function isImportant(property){if(property.length>1){var p=property[property.length-1][0];if(typeof p==="string"){return IMPORTANT_TOKEN_MATCH.test(p)}}return false}function stripImportant(property){if(property.length>0)property[property.length-1][0]=property[property.length-1][0].replace(IMPORTANT_TOKEN_MATCH,"")}function stripPrefixHack(property){property[0][0]=property[0][0].substring(1)}function stripSuffixHack(property,hackType){var lastValue=property[property.length-1];lastValue[0]=lastValue[0].substring(0,lastValue[0].indexOf(hackType=="backslash"?BACKSLASH_HACK:BANG_HACK)).trim();if(lastValue[0].length===0)property.pop()}function wrapSingle(property){var _isImportant=isImportant(property);if(_isImportant)stripImportant(property);var _hackType=hackType(property);if(_hackType=="star"||_hackType=="underscore")stripPrefixHack(property);else if(_hackType=="backslash"||_hackType=="bang")stripSuffixHack(property,_hackType);var isVariable=property[0][0].indexOf("--")===0;return{block:isVariable&&property[1]&&Array.isArray(property[1][0][0]),components:[],dirty:false,hack:_hackType,important:_isImportant,name:property[0][0],multiplex:property.length>2?isMultiplex(property):false,position:0,shorthand:false,unused:property.length<2,value:property.slice(1),variable:isVariable}}module.exports={all:wrapAll,single:wrapSingle}},{}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/selectors/advanced.js":[function(require,module,exports){var optimizeProperties=require("../properties/optimizer");var removeDuplicates=require("./remove-duplicates");var mergeAdjacent=require("./merge-adjacent");var reduceNonAdjacent=require("./reduce-non-adjacent");var mergeNonAdjacentBySelector=require("./merge-non-adjacent-by-selector");var mergeNonAdjacentByBody=require("./merge-non-adjacent-by-body");var restructure=require("./restructure");var removeDuplicateMediaQueries=require("./remove-duplicate-media-queries");var mergeMediaQueries=require("./merge-media-queries");function removeEmpty(tokens){for(var i=0,l=tokens.length;i<l;i++){var token=tokens[i];var isEmpty=false;switch(token[0]){case"selector":isEmpty=token[1].length===0||token[2].length===0;break;case"block":removeEmpty(token[2]);isEmpty=token[2].length===0}if(isEmpty){tokens.splice(i,1);i--;l--}}}function recursivelyOptimizeBlocks(tokens,options,context){for(var i=0,l=tokens.length;i<l;i++){var token=tokens[i];if(token[0]=="block"){var isKeyframes=/@(-moz-|-o-|-webkit-)?keyframes/.test(token[1][0]);optimize(token[2],options,context,!isKeyframes)}}}function recursivelyOptimizeProperties(tokens,options,context){for(var i=0,l=tokens.length;i<l;i++){var token=tokens[i];switch(token[0]){case"selector":optimizeProperties(token[1],token[2],false,true,options,context);break;case"block":recursivelyOptimizeProperties(token[2],options,context)}}}function optimize(tokens,options,context,withRestructuring){recursivelyOptimizeBlocks(tokens,options,context);recursivelyOptimizeProperties(tokens,options,context);removeDuplicates(tokens);mergeAdjacent(tokens,options,context);reduceNonAdjacent(tokens,options,context);mergeNonAdjacentBySelector(tokens,options,context);mergeNonAdjacentByBody(tokens,options);if(options.restructuring&&withRestructuring){restructure(tokens,options);mergeAdjacent(tokens,options,context)}if(options.mediaMerging){removeDuplicateMediaQueries(tokens);var reduced=mergeMediaQueries(tokens);for(var i=reduced.length-1;i>=0;i--){optimize(reduced[i][2],options,context,false)}}removeEmpty(tokens)}module.exports=optimize},{"../properties/optimizer":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/properties/optimizer.js","./merge-adjacent":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/selectors/merge-adjacent.js","./merge-media-queries":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/selectors/merge-media-queries.js","./merge-non-adjacent-by-body":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/selectors/merge-non-adjacent-by-body.js","./merge-non-adjacent-by-selector":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/selectors/merge-non-adjacent-by-selector.js","./reduce-non-adjacent":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/selectors/reduce-non-adjacent.js","./remove-duplicate-media-queries":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/selectors/remove-duplicate-media-queries.js","./remove-duplicates":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/selectors/remove-duplicates.js","./restructure":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/selectors/restructure.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/selectors/clean-up.js":[function(require,module,exports){function removeWhitespace(match,value){return"["+value.replace(/ /g,"")+"]"}function selectorSorter(s1,s2){return s1[0]>s2[0]?1:-1}function whitespaceReplacements(_,p1,p2,p3){if(p1&&p2&&p3.length)return p1+p2+" ";else if(p1&&p2)return p1+p2;else return p2}var CleanUp={selectors:function(selectors,removeUnsupported,adjacentSpace){var list=[];var repeated=[];for(var i=0,l=selectors.length;i<l;i++){var selector=selectors[i];var reduced=selector[0].replace(/\s+/g," ").replace(/ ?, ?/g,",").replace(/\s*(\\)?([>+~])(\s*)/g,whitespaceReplacements).trim();if(adjacentSpace&&reduced.indexOf("nav")>0)reduced=reduced.replace(/\+nav(\S|$)/,"+ nav$1");if(removeUnsupported&&(reduced.indexOf("*+html ")!=-1||reduced.indexOf("*:first-child+html ")!=-1))continue;if(reduced.indexOf("*")>-1){reduced=reduced.replace(/\*([:#\.\[])/g,"$1").replace(/^(\:first\-child)?\+html/,"*$1+html")}if(reduced.indexOf("[")>-1)reduced=reduced.replace(/\[([^\]]+)\]/g,removeWhitespace);if(repeated.indexOf(reduced)==-1){selector[0]=reduced;repeated.push(reduced);list.push(selector)}}return list.sort(selectorSorter)},selectorDuplicates:function(selectors){var list=[];var repeated=[];for(var i=0,l=selectors.length;i<l;i++){var selector=selectors[i];if(repeated.indexOf(selector[0])==-1){repeated.push(selector[0]);list.push(selector)}}return list.sort(selectorSorter)},block:function(values,spaceAfterClosingBrace){values[0]=values[0].replace(/\s+/g," ").replace(/(,|:|\() /g,"$1").replace(/ \)/g,")");if(!spaceAfterClosingBrace)values[0]=values[0].replace(/\) /g,")")},atRule:function(values){values[0]=values[0].replace(/\s+/g," ").trim()}};module.exports=CleanUp},{}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/selectors/extractor.js":[function(require,module,exports){var stringifySelectors=require("../stringifier/one-time").selectors;var stringifyValue=require("../stringifier/one-time").value;var AT_RULE="at-rule";function extract(token){var properties=[];if(token[0]=="selector"){var inSpecificSelector=!/[\.\+>~]/.test(stringifySelectors(token[1]));for(var i=0,l=token[2].length;i<l;i++){var property=token[2][i];if(property.indexOf("__ESCAPED")===0)continue;if(property[0]==AT_RULE)continue;var name=token[2][i][0][0];if(name.length===0)continue;if(name.indexOf("--")===0)continue;var value=stringifyValue(token[2],i);properties.push([name,value,findNameRoot(name),token[2][i],name+":"+value,token[1],inSpecificSelector])}}else if(token[0]=="block"){for(var j=0,k=token[2].length;j<k;j++){properties=properties.concat(extract(token[2][j]))}}return properties}function findNameRoot(name){if(name=="list-style")return name;if(name.indexOf("-radius")>0)return"border-radius";if(name=="border-collapse"||name=="border-spacing"||name=="border-image")return name;if(name.indexOf("border-")===0&&/^border\-\w+\-\w+$/.test(name))return name.match(/border\-\w+/)[0];if(name.indexOf("border-")===0&&/^border\-\w+$/.test(name))return"border";if(name.indexOf("text-")===0)return name;return name.replace(/^\-\w+\-/,"").match(/([a-zA-Z]+)/)[0].toLowerCase()}module.exports=extract},{"../stringifier/one-time":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/stringifier/one-time.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/selectors/is-special.js":[function(require,module,exports){function isSpecial(options,selector){return options.compatibility.selectors.special.test(selector)}module.exports=isSpecial},{}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/selectors/merge-adjacent.js":[function(require,module,exports){var optimizeProperties=require("../properties/optimizer");var stringifyBody=require("../stringifier/one-time").body;var stringifySelectors=require("../stringifier/one-time").selectors;var cleanUpSelectors=require("./clean-up").selectors;var isSpecial=require("./is-special");function mergeAdjacent(tokens,options,context){var lastToken=[null,[],[]];var adjacentSpace=options.compatibility.selectors.adjacentSpace;for(var i=0,l=tokens.length;i<l;i++){var token=tokens[i];if(token[0]!="selector"){lastToken=[null,[],[]];continue}if(lastToken[0]=="selector"&&stringifySelectors(token[1])==stringifySelectors(lastToken[1])){var joinAt=[lastToken[2].length];Array.prototype.push.apply(lastToken[2],token[2]);optimizeProperties(token[1],lastToken[2],joinAt,true,options,context);token[2]=[]}else if(lastToken[0]=="selector"&&stringifyBody(token[2])==stringifyBody(lastToken[2])&&!isSpecial(options,stringifySelectors(token[1]))&&!isSpecial(options,stringifySelectors(lastToken[1]))){lastToken[1]=cleanUpSelectors(lastToken[1].concat(token[1]),false,adjacentSpace);token[2]=[]}else{lastToken=token}}}module.exports=mergeAdjacent},{"../properties/optimizer":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/properties/optimizer.js","../stringifier/one-time":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/stringifier/one-time.js","./clean-up":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/selectors/clean-up.js","./is-special":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/selectors/is-special.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/selectors/merge-media-queries.js":[function(require,module,exports){var canReorder=require("./reorderable").canReorder;var extractProperties=require("./extractor");function mergeMediaQueries(tokens){var candidates={};var reduced=[];for(var i=tokens.length-1;i>=0;i--){var token=tokens[i];if(token[0]!="block")continue;var candidate=candidates[token[1][0]];if(!candidate){candidate=[];candidates[token[1][0]]=candidate}candidate.push(i)}for(var name in candidates){var positions=candidates[name];positionLoop:for(var j=positions.length-1;j>0;j--){var positionOne=positions[j];var tokenOne=tokens[positionOne];var positionTwo=positions[j-1];var tokenTwo=tokens[positionTwo];directionLoop:for(var direction=1;direction>=-1;direction-=2){var topToBottom=direction==1;var from=topToBottom?positionOne+1:positionTwo-1;var to=topToBottom?positionTwo:positionOne;var delta=topToBottom?1:-1;var source=topToBottom?tokenOne:tokenTwo;var target=topToBottom?tokenTwo:tokenOne;var movedProperties=extractProperties(source);while(from!=to){var traversedProperties=extractProperties(tokens[from]);from+=delta;if(!canReorder(movedProperties,traversedProperties))continue directionLoop}target[2]=topToBottom?source[2].concat(target[2]):target[2].concat(source[2]);source[2]=[];reduced.push(target);continue positionLoop}}}return reduced}module.exports=mergeMediaQueries},{"./extractor":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/selectors/extractor.js","./reorderable":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/selectors/reorderable.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/selectors/merge-non-adjacent-by-body.js":[function(require,module,exports){var stringifyBody=require("../stringifier/one-time").body;var stringifySelectors=require("../stringifier/one-time").selectors;var cleanUpSelectors=require("./clean-up").selectors;var isSpecial=require("./is-special");function unsafeSelector(value){return/\.|\*| :/.test(value)}function isBemElement(token){var asString=stringifySelectors(token[1]);return asString.indexOf("__")>-1||asString.indexOf("--")>-1}function withoutModifier(selector){return selector.replace(/--[^ ,>\+~:]+/g,"")}function removeAnyUnsafeElements(left,candidates){var leftSelector=withoutModifier(stringifySelectors(left[1]));for(var body in candidates){var right=candidates[body];var rightSelector=withoutModifier(stringifySelectors(right[1]));if(rightSelector.indexOf(leftSelector)>-1||leftSelector.indexOf(rightSelector)>-1)delete candidates[body]}}function mergeNonAdjacentByBody(tokens,options){var candidates={};var adjacentSpace=options.compatibility.selectors.adjacentSpace;for(var i=tokens.length-1;i>=0;i--){var token=tokens[i];if(token[0]!="selector")continue;if(token[2].length>0&&(!options.semanticMerging&&unsafeSelector(stringifySelectors(token[1]))))candidates={};if(token[2].length>0&&options.semanticMerging&&isBemElement(token))removeAnyUnsafeElements(token,candidates);var candidateBody=stringifyBody(token[2]);var oldToken=candidates[candidateBody];if(oldToken&&!isSpecial(options,stringifySelectors(token[1]))&&!isSpecial(options,stringifySelectors(oldToken[1]))){token[1]=token[2].length>0?cleanUpSelectors(oldToken[1].concat(token[1]),false,adjacentSpace):oldToken[1].concat(token[1]);oldToken[2]=[];candidates[candidateBody]=null}candidates[stringifyBody(token[2])]=token}}module.exports=mergeNonAdjacentByBody},{"../stringifier/one-time":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/stringifier/one-time.js","./clean-up":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/selectors/clean-up.js","./is-special":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/selectors/is-special.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/selectors/merge-non-adjacent-by-selector.js":[function(require,module,exports){var optimizeProperties=require("../properties/optimizer");var stringifySelectors=require("../stringifier/one-time").selectors;var extractProperties=require("./extractor");var canReorder=require("./reorderable").canReorder;function mergeNonAdjacentBySelector(tokens,options,context){var allSelectors={};var repeatedSelectors=[];var i;for(i=tokens.length-1;i>=0;i--){if(tokens[i][0]!="selector")continue;if(tokens[i][2].length===0)continue;var selector=stringifySelectors(tokens[i][1]);allSelectors[selector]=[i].concat(allSelectors[selector]||[]);if(allSelectors[selector].length==2)repeatedSelectors.push(selector)}for(i=repeatedSelectors.length-1;i>=0;i--){var positions=allSelectors[repeatedSelectors[i]];selectorIterator:for(var j=positions.length-1;j>0;j--){var positionOne=positions[j-1];var tokenOne=tokens[positionOne];var positionTwo=positions[j];var tokenTwo=tokens[positionTwo];directionIterator:for(var direction=1;direction>=-1;direction-=2){var topToBottom=direction==1;var from=topToBottom?positionOne+1:positionTwo-1;var to=topToBottom?positionTwo:positionOne;var delta=topToBottom?1:-1;var moved=topToBottom?tokenOne:tokenTwo;var target=topToBottom?tokenTwo:tokenOne;var movedProperties=extractProperties(moved);var joinAt;while(from!=to){var traversedProperties=extractProperties(tokens[from]);from+=delta;var reorderable=topToBottom?canReorder(movedProperties,traversedProperties):canReorder(traversedProperties,movedProperties);if(!reorderable&&!topToBottom)continue selectorIterator;if(!reorderable&&topToBottom)continue directionIterator}if(topToBottom){joinAt=[moved[2].length];Array.prototype.push.apply(moved[2],target[2]);target[2]=moved[2]}else{joinAt=[target[2].length];Array.prototype.push.apply(target[2],moved[2])}optimizeProperties(target[1],target[2],joinAt,true,options,context);moved[2]=[]}}}}module.exports=mergeNonAdjacentBySelector},{"../properties/optimizer":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/properties/optimizer.js","../stringifier/one-time":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/stringifier/one-time.js","./extractor":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/selectors/extractor.js","./reorderable":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/selectors/reorderable.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/selectors/reduce-non-adjacent.js":[function(require,module,exports){var optimizeProperties=require("../properties/optimizer");var stringifyBody=require("../stringifier/one-time").body;var stringifySelectors=require("../stringifier/one-time").selectors;var isSpecial=require("./is-special");var cloneArray=require("../utils/clone-array");function reduceNonAdjacent(tokens,options,context){var candidates={};var repeated=[];for(var i=tokens.length-1;i>=0;i--){var token=tokens[i];if(token[0]!="selector")continue;if(token[2].length===0)continue;var selectorAsString=stringifySelectors(token[1]);var isComplexAndNotSpecial=token[1].length>1&&!isSpecial(options,selectorAsString);var wrappedSelectors=options.sourceMap?wrappedSelectorsFrom(token[1]):token[1];var selectors=isComplexAndNotSpecial?[selectorAsString].concat(wrappedSelectors):[selectorAsString];for(var j=0,m=selectors.length;j<m;j++){var selector=selectors[j];if(!candidates[selector])candidates[selector]=[];else repeated.push(selector);candidates[selector].push({where:i,list:wrappedSelectors,isPartial:isComplexAndNotSpecial&&j>0,isComplex:isComplexAndNotSpecial&&j===0})}}reduceSimpleNonAdjacentCases(tokens,repeated,candidates,options,context);reduceComplexNonAdjacentCases(tokens,candidates,options,context)}function wrappedSelectorsFrom(list){var wrapped=[];for(var i=0;i<list.length;i++){wrapped.push([list[i][0]])}return wrapped}function reduceSimpleNonAdjacentCases(tokens,repeated,candidates,options,context){function filterOut(idx,bodies){return data[idx].isPartial&&bodies.length===0}function reduceBody(token,newBody,processedCount,tokenIdx){if(!data[processedCount-tokenIdx-1].isPartial)token[2]=newBody}for(var i=0,l=repeated.length;i<l;i++){var selector=repeated[i];var data=candidates[selector];reduceSelector(tokens,selector,data,{filterOut:filterOut,callback:reduceBody},options,context)}}function reduceComplexNonAdjacentCases(tokens,candidates,options,context){var localContext={};function filterOut(idx){return localContext.data[idx].where<localContext.intoPosition}function collectReducedBodies(token,newBody,processedCount,tokenIdx){if(tokenIdx===0)localContext.reducedBodies.push(newBody)}allSelectors:for(var complexSelector in candidates){var into=candidates[complexSelector];if(!into[0].isComplex)continue;var intoPosition=into[into.length-1].where;var intoToken=tokens[intoPosition];var reducedBodies=[];var selectors=isSpecial(options,complexSelector)?[complexSelector]:into[0].list;localContext.intoPosition=intoPosition;localContext.reducedBodies=reducedBodies;for(var j=0,m=selectors.length;j<m;j++){var selector=selectors[j];var data=candidates[selector];if(data.length<2)continue allSelectors;localContext.data=data;reduceSelector(tokens,selector,data,{filterOut:filterOut,callback:collectReducedBodies},options,context);if(stringifyBody(reducedBodies[reducedBodies.length-1])!=stringifyBody(reducedBodies[0]))continue allSelectors}intoToken[2]=reducedBodies[0]}}function reduceSelector(tokens,selector,data,context,options,outerContext){var bodies=[];var bodiesAsList=[];var joinsAt=[];var processedTokens=[];for(var j=data.length-1,m=0;j>=0;j--){if(context.filterOut(j,bodies))continue;var where=data[j].where;var token=tokens[where];var clonedBody=cloneArray(token[2]);bodies=bodies.concat(clonedBody);bodiesAsList.push(clonedBody);processedTokens.push(where)}for(j=0,m=bodiesAsList.length;j<m;j++){if(bodiesAsList[j].length>0)joinsAt.push((joinsAt[j-1]||0)+bodiesAsList[j].length)}optimizeProperties(selector,bodies,joinsAt,false,options,outerContext);var processedCount=processedTokens.length;var propertyIdx=bodies.length-1;var tokenIdx=processedCount-1;while(tokenIdx>=0){if((tokenIdx===0||bodies[propertyIdx]&&bodiesAsList[tokenIdx].indexOf(bodies[propertyIdx])>-1)&&propertyIdx>-1){propertyIdx--;continue}var newBody=bodies.splice(propertyIdx+1);context.callback(tokens[processedTokens[tokenIdx]],newBody,processedCount,tokenIdx);tokenIdx--}}module.exports=reduceNonAdjacent},{"../properties/optimizer":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/properties/optimizer.js","../stringifier/one-time":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/stringifier/one-time.js","../utils/clone-array":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/utils/clone-array.js","./is-special":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/selectors/is-special.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/selectors/remove-duplicate-media-queries.js":[function(require,module,exports){var stringifyAll=require("../stringifier/one-time").all;function removeDuplicateMediaQueries(tokens){var candidates={};for(var i=0,l=tokens.length;i<l;i++){var token=tokens[i];if(token[0]!="block")continue;var key=token[1][0]+"%"+stringifyAll(token[2]);var candidate=candidates[key];if(candidate)candidate[2]=[];candidates[key]=token}}module.exports=removeDuplicateMediaQueries},{"../stringifier/one-time":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/stringifier/one-time.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/selectors/remove-duplicates.js":[function(require,module,exports){var stringifyBody=require("../stringifier/one-time").body;var stringifySelectors=require("../stringifier/one-time").selectors;function removeDuplicates(tokens){var matched={};var moreThanOnce=[];var id,token;var body,bodies;for(var i=0,l=tokens.length;i<l;i++){token=tokens[i];if(token[0]!="selector")continue;id=stringifySelectors(token[1]);if(matched[id]&&matched[id].length==1)moreThanOnce.push(id);else matched[id]=matched[id]||[];matched[id].push(i)}for(i=0,l=moreThanOnce.length;i<l;i++){id=moreThanOnce[i];bodies=[];for(var j=matched[id].length-1;j>=0;j--){token=tokens[matched[id][j]];body=stringifyBody(token[2]);if(bodies.indexOf(body)>-1)token[2]=[];else bodies.push(body)}}}module.exports=removeDuplicates},{"../stringifier/one-time":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/stringifier/one-time.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/selectors/reorderable.js":[function(require,module,exports){var FLEX_PROPERTIES=/align\-items|box\-align|box\-pack|flex|justify/;var BORDER_PROPERTIES=/^border\-(top|right|bottom|left|color|style|width|radius)/;function canReorder(left,right){for(var i=right.length-1;i>=0;i--){for(var j=left.length-1;j>=0;j--){if(!canReorderSingle(left[j],right[i]))return false}}return true}function canReorderSingle(left,right){var leftName=left[0];var leftValue=left[1];var leftNameRoot=left[2];var leftSelector=left[5];var leftInSpecificSelector=left[6];var rightName=right[0];
var rightValue=right[1];var rightNameRoot=right[2];var rightSelector=right[5];var rightInSpecificSelector=right[6];if(leftName=="font"&&rightName=="line-height"||rightName=="font"&&leftName=="line-height")return false;if(FLEX_PROPERTIES.test(leftName)&&FLEX_PROPERTIES.test(rightName))return false;if(leftNameRoot==rightNameRoot&&unprefixed(leftName)==unprefixed(rightName)&&vendorPrefixed(leftName)^vendorPrefixed(rightName))return false;if(leftNameRoot=="border"&&BORDER_PROPERTIES.test(rightNameRoot)&&(leftName=="border"||leftName==rightNameRoot))return false;if(rightNameRoot=="border"&&BORDER_PROPERTIES.test(leftNameRoot)&&(rightName=="border"||rightName==leftNameRoot))return false;if(leftNameRoot=="border"&&rightNameRoot=="border"&&leftName!=rightName&&(isSideBorder(leftName)&&isStyleBorder(rightName)||isStyleBorder(leftName)&&isSideBorder(rightName)))return false;if(leftNameRoot!=rightNameRoot)return true;if(leftName==rightName&&leftNameRoot==rightNameRoot&&(leftValue==rightValue||withDifferentVendorPrefix(leftValue,rightValue)))return true;if(leftName!=rightName&&leftNameRoot==rightNameRoot&&leftName!=leftNameRoot&&rightName!=rightNameRoot)return true;if(leftName!=rightName&&leftNameRoot==rightNameRoot&&leftValue==rightValue)return true;if(rightInSpecificSelector&&leftInSpecificSelector&&!inheritable(leftNameRoot)&&!inheritable(rightNameRoot)&&selectorsDoNotOverlap(rightSelector,leftSelector))return true;return false}function vendorPrefixed(name){return/^\-(?:moz|webkit|ms|o)\-/.test(name)}function unprefixed(name){return name.replace(/^\-(?:moz|webkit|ms|o)\-/,"")}function isSideBorder(name){return name=="border-top"||name=="border-right"||name=="border-bottom"||name=="border-left"}function isStyleBorder(name){return name=="border-color"||name=="border-style"||name=="border-width"}function withDifferentVendorPrefix(value1,value2){return vendorPrefixed(value1)&&vendorPrefixed(value2)&&value1.split("-")[1]!=value2.split("-")[2]}function selectorsDoNotOverlap(s1,s2){for(var i=0,l=s1.length;i<l;i++){for(var j=0,m=s2.length;j<m;j++){if(s1[i][0]==s2[j][0])return false}}return true}function inheritable(name){return name=="font"||name=="line-height"||name=="list-style"}module.exports={canReorder:canReorder,canReorderSingle:canReorderSingle}},{}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/selectors/restructure.js":[function(require,module,exports){var extractProperties=require("./extractor");var canReorderSingle=require("./reorderable").canReorderSingle;var stringifyBody=require("../stringifier/one-time").body;var stringifySelectors=require("../stringifier/one-time").selectors;var cleanUpSelectorDuplicates=require("./clean-up").selectorDuplicates;var isSpecial=require("./is-special");var cloneArray=require("../utils/clone-array");function naturalSorter(a,b){return a>b}function cloneAndMergeSelectors(propertyA,propertyB){var cloned=cloneArray(propertyA);cloned[5]=cloned[5].concat(propertyB[5]);return cloned}function restructure(tokens,options){var movableTokens={};var movedProperties=[];var multiPropertyMoveCache={};var movedToBeDropped=[];var maxCombinationsLevel=2;var ID_JOIN_CHARACTER="%";function sendToMultiPropertyMoveCache(position,movedProperty,allFits){for(var i=allFits.length-1;i>=0;i--){var fit=allFits[i][0];var id=addToCache(movedProperty,fit);if(multiPropertyMoveCache[id].length>1&&processMultiPropertyMove(position,multiPropertyMoveCache[id])){removeAllMatchingFromCache(id);break}}}function addToCache(movedProperty,fit){var id=cacheId(fit);multiPropertyMoveCache[id]=multiPropertyMoveCache[id]||[];multiPropertyMoveCache[id].push([movedProperty,fit]);return id}function removeAllMatchingFromCache(matchId){var matchSelectors=matchId.split(ID_JOIN_CHARACTER);var forRemoval=[];var i;for(var id in multiPropertyMoveCache){var selectors=id.split(ID_JOIN_CHARACTER);for(i=selectors.length-1;i>=0;i--){if(matchSelectors.indexOf(selectors[i])>-1){forRemoval.push(id);break}}}for(i=forRemoval.length-1;i>=0;i--){delete multiPropertyMoveCache[forRemoval[i]]}}function cacheId(cachedTokens){var id=[];for(var i=0,l=cachedTokens.length;i<l;i++){id.push(stringifySelectors(cachedTokens[i][1]))}return id.join(ID_JOIN_CHARACTER)}function tokensToMerge(sourceTokens){var uniqueTokensWithBody=[];var mergeableTokens=[];for(var i=sourceTokens.length-1;i>=0;i--){if(isSpecial(options,stringifySelectors(sourceTokens[i][1])))continue;mergeableTokens.unshift(sourceTokens[i]);if(sourceTokens[i][2].length>0&&uniqueTokensWithBody.indexOf(sourceTokens[i])==-1)uniqueTokensWithBody.push(sourceTokens[i])}return uniqueTokensWithBody.length>1?mergeableTokens:[]}function shortenIfPossible(position,movedProperty){var name=movedProperty[0];var value=movedProperty[1];var key=movedProperty[4];var valueSize=name.length+value.length+1;var allSelectors=[];var qualifiedTokens=[];var mergeableTokens=tokensToMerge(movableTokens[key]);if(mergeableTokens.length<2)return;var allFits=findAllFits(mergeableTokens,valueSize,1);var bestFit=allFits[0];if(bestFit[1]>0)return sendToMultiPropertyMoveCache(position,movedProperty,allFits);for(var i=bestFit[0].length-1;i>=0;i--){allSelectors=bestFit[0][i][1].concat(allSelectors);qualifiedTokens.unshift(bestFit[0][i])}allSelectors=cleanUpSelectorDuplicates(allSelectors);dropAsNewTokenAt(position,[movedProperty],allSelectors,qualifiedTokens)}function fitSorter(fit1,fit2){return fit1[1]>fit2[1]}function findAllFits(mergeableTokens,propertySize,propertiesCount){var combinations=allCombinations(mergeableTokens,propertySize,propertiesCount,maxCombinationsLevel-1);return combinations.sort(fitSorter)}function allCombinations(tokensVariant,propertySize,propertiesCount,level){var differenceVariants=[[tokensVariant,sizeDifference(tokensVariant,propertySize,propertiesCount)]];if(tokensVariant.length>2&&level>0){for(var i=tokensVariant.length-1;i>=0;i--){var subVariant=Array.prototype.slice.call(tokensVariant,0);subVariant.splice(i,1);differenceVariants=differenceVariants.concat(allCombinations(subVariant,propertySize,propertiesCount,level-1))}}return differenceVariants}function sizeDifference(tokensVariant,propertySize,propertiesCount){var allSelectorsSize=0;for(var i=tokensVariant.length-1;i>=0;i--){allSelectorsSize+=tokensVariant[i][2].length>propertiesCount?stringifySelectors(tokensVariant[i][1]).length:-1}return allSelectorsSize-(tokensVariant.length-1)*propertySize+1}function dropAsNewTokenAt(position,properties,allSelectors,mergeableTokens){var i,j,k,m;var allProperties=[];for(i=mergeableTokens.length-1;i>=0;i--){var mergeableToken=mergeableTokens[i];for(j=mergeableToken[2].length-1;j>=0;j--){var mergeableProperty=mergeableToken[2][j];for(k=0,m=properties.length;k<m;k++){var property=properties[k];var mergeablePropertyName=mergeableProperty[0][0];var propertyName=property[0];var propertyBody=property[4];if(mergeablePropertyName==propertyName&&stringifyBody([mergeableProperty])==propertyBody){mergeableToken[2].splice(j,1);break}}}}for(i=properties.length-1;i>=0;i--){allProperties.unshift(properties[i][3])}var newToken=["selector",allSelectors,allProperties];tokens.splice(position,0,newToken)}function dropPropertiesAt(position,movedProperty){var key=movedProperty[4];var toMove=movableTokens[key];if(toMove&&toMove.length>1){if(!shortenMultiMovesIfPossible(position,movedProperty))shortenIfPossible(position,movedProperty)}}function shortenMultiMovesIfPossible(position,movedProperty){var candidates=[];var propertiesAndMergableTokens=[];var key=movedProperty[4];var j,k;var mergeableTokens=tokensToMerge(movableTokens[key]);if(mergeableTokens.length<2)return;movableLoop:for(var value in movableTokens){var tokensList=movableTokens[value];for(j=mergeableTokens.length-1;j>=0;j--){if(tokensList.indexOf(mergeableTokens[j])==-1)continue movableLoop}candidates.push(value)}if(candidates.length<2)return false;for(j=candidates.length-1;j>=0;j--){for(k=movedProperties.length-1;k>=0;k--){if(movedProperties[k][4]==candidates[j]){propertiesAndMergableTokens.unshift([movedProperties[k],mergeableTokens]);break}}}return processMultiPropertyMove(position,propertiesAndMergableTokens)}function processMultiPropertyMove(position,propertiesAndMergableTokens){var valueSize=0;var properties=[];var property;for(var i=propertiesAndMergableTokens.length-1;i>=0;i--){property=propertiesAndMergableTokens[i][0];var fullValue=property[4];valueSize+=fullValue.length+(i>0?1:0);properties.push(property)}var mergeableTokens=propertiesAndMergableTokens[0][1];var bestFit=findAllFits(mergeableTokens,valueSize,properties.length)[0];if(bestFit[1]>0)return false;var allSelectors=[];var qualifiedTokens=[];for(i=bestFit[0].length-1;i>=0;i--){allSelectors=bestFit[0][i][1].concat(allSelectors);qualifiedTokens.unshift(bestFit[0][i])}allSelectors=cleanUpSelectorDuplicates(allSelectors);dropAsNewTokenAt(position,properties,allSelectors,qualifiedTokens);for(i=properties.length-1;i>=0;i--){property=properties[i];var index=movedProperties.indexOf(property);delete movableTokens[property[4]];if(index>-1&&movedToBeDropped.indexOf(index)==-1)movedToBeDropped.push(index)}return true}function boundToAnotherPropertyInCurrrentToken(property,movedProperty,token){var propertyName=property[0];var movedPropertyName=movedProperty[0];if(propertyName!=movedPropertyName)return false;var key=movedProperty[4];var toMove=movableTokens[key];return toMove&&toMove.indexOf(token)>-1}for(var i=tokens.length-1;i>=0;i--){var token=tokens[i];var isSelector;var j,k,m;var samePropertyAt;if(token[0]=="selector"){isSelector=true}else if(token[0]=="block"){isSelector=false}else{continue}var movedCount=movedProperties.length;var properties=extractProperties(token);movedToBeDropped=[];var unmovableInCurrentToken=[];for(j=properties.length-1;j>=0;j--){for(k=j-1;k>=0;k--){if(!canReorderSingle(properties[j],properties[k])){unmovableInCurrentToken.push(j);break}}}for(j=properties.length-1;j>=0;j--){var property=properties[j];var movedSameProperty=false;for(k=0;k<movedCount;k++){var movedProperty=movedProperties[k];if(movedToBeDropped.indexOf(k)==-1&&!canReorderSingle(property,movedProperty)&&!boundToAnotherPropertyInCurrrentToken(property,movedProperty,token)){dropPropertiesAt(i+1,movedProperty,token);if(movedToBeDropped.indexOf(k)==-1){movedToBeDropped.push(k);delete movableTokens[movedProperty[4]]}}if(!movedSameProperty){movedSameProperty=property[0]==movedProperty[0]&&property[1]==movedProperty[1];if(movedSameProperty){samePropertyAt=k}}}if(!isSelector||unmovableInCurrentToken.indexOf(j)>-1)continue;var key=property[4];movableTokens[key]=movableTokens[key]||[];movableTokens[key].push(token);if(movedSameProperty){movedProperties[samePropertyAt]=cloneAndMergeSelectors(movedProperties[samePropertyAt],property)}else{movedProperties.push(property)}}movedToBeDropped=movedToBeDropped.sort(naturalSorter);for(j=0,m=movedToBeDropped.length;j<m;j++){var dropAt=movedToBeDropped[j]-j;movedProperties.splice(dropAt,1)}}var position=tokens[0]&&tokens[0][0]=="at-rule"&&tokens[0][1][0].indexOf("@charset")===0?1:0;for(;position<tokens.length-1;position++){var isImportRule=tokens[position][0]==="at-rule"&&tokens[position][1][0].indexOf("@import")===0;var isEscapedCommentSpecial=tokens[position][0]==="text"&&tokens[position][1][0].indexOf("__ESCAPED_COMMENT_SPECIAL")===0;if(!(isImportRule||isEscapedCommentSpecial))break}for(i=0;i<movedProperties.length;i++){dropPropertiesAt(position,movedProperties[i])}}module.exports=restructure},{"../stringifier/one-time":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/stringifier/one-time.js","../utils/clone-array":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/utils/clone-array.js","./clean-up":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/selectors/clean-up.js","./extractor":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/selectors/extractor.js","./is-special":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/selectors/is-special.js","./reorderable":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/selectors/reorderable.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/selectors/simple.js":[function(require,module,exports){var cleanUpSelectors=require("./clean-up").selectors;var cleanUpBlock=require("./clean-up").block;var cleanUpAtRule=require("./clean-up").atRule;var split=require("../utils/split");var RGB=require("../colors/rgb");var HSL=require("../colors/hsl");var HexNameShortener=require("../colors/hex-name-shortener");var wrapForOptimizing=require("../properties/wrap-for-optimizing").all;var restoreFromOptimizing=require("../properties/restore-from-optimizing");var removeUnused=require("../properties/remove-unused");var DEFAULT_ROUNDING_PRECISION=2;var CHARSET_TOKEN="@charset";var CHARSET_REGEXP=new RegExp("^"+CHARSET_TOKEN,"i");var FONT_NUMERAL_WEIGHTS=["100","200","300","400","500","600","700","800","900"];var FONT_NAME_WEIGHTS=["normal","bold","bolder","lighter"];var FONT_NAME_WEIGHTS_WITHOUT_NORMAL=["bold","bolder","lighter"];var WHOLE_PIXEL_VALUE=/(?:^|\s|\()(-?\d+)px/;var TIME_VALUE=/^(\-?[\d\.]+)(m?s)$/;var valueMinifiers={background:function(value,index,total){return index===0&&total==1&&(value=="none"||value=="transparent")?"0 0":value},"font-weight":function(value){if(value=="normal")return"400";else if(value=="bold")return"700";else return value},outline:function(value,index,total){return index===0&&total==1&&value=="none"?"0":value}};function isNegative(property,idx){return property.value[idx]&&property.value[idx][0][0]=="-"&&parseFloat(property.value[idx][0])<0}function zeroMinifier(name,value){if(value.indexOf("0")==-1)return value;if(value.indexOf("-")>-1){value=value.replace(/([^\w\d\-]|^)\-0([^\.]|$)/g,"$10$2").replace(/([^\w\d\-]|^)\-0([^\.]|$)/g,"$10$2")}return value.replace(/(^|\s)0+([1-9])/g,"$1$2").replace(/(^|\D)\.0+(\D|$)/g,"$10$2").replace(/(^|\D)\.0+(\D|$)/g,"$10$2").replace(/\.([1-9]*)0+(\D|$)/g,function(match,nonZeroPart,suffix){return(nonZeroPart.length>0?".":"")+nonZeroPart+suffix}).replace(/(^|\D)0\.(\d)/g,"$1.$2")}function zeroDegMinifier(_,value){if(value.indexOf("0deg")==-1)return value;return value.replace(/\(0deg\)/g,"(0)")}function whitespaceMinifier(name,value){if(name.indexOf("filter")>-1||value.indexOf(" ")==-1)return value;value=value.replace(/\s+/g," ");if(value.indexOf("calc")>-1)value=value.replace(/\) ?\/ ?/g,")/ ");return value.replace(/\( /g,"(").replace(/ \)/g,")").replace(/, /g,",")}function precisionMinifier(_,value,precisionOptions){if(precisionOptions.value===-1||value.indexOf(".")===-1)return value;return value.replace(precisionOptions.regexp,function(match,number){return Math.round(parseFloat(number)*precisionOptions.multiplier)/precisionOptions.multiplier+"px"}).replace(/(\d)\.($|\D)/g,"$1$2")}function unitMinifier(name,value,unitsRegexp){if(/^(?:\-moz\-calc|\-webkit\-calc|calc)\(/.test(value))return value;if(name=="flex"||name=="-ms-flex"||name=="-webkit-flex"||name=="flex-basis"||name=="-webkit-flex-basis")return value;if(value.indexOf("%")>0&&(name=="height"||name=="max-height"))return value;return value.replace(unitsRegexp,"$1"+"0"+"$2").replace(unitsRegexp,"$1"+"0"+"$2")}function multipleZerosMinifier(property){var values=property.value;var spliceAt;if(values.length==4&&values[0][0]==="0"&&values[1][0]==="0"&&values[2][0]==="0"&&values[3][0]==="0"){if(property.name.indexOf("box-shadow")>-1)spliceAt=2;else spliceAt=1}if(spliceAt){property.value.splice(spliceAt);property.dirty=true}}function colorMininifier(name,value,compatibility){if(value.indexOf("#")===-1&&value.indexOf("rgb")==-1&&value.indexOf("hsl")==-1)return HexNameShortener.shorten(value);value=value.replace(/rgb\((\-?\d+),(\-?\d+),(\-?\d+)\)/g,function(match,red,green,blue){return new RGB(red,green,blue).toHex()}).replace(/hsl\((-?\d+),(-?\d+)%?,(-?\d+)%?\)/g,function(match,hue,saturation,lightness){return new HSL(hue,saturation,lightness).toHex()}).replace(/(^|[^='"])#([0-9a-f]{6})/gi,function(match,prefix,color){if(color[0]==color[1]&&color[2]==color[3]&&color[4]==color[5])return prefix+"#"+color[0]+color[2]+color[4];else return prefix+"#"+color}).replace(/(rgb|rgba|hsl|hsla)\(([^\)]+)\)/g,function(match,colorFunction,colorDef){var tokens=colorDef.split(",");var applies=colorFunction=="hsl"&&tokens.length==3||colorFunction=="hsla"&&tokens.length==4||colorFunction=="rgb"&&tokens.length==3&&colorDef.indexOf("%")>0||colorFunction=="rgba"&&tokens.length==4&&colorDef.indexOf("%")>0;if(!applies)return match;if(tokens[1].indexOf("%")==-1)tokens[1]+="%";if(tokens[2].indexOf("%")==-1)tokens[2]+="%";return colorFunction+"("+tokens.join(",")+")"});if(compatibility.colors.opacity&&name.indexOf("background")==-1){value=value.replace(/(?:rgba|hsla)\(0,0%?,0%?,0\)/g,function(match){if(split(value,",").pop().indexOf("gradient(")>-1)return match;return"transparent"})}return HexNameShortener.shorten(value)}function pixelLengthMinifier(_,value,compatibility){if(!WHOLE_PIXEL_VALUE.test(value))return value;return value.replace(WHOLE_PIXEL_VALUE,function(match,val){var newValue;var intVal=parseInt(val);if(intVal===0)return match;if(compatibility.properties.shorterLengthUnits&&compatibility.units.pt&&intVal*3%4===0)newValue=intVal*3/4+"pt";if(compatibility.properties.shorterLengthUnits&&compatibility.units.pc&&intVal%16===0)newValue=intVal/16+"pc";if(compatibility.properties.shorterLengthUnits&&compatibility.units.in&&intVal%96===0)newValue=intVal/96+"in";if(newValue)newValue=match.substring(0,match.indexOf(val))+newValue;return newValue&&newValue.length<match.length?newValue:match})}function timeUnitMinifier(_,value){if(!TIME_VALUE.test(value))return value;return value.replace(TIME_VALUE,function(match,val,unit){var newValue;if(unit=="ms"){newValue=parseInt(val)/1e3+"s"}else if(unit=="s"){newValue=parseFloat(val)*1e3+"ms"}return newValue.length<match.length?newValue:match})}function minifyBorderRadius(property){var values=property.value;var spliceAt;if(values.length==3&&values[1][0]=="/"&&values[0][0]==values[2][0])spliceAt=1;else if(values.length==5&&values[2][0]=="/"&&values[0][0]==values[3][0]&&values[1][0]==values[4][0])spliceAt=2;else if(values.length==7&&values[3][0]=="/"&&values[0][0]==values[4][0]&&values[1][0]==values[5][0]&&values[2][0]==values[6][0])spliceAt=3;else if(values.length==9&&values[4][0]=="/"&&values[0][0]==values[5][0]&&values[1][0]==values[6][0]&&values[2][0]==values[7][0]&&values[3][0]==values[8][0])spliceAt=4;if(spliceAt){property.value.splice(spliceAt);property.dirty=true}}function minifyFilter(property){if(property.value.length==1){property.value[0][0]=property.value[0][0].replace(/progid:DXImageTransform\.Microsoft\.(Alpha|Chroma)(\W)/,function(match,filter,suffix){return filter.toLowerCase()+suffix})}property.value[0][0]=property.value[0][0].replace(/,(\S)/g,", $1").replace(/ ?= ?/g,"=")}function minifyFont(property){var values=property.value;var hasNumeral=FONT_NUMERAL_WEIGHTS.indexOf(values[0][0])>-1||values[1]&&FONT_NUMERAL_WEIGHTS.indexOf(values[1][0])>-1||values[2]&&FONT_NUMERAL_WEIGHTS.indexOf(values[2][0])>-1;if(hasNumeral)return;if(values[1]=="/")return;var normalCount=0;if(values[0][0]=="normal")normalCount++;if(values[1]&&values[1][0]=="normal")normalCount++;if(values[2]&&values[2][0]=="normal")normalCount++;if(normalCount>1)return;var toOptimize;if(FONT_NAME_WEIGHTS_WITHOUT_NORMAL.indexOf(values[0][0])>-1)toOptimize=0;else if(values[1]&&FONT_NAME_WEIGHTS_WITHOUT_NORMAL.indexOf(values[1][0])>-1)toOptimize=1;else if(values[2]&&FONT_NAME_WEIGHTS_WITHOUT_NORMAL.indexOf(values[2][0])>-1)toOptimize=2;else if(FONT_NAME_WEIGHTS.indexOf(values[0][0])>-1)toOptimize=0;else if(values[1]&&FONT_NAME_WEIGHTS.indexOf(values[1][0])>-1)toOptimize=1;else if(values[2]&&FONT_NAME_WEIGHTS.indexOf(values[2][0])>-1)toOptimize=2;if(toOptimize!==undefined){property.value[toOptimize][0]=valueMinifiers["font-weight"](values[toOptimize][0]);property.dirty=true}}function optimizeBody(properties,options){var property,name,value;var _properties=wrapForOptimizing(properties);for(var i=0,l=_properties.length;i<l;i++){property=_properties[i];name=property.name;if(property.hack&&((property.hack=="star"||property.hack=="underscore")&&!options.compatibility.properties.iePrefixHack||property.hack=="backslash"&&!options.compatibility.properties.ieSuffixHack||property.hack=="bang"&&!options.compatibility.properties.ieBangHack))property.unused=true;if(name.indexOf("padding")===0&&(isNegative(property,0)||isNegative(property,1)||isNegative(property,2)||isNegative(property,3)))property.unused=true;if(property.unused)continue;if(property.variable){if(property.block)optimizeBody(property.value[0],options);continue}for(var j=0,m=property.value.length;j<m;j++){value=property.value[j][0];if(valueMinifiers[name])value=valueMinifiers[name](value,j,m);value=whitespaceMinifier(name,value);value=precisionMinifier(name,value,options.precision);value=pixelLengthMinifier(name,value,options.compatibility);value=timeUnitMinifier(name,value);value=zeroMinifier(name,value);if(options.compatibility.properties.zeroUnits){value=zeroDegMinifier(name,value);value=unitMinifier(name,value,options.unitsRegexp)}if(options.compatibility.properties.colors)value=colorMininifier(name,value,options.compatibility);property.value[j][0]=value}multipleZerosMinifier(property);if(name.indexOf("border")===0&&name.indexOf("radius")>0)minifyBorderRadius(property);else if(name=="filter")minifyFilter(property);else if(name=="font")minifyFont(property)}restoreFromOptimizing(_properties,true);removeUnused(_properties)}function cleanupCharsets(tokens){var hasCharset=false;for(var i=0,l=tokens.length;i<l;i++){var token=tokens[i];if(token[0]!="at-rule")continue;if(!CHARSET_REGEXP.test(token[1][0]))continue;if(hasCharset||token[1][0].indexOf(CHARSET_TOKEN)==-1){tokens.splice(i,1);i--;l--}else{hasCharset=true;tokens.splice(i,1);tokens.unshift(["at-rule",[token[1][0].replace(CHARSET_REGEXP,CHARSET_TOKEN)]])}}}function buildUnitRegexp(options){var units=["px","em","ex","cm","mm","in","pt","pc","%"];var otherUnits=["ch","rem","vh","vm","vmax","vmin","vw"];otherUnits.forEach(function(unit){if(options.compatibility.units[unit])units.push(unit)});return new RegExp("(^|\\s|\\(|,)0(?:"+units.join("|")+")(\\W|$)","g")}function buildPrecision(options){var precision={};precision.value=options.roundingPrecision===undefined?DEFAULT_ROUNDING_PRECISION:options.roundingPrecision;precision.multiplier=Math.pow(10,precision.value);precision.regexp=new RegExp("(\\d*\\.\\d{"+(precision.value+1)+",})px","g");return precision}function optimize(tokens,options){var ie7Hack=options.compatibility.selectors.ie7Hack;var adjacentSpace=options.compatibility.selectors.adjacentSpace;var spaceAfterClosingBrace=options.compatibility.properties.spaceAfterClosingBrace;var mayHaveCharset=false;options.unitsRegexp=buildUnitRegexp(options);options.precision=buildPrecision(options);for(var i=0,l=tokens.length;i<l;i++){var token=tokens[i];switch(token[0]){case"selector":token[1]=cleanUpSelectors(token[1],!ie7Hack,adjacentSpace);optimizeBody(token[2],options);break;case"block":cleanUpBlock(token[1],spaceAfterClosingBrace);optimize(token[2],options);break;case"flat-block":cleanUpBlock(token[1],spaceAfterClosingBrace);optimizeBody(token[2],options);break;case"at-rule":cleanUpAtRule(token[1]);mayHaveCharset=true}if(token[1].length===0||token[2]&&token[2].length===0){tokens.splice(i,1);i--;l--}}if(mayHaveCharset)cleanupCharsets(tokens)}module.exports=optimize},{"../colors/hex-name-shortener":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/colors/hex-name-shortener.js","../colors/hsl":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/colors/hsl.js","../colors/rgb":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/colors/rgb.js","../properties/remove-unused":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/properties/remove-unused.js","../properties/restore-from-optimizing":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/properties/restore-from-optimizing.js","../properties/wrap-for-optimizing":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/properties/wrap-for-optimizing.js","../utils/split":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/utils/split.js","./clean-up":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/selectors/clean-up.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/source-maps/track.js":[function(require,module,exports){var escapePrefix="__ESCAPED_";function trackPrefix(value,context,interestingContent){if(!interestingContent&&value.indexOf("\n")==-1){if(value.indexOf(escapePrefix)===0){return value}else{context.column+=value.length;return}}var withoutContent=0;var split=value.split("\n");var total=split.length;var shift=0;while(true){if(withoutContent==total-1)break;var part=split[withoutContent];if(/\S/.test(part))break;shift+=part.length+1;withoutContent++}context.line+=withoutContent;context.column=withoutContent>0?0:context.column;context.column+=/^(\s)*/.exec(split[withoutContent])[0].length;return value.substring(shift).trimLeft()}function sourceFor(originalMetadata,contextMetadata,context){var source=originalMetadata.source||contextMetadata.source;if(source&&context.resolvePath)return context.resolvePath(contextMetadata.source,source);return source}function snapshot(data,context,fallbacks){var metadata={line:context.line,column:context.column,source:context.source};var sourceContent=null;var sourceMetadata=context.sourceMapTracker.isTracking(metadata.source)?context.sourceMapTracker.originalPositionFor(metadata,data,fallbacks||0):{};metadata.line=sourceMetadata.line||metadata.line;metadata.column=sourceMetadata.column||metadata.column;metadata.source=sourceMetadata.sourceResolved?sourceMetadata.source:sourceFor(sourceMetadata,metadata,context);if(context.sourceMapInlineSources){var sourceMapSourcesContent=context.sourceMapTracker.sourcesContentFor(context.source);sourceContent=sourceMapSourcesContent&&sourceMapSourcesContent[metadata.source]?sourceMapSourcesContent:context.sourceReader.sourceAt(context.source)}return sourceContent?[metadata.line,metadata.column,metadata.source,sourceContent]:[metadata.line,metadata.column,metadata.source]}function trackSuffix(data,context){var parts=data.split("\n");for(var i=0,l=parts.length;i<l;i++){var part=parts[i];var cursor=0;if(i>0){context.line++;context.column=0}while(true){var next=part.indexOf(escapePrefix,cursor);if(next==-1){context.column+=part.substring(cursor).length;break}context.column+=next-cursor;cursor+=next-cursor;var escaped=part.substring(next,part.indexOf("__",next+1)+2);var encodedValues=escaped.substring(escaped.indexOf("(")+1,escaped.indexOf(")")).split(",");context.line+=~~encodedValues[0];context.column=(~~encodedValues[0]===0?context.column:0)+~~encodedValues[1];cursor+=escaped.length}}}function track(data,context,snapshotMetadata,fallbacks){var untracked=trackPrefix(data,context,snapshotMetadata);var metadata=snapshotMetadata?snapshot(untracked,context,fallbacks):[];if(untracked)trackSuffix(untracked,context);return metadata}module.exports=track},{}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/stringifier/helpers.js":[function(require,module,exports){var lineBreak=require("os").EOL;var AT_RULE="at-rule";var PROPERTY_SEPARATOR=";";function hasMoreProperties(tokens,index){for(var i=index,l=tokens.length;i<l;i++){if(typeof tokens[i]!="string")return true}return false}function supportsAfterClosingBrace(token){return token[0][0]=="background"||token[0][0]=="transform"||token[0][0]=="src"}function afterClosingBrace(token,valueIndex){return token[valueIndex][0][token[valueIndex][0].length-1]==")"||token[valueIndex][0].indexOf("__ESCAPED_URL_CLEAN_CSS")===0}function afterComma(token,valueIndex){return token[valueIndex][0]==","}function afterSlash(token,valueIndex){return token[valueIndex][0]=="/"}function beforeComma(token,valueIndex){return token[valueIndex+1]&&token[valueIndex+1][0]==","}function beforeSlash(token,valueIndex){return token[valueIndex+1]&&token[valueIndex+1][0]=="/"}function inFilter(token){return token[0][0]=="filter"||token[0][0]=="-ms-filter"}function inSpecialContext(token,valueIndex,context){return!context.spaceAfterClosingBrace&&supportsAfterClosingBrace(token)&&afterClosingBrace(token,valueIndex)||beforeSlash(token,valueIndex)||afterSlash(token,valueIndex)||beforeComma(token,valueIndex)||afterComma(token,valueIndex)}function selectors(tokens,context){var store=context.store;for(var i=0,l=tokens.length;i<l;i++){store(tokens[i],context);if(i<l-1)store(",",context)}}function body(tokens,context){for(var i=0,l=tokens.length;i<l;i++){property(tokens,i,i==l-1,context)}}function property(tokens,position,isLast,context){var store=context.store;var token=tokens[position];if(typeof token=="string"){store(token,context)}else if(token[0]==AT_RULE){propertyAtRule(token[1],isLast,context)}else{store(token[0],context);store(":",context);value(tokens,position,isLast,context)}}function propertyAtRule(value,isLast,context){var store=context.store;store(value,context);if(!isLast)store(PROPERTY_SEPARATOR,context)}function value(tokens,position,isLast,context){var store=context.store;var token=tokens[position];var isVariableDeclaration=token[0][0].indexOf("--")===0;var isBlockVariable=isVariableDeclaration&&Array.isArray(token[1][0]);if(isVariableDeclaration&&isBlockVariable&&atRulesOrProperties(token[1])){store("{",context);body(token[1],context);store("};",context);return}for(var j=1,m=token.length;j<m;j++){store(token[j],context);if(j<m-1&&(inFilter(token)||!inSpecialContext(token,j,context))){store(" ",context)}else if(j==m-1&&!isLast&&hasMoreProperties(tokens,position+1)){store(PROPERTY_SEPARATOR,context)}}}function atRulesOrProperties(values){for(var i=0,l=values.length;i<l;i++){if(values[i][0]==AT_RULE||Array.isArray(values[i][0]))return true}return false}function all(tokens,context){var joinCharacter=context.keepBreaks?lineBreak:"";var store=context.store;for(var i=0,l=tokens.length;i<l;i++){var token=tokens[i];switch(token[0]){case"at-rule":case"text":store(token[1][0],context);store(joinCharacter,context);break;case"block":selectors([token[1]],context);store("{",context);all(token[2],context);store("}",context);store(joinCharacter,context);break;case"flat-block":selectors([token[1]],context);store("{",context);body(token[2],context);store("}",context);store(joinCharacter,context);break;default:selectors(token[1],context);store("{",context);body(token[2],context);store("}",context);store(joinCharacter,context)}}}module.exports={all:all,body:body,property:property,selectors:selectors,value:value}},{os:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/os-browserify/browser.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/stringifier/one-time.js":[function(require,module,exports){var helpers=require("./helpers");function store(token,context){context.output.push(typeof token=="string"?token:token[0])}function context(){return{output:[],store:store}}function all(tokens){var fakeContext=context();helpers.all(tokens,fakeContext);return fakeContext.output.join("")}function body(tokens){var fakeContext=context();helpers.body(tokens,fakeContext);return fakeContext.output.join("")}function property(tokens,position){var fakeContext=context();helpers.property(tokens,position,true,fakeContext);return fakeContext.output.join("")}function selectors(tokens){var fakeContext=context();helpers.selectors(tokens,fakeContext);return fakeContext.output.join("");
}function value(tokens,position){var fakeContext=context();helpers.value(tokens,position,true,fakeContext);return fakeContext.output.join("")}module.exports={all:all,body:body,property:property,selectors:selectors,value:value}},{"./helpers":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/stringifier/helpers.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/stringifier/simple.js":[function(require,module,exports){var all=require("./helpers").all;function store(token,context){context.output.push(typeof token=="string"?token:token[0])}function stringify(tokens,options,restoreCallback){var context={keepBreaks:options.keepBreaks,output:[],spaceAfterClosingBrace:options.compatibility.properties.spaceAfterClosingBrace,store:store};all(tokens,context,false);return{styles:restoreCallback(context.output.join("")).trim()}}module.exports=stringify},{"./helpers":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/stringifier/helpers.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/stringifier/source-maps.js":[function(require,module,exports){(function(process){var SourceMapGenerator=require("source-map").SourceMapGenerator;var all=require("./helpers").all;var isWindows=process.platform=="win32";var unknownSource="$stdin";function store(element,context){var fromString=typeof element=="string";var value=fromString?element:element[0];if(value.indexOf("_")>-1)value=context.restore(value,prefixContentFrom(context.output));track(value,fromString?null:element,context);context.output.push(value)}function prefixContentFrom(values){var content=[];for(var i=values.length-1;i>=0;i--){var value=values[i];content.unshift(value);if(value=="{"||value==";")break}return content.join("")}function track(value,element,context){if(element)trackAllMappings(element,context);var parts=value.split("\n");context.line+=parts.length-1;context.column=parts.length>1?0:context.column+parts.pop().length}function trackAllMappings(element,context){var mapping=element[element.length-1];if(!Array.isArray(mapping))return;for(var i=0,l=mapping.length;i<l;i++){trackMapping(mapping[i],context)}}function trackMapping(mapping,context){var source=mapping[2]||unknownSource;if(isWindows)source=source.replace(/\\/g,"/");context.outputMap.addMapping({generated:{line:context.line,column:context.column},source:source,original:{line:mapping[0],column:mapping[1]}});if(mapping[3])context.outputMap.setSourceContent(source,mapping[3][mapping[2]])}function stringify(tokens,options,restoreCallback,inputMapTracker){var context={column:0,inputMapTracker:inputMapTracker,keepBreaks:options.keepBreaks,line:1,output:[],outputMap:new SourceMapGenerator,restore:restoreCallback,sourceMapInlineSources:options.sourceMapInlineSources,spaceAfterClosingBrace:options.compatibility.properties.spaceAfterClosingBrace,store:store};all(tokens,context,false);return{sourceMap:context.outputMap,styles:context.output.join("").trim()}}module.exports=stringify}).call(this,require("_process"))},{"./helpers":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/stringifier/helpers.js",_process:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/process/browser.js","source-map":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/source-map/lib/source-map.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/text/comments-processor.js":[function(require,module,exports){var EscapeStore=require("./escape-store");var QuoteScanner=require("../utils/quote-scanner");var SPECIAL_COMMENT_PREFIX="/*!";var COMMENT_PREFIX="/*";var COMMENT_SUFFIX="*/";var lineBreak=require("os").EOL;function CommentsProcessor(context,keepSpecialComments,keepBreaks,saveWaypoints){this.comments=new EscapeStore("COMMENT");this.specialComments=new EscapeStore("COMMENT_SPECIAL");this.context=context;this.restored=0;this.keepAll=keepSpecialComments=="*";this.keepOne=keepSpecialComments=="1"||keepSpecialComments===1;this.keepBreaks=keepBreaks;this.saveWaypoints=saveWaypoints}function quoteScannerFor(data){var quoteMap=[];new QuoteScanner(data).each(function(quotedString,_,startsAt){quoteMap.push([startsAt,startsAt+quotedString.length])});return function(position){for(var i=0,l=quoteMap.length;i<l;i++){if(quoteMap[i][0]<position&&quoteMap[i][1]>position)return true}return false}}CommentsProcessor.prototype.escape=function(data){var tempData=[];var nextStart=0;var nextEnd=0;var cursor=0;var indent=0;var breaksCount;var lastBreakAt;var newIndent;var isQuotedAt=quoteScannerFor(data);var saveWaypoints=this.saveWaypoints;for(;nextEnd<data.length;){nextStart=data.indexOf(COMMENT_PREFIX,cursor);if(nextStart==-1)break;if(isQuotedAt(nextStart)){tempData.push(data.substring(cursor,nextStart+COMMENT_PREFIX.length));cursor=nextStart+COMMENT_PREFIX.length;continue}nextEnd=data.indexOf(COMMENT_SUFFIX,nextStart+COMMENT_PREFIX.length);if(nextEnd==-1){this.context.warnings.push("Broken comment: '"+data.substring(nextStart)+"'.");nextEnd=data.length-2}tempData.push(data.substring(cursor,nextStart));var comment=data.substring(nextStart,nextEnd+COMMENT_SUFFIX.length);var isSpecialComment=comment.indexOf(SPECIAL_COMMENT_PREFIX)===0;if(saveWaypoints){breaksCount=comment.split(lineBreak).length-1;lastBreakAt=comment.lastIndexOf(lineBreak);newIndent=lastBreakAt>0?comment.substring(lastBreakAt+lineBreak.length).length:indent+comment.length}if(saveWaypoints||isSpecialComment){var metadata=saveWaypoints?[breaksCount,newIndent]:null;var placeholder=isSpecialComment?this.specialComments.store(comment,metadata):this.comments.store(comment,metadata);tempData.push(placeholder)}if(saveWaypoints)indent=newIndent+1;cursor=nextEnd+COMMENT_SUFFIX.length}return tempData.length>0?tempData.join("")+data.substring(cursor,data.length):data};function restore(context,data,from,isSpecial){var tempData=[];var cursor=0;for(;cursor<data.length;){var nextMatch=from.nextMatch(data,cursor);if(nextMatch.start<0)break;tempData.push(data.substring(cursor,nextMatch.start));var comment=from.restore(nextMatch.match);if(isSpecial&&(context.keepAll||context.keepOne&&context.restored===0)){context.restored++;tempData.push(comment);cursor=nextMatch.end}else{cursor=nextMatch.end+(context.keepBreaks&&data.substring(nextMatch.end,nextMatch.end+lineBreak.length)==lineBreak?lineBreak.length:0)}}return tempData.length>0?tempData.join("")+data.substring(cursor,data.length):data}CommentsProcessor.prototype.restore=function(data){data=restore(this,data,this.comments,false);data=restore(this,data,this.specialComments,true);return data};module.exports=CommentsProcessor},{"../utils/quote-scanner":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/utils/quote-scanner.js","./escape-store":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/text/escape-store.js",os:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/os-browserify/browser.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/text/escape-store.js":[function(require,module,exports){var placeholderBrace="__";function EscapeStore(placeholderRoot){this.placeholderRoot="ESCAPED_"+placeholderRoot+"_CLEAN_CSS";this.placeholderToData={};this.dataToPlaceholder={};this.count=0;this.restoreMatcher=new RegExp(this.placeholderRoot+"(\\d+)")}EscapeStore.prototype._nextPlaceholder=function(metadata){return{index:this.count,value:placeholderBrace+this.placeholderRoot+this.count++ +metadata+placeholderBrace}};EscapeStore.prototype.store=function(data,metadata){var encodedMetadata=metadata?"("+metadata.join(",")+")":"";var placeholder=this.dataToPlaceholder[data];if(!placeholder){var nextPlaceholder=this._nextPlaceholder(encodedMetadata);placeholder=nextPlaceholder.value;this.placeholderToData[nextPlaceholder.index]=data;this.dataToPlaceholder[data]=nextPlaceholder.value}if(metadata)placeholder=placeholder.replace(/\([^\)]+\)/,encodedMetadata);return placeholder};EscapeStore.prototype.nextMatch=function(data,cursor){var next={};next.start=data.indexOf(this.placeholderRoot,cursor)-placeholderBrace.length;next.end=data.indexOf(placeholderBrace,next.start+placeholderBrace.length)+placeholderBrace.length;if(next.start>-1&&next.end>-1)next.match=data.substring(next.start,next.end);return next};EscapeStore.prototype.restore=function(placeholder){var index=this.restoreMatcher.exec(placeholder)[1];return this.placeholderToData[index]};module.exports=EscapeStore},{}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/text/expressions-processor.js":[function(require,module,exports){var EscapeStore=require("./escape-store");var EXPRESSION_NAME="expression";var EXPRESSION_START="(";var EXPRESSION_END=")";var EXPRESSION_PREFIX=EXPRESSION_NAME+EXPRESSION_START;var BODY_START="{";var BODY_END="}";var lineBreak=require("os").EOL;function findEnd(data,start){var end=start+EXPRESSION_NAME.length;var level=0;var quoted=false;var braced=false;while(true){var current=data[end++];if(quoted){quoted=current!="'"&&current!='"'}else{quoted=current=="'"||current=='"';if(current==EXPRESSION_START)level++;if(current==EXPRESSION_END)level--;if(current==BODY_START)braced=true;if(current==BODY_END&&!braced&&level==1){end--;level--}}if(level===0&&current==EXPRESSION_END)break;if(!current){end=data.substring(0,end).lastIndexOf(BODY_END);break}}return end}function ExpressionsProcessor(saveWaypoints){this.expressions=new EscapeStore("EXPRESSION");this.saveWaypoints=saveWaypoints}ExpressionsProcessor.prototype.escape=function(data){var nextStart=0;var nextEnd=0;var cursor=0;var tempData=[];var indent=0;var breaksCount;var lastBreakAt;var newIndent;var saveWaypoints=this.saveWaypoints;for(;nextEnd<data.length;){nextStart=data.indexOf(EXPRESSION_PREFIX,nextEnd);if(nextStart==-1)break;nextEnd=findEnd(data,nextStart);var expression=data.substring(nextStart,nextEnd);if(saveWaypoints){breaksCount=expression.split(lineBreak).length-1;lastBreakAt=expression.lastIndexOf(lineBreak);newIndent=lastBreakAt>0?expression.substring(lastBreakAt+lineBreak.length).length:indent+expression.length}var metadata=saveWaypoints?[breaksCount,newIndent]:null;var placeholder=this.expressions.store(expression,metadata);tempData.push(data.substring(cursor,nextStart));tempData.push(placeholder);if(saveWaypoints)indent=newIndent+1;cursor=nextEnd}return tempData.length>0?tempData.join("")+data.substring(cursor,data.length):data};ExpressionsProcessor.prototype.restore=function(data){var tempData=[];var cursor=0;for(;cursor<data.length;){var nextMatch=this.expressions.nextMatch(data,cursor);if(nextMatch.start<0)break;tempData.push(data.substring(cursor,nextMatch.start));var comment=this.expressions.restore(nextMatch.match);tempData.push(comment);cursor=nextMatch.end}return tempData.length>0?tempData.join("")+data.substring(cursor,data.length):data};module.exports=ExpressionsProcessor},{"./escape-store":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/text/escape-store.js",os:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/os-browserify/browser.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/text/free-text-processor.js":[function(require,module,exports){var EscapeStore=require("./escape-store");var QuoteScanner=require("../utils/quote-scanner");var lineBreak=require("os").EOL;function FreeTextProcessor(saveWaypoints){this.matches=new EscapeStore("FREE_TEXT");this.saveWaypoints=saveWaypoints}FreeTextProcessor.prototype.escape=function(data){var self=this;var breaksCount;var lastBreakAt;var indent;var metadata;var saveWaypoints=this.saveWaypoints;return new QuoteScanner(data).each(function(match,store){if(saveWaypoints){breaksCount=match.split(lineBreak).length-1;lastBreakAt=match.lastIndexOf(lineBreak);indent=lastBreakAt>0?match.substring(lastBreakAt+lineBreak.length).length:match.length;metadata=[breaksCount,indent]}var placeholder=self.matches.store(match,metadata);store.push(placeholder)})};function normalize(text,data,prefixContext,cursor){var searchIn=data;if(prefixContext){searchIn=prefixContext+data.substring(0,data.indexOf("__ESCAPED_FREE_TEXT_CLEAN_CSS"));cursor=searchIn.length}var lastSemicolon=searchIn.lastIndexOf(";",cursor);var lastOpenBrace=searchIn.lastIndexOf("{",cursor);var lastOne=0;if(lastSemicolon>-1&&lastOpenBrace>-1)lastOne=Math.max(lastSemicolon,lastOpenBrace);else if(lastSemicolon==-1)lastOne=lastOpenBrace;else lastOne=lastSemicolon;var context=searchIn.substring(lastOne+1,cursor);if(/\[[\w\d\-]+[\*\|\~\^\$]?=$/.test(context)){text=text.replace(/\\\n|\\\r\n/g,"").replace(/\n|\r\n/g,"")}if(/^['"][a-zA-Z][a-zA-Z\d\-_]+['"]$/.test(text)&&!/format\($/.test(context)){var isFont=/^(font|font\-family):/.test(context);var isAttribute=/\[[\w\d\-]+[\*\|\~\^\$]?=$/.test(context);var isKeyframe=/@(-moz-|-o-|-webkit-)?keyframes /.test(context);var isAnimation=/^(-moz-|-o-|-webkit-)?animation(-name)?:/.test(context);if(isFont||isAttribute||isKeyframe||isAnimation)text=text.substring(1,text.length-1)}return text}FreeTextProcessor.prototype.restore=function(data,prefixContext){var tempData=[];var cursor=0;for(;cursor<data.length;){var nextMatch=this.matches.nextMatch(data,cursor);if(nextMatch.start<0)break;tempData.push(data.substring(cursor,nextMatch.start));var text=normalize(this.matches.restore(nextMatch.match),data,prefixContext,nextMatch.start);tempData.push(text);cursor=nextMatch.end}return tempData.length>0?tempData.join("")+data.substring(cursor,data.length):data};module.exports=FreeTextProcessor},{"../utils/quote-scanner":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/utils/quote-scanner.js","./escape-store":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/text/escape-store.js",os:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/os-browserify/browser.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/text/urls-processor.js":[function(require,module,exports){var EscapeStore=require("./escape-store");var reduceUrls=require("../urls/reduce");var lineBreak=require("os").EOL;function UrlsProcessor(context,saveWaypoints,keepUrlQuotes){this.urls=new EscapeStore("URL");this.context=context;this.saveWaypoints=saveWaypoints;this.keepUrlQuotes=keepUrlQuotes}UrlsProcessor.prototype.escape=function(data){var breaksCount;var lastBreakAt;var indent;var saveWaypoints=this.saveWaypoints;var self=this;return reduceUrls(data,this.context,function(url,tempData){if(saveWaypoints){breaksCount=url.split(lineBreak).length-1;lastBreakAt=url.lastIndexOf(lineBreak);indent=lastBreakAt>0?url.substring(lastBreakAt+lineBreak.length).length:url.length}var placeholder=self.urls.store(url,saveWaypoints?[breaksCount,indent]:null);tempData.push(placeholder)})};function normalize(url,keepUrlQuotes){url=url.replace(/^url/gi,"url").replace(/\\?\n|\\?\r\n/g,"").replace(/(\s{2,}|\s)/g," ").replace(/^url\((['"])? /,"url($1").replace(/ (['"])?\)$/,"$1)");if(/url\(".*'.*"\)/.test(url)||/url\('.*".*'\)/.test(url))return url;if(!keepUrlQuotes&&!/^['"].+['"]$/.test(url)&&!/url\(.*[\s\(\)].*\)/.test(url)&&!/url\(['"]data:[^;]+;charset/.test(url))url=url.replace(/["']/g,"");return url}UrlsProcessor.prototype.restore=function(data){var tempData=[];var cursor=0;for(;cursor<data.length;){var nextMatch=this.urls.nextMatch(data,cursor);if(nextMatch.start<0)break;tempData.push(data.substring(cursor,nextMatch.start));var url=normalize(this.urls.restore(nextMatch.match),this.keepUrlQuotes);tempData.push(url);cursor=nextMatch.end}return tempData.length>0?tempData.join("")+data.substring(cursor,data.length):data};module.exports=UrlsProcessor},{"../urls/reduce":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/urls/reduce.js","./escape-store":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/text/escape-store.js",os:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/os-browserify/browser.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/tokenizer/extract-properties.js":[function(require,module,exports){var split=require("../utils/split");var COMMA=",";var FORWARD_SLASH="/";var AT_RULE="at-rule";var IMPORTANT_WORD="important";var IMPORTANT_TOKEN="!"+IMPORTANT_WORD;var IMPORTANT_WORD_MATCH=new RegExp("^"+IMPORTANT_WORD+"$","i");var IMPORTANT_TOKEN_MATCH=new RegExp("^"+IMPORTANT_TOKEN+"$","i");function selectorName(value){return value[0]}function noop(){}function withoutComments(string,into,heading,context){var matcher=heading?/^__ESCAPED_COMMENT_/:/__ESCAPED_COMMENT_/;var track=heading?context.track:noop;while(matcher.test(string)){var startOfComment=string.indexOf("__");var endOfComment=string.indexOf("__",startOfComment+1)+2;var comment=string.substring(startOfComment,endOfComment);string=string.substring(0,startOfComment)+string.substring(endOfComment);track(comment);into.push(comment)}return string}function withoutHeadingComments(string,into,context){return withoutComments(string,into,true,context)}function withoutInnerComments(string,into,context){return withoutComments(string,into,false,context)}function trackComments(comments,into,context){for(var i=0,l=comments.length;i<l;i++){context.track(comments[i]);into.push(comments[i])}}function extractProperties(string,selectors,context){var list=[];var innerComments=[];var valueSeparator=/[ ,\/]/;if(typeof string!="string")return[];if(string.indexOf(")")>-1)string=string.replace(/\)([^\s_;:,\)])/g,context.sourceMap?") __ESCAPED_COMMENT_CLEAN_CSS(0,-1)__ $1":") $1");if(string.indexOf("ESCAPED_URL_CLEAN_CSS")>-1)string=string.replace(/(ESCAPED_URL_CLEAN_CSS[^_]+?__)/g,context.sourceMap?"$1 __ESCAPED_COMMENT_CLEAN_CSS(0,-1)__ ":"$1 ");var candidates=split(string,";",false,"{","}");for(var i=0,l=candidates.length;i<l;i++){var candidate=candidates[i];var firstColonAt=candidate.indexOf(":");var atRule=candidate.trim()[0]=="@";if(atRule){context.track(candidate);list.push([AT_RULE,candidate.trim()]);continue}if(firstColonAt==-1){context.track(candidate);if(candidate.indexOf("__ESCAPED_COMMENT_SPECIAL")>-1)list.push(candidate.trim());continue}if(candidate.indexOf("{")>0&&candidate.indexOf("{")<firstColonAt){context.track(candidate);continue}var body=[];var name=candidate.substring(0,firstColonAt);innerComments=[];if(name.indexOf("__ESCAPED_COMMENT")>-1)name=withoutHeadingComments(name,list,context);if(name.indexOf("__ESCAPED_COMMENT")>-1)name=withoutInnerComments(name,innerComments,context);body.push([name.trim()].concat(context.track(name,true)));context.track(":");trackComments(innerComments,list,context);var firstBraceAt=candidate.indexOf("{");var isVariable=name.trim().indexOf("--")===0;if(isVariable&&firstBraceAt>0){var blockPrefix=candidate.substring(firstColonAt+1,firstBraceAt+1);var blockSuffix=candidate.substring(candidate.indexOf("}"));var blockContent=candidate.substring(firstBraceAt+1,candidate.length-blockSuffix.length);context.track(blockPrefix);body.push(extractProperties(blockContent,selectors,context));list.push(body);context.track(blockSuffix);context.track(i<l-1?";":"");continue}var values=split(candidate.substring(firstColonAt+1),valueSeparator,true);if(values.length==1&&values[0]===""){context.warnings.push("Empty property '"+name+"' inside '"+selectors.filter(selectorName).join(",")+"' selector. Ignoring.");continue}for(var j=0,m=values.length;j<m;j++){var value=values[j];var trimmed=value.trim();if(trimmed.length===0)continue;var lastCharacter=trimmed[trimmed.length-1];var endsWithNonSpaceSeparator=trimmed.length>1&&(lastCharacter==COMMA||lastCharacter==FORWARD_SLASH);if(endsWithNonSpaceSeparator)trimmed=trimmed.substring(0,trimmed.length-1);if(trimmed.indexOf("__ESCAPED_COMMENT_CLEAN_CSS(0,-")>-1){context.track(trimmed);continue}innerComments=[];if(trimmed.indexOf("__ESCAPED_COMMENT")>-1)trimmed=withoutHeadingComments(trimmed,list,context);if(trimmed.indexOf("__ESCAPED_COMMENT")>-1)trimmed=withoutInnerComments(trimmed,innerComments,context);if(trimmed.length===0){trackComments(innerComments,list,context);continue}var pos=body.length-1;if(IMPORTANT_WORD_MATCH.test(trimmed)&&body[pos][0]=="!"){context.track(trimmed);body[pos-1][0]+=IMPORTANT_TOKEN;body.pop();continue}if(IMPORTANT_TOKEN_MATCH.test(trimmed)||IMPORTANT_WORD_MATCH.test(trimmed)&&body[pos][0][body[pos][0].length-1]=="!"){context.track(trimmed);body[pos][0]+=trimmed;continue}body.push([trimmed].concat(context.track(value,true)));trackComments(innerComments,list,context);if(endsWithNonSpaceSeparator){body.push([lastCharacter]);context.track(lastCharacter)}}if(i<l-1)context.track(";");list.push(body)}return list}module.exports=extractProperties},{"../utils/split":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/utils/split.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/tokenizer/extract-selectors.js":[function(require,module,exports){var split=require("../utils/split");function extractSelectors(string,context){var list=[];var metadata;var selectors=split(string,",");for(var i=0,l=selectors.length;i<l;i++){metadata=context.track(selectors[i],true,i);context.track(",");list.push([selectors[i].trim()].concat(metadata))}return list}module.exports=extractSelectors},{"../utils/split":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/utils/split.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/tokenizer/tokenize.js":[function(require,module,exports){var extractProperties=require("./extract-properties");var extractSelectors=require("./extract-selectors");var track=require("../source-maps/track");var split=require("../utils/split");var path=require("path");var flatBlock=/(@(font\-face|page|\-ms\-viewport|\-o\-viewport|viewport|counter\-style)|\\@.+?)/;function tokenize(data,outerContext){var chunks=split(normalize(data),"}",true,"{","}");if(chunks.length===0)return[];var context={chunk:chunks.shift(),chunks:chunks,column:0,cursor:0,line:1,mode:"top",resolvePath:outerContext.options.explicitTarget?relativePathResolver(outerContext.options.root,outerContext.options.target):null,source:undefined,sourceMap:outerContext.options.sourceMap,sourceMapInlineSources:outerContext.options.sourceMapInlineSources,sourceMapTracker:outerContext.inputSourceMapTracker,sourceReader:outerContext.sourceReader,sourceTracker:outerContext.sourceTracker,state:[],track:outerContext.options.sourceMap?function(data,snapshotMetadata,fallbacks){return[[track(data,context,snapshotMetadata,fallbacks)]]}:function(){return[]},warnings:outerContext.warnings};return intoTokens(context)}function normalize(data){return data.replace(/\r\n/g,"\n")}function relativePathResolver(root,target){var rebaseTo=path.relative(root,target);return function(relativeTo,sourcePath){return relativeTo!=sourcePath?path.normalize(path.join(path.relative(rebaseTo,path.dirname(relativeTo)),sourcePath)):sourcePath}}function whatsNext(context){var mode=context.mode;var chunk=context.chunk;var closest;if(chunk.length==context.cursor){if(context.chunks.length===0)return null;context.chunk=chunk=context.chunks.shift();context.cursor=0}if(mode=="body"){if(chunk[context.cursor]=="}")return[context.cursor,"bodyEnd"];if(chunk.indexOf("}",context.cursor)==-1)return null;closest=context.cursor+split(chunk.substring(context.cursor-1),"}",true,"{","}")[0].length-2;return[closest,"bodyEnd"]}var nextSpecial=chunk.indexOf("@",context.cursor);var nextEscape=chunk.indexOf("__ESCAPED_",context.cursor);var nextBodyStart=chunk.indexOf("{",context.cursor);var nextBodyEnd=chunk.indexOf("}",context.cursor);if(nextEscape>-1&&/\S/.test(chunk.substring(context.cursor,nextEscape)))nextEscape=-1;closest=nextSpecial;if(closest==-1||nextEscape>-1&&nextEscape<closest)closest=nextEscape;if(closest==-1||nextBodyStart>-1&&nextBodyStart<closest)closest=nextBodyStart;if(closest==-1||nextBodyEnd>-1&&nextBodyEnd<closest)closest=nextBodyEnd;if(closest==-1)return;if(nextEscape===closest)return[closest,"escape"];if(nextBodyStart===closest)return[closest,"bodyStart"];if(nextBodyEnd===closest)return[closest,"bodyEnd"];if(nextSpecial===closest)return[closest,"special"]}function intoTokens(context){var chunk=context.chunk;var tokenized=[];var newToken;var value;while(true){var next=whatsNext(context);if(!next){var whatsLeft=context.chunk.substring(context.cursor);if(whatsLeft.trim().length>0){if(context.mode=="body"){context.warnings.push("Missing '}' after '"+whatsLeft+"'. Ignoring.")}else{tokenized.push(["text",[whatsLeft]])}context.cursor+=whatsLeft.length}break}var nextSpecial=next[0];var what=next[1];var nextEnd;var oldMode;chunk=context.chunk;if(context.cursor!=nextSpecial&&what!="bodyEnd"){var spacing=chunk.substring(context.cursor,nextSpecial);var leadingWhitespace=/^\s+/.exec(spacing);if(leadingWhitespace){context.cursor+=leadingWhitespace[0].length;context.track(leadingWhitespace[0])}}if(what=="special"){var firstOpenBraceAt=chunk.indexOf("{",nextSpecial);var firstSemicolonAt=chunk.indexOf(";",nextSpecial);var isSingle=firstSemicolonAt>-1&&(firstOpenBraceAt==-1||firstSemicolonAt<firstOpenBraceAt);var isBroken=firstOpenBraceAt==-1&&firstSemicolonAt==-1;if(isBroken){context.warnings.push("Broken declaration: '"+chunk.substring(context.cursor)+"'.");context.cursor=chunk.length}else if(isSingle){nextEnd=chunk.indexOf(";",nextSpecial+1);value=chunk.substring(context.cursor,nextEnd+1);tokenized.push(["at-rule",[value].concat(context.track(value,true))]);context.track(";");context.cursor=nextEnd+1}else{nextEnd=chunk.indexOf("{",nextSpecial+1);value=chunk.substring(context.cursor,nextEnd);var trimmedValue=value.trim();var isFlat=flatBlock.test(trimmedValue);oldMode=context.mode;context.cursor=nextEnd+1;context.mode=isFlat?"body":"block";newToken=[isFlat?"flat-block":"block"];newToken.push([trimmedValue].concat(context.track(value,true)));context.track("{");newToken.push(intoTokens(context));if(typeof newToken[2]=="string")newToken[2]=extractProperties(newToken[2],[[trimmedValue]],context);context.mode=oldMode;context.track("}");tokenized.push(newToken)}}else if(what=="escape"){nextEnd=chunk.indexOf("__",nextSpecial+1);var escaped=chunk.substring(context.cursor,nextEnd+2);var isStartSourceMarker=!!context.sourceTracker.nextStart(escaped);var isEndSourceMarker=!!context.sourceTracker.nextEnd(escaped);if(isStartSourceMarker){context.track(escaped);context.state.push({source:context.source,line:context.line,column:context.column});context.source=context.sourceTracker.nextStart(escaped).filename;context.line=1;context.column=0}else if(isEndSourceMarker){var oldState=context.state.pop();context.source=oldState.source;context.line=oldState.line;context.column=oldState.column;context.track(escaped)}else{if(escaped.indexOf("__ESCAPED_COMMENT_SPECIAL")===0)tokenized.push(["text",[escaped]]);context.track(escaped)}context.cursor=nextEnd+2}else if(what=="bodyStart"){var selectors=extractSelectors(chunk.substring(context.cursor,nextSpecial),context);oldMode=context.mode;context.cursor=nextSpecial+1;context.mode="body";var body=extractProperties(intoTokens(context),selectors,context);context.track("{");context.mode=oldMode;tokenized.push(["selector",selectors,body])}else if(what=="bodyEnd"){if(context.mode=="top"){var at=context.cursor;var warning=chunk[context.cursor]=="}"?"Unexpected '}' in '"+chunk.substring(at-20,at+20)+"'. Ignoring.":"Unexpected content: '"+chunk.substring(at,nextSpecial+1)+"'. Ignoring.";context.warnings.push(warning);context.cursor=nextSpecial+1;continue}if(context.mode=="block")context.track(chunk.substring(context.cursor,nextSpecial));if(context.mode!="block")tokenized=chunk.substring(context.cursor,nextSpecial);context.cursor=nextSpecial+1;break}}return tokenized}module.exports=tokenize},{"../source-maps/track":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/source-maps/track.js","../utils/split":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/utils/split.js","./extract-properties":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/tokenizer/extract-properties.js","./extract-selectors":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/tokenizer/extract-selectors.js",path:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/path-browserify/index.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/urls/rebase.js":[function(require,module,exports){var path=require("path");var rewriteUrls=require("./rewrite");function rebaseUrls(data,context){var rebaseOpts={absolute:context.options.explicitRoot,relative:!context.options.explicitRoot&&context.options.explicitTarget,fromBase:context.options.relativeTo};if(!rebaseOpts.absolute&&!rebaseOpts.relative)return data;if(rebaseOpts.absolute&&context.options.explicitTarget)context.warnings.push("Both 'root' and output file given so rebasing URLs as absolute paths");if(rebaseOpts.absolute)rebaseOpts.toBase=path.resolve(context.options.root);if(rebaseOpts.relative)rebaseOpts.toBase=path.resolve(context.options.target);if(!rebaseOpts.fromBase||!rebaseOpts.toBase)return data;return rewriteUrls(data,rebaseOpts,context)}module.exports=rebaseUrls},{"./rewrite":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/urls/rewrite.js",path:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/path-browserify/index.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/urls/reduce.js":[function(require,module,exports){var split=require("../utils/split");var URL_PREFIX="url(";var UPPERCASE_URL_PREFIX="URL(";var URL_SUFFIX=")";var SINGLE_QUOTE_URL_SUFFIX="')";var DOUBLE_QUOTE_URL_SUFFIX='")';var DATA_URI_PREFIX_PATTERN=/^\s*['"]?\s*data:/;var DATA_URI_TRAILER_PATTERN=/[\s\};,\/!]/;var IMPORT_URL_PREFIX="@import";var UPPERCASE_IMPORT_URL_PREFIX="@IMPORT";var COMMENT_END_MARKER=/\*\//;function byUrl(data,context,callback){var nextStart=0;var nextStartUpperCase=0;var nextEnd=0;var firstMatch;var isDataURI=false;var cursor=0;var tempData=[];var hasUppercaseUrl=data.indexOf(UPPERCASE_URL_PREFIX)>-1;for(;nextEnd<data.length;){nextStart=data.indexOf(URL_PREFIX,nextEnd);nextStartUpperCase=hasUppercaseUrl?data.indexOf(UPPERCASE_URL_PREFIX,nextEnd):-1;if(nextStart==-1&&nextStartUpperCase==-1)break;if(nextStart==-1&&nextStartUpperCase>-1)nextStart=nextStartUpperCase;if(data[nextStart+URL_PREFIX.length]=='"'){nextEnd=data.indexOf(DOUBLE_QUOTE_URL_SUFFIX,nextStart)}else if(data[nextStart+URL_PREFIX.length]=="'"){nextEnd=data.indexOf(SINGLE_QUOTE_URL_SUFFIX,nextStart)}else{isDataURI=DATA_URI_PREFIX_PATTERN.test(data.substring(nextStart+URL_PREFIX.length));if(isDataURI){firstMatch=split(data.substring(nextStart),DATA_URI_TRAILER_PATTERN,false,"(",")",true).pop();if(firstMatch&&firstMatch[firstMatch.length-1]==URL_SUFFIX){nextEnd=nextStart+firstMatch.length-URL_SUFFIX.length}else{nextEnd=-1}}else{nextEnd=data.indexOf(URL_SUFFIX,nextStart)}}if(nextEnd==-1){nextEnd=data.indexOf("}",nextStart);if(nextEnd==-1)nextEnd=data.length;else nextEnd--;context.warnings.push("Broken URL declaration: '"+data.substring(nextStart,nextEnd+1)+"'.")}else{if(data[nextEnd]!=URL_SUFFIX)nextEnd=data.indexOf(URL_SUFFIX,nextEnd)}tempData.push(data.substring(cursor,nextStart));var url=data.substring(nextStart,nextEnd+1);callback(url,tempData);cursor=nextEnd+1}return tempData.length>0?tempData.join("")+data.substring(cursor,data.length):data}function byImport(data,context,callback){
var nextImport=0;var nextImportUpperCase=0;var nextStart=0;var nextEnd=0;var cursor=0;var tempData=[];var nextSingleQuote=0;var nextDoubleQuote=0;var untilNextQuote;var withQuote;var SINGLE_QUOTE="'";var DOUBLE_QUOTE='"';for(;nextEnd<data.length;){nextImport=data.indexOf(IMPORT_URL_PREFIX,nextEnd);nextImportUpperCase=data.indexOf(UPPERCASE_IMPORT_URL_PREFIX,nextEnd);if(nextImport==-1&&nextImportUpperCase==-1)break;if(nextImport>-1&&nextImportUpperCase>-1&&nextImportUpperCase<nextImport)nextImport=nextImportUpperCase;nextSingleQuote=data.indexOf(SINGLE_QUOTE,nextImport);nextDoubleQuote=data.indexOf(DOUBLE_QUOTE,nextImport);if(nextSingleQuote>-1&&nextDoubleQuote>-1&&nextSingleQuote<nextDoubleQuote){nextStart=nextSingleQuote;withQuote=SINGLE_QUOTE}else if(nextSingleQuote>-1&&nextDoubleQuote>-1&&nextSingleQuote>nextDoubleQuote){nextStart=nextDoubleQuote;withQuote=DOUBLE_QUOTE}else if(nextSingleQuote>-1){nextStart=nextSingleQuote;withQuote=SINGLE_QUOTE}else if(nextDoubleQuote>-1){nextStart=nextDoubleQuote;withQuote=DOUBLE_QUOTE}else{break}tempData.push(data.substring(cursor,nextStart));nextEnd=data.indexOf(withQuote,nextStart+1);untilNextQuote=data.substring(nextImport,nextEnd);if(nextEnd==-1||/^@import\s+(url\(|__ESCAPED)/i.test(untilNextQuote)||COMMENT_END_MARKER.test(untilNextQuote)){cursor=nextStart;break}var url=data.substring(nextStart,nextEnd+1);callback(url,tempData);cursor=nextEnd+1}return tempData.length>0?tempData.join("")+data.substring(cursor,data.length):data}function reduceAll(data,context,callback){data=byUrl(data,context,callback);data=byImport(data,context,callback);return data}module.exports=reduceAll},{"../utils/split":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/utils/split.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/urls/rewrite.js":[function(require,module,exports){(function(process){var path=require("path");var url=require("url");var reduceUrls=require("./reduce");var isWindows=process.platform=="win32";function isAbsolute(uri){return uri[0]=="/"}function isSVGMarker(uri){return uri[0]=="#"}function isEscaped(uri){return uri.indexOf("__ESCAPED_URL_CLEAN_CSS__")===0}function isInternal(uri){return/^\w+:\w+/.test(uri)}function isRemote(uri){return/^[^:]+?:\/\//.test(uri)||uri.indexOf("//")===0}function isSameOrigin(uri1,uri2){return url.parse(uri1).protocol==url.parse(uri2).protocol&&url.parse(uri1).host==url.parse(uri2).host}function isImport(uri){return uri.lastIndexOf(".css")===uri.length-4}function isData(uri){return uri.indexOf("data:")===0}function absolute(uri,options){return path.resolve(path.join(options.fromBase||"",uri)).replace(options.toBase,"")}function relative(uri,options){return path.relative(options.toBase,path.join(options.fromBase||"",uri))}function normalize(uri){return isWindows?uri.replace(/\\/g,"/"):uri}function rebase(uri,options){if(isAbsolute(uri)||isSVGMarker(uri)||isEscaped(uri)||isInternal(uri))return uri;if(options.rebase===false&&!isImport(uri))return uri;if(!options.imports&&isImport(uri))return uri;if(isData(uri))return"'"+uri+"'";if(isRemote(uri)&&!isRemote(options.toBase))return uri;if(isRemote(uri)&&!isSameOrigin(uri,options.toBase))return uri;if(!isRemote(uri)&&isRemote(options.toBase))return url.resolve(options.toBase,uri);return options.absolute?normalize(absolute(uri,options)):normalize(relative(uri,options))}function quoteFor(url){if(url.indexOf("'")>-1)return'"';else if(url.indexOf('"')>-1)return"'";else if(/\s/.test(url)||/[\(\)]/.test(url))return"'";else return""}function rewriteUrls(data,options,context){return reduceUrls(data,context,function(originUrl,tempData){var url=originUrl.replace(/^(url\()?\s*['"]?|['"]?\s*\)?$/g,"");var match=originUrl.match(/^(url\()?\s*(['"]).*?(['"])\s*\)?$/);var quote;if(!!options.urlQuotes&&match&&match[2]===match[3]){quote=match[2]}else{quote=quoteFor(url)}tempData.push("url("+quote+rebase(url,options)+quote+")")})}module.exports=rewriteUrls}).call(this,require("_process"))},{"./reduce":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/urls/reduce.js",_process:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/process/browser.js",path:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/path-browserify/index.js",url:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/url/url.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/utils/clone-array.js":[function(require,module,exports){function cloneArray(array){var cloned=array.slice(0);for(var i=0,l=cloned.length;i<l;i++){if(Array.isArray(cloned[i]))cloned[i]=cloneArray(cloned[i])}return cloned}module.exports=cloneArray},{}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/utils/compatibility.js":[function(require,module,exports){var util=require("util");var DEFAULTS={"*":{colors:{opacity:true},properties:{backgroundClipMerging:false,backgroundOriginMerging:false,backgroundSizeMerging:false,colors:true,ieBangHack:false,iePrefixHack:false,ieSuffixHack:true,merging:true,shorterLengthUnits:false,spaceAfterClosingBrace:true,urlQuotes:false,zeroUnits:true},selectors:{adjacentSpace:false,ie7Hack:false,special:/(\-moz\-|\-ms\-|\-o\-|\-webkit\-|:dir\([a-z-]*\)|:first(?![a-z-])|:fullscreen|:left|:read-only|:read-write|:right|:placeholder|:host|::content|\/deep\/|::shadow|^,)/},units:{ch:true,in:true,pc:true,pt:true,rem:true,vh:true,vm:true,vmax:true,vmin:true,vw:true}},ie8:{colors:{opacity:false},properties:{backgroundClipMerging:false,backgroundOriginMerging:false,backgroundSizeMerging:false,colors:true,ieBangHack:false,iePrefixHack:true,ieSuffixHack:true,merging:false,shorterLengthUnits:false,spaceAfterClosingBrace:true,urlQuotes:false,zeroUnits:true},selectors:{adjacentSpace:false,ie7Hack:false,special:/(\-moz\-|\-ms\-|\-o\-|\-webkit\-|:root|:nth|:first\-of|:last|:only|:empty|:target|:checked|::selection|:enabled|:disabled|:not|:placeholder|:host|::content|\/deep\/|::shadow|^,)/},units:{ch:false,in:true,pc:true,pt:true,rem:false,vh:false,vm:false,vmax:false,vmin:false,vw:false}},ie7:{colors:{opacity:false},properties:{backgroundClipMerging:false,backgroundOriginMerging:false,backgroundSizeMerging:false,colors:true,ieBangHack:true,iePrefixHack:true,ieSuffixHack:true,merging:false,shorterLengthUnits:false,spaceAfterClosingBrace:true,urlQuotes:false,zeroUnits:true},selectors:{adjacentSpace:false,ie7Hack:true,special:/(\-moz\-|\-ms\-|\-o\-|\-webkit\-|:focus|:before|:after|:root|:nth|:first\-of|:last|:only|:empty|:target|:checked|::selection|:enabled|:disabled|:not|:placeholder|:host|::content|\/deep\/|::shadow|^,)/},units:{ch:false,in:true,pc:true,pt:true,rem:false,vh:false,vm:false,vmax:false,vmin:false,vw:false}}};function Compatibility(source){this.source=source||{}}function merge(source,target){for(var key in source){var value=source[key];if(typeof value==="object"&&!util.isRegExp(value))target[key]=merge(value,target[key]||{});else target[key]=key in target?target[key]:value}return target}function calculateSource(source){if(typeof source=="object")return source;if(!/[,\+\-]/.test(source))return DEFAULTS[source]||DEFAULTS["*"];var parts=source.split(",");var template=parts[0]in DEFAULTS?DEFAULTS[parts.shift()]:DEFAULTS["*"];source={};parts.forEach(function(part){var isAdd=part[0]=="+";var key=part.substring(1).split(".");var group=key[0];var option=key[1];source[group]=source[group]||{};source[group][option]=isAdd});return merge(template,source)}Compatibility.prototype.toOptions=function(){return merge(DEFAULTS["*"],calculateSource(this.source))};module.exports=Compatibility},{util:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/util/util.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/utils/input-source-map-tracker.js":[function(require,module,exports){(function(process,global,Buffer){var SourceMapConsumer=require("source-map").SourceMapConsumer;var fs=require("fs");var path=require("path");var http=require("http");var https=require("https");var url=require("url");var override=require("../utils/object.js").override;var MAP_MARKER=/\/\*# sourceMappingURL=(\S+) \*\//;var REMOTE_RESOURCE=/^(https?:)?\/\//;var DATA_URI=/^data:(\S*?)?(;charset=[^;]+)?(;[^,]+?)?,(.+)/;var unescape=global.unescape;function InputSourceMapStore(outerContext){this.options=outerContext.options;this.errors=outerContext.errors;this.warnings=outerContext.warnings;this.sourceTracker=outerContext.sourceTracker;this.timeout=this.options.inliner.timeout;this.requestOptions=this.options.inliner.request;this.localOnly=outerContext.localOnly;this.relativeTo=outerContext.options.target||process.cwd();this.maps={};this.sourcesContent={}}function fromString(self,_,whenDone){self.trackLoaded(undefined,undefined,self.options.sourceMap);return whenDone()}function fromSource(self,data,whenDone,context){var nextAt=0;function proceedToNext(){context.cursor+=nextAt+1;fromSource(self,data,whenDone,context)}while(context.cursor<data.length){var fragment=data.substring(context.cursor);var markerStartMatch=self.sourceTracker.nextStart(fragment)||{index:-1};var markerEndMatch=self.sourceTracker.nextEnd(fragment)||{index:-1};var mapMatch=MAP_MARKER.exec(fragment)||{index:-1};var sourceMapFile=mapMatch[1];nextAt=data.length;if(markerStartMatch.index>-1)nextAt=markerStartMatch.index;if(markerEndMatch.index>-1&&markerEndMatch.index<nextAt)nextAt=markerEndMatch.index;if(mapMatch.index>-1&&mapMatch.index<nextAt)nextAt=mapMatch.index;if(nextAt==data.length)break;if(nextAt==markerStartMatch.index){context.files.push(markerStartMatch.filename)}else if(nextAt==markerEndMatch.index){context.files.pop()}else if(nextAt==mapMatch.index){var isRemote=/^https?:\/\//.test(sourceMapFile)||/^\/\//.test(sourceMapFile);var isDataUri=DATA_URI.test(sourceMapFile);if(isRemote){return fetchMapFile(self,sourceMapFile,context,proceedToNext)}else{var sourceFile=context.files[context.files.length-1];var sourceMapPath,sourceMapData;var sourceDir=sourceFile?path.dirname(sourceFile):self.options.relativeTo;if(isDataUri){sourceMapPath=path.resolve(self.options.root,sourceFile||"");sourceMapData=fromDataUri(sourceMapFile)}else{sourceMapPath=path.resolve(self.options.root,path.join(sourceDir||"",sourceMapFile));sourceMapData=fs.readFileSync(sourceMapPath,"utf-8")}self.trackLoaded(sourceFile||undefined,sourceMapPath,sourceMapData)}}context.cursor+=nextAt+1}return whenDone()}function fromDataUri(uriString){var match=DATA_URI.exec(uriString);var charset=match[2]?match[2].split(/[=;]/)[2]:"us-ascii";var encoding=match[3]?match[3].split(";")[1]:"utf8";var data=encoding=="utf8"?unescape(match[4]):match[4];var buffer=new Buffer(data,encoding);buffer.charset=charset;return buffer.toString()}function fetchMapFile(self,sourceUrl,context,done){fetch(self,sourceUrl,function(data){self.trackLoaded(context.files[context.files.length-1]||undefined,sourceUrl,data);done()},function(message){context.errors.push('Broken source map at "'+sourceUrl+'" - '+message);return done()})}function fetch(self,path,onSuccess,onFailure){var protocol=path.indexOf("https")===0?https:http;var requestOptions=override(url.parse(path),self.requestOptions);var errorHandled=false;protocol.get(requestOptions,function(res){if(res.statusCode<200||res.statusCode>299)return onFailure(res.statusCode);var chunks=[];res.on("data",function(chunk){chunks.push(chunk.toString())});res.on("end",function(){onSuccess(chunks.join(""))})}).on("error",function(res){if(errorHandled)return;onFailure(res.message);errorHandled=true}).on("timeout",function(){if(errorHandled)return;onFailure("timeout");errorHandled=true}).setTimeout(self.timeout)}function originalPositionIn(trackedSource,line,column,token,allowNFallbacks){var originalPosition;var maxRange=token.length;var position={line:line,column:column+maxRange};while(maxRange-- >0){position.column--;originalPosition=trackedSource.data.originalPositionFor(position);if(originalPosition)break}if(originalPosition.line===null&&line>1&&allowNFallbacks>0)return originalPositionIn(trackedSource,line-1,column,token,allowNFallbacks-1);if(trackedSource.path&&originalPosition.source){originalPosition.source=REMOTE_RESOURCE.test(trackedSource.path)?url.resolve(trackedSource.path,originalPosition.source):path.join(trackedSource.path,originalPosition.source);originalPosition.sourceResolved=true}return originalPosition}function trackContentSources(self,sourceFile){var consumer=self.maps[sourceFile].data;var isRemote=REMOTE_RESOURCE.test(sourceFile);var sourcesMapping={};consumer.sources.forEach(function(file,index){var uniquePath=isRemote?url.resolve(path.dirname(sourceFile),file):path.relative(self.relativeTo,path.resolve(path.dirname(sourceFile||"."),file));sourcesMapping[uniquePath]=consumer.sourcesContent&&consumer.sourcesContent[index]});self.sourcesContent[sourceFile]=sourcesMapping}function _resolveSources(self,remaining,whenDone){function processNext(){return _resolveSources(self,remaining,whenDone)}if(remaining.length===0)return whenDone();var current=remaining.shift();var sourceFile=current[0];var originalFile=current[1];var isRemote=REMOTE_RESOURCE.test(sourceFile);if(isRemote&&self.localOnly){self.warnings.push('No callback given to `#minify` method, cannot fetch a remote file from "'+originalFile+'"');return processNext()}if(isRemote){fetch(self,originalFile,function(data){self.sourcesContent[sourceFile][originalFile]=data;processNext()},function(message){self.warnings.push('Broken original source file at "'+originalFile+'" - '+message);processNext()})}else{var fullPath=path.join(self.options.root,originalFile);if(fs.existsSync(fullPath))self.sourcesContent[sourceFile][originalFile]=fs.readFileSync(fullPath,"utf-8");else self.warnings.push('Missing original source file at "'+fullPath+'".');return processNext()}}InputSourceMapStore.prototype.track=function(data,whenDone){return typeof this.options.sourceMap=="string"?fromString(this,data,whenDone):fromSource(this,data,whenDone,{files:[],cursor:0,errors:this.errors})};InputSourceMapStore.prototype.trackLoaded=function(sourcePath,mapPath,mapData){var relativeTo=this.options.explicitTarget?this.options.target:this.options.root;var isRemote=REMOTE_RESOURCE.test(sourcePath);if(mapPath){mapPath=isRemote?path.dirname(mapPath):path.dirname(path.relative(relativeTo,mapPath))}this.maps[sourcePath]={path:mapPath,data:new SourceMapConsumer(mapData)};trackContentSources(this,sourcePath)};InputSourceMapStore.prototype.isTracking=function(source){return!!this.maps[source]};InputSourceMapStore.prototype.originalPositionFor=function(sourceInfo,token,allowNFallbacks){return originalPositionIn(this.maps[sourceInfo.source],sourceInfo.line,sourceInfo.column,token,allowNFallbacks)};InputSourceMapStore.prototype.sourcesContentFor=function(contextSource){return this.sourcesContent[contextSource]};InputSourceMapStore.prototype.resolveSources=function(whenDone){var toResolve=[];for(var sourceFile in this.sourcesContent){var contents=this.sourcesContent[sourceFile];for(var originalFile in contents){if(!contents[originalFile])toResolve.push([sourceFile,originalFile])}}return _resolveSources(this,toResolve,whenDone)};module.exports=InputSourceMapStore}).call(this,require("_process"),typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{},require("buffer").Buffer)},{"../utils/object.js":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/utils/object.js",_process:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/process/browser.js",buffer:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/buffer/index.js",fs:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/browserify/lib/_empty.js",http:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/stream-http/index.js",https:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/https-browserify/index.js",path:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/path-browserify/index.js","source-map":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/source-map/lib/source-map.js",url:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/url/url.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/utils/object.js":[function(require,module,exports){module.exports={override:function(source1,source2){var target={};for(var key1 in source1)target[key1]=source1[key1];for(var key2 in source2)target[key2]=source2[key2];return target}}},{}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/utils/quote-scanner.js":[function(require,module,exports){var COMMENT_START_MARK="/*";function QuoteScanner(data){this.data=data}var findQuoteEnd=function(data,matched,cursor,oldCursor){var commentEndMark="*/";var escapeMark="\\";var blockEndMark="}";var dataPrefix=data.substring(oldCursor,cursor);var commentEndedAt=dataPrefix.lastIndexOf(commentEndMark,cursor);var commentStartedAt=findLastCommentStartedAt(dataPrefix,cursor);var commentStarted=false;if(commentEndedAt>=cursor&&commentStartedAt>-1)commentStarted=true;if(commentStartedAt<cursor&&commentStartedAt>commentEndedAt)commentStarted=true;if(commentStarted){var commentEndsAt=data.indexOf(commentEndMark,cursor);if(commentEndsAt>-1)return commentEndsAt;commentEndsAt=data.indexOf(blockEndMark,cursor);return commentEndsAt>-1?commentEndsAt-1:data.length}while(true){if(data[cursor]===undefined)break;if(data[cursor]==matched&&(data[cursor-1]!=escapeMark||data[cursor-2]==escapeMark))break;cursor++}return cursor};function findLastCommentStartedAt(data,cursor){var position=cursor;while(position>-1){position=data.lastIndexOf(COMMENT_START_MARK,position);if(position>-1&&data[position-1]!="*"){break}else{position--}}return position}function findNext(data,mark,startAt){var escapeMark="\\";var candidate=startAt;while(true){candidate=data.indexOf(mark,candidate+1);if(candidate==-1)return-1;if(data[candidate-1]!=escapeMark)return candidate}}QuoteScanner.prototype.each=function(callback){var data=this.data;var tempData=[];var nextStart=0;var nextEnd=0;var cursor=0;var matchedMark=null;var singleMark="'";var doubleMark='"';var dataLength=data.length;for(;nextEnd<data.length;){var nextStartSingle=findNext(data,singleMark,nextEnd);var nextStartDouble=findNext(data,doubleMark,nextEnd);if(nextStartSingle==-1)nextStartSingle=dataLength;if(nextStartDouble==-1)nextStartDouble=dataLength;if(nextStartSingle<nextStartDouble){nextStart=nextStartSingle;matchedMark=singleMark}else{nextStart=nextStartDouble;matchedMark=doubleMark}if(nextStart==-1)break;nextEnd=findQuoteEnd(data,matchedMark,nextStart+1,cursor);if(nextEnd==-1)break;var text=data.substring(nextStart,nextEnd+1);tempData.push(data.substring(cursor,nextStart));if(text.length>0)callback(text,tempData,nextStart);cursor=nextEnd+1}return tempData.length>0?tempData.join("")+data.substring(cursor,data.length):data};module.exports=QuoteScanner},{}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/utils/source-reader.js":[function(require,module,exports){(function(Buffer){var path=require("path");var rewriteUrls=require("../urls/rewrite");var REMOTE_RESOURCE=/^(https?:)?\/\//;function SourceReader(context,data){this.outerContext=context;this.data=data;this.sources={}}SourceReader.prototype.sourceAt=function(path){return this.sources[path]};SourceReader.prototype.trackSource=function(path,source){this.sources[path]={};this.sources[path][path]=source};SourceReader.prototype.toString=function(){if(typeof this.data=="string")return fromString(this);if(Buffer.isBuffer(this.data))return fromBuffer(this);if(Array.isArray(this.data))return fromArray(this);return fromHash(this)};function fromString(self){var data=self.data;self.trackSource(undefined,data);return data}function fromBuffer(self){var data=self.data.toString();self.trackSource(undefined,data);return data}function fromArray(self){return self.data.map(function(source){return self.outerContext.options.processImport===false?source+"@shallow":source}).map(function(source){return!self.outerContext.options.relativeTo||/^https?:\/\//.test(source)?source:path.relative(self.outerContext.options.relativeTo,source)}).map(function(source){return"@import url("+source+");"}).join("")}function fromHash(self){var data=[];var toBase=path.resolve(self.outerContext.options.target||self.outerContext.options.root);for(var source in self.data){var styles=self.data[source].styles;var inputSourceMap=self.data[source].sourceMap;var isRemote=REMOTE_RESOURCE.test(source);var absoluteSource=isRemote?source:path.resolve(source);var absoluteSourcePath=path.dirname(absoluteSource);var rewriteOptions={absolute:self.outerContext.options.explicitRoot,relative:!self.outerContext.options.explicitRoot,imports:true,rebase:self.outerContext.options.rebase,fromBase:absoluteSourcePath,toBase:isRemote?absoluteSourcePath:toBase,urlQuotes:self.outerContext.options.compatibility.properties.urlQuotes};styles=rewriteUrls(styles,rewriteOptions,self.outerContext);self.trackSource(source,styles);styles=self.outerContext.sourceTracker.store(source,styles);if(self.outerContext.options.sourceMap&&inputSourceMap)self.outerContext.inputSourceMapTracker.trackLoaded(source,source,inputSourceMap);data.push(styles)}return data.join("")}module.exports=SourceReader}).call(this,{isBuffer:require("../../../is-buffer/index.js")})},{"../../../is-buffer/index.js":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/is-buffer/index.js","../urls/rewrite":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/urls/rewrite.js",path:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/path-browserify/index.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/utils/source-tracker.js":[function(require,module,exports){function SourceTracker(){this.sources=[]}SourceTracker.prototype.store=function(filename,data){this.sources.push(filename);return"__ESCAPED_SOURCE_CLEAN_CSS"+(this.sources.length-1)+"__"+data+"__ESCAPED_SOURCE_END_CLEAN_CSS__"};SourceTracker.prototype.nextStart=function(data){var next=/__ESCAPED_SOURCE_CLEAN_CSS(\d+)__/.exec(data);return next?{index:next.index,filename:this.sources[~~next[1]]}:null};SourceTracker.prototype.nextEnd=function(data){return/__ESCAPED_SOURCE_END_CLEAN_CSS__/g.exec(data)};SourceTracker.prototype.removeAll=function(data){return data.replace(/__ESCAPED_SOURCE_CLEAN_CSS\d+__/g,"").replace(/__ESCAPED_SOURCE_END_CLEAN_CSS__/g,"")};module.exports=SourceTracker},{}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/lib/utils/split.js":[function(require,module,exports){function split(value,separator,includeSeparator,openLevel,closeLevel,firstOnly){var withRegex=typeof separator!="string";var hasSeparator=withRegex?separator.test(value):value.indexOf(separator);if(!hasSeparator)return[value];openLevel=openLevel||"(";closeLevel=closeLevel||")";if(value.indexOf(openLevel)==-1&&!includeSeparator&&!firstOnly)return value.split(separator);var level=0;var cursor=0;var lastStart=0;var len=value.length;var tokens=[];while(cursor<len){if(value[cursor]==openLevel){level++}else if(value[cursor]==closeLevel){level--}if(level===0&&cursor>0&&cursor+1<len&&(withRegex?separator.test(value[cursor]):value[cursor]==separator)){tokens.push(value.substring(lastStart,cursor+(includeSeparator?1:0)));lastStart=cursor+1;if(firstOnly&&tokens.length==1){break}}cursor++}if(lastStart<cursor+1){var lastValue=value.substring(lastStart);var lastCharacter=lastValue[lastValue.length-1];if(!includeSeparator&&(withRegex?separator.test(lastCharacter):lastCharacter==separator))lastValue=lastValue.substring(0,lastValue.length-1);tokens.push(lastValue)}return tokens}module.exports=split},{}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/colors/lib/colors.js":[function(require,module,exports){var colors={};module["exports"]=colors;colors.themes={};var ansiStyles=colors.styles=require("./styles");var defineProps=Object.defineProperties;colors.supportsColor=require("./system/supports-colors");if(typeof colors.enabled==="undefined"){colors.enabled=colors.supportsColor}colors.stripColors=colors.strip=function(str){return(""+str).replace(/\x1B\[\d+m/g,"")};var stylize=colors.stylize=function stylize(str,style){return ansiStyles[style].open+str+ansiStyles[style].close};var matchOperatorsRe=/[|\\{}()[\]^$+*?.]/g;var escapeStringRegexp=function(str){if(typeof str!=="string"){throw new TypeError("Expected a string")}return str.replace(matchOperatorsRe,"\\$&")};function build(_styles){var builder=function builder(){return applyStyle.apply(builder,arguments)};builder._styles=_styles;builder.__proto__=proto;return builder}var styles=function(){var ret={};ansiStyles.grey=ansiStyles.gray;Object.keys(ansiStyles).forEach(function(key){ansiStyles[key].closeRe=new RegExp(escapeStringRegexp(ansiStyles[key].close),"g");ret[key]={get:function(){return build(this._styles.concat(key))}}});return ret}();var proto=defineProps(function colors(){},styles);function applyStyle(){var args=arguments;var argsLen=args.length;var str=argsLen!==0&&String(arguments[0]);if(argsLen>1){for(var a=1;a<argsLen;a++){str+=" "+args[a]}}if(!colors.enabled||!str){return str}var nestedStyles=this._styles;var i=nestedStyles.length;while(i--){var code=ansiStyles[nestedStyles[i]];str=code.open+str.replace(code.closeRe,code.open)+code.close}return str}function applyTheme(theme){for(var style in theme){(function(style){colors[style]=function(str){return colors[theme[style]](str)}})(style)}}colors.setTheme=function(theme){if(typeof theme==="string"){try{colors.themes[theme]=require(theme);applyTheme(colors.themes[theme]);return colors.themes[theme]}catch(err){console.log(err);return err}}else{applyTheme(theme)}};function init(){var ret={};Object.keys(styles).forEach(function(name){ret[name]={get:function(){return build([name])}}});return ret}var sequencer=function sequencer(map,str){var exploded=str.split(""),i=0;exploded=exploded.map(map);return exploded.join("")};colors.trap=require("./custom/trap");colors.zalgo=require("./custom/zalgo");colors.maps={};colors.maps.america=require("./maps/america");colors.maps.zebra=require("./maps/zebra");colors.maps.rainbow=require("./maps/rainbow");colors.maps.random=require("./maps/random");for(var map in colors.maps){(function(map){colors[map]=function(str){return sequencer(colors.maps[map],str)}})(map)}defineProps(colors,init())},{"./custom/trap":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/colors/lib/custom/trap.js","./custom/zalgo":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/colors/lib/custom/zalgo.js","./maps/america":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/colors/lib/maps/america.js","./maps/rainbow":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/colors/lib/maps/rainbow.js","./maps/random":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/colors/lib/maps/random.js","./maps/zebra":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/colors/lib/maps/zebra.js","./styles":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/colors/lib/styles.js","./system/supports-colors":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/colors/lib/system/supports-colors.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/colors/lib/custom/trap.js":[function(require,module,exports){module["exports"]=function runTheTrap(text,options){var result="";text=text||"Run the trap, drop the bass";text=text.split("");var trap={a:["@","Ą","Ⱥ","Ʌ","Δ","Λ","Д"],b:["ß","Ɓ","Ƀ","ɮ","β","฿"],c:["©","Ȼ","Ͼ"],d:["Ð","Ɗ","Ԁ","ԁ","Ԃ","ԃ"],e:["Ë","ĕ","Ǝ","ɘ","Σ","ξ","Ҽ","੬"],f:["Ӻ"],g:["ɢ"],h:["Ħ","ƕ","Ң","Һ","Ӈ","Ԋ"],i:["༏"],j:["Ĵ"],k:["ĸ","Ҡ","Ӄ","Ԟ"],l:["Ĺ"],m:["ʍ","Ӎ","ӎ","Ԡ","ԡ","൩"],n:["Ñ","ŋ","Ɲ","Ͷ","Π","Ҋ"],o:["Ø","õ","ø","Ǿ","ʘ","Ѻ","ם","۝","๏"],p:["Ƿ","Ҏ"],q:["্"],r:["®","Ʀ","Ȑ","Ɍ","ʀ","Я"],s:["§","Ϟ","ϟ","Ϩ"],t:["Ł","Ŧ","ͳ"],u:["Ʊ","Ս"],v:["ט"],w:["Ш","Ѡ","Ѽ","൰"],x:["Ҳ","Ӿ","Ӽ","ӽ"],y:["¥","Ұ","Ӌ"],z:["Ƶ","ɀ"]};text.forEach(function(c){c=c.toLowerCase();var chars=trap[c]||[" "];var rand=Math.floor(Math.random()*chars.length);if(typeof trap[c]!=="undefined"){result+=trap[c][rand]}else{result+=c}});return result}},{}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/colors/lib/custom/zalgo.js":[function(require,module,exports){module["exports"]=function zalgo(text,options){text=text||"   he is here   ";var soul={up:["̍","̎","̄","̅","̿","̑","̆","̐","͒","͗","͑","̇","̈","̊","͂","̓","̈","͊","͋","͌","̃","̂","̌","͐","̀","́","̋","̏","̒","̓","̔","̽","̉","ͣ","ͤ","ͥ","ͦ","ͧ","ͨ","ͩ","ͪ","ͫ","ͬ","ͭ","ͮ","ͯ","̾","͛","͆","̚"],down:["̖","̗","̘","̙","̜","̝","̞","̟","̠","̤","̥","̦","̩","̪","̫","̬","̭","̮","̯","̰","̱","̲","̳","̹","̺","̻","̼","ͅ","͇","͈","͉","͍","͎","͓","͔","͕","͖","͙","͚","̣"],mid:["̕","̛","̀","́","͘","̡","̢","̧","̨","̴","̵","̶","͜","͝","͞","͟","͠","͢","̸","̷","͡"," ҉"]},all=[].concat(soul.up,soul.down,soul.mid),zalgo={};function randomNumber(range){var r=Math.floor(Math.random()*range);return r}function is_char(character){var bool=false;all.filter(function(i){bool=i===character});return bool}function heComes(text,options){var result="",counts,l;options=options||{};options["up"]=options["up"]||true;options["mid"]=options["mid"]||true;options["down"]=options["down"]||true;options["size"]=options["size"]||"maxi";text=text.split("");for(l in text){if(is_char(l)){continue}result=result+text[l];counts={up:0,down:0,mid:0};switch(options.size){case"mini":counts.up=randomNumber(8);counts.min=randomNumber(2);counts.down=randomNumber(8);break;case"maxi":counts.up=randomNumber(16)+3;counts.min=randomNumber(4)+1;counts.down=randomNumber(64)+3;break;default:counts.up=randomNumber(8)+1;counts.mid=randomNumber(6)/2;counts.down=randomNumber(8)+1;break}var arr=["up","mid","down"];for(var d in arr){var index=arr[d];for(var i=0;i<=counts[index];i++){if(options[index]){result=result+soul[index][randomNumber(soul[index].length)]}}}}return result}return heComes(text)}},{}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/colors/lib/maps/america.js":[function(require,module,exports){var colors=require("../colors");module["exports"]=function(){return function(letter,i,exploded){if(letter===" ")return letter;switch(i%3){case 0:return colors.red(letter);case 1:return colors.white(letter);case 2:return colors.blue(letter)}}}()},{"../colors":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/colors/lib/colors.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/colors/lib/maps/rainbow.js":[function(require,module,exports){var colors=require("../colors");module["exports"]=function(){var rainbowColors=["red","yellow","green","blue","magenta"];return function(letter,i,exploded){if(letter===" "){return letter}else{return colors[rainbowColors[i++%rainbowColors.length]](letter)}}}()},{"../colors":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/colors/lib/colors.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/colors/lib/maps/random.js":[function(require,module,exports){var colors=require("../colors");module["exports"]=function(){var available=["underline","inverse","grey","yellow","red","green","blue","white","cyan","magenta"];return function(letter,i,exploded){return letter===" "?letter:colors[available[Math.round(Math.random()*(available.length-1))]](letter)}}()},{"../colors":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/colors/lib/colors.js"
}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/colors/lib/maps/zebra.js":[function(require,module,exports){var colors=require("../colors");module["exports"]=function(letter,i,exploded){return i%2===0?letter:colors.inverse(letter)}},{"../colors":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/colors/lib/colors.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/colors/lib/styles.js":[function(require,module,exports){var styles={};module["exports"]=styles;var codes={reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29],black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],gray:[90,39],grey:[90,39],bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],blackBG:[40,49],redBG:[41,49],greenBG:[42,49],yellowBG:[43,49],blueBG:[44,49],magentaBG:[45,49],cyanBG:[46,49],whiteBG:[47,49]};Object.keys(codes).forEach(function(key){var val=codes[key];var style=styles[key]=[];style.open="["+val[0]+"m";style.close="["+val[1]+"m"})},{}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/colors/lib/system/supports-colors.js":[function(require,module,exports){(function(process){var argv=process.argv;module.exports=function(){if(argv.indexOf("--no-color")!==-1||argv.indexOf("--color=false")!==-1){return false}if(argv.indexOf("--color")!==-1||argv.indexOf("--color=true")!==-1||argv.indexOf("--color=always")!==-1){return true}if(process.stdout&&!process.stdout.isTTY){return false}if(process.platform==="win32"){return true}if("COLORTERM"in process.env){return true}if(process.env.TERM==="dumb"){return false}if(/^screen|^xterm|^vt100|color|ansi|cygwin|linux/i.test(process.env.TERM)){return true}return false}()}).call(this,require("_process"))},{_process:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/process/browser.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/colors/safe.js":[function(require,module,exports){var colors=require("./lib/colors");module["exports"]=colors},{"./lib/colors":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/colors/lib/colors.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/constantinople/index.js":[function(require,module,exports){"use strict";var acorn=require("acorn");var walk=require("acorn/dist/walk");var isExpression=require("is-expression");var lastSRC="(null)";var lastRes=true;var lastConstants=undefined;var STATEMENT_WHITE_LIST={EmptyStatement:true,ExpressionStatement:true};var EXPRESSION_WHITE_LIST={ParenthesizedExpression:true,ArrayExpression:true,ObjectExpression:true,SequenceExpression:true,TemplateLiteral:true,UnaryExpression:true,BinaryExpression:true,LogicalExpression:true,ConditionalExpression:true,Identifier:true,Literal:true,ComprehensionExpression:true,TaggedTemplateExpression:true,MemberExpression:true,CallExpression:true,NewExpression:true};module.exports=isConstant;function isConstant(src,constants){src="("+src+")";if(lastSRC===src&&lastConstants===constants)return lastRes;lastSRC=src;lastConstants=constants;if(!isExpression(src))return lastRes=false;var ast;try{ast=acorn.parse(src,{ecmaVersion:6,allowReturnOutsideFunction:true,allowImportExportEverywhere:true,allowHashBang:true})}catch(ex){return lastRes=false}var isConstant=true;walk.simple(ast,{Statement:function(node){if(isConstant){if(STATEMENT_WHITE_LIST[node.type]!==true){isConstant=false}}},Expression:function(node){if(isConstant){if(EXPRESSION_WHITE_LIST[node.type]!==true){isConstant=false}}},MemberExpression:function(node){if(isConstant){if(node.computed)isConstant=false;else if(node.property.name[0]==="_")isConstant=false}},Identifier:function(node){if(isConstant){if(!constants||!(node.name in constants)){isConstant=false}}}});return lastRes=isConstant}isConstant.isConstant=isConstant;isConstant.toConstant=toConstant;function toConstant(src,constants){if(!isConstant(src,constants))throw new Error(JSON.stringify(src)+" is not constant.");return Function(Object.keys(constants||{}).join(","),"return ("+src+")").apply(null,Object.keys(constants||{}).map(function(key){return constants[key]}))}},{acorn:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/acorn/dist/acorn.js","acorn/dist/walk":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/acorn/dist/walk.js","is-expression":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/is-expression/index.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/core-util-is/lib/util.js":[function(require,module,exports){(function(Buffer){function isArray(arg){if(Array.isArray){return Array.isArray(arg)}return objectToString(arg)==="[object Array]"}exports.isArray=isArray;function isBoolean(arg){return typeof arg==="boolean"}exports.isBoolean=isBoolean;function isNull(arg){return arg===null}exports.isNull=isNull;function isNullOrUndefined(arg){return arg==null}exports.isNullOrUndefined=isNullOrUndefined;function isNumber(arg){return typeof arg==="number"}exports.isNumber=isNumber;function isString(arg){return typeof arg==="string"}exports.isString=isString;function isSymbol(arg){return typeof arg==="symbol"}exports.isSymbol=isSymbol;function isUndefined(arg){return arg===void 0}exports.isUndefined=isUndefined;function isRegExp(re){return objectToString(re)==="[object RegExp]"}exports.isRegExp=isRegExp;function isObject(arg){return typeof arg==="object"&&arg!==null}exports.isObject=isObject;function isDate(d){return objectToString(d)==="[object Date]"}exports.isDate=isDate;function isError(e){return objectToString(e)==="[object Error]"||e instanceof Error}exports.isError=isError;function isFunction(arg){return typeof arg==="function"}exports.isFunction=isFunction;function isPrimitive(arg){return arg===null||typeof arg==="boolean"||typeof arg==="number"||typeof arg==="string"||typeof arg==="symbol"||typeof arg==="undefined"}exports.isPrimitive=isPrimitive;exports.isBuffer=Buffer.isBuffer;function objectToString(o){return Object.prototype.toString.call(o)}}).call(this,{isBuffer:require("../../is-buffer/index.js")})},{"../../is-buffer/index.js":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/is-buffer/index.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/create-ecdh/browser.js":[function(require,module,exports){(function(Buffer){var elliptic=require("elliptic");var BN=require("bn.js");module.exports=function createECDH(curve){return new ECDH(curve)};var aliases={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};aliases.p224=aliases.secp224r1;aliases.p256=aliases.secp256r1=aliases.prime256v1;aliases.p192=aliases.secp192r1=aliases.prime192v1;aliases.p384=aliases.secp384r1;aliases.p521=aliases.secp521r1;function ECDH(curve){this.curveType=aliases[curve];if(!this.curveType){this.curveType={name:curve}}this.curve=new elliptic.ec(this.curveType.name);this.keys=void 0}ECDH.prototype.generateKeys=function(enc,format){this.keys=this.curve.genKeyPair();return this.getPublicKey(enc,format)};ECDH.prototype.computeSecret=function(other,inenc,enc){inenc=inenc||"utf8";if(!Buffer.isBuffer(other)){other=new Buffer(other,inenc)}var otherPub=this.curve.keyFromPublic(other).getPublic();var out=otherPub.mul(this.keys.getPrivate()).getX();return formatReturnValue(out,enc,this.curveType.byteLength)};ECDH.prototype.getPublicKey=function(enc,format){var key=this.keys.getPublic(format==="compressed",true);if(format==="hybrid"){if(key[key.length-1]%2){key[0]=7}else{key[0]=6}}return formatReturnValue(key,enc)};ECDH.prototype.getPrivateKey=function(enc){return formatReturnValue(this.keys.getPrivate(),enc)};ECDH.prototype.setPublicKey=function(pub,enc){enc=enc||"utf8";if(!Buffer.isBuffer(pub)){pub=new Buffer(pub,enc)}this.keys._importPublic(pub);return this};ECDH.prototype.setPrivateKey=function(priv,enc){enc=enc||"utf8";if(!Buffer.isBuffer(priv)){priv=new Buffer(priv,enc)}var _priv=new BN(priv);_priv=_priv.toString(16);this.keys._importPrivate(_priv);return this};function formatReturnValue(bn,enc,len){if(!Array.isArray(bn)){bn=bn.toArray()}var buf=new Buffer(bn);if(len&&buf.length<len){var zeros=new Buffer(len-buf.length);zeros.fill(0);buf=Buffer.concat([zeros,buf])}if(!enc){return buf}else{return buf.toString(enc)}}}).call(this,require("buffer").Buffer)},{"bn.js":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/bn.js/lib/bn.js",buffer:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/buffer/index.js",elliptic:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/elliptic/lib/elliptic.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/create-hash/browser.js":[function(require,module,exports){(function(Buffer){"use strict";var inherits=require("inherits");var md5=require("./md5");var rmd160=require("ripemd160");var sha=require("sha.js");var Base=require("cipher-base");function HashNoConstructor(hash){Base.call(this,"digest");this._hash=hash;this.buffers=[]}inherits(HashNoConstructor,Base);HashNoConstructor.prototype._update=function(data){this.buffers.push(data)};HashNoConstructor.prototype._final=function(){var buf=Buffer.concat(this.buffers);var r=this._hash(buf);this.buffers=null;return r};function Hash(hash){Base.call(this,"digest");this._hash=hash}inherits(Hash,Base);Hash.prototype._update=function(data){this._hash.update(data)};Hash.prototype._final=function(){return this._hash.digest()};module.exports=function createHash(alg){alg=alg.toLowerCase();if("md5"===alg)return new HashNoConstructor(md5);if("rmd160"===alg||"ripemd160"===alg)return new HashNoConstructor(rmd160);return new Hash(sha(alg))}}).call(this,require("buffer").Buffer)},{"./md5":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/create-hash/md5.js",buffer:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/buffer/index.js","cipher-base":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/cipher-base/index.js",inherits:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/inherits/inherits_browser.js",ripemd160:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/ripemd160/lib/ripemd160.js","sha.js":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/sha.js/index.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/create-hash/helpers.js":[function(require,module,exports){(function(Buffer){"use strict";var intSize=4;var zeroBuffer=new Buffer(intSize);zeroBuffer.fill(0);var chrsz=8;function toArray(buf,bigEndian){if(buf.length%intSize!==0){var len=buf.length+(intSize-buf.length%intSize);buf=Buffer.concat([buf,zeroBuffer],len)}var arr=[];var fn=bigEndian?buf.readInt32BE:buf.readInt32LE;for(var i=0;i<buf.length;i+=intSize){arr.push(fn.call(buf,i))}return arr}function toBuffer(arr,size,bigEndian){var buf=new Buffer(size);var fn=bigEndian?buf.writeInt32BE:buf.writeInt32LE;for(var i=0;i<arr.length;i++){fn.call(buf,arr[i],i*4,true)}return buf}function hash(buf,fn,hashSize,bigEndian){if(!Buffer.isBuffer(buf))buf=new Buffer(buf);var arr=fn(toArray(buf,bigEndian),buf.length*chrsz);return toBuffer(arr,hashSize,bigEndian)}exports.hash=hash}).call(this,require("buffer").Buffer)},{buffer:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/buffer/index.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/create-hash/md5.js":[function(require,module,exports){"use strict";var helpers=require("./helpers");function core_md5(x,len){x[len>>5]|=128<<len%32;x[(len+64>>>9<<4)+14]=len;var a=1732584193;var b=-271733879;var c=-1732584194;var d=271733878;for(var i=0;i<x.length;i+=16){var olda=a;var oldb=b;var oldc=c;var oldd=d;a=md5_ff(a,b,c,d,x[i+0],7,-680876936);d=md5_ff(d,a,b,c,x[i+1],12,-389564586);c=md5_ff(c,d,a,b,x[i+2],17,606105819);b=md5_ff(b,c,d,a,x[i+3],22,-1044525330);a=md5_ff(a,b,c,d,x[i+4],7,-176418897);d=md5_ff(d,a,b,c,x[i+5],12,1200080426);c=md5_ff(c,d,a,b,x[i+6],17,-1473231341);b=md5_ff(b,c,d,a,x[i+7],22,-45705983);a=md5_ff(a,b,c,d,x[i+8],7,1770035416);d=md5_ff(d,a,b,c,x[i+9],12,-1958414417);c=md5_ff(c,d,a,b,x[i+10],17,-42063);b=md5_ff(b,c,d,a,x[i+11],22,-1990404162);a=md5_ff(a,b,c,d,x[i+12],7,1804603682);d=md5_ff(d,a,b,c,x[i+13],12,-40341101);c=md5_ff(c,d,a,b,x[i+14],17,-1502002290);b=md5_ff(b,c,d,a,x[i+15],22,1236535329);a=md5_gg(a,b,c,d,x[i+1],5,-165796510);d=md5_gg(d,a,b,c,x[i+6],9,-1069501632);c=md5_gg(c,d,a,b,x[i+11],14,643717713);b=md5_gg(b,c,d,a,x[i+0],20,-373897302);a=md5_gg(a,b,c,d,x[i+5],5,-701558691);d=md5_gg(d,a,b,c,x[i+10],9,38016083);c=md5_gg(c,d,a,b,x[i+15],14,-660478335);b=md5_gg(b,c,d,a,x[i+4],20,-405537848);a=md5_gg(a,b,c,d,x[i+9],5,568446438);d=md5_gg(d,a,b,c,x[i+14],9,-1019803690);c=md5_gg(c,d,a,b,x[i+3],14,-187363961);b=md5_gg(b,c,d,a,x[i+8],20,1163531501);a=md5_gg(a,b,c,d,x[i+13],5,-1444681467);d=md5_gg(d,a,b,c,x[i+2],9,-51403784);c=md5_gg(c,d,a,b,x[i+7],14,1735328473);b=md5_gg(b,c,d,a,x[i+12],20,-1926607734);a=md5_hh(a,b,c,d,x[i+5],4,-378558);d=md5_hh(d,a,b,c,x[i+8],11,-2022574463);c=md5_hh(c,d,a,b,x[i+11],16,1839030562);b=md5_hh(b,c,d,a,x[i+14],23,-35309556);a=md5_hh(a,b,c,d,x[i+1],4,-1530992060);d=md5_hh(d,a,b,c,x[i+4],11,1272893353);c=md5_hh(c,d,a,b,x[i+7],16,-155497632);b=md5_hh(b,c,d,a,x[i+10],23,-1094730640);a=md5_hh(a,b,c,d,x[i+13],4,681279174);d=md5_hh(d,a,b,c,x[i+0],11,-358537222);c=md5_hh(c,d,a,b,x[i+3],16,-722521979);b=md5_hh(b,c,d,a,x[i+6],23,76029189);a=md5_hh(a,b,c,d,x[i+9],4,-640364487);d=md5_hh(d,a,b,c,x[i+12],11,-421815835);c=md5_hh(c,d,a,b,x[i+15],16,530742520);b=md5_hh(b,c,d,a,x[i+2],23,-995338651);a=md5_ii(a,b,c,d,x[i+0],6,-198630844);d=md5_ii(d,a,b,c,x[i+7],10,1126891415);c=md5_ii(c,d,a,b,x[i+14],15,-1416354905);b=md5_ii(b,c,d,a,x[i+5],21,-57434055);a=md5_ii(a,b,c,d,x[i+12],6,1700485571);d=md5_ii(d,a,b,c,x[i+3],10,-1894986606);c=md5_ii(c,d,a,b,x[i+10],15,-1051523);b=md5_ii(b,c,d,a,x[i+1],21,-2054922799);a=md5_ii(a,b,c,d,x[i+8],6,1873313359);d=md5_ii(d,a,b,c,x[i+15],10,-30611744);c=md5_ii(c,d,a,b,x[i+6],15,-1560198380);b=md5_ii(b,c,d,a,x[i+13],21,1309151649);a=md5_ii(a,b,c,d,x[i+4],6,-145523070);d=md5_ii(d,a,b,c,x[i+11],10,-1120210379);c=md5_ii(c,d,a,b,x[i+2],15,718787259);b=md5_ii(b,c,d,a,x[i+9],21,-343485551);a=safe_add(a,olda);b=safe_add(b,oldb);c=safe_add(c,oldc);d=safe_add(d,oldd)}return Array(a,b,c,d)}function md5_cmn(q,a,b,x,s,t){return safe_add(bit_rol(safe_add(safe_add(a,q),safe_add(x,t)),s),b)}function md5_ff(a,b,c,d,x,s,t){return md5_cmn(b&c|~b&d,a,b,x,s,t)}function md5_gg(a,b,c,d,x,s,t){return md5_cmn(b&d|c&~d,a,b,x,s,t)}function md5_hh(a,b,c,d,x,s,t){return md5_cmn(b^c^d,a,b,x,s,t)}function md5_ii(a,b,c,d,x,s,t){return md5_cmn(c^(b|~d),a,b,x,s,t)}function safe_add(x,y){var lsw=(x&65535)+(y&65535);var msw=(x>>16)+(y>>16)+(lsw>>16);return msw<<16|lsw&65535}function bit_rol(num,cnt){return num<<cnt|num>>>32-cnt}module.exports=function md5(buf){return helpers.hash(buf,core_md5,16)}},{"./helpers":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/create-hash/helpers.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/create-hmac/browser.js":[function(require,module,exports){(function(Buffer){"use strict";var createHash=require("create-hash/browser");var inherits=require("inherits");var Transform=require("stream").Transform;var ZEROS=new Buffer(128);ZEROS.fill(0);function Hmac(alg,key){Transform.call(this);alg=alg.toLowerCase();if(typeof key==="string"){key=new Buffer(key)}var blocksize=alg==="sha512"||alg==="sha384"?128:64;this._alg=alg;this._key=key;if(key.length>blocksize){key=createHash(alg).update(key).digest()}else if(key.length<blocksize){key=Buffer.concat([key,ZEROS],blocksize)}var ipad=this._ipad=new Buffer(blocksize);var opad=this._opad=new Buffer(blocksize);for(var i=0;i<blocksize;i++){ipad[i]=key[i]^54;opad[i]=key[i]^92}this._hash=createHash(alg).update(ipad)}inherits(Hmac,Transform);Hmac.prototype.update=function(data,enc){this._hash.update(data,enc);return this};Hmac.prototype._transform=function(data,_,next){this._hash.update(data);next()};Hmac.prototype._flush=function(next){this.push(this.digest());next()};Hmac.prototype.digest=function(enc){var h=this._hash.digest();return createHash(this._alg).update(this._opad).update(h).digest(enc)};module.exports=function createHmac(alg,key){return new Hmac(alg,key)}}).call(this,require("buffer").Buffer)},{buffer:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/buffer/index.js","create-hash/browser":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/create-hash/browser.js",inherits:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/inherits/inherits_browser.js",stream:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/stream-browserify/index.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/crypto-browserify/index.js":[function(require,module,exports){"use strict";exports.randomBytes=exports.rng=exports.pseudoRandomBytes=exports.prng=require("randombytes");exports.createHash=exports.Hash=require("create-hash");exports.createHmac=exports.Hmac=require("create-hmac");var hashes=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(Object.keys(require("browserify-sign/algos")));exports.getHashes=function(){return hashes};var p=require("pbkdf2");exports.pbkdf2=p.pbkdf2;exports.pbkdf2Sync=p.pbkdf2Sync;var aes=require("browserify-cipher");["Cipher","createCipher","Cipheriv","createCipheriv","Decipher","createDecipher","Decipheriv","createDecipheriv","getCiphers","listCiphers"].forEach(function(key){exports[key]=aes[key]});var dh=require("diffie-hellman");["DiffieHellmanGroup","createDiffieHellmanGroup","getDiffieHellman","createDiffieHellman","DiffieHellman"].forEach(function(key){exports[key]=dh[key]});var sign=require("browserify-sign");["createSign","Sign","createVerify","Verify"].forEach(function(key){exports[key]=sign[key]});exports.createECDH=require("create-ecdh");var publicEncrypt=require("public-encrypt");["publicEncrypt","privateEncrypt","publicDecrypt","privateDecrypt"].forEach(function(key){exports[key]=publicEncrypt[key]});["createCredentials"].forEach(function(name){exports[name]=function(){throw new Error(["sorry, "+name+" is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join("\n"))}})},{"browserify-cipher":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/browserify-cipher/browser.js","browserify-sign":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/browserify-sign/browser.js","browserify-sign/algos":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/browserify-sign/algos.js","create-ecdh":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/create-ecdh/browser.js","create-hash":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/create-hash/browser.js","create-hmac":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/create-hmac/browser.js","diffie-hellman":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/diffie-hellman/browser.js",pbkdf2:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/pbkdf2/browser.js","public-encrypt":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/public-encrypt/browser.js",randombytes:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/randombytes/browser.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/cycle/cycle.js":[function(require,module,exports){var cycle=exports;cycle.decycle=function decycle(object){"use strict";var objects=[],paths=[];return function derez(value,path){var i,name,nu;if(typeof value==="object"&&value!==null&&!(value instanceof Boolean)&&!(value instanceof Date)&&!(value instanceof Number)&&!(value instanceof RegExp)&&!(value instanceof String)){for(i=0;i<objects.length;i+=1){if(objects[i]===value){return{$ref:paths[i]}}}objects.push(value);paths.push(path);if(Object.prototype.toString.apply(value)==="[object Array]"){nu=[];for(i=0;i<value.length;i+=1){nu[i]=derez(value[i],path+"["+i+"]")}}else{nu={};for(name in value){if(Object.prototype.hasOwnProperty.call(value,name)){nu[name]=derez(value[name],path+"["+JSON.stringify(name)+"]")}}}return nu}return value}(object,"$")};cycle.retrocycle=function retrocycle($){"use strict";var px=/^\$(?:\[(?:\d+|\"(?:[^\\\"\u0000-\u001f]|\\([\\\"\/bfnrt]|u[0-9a-zA-Z]{4}))*\")\])*$/;(function rez(value){var i,item,name,path;if(value&&typeof value==="object"){if(Object.prototype.toString.apply(value)==="[object Array]"){for(i=0;i<value.length;i+=1){item=value[i];if(item&&typeof item==="object"){path=item.$ref;if(typeof path==="string"&&px.test(path)){value[i]=eval(path)}else{rez(item)}}}}else{for(name in value){if(typeof value[name]==="object"){item=value[name];if(item){path=item.$ref;if(typeof path==="string"&&px.test(path)){value[name]=eval(path)}else{rez(item)}}}}}}})($);return $}},{}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/des.js/lib/des.js":[function(require,module,exports){"use strict";exports.utils=require("./des/utils");exports.Cipher=require("./des/cipher");exports.DES=require("./des/des");exports.CBC=require("./des/cbc");exports.EDE=require("./des/ede")},{"./des/cbc":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/des.js/lib/des/cbc.js","./des/cipher":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/des.js/lib/des/cipher.js","./des/des":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/des.js/lib/des/des.js","./des/ede":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/des.js/lib/des/ede.js","./des/utils":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/des.js/lib/des/utils.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/des.js/lib/des/cbc.js":[function(require,module,exports){"use strict";var assert=require("minimalistic-assert");var inherits=require("inherits");var proto={};function CBCState(iv){assert.equal(iv.length,8,"Invalid IV length");this.iv=new Array(8);for(var i=0;i<this.iv.length;i++)this.iv[i]=iv[i]}function instantiate(Base){function CBC(options){Base.call(this,options);this._cbcInit()}inherits(CBC,Base);var keys=Object.keys(proto);for(var i=0;i<keys.length;i++){var key=keys[i];CBC.prototype[key]=proto[key]}CBC.create=function create(options){return new CBC(options)};return CBC}exports.instantiate=instantiate;proto._cbcInit=function _cbcInit(){var state=new CBCState(this.options.iv);this._cbcState=state};proto._update=function _update(inp,inOff,out,outOff){var state=this._cbcState;var superProto=this.constructor.super_.prototype;var iv=state.iv;if(this.type==="encrypt"){for(var i=0;i<this.blockSize;i++)iv[i]^=inp[inOff+i];superProto._update.call(this,iv,0,out,outOff);for(var i=0;i<this.blockSize;i++)iv[i]=out[outOff+i]}else{superProto._update.call(this,inp,inOff,out,outOff);for(var i=0;i<this.blockSize;i++)out[outOff+i]^=iv[i];for(var i=0;i<this.blockSize;i++)iv[i]=inp[inOff+i]}}},{inherits:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/inherits/inherits_browser.js","minimalistic-assert":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/minimalistic-assert/index.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/des.js/lib/des/cipher.js":[function(require,module,exports){"use strict";var assert=require("minimalistic-assert");function Cipher(options){this.options=options;this.type=this.options.type;this.blockSize=8;this._init();this.buffer=new Array(this.blockSize);this.bufferOff=0}module.exports=Cipher;Cipher.prototype._init=function _init(){};Cipher.prototype.update=function update(data){if(data.length===0)return[];if(this.type==="decrypt")return this._updateDecrypt(data);else return this._updateEncrypt(data)};Cipher.prototype._buffer=function _buffer(data,off){var min=Math.min(this.buffer.length-this.bufferOff,data.length-off);for(var i=0;i<min;i++)this.buffer[this.bufferOff+i]=data[off+i];this.bufferOff+=min;return min};Cipher.prototype._flushBuffer=function _flushBuffer(out,off){this._update(this.buffer,0,out,off);this.bufferOff=0;return this.blockSize};Cipher.prototype._updateEncrypt=function _updateEncrypt(data){var inputOff=0;var outputOff=0;var count=(this.bufferOff+data.length)/this.blockSize|0;var out=new Array(count*this.blockSize);if(this.bufferOff!==0){inputOff+=this._buffer(data,inputOff);if(this.bufferOff===this.buffer.length)outputOff+=this._flushBuffer(out,outputOff)}var max=data.length-(data.length-inputOff)%this.blockSize;for(;inputOff<max;inputOff+=this.blockSize){this._update(data,inputOff,out,outputOff);outputOff+=this.blockSize}for(;inputOff<data.length;inputOff++,this.bufferOff++)this.buffer[this.bufferOff]=data[inputOff];return out};Cipher.prototype._updateDecrypt=function _updateDecrypt(data){var inputOff=0;var outputOff=0;var count=Math.ceil((this.bufferOff+data.length)/this.blockSize)-1;var out=new Array(count*this.blockSize);for(;count>0;count--){inputOff+=this._buffer(data,inputOff);outputOff+=this._flushBuffer(out,outputOff)}inputOff+=this._buffer(data,inputOff);return out};Cipher.prototype.final=function final(buffer){var first;if(buffer)first=this.update(buffer);var last;if(this.type==="encrypt")last=this._finalEncrypt();else last=this._finalDecrypt();if(first)return first.concat(last);else return last};Cipher.prototype._pad=function _pad(buffer,off){if(off===0)return false;while(off<buffer.length)buffer[off++]=0;return true};Cipher.prototype._finalEncrypt=function _finalEncrypt(){if(!this._pad(this.buffer,this.bufferOff))return[];var out=new Array(this.blockSize);this._update(this.buffer,0,out,0);return out};Cipher.prototype._unpad=function _unpad(buffer){return buffer};Cipher.prototype._finalDecrypt=function _finalDecrypt(){assert.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var out=new Array(this.blockSize);this._flushBuffer(out,0);return this._unpad(out)}},{"minimalistic-assert":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/minimalistic-assert/index.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/des.js/lib/des/des.js":[function(require,module,exports){"use strict";var assert=require("minimalistic-assert");var inherits=require("inherits");var des=require("../des");var utils=des.utils;var Cipher=des.Cipher;function DESState(){this.tmp=new Array(2);this.keys=null}function DES(options){Cipher.call(this,options);var state=new DESState;this._desState=state;this.deriveKeys(state,options.key)}inherits(DES,Cipher);module.exports=DES;DES.create=function create(options){return new DES(options)};var shiftTable=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];DES.prototype.deriveKeys=function deriveKeys(state,key){state.keys=new Array(16*2);assert.equal(key.length,this.blockSize,"Invalid key length");var kL=utils.readUInt32BE(key,0);var kR=utils.readUInt32BE(key,4);utils.pc1(kL,kR,state.tmp,0);kL=state.tmp[0];kR=state.tmp[1];for(var i=0;i<state.keys.length;i+=2){var shift=shiftTable[i>>>1];kL=utils.r28shl(kL,shift);kR=utils.r28shl(kR,shift);utils.pc2(kL,kR,state.keys,i)}};DES.prototype._update=function _update(inp,inOff,out,outOff){var state=this._desState;var l=utils.readUInt32BE(inp,inOff);var r=utils.readUInt32BE(inp,inOff+4);utils.ip(l,r,state.tmp,0);l=state.tmp[0];r=state.tmp[1];if(this.type==="encrypt")this._encrypt(state,l,r,state.tmp,0);else this._decrypt(state,l,r,state.tmp,0);l=state.tmp[0];r=state.tmp[1];utils.writeUInt32BE(out,l,outOff);utils.writeUInt32BE(out,r,outOff+4)};DES.prototype._pad=function _pad(buffer,off){var value=buffer.length-off;for(var i=off;i<buffer.length;i++)buffer[i]=value;return true};DES.prototype._unpad=function _unpad(buffer){var pad=buffer[buffer.length-1];for(var i=buffer.length-pad;i<buffer.length;i++)assert.equal(buffer[i],pad);return buffer.slice(0,buffer.length-pad)};DES.prototype._encrypt=function _encrypt(state,lStart,rStart,out,off){var l=lStart;var r=rStart;for(var i=0;i<state.keys.length;i+=2){var keyL=state.keys[i];var keyR=state.keys[i+1];utils.expand(r,state.tmp,0);keyL^=state.tmp[0];keyR^=state.tmp[1];var s=utils.substitute(keyL,keyR);var f=utils.permute(s);var t=r;r=(l^f)>>>0;l=t}utils.rip(r,l,out,off)};DES.prototype._decrypt=function _decrypt(state,lStart,rStart,out,off){var l=rStart;var r=lStart;for(var i=state.keys.length-2;i>=0;i-=2){var keyL=state.keys[i];var keyR=state.keys[i+1];utils.expand(l,state.tmp,0);keyL^=state.tmp[0];keyR^=state.tmp[1];var s=utils.substitute(keyL,keyR);var f=utils.permute(s);var t=l;l=(r^f)>>>0;r=t}utils.rip(l,r,out,off)}},{"../des":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/des.js/lib/des.js",inherits:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/inherits/inherits_browser.js","minimalistic-assert":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/minimalistic-assert/index.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/des.js/lib/des/ede.js":[function(require,module,exports){"use strict";var assert=require("minimalistic-assert");var inherits=require("inherits");var des=require("../des");var Cipher=des.Cipher;var DES=des.DES;function EDEState(type,key){assert.equal(key.length,24,"Invalid key length");var k1=key.slice(0,8);var k2=key.slice(8,16);var k3=key.slice(16,24);if(type==="encrypt"){this.ciphers=[DES.create({type:"encrypt",key:k1}),DES.create({type:"decrypt",key:k2}),DES.create({type:"encrypt",key:k3})]}else{this.ciphers=[DES.create({type:"decrypt",key:k3}),DES.create({type:"encrypt",key:k2}),DES.create({type:"decrypt",key:k1})]}}function EDE(options){Cipher.call(this,options);var state=new EDEState(this.type,this.options.key);this._edeState=state}inherits(EDE,Cipher);module.exports=EDE;EDE.create=function create(options){return new EDE(options)};EDE.prototype._update=function _update(inp,inOff,out,outOff){var state=this._edeState;state.ciphers[0]._update(inp,inOff,out,outOff);state.ciphers[1]._update(out,outOff,out,outOff);state.ciphers[2]._update(out,outOff,out,outOff)};EDE.prototype._pad=DES.prototype._pad;EDE.prototype._unpad=DES.prototype._unpad},{"../des":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/des.js/lib/des.js",inherits:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/inherits/inherits_browser.js","minimalistic-assert":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/minimalistic-assert/index.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/des.js/lib/des/utils.js":[function(require,module,exports){"use strict";exports.readUInt32BE=function readUInt32BE(bytes,off){var res=bytes[0+off]<<24|bytes[1+off]<<16|bytes[2+off]<<8|bytes[3+off];return res>>>0};exports.writeUInt32BE=function writeUInt32BE(bytes,value,off){bytes[0+off]=value>>>24;bytes[1+off]=value>>>16&255;bytes[2+off]=value>>>8&255;bytes[3+off]=value&255};exports.ip=function ip(inL,inR,out,off){var outL=0;var outR=0;for(var i=6;i>=0;i-=2){for(var j=0;j<=24;j+=8){outL<<=1;outL|=inR>>>j+i&1}for(var j=0;j<=24;j+=8){outL<<=1;outL|=inL>>>j+i&1}}for(var i=6;i>=0;i-=2){for(var j=1;j<=25;j+=8){outR<<=1;outR|=inR>>>j+i&1}for(var j=1;j<=25;j+=8){outR<<=1;outR|=inL>>>j+i&1}}out[off+0]=outL>>>0;
out[off+1]=outR>>>0};exports.rip=function rip(inL,inR,out,off){var outL=0;var outR=0;for(var i=0;i<4;i++){for(var j=24;j>=0;j-=8){outL<<=1;outL|=inR>>>j+i&1;outL<<=1;outL|=inL>>>j+i&1}}for(var i=4;i<8;i++){for(var j=24;j>=0;j-=8){outR<<=1;outR|=inR>>>j+i&1;outR<<=1;outR|=inL>>>j+i&1}}out[off+0]=outL>>>0;out[off+1]=outR>>>0};exports.pc1=function pc1(inL,inR,out,off){var outL=0;var outR=0;for(var i=7;i>=5;i--){for(var j=0;j<=24;j+=8){outL<<=1;outL|=inR>>j+i&1}for(var j=0;j<=24;j+=8){outL<<=1;outL|=inL>>j+i&1}}for(var j=0;j<=24;j+=8){outL<<=1;outL|=inR>>j+i&1}for(var i=1;i<=3;i++){for(var j=0;j<=24;j+=8){outR<<=1;outR|=inR>>j+i&1}for(var j=0;j<=24;j+=8){outR<<=1;outR|=inL>>j+i&1}}for(var j=0;j<=24;j+=8){outR<<=1;outR|=inL>>j+i&1}out[off+0]=outL>>>0;out[off+1]=outR>>>0};exports.r28shl=function r28shl(num,shift){return num<<shift&268435455|num>>>28-shift};var pc2table=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];exports.pc2=function pc2(inL,inR,out,off){var outL=0;var outR=0;var len=pc2table.length>>>1;for(var i=0;i<len;i++){outL<<=1;outL|=inL>>>pc2table[i]&1}for(var i=len;i<pc2table.length;i++){outR<<=1;outR|=inR>>>pc2table[i]&1}out[off+0]=outL>>>0;out[off+1]=outR>>>0};exports.expand=function expand(r,out,off){var outL=0;var outR=0;outL=(r&1)<<5|r>>>27;for(var i=23;i>=15;i-=4){outL<<=6;outL|=r>>>i&63}for(var i=11;i>=3;i-=4){outR|=r>>>i&63;outR<<=6}outR|=(r&31)<<1|r>>>31;out[off+0]=outL>>>0;out[off+1]=outR>>>0};var sTable=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];exports.substitute=function substitute(inL,inR){var out=0;for(var i=0;i<4;i++){var b=inL>>>18-i*6&63;var sb=sTable[i*64+b];out<<=4;out|=sb}for(var i=0;i<4;i++){var b=inR>>>18-i*6&63;var sb=sTable[4*64+i*64+b];out<<=4;out|=sb}return out>>>0};var permuteTable=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];exports.permute=function permute(num){var out=0;for(var i=0;i<permuteTable.length;i++){out<<=1;out|=num>>>permuteTable[i]&1}return out>>>0};exports.padSplit=function padSplit(num,size,group){var str=num.toString(2);while(str.length<size)str="0"+str;var out=[];for(var i=0;i<size;i+=group)out.push(str.slice(i,i+group));return out.join(" ")}},{}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/diffie-hellman/browser.js":[function(require,module,exports){(function(Buffer){var generatePrime=require("./lib/generatePrime");var primes=require("./lib/primes.json");var DH=require("./lib/dh");function getDiffieHellman(mod){var prime=new Buffer(primes[mod].prime,"hex");var gen=new Buffer(primes[mod].gen,"hex");return new DH(prime,gen)}var ENCODINGS={binary:true,hex:true,base64:true};function createDiffieHellman(prime,enc,generator,genc){if(Buffer.isBuffer(enc)||ENCODINGS[enc]===undefined){return createDiffieHellman(prime,"binary",enc,generator)}enc=enc||"binary";genc=genc||"binary";generator=generator||new Buffer([2]);if(!Buffer.isBuffer(generator)){generator=new Buffer(generator,genc)}if(typeof prime==="number"){return new DH(generatePrime(prime,generator),generator,true)}if(!Buffer.isBuffer(prime)){prime=new Buffer(prime,enc)}return new DH(prime,generator,true)}exports.DiffieHellmanGroup=exports.createDiffieHellmanGroup=exports.getDiffieHellman=getDiffieHellman;exports.createDiffieHellman=exports.DiffieHellman=createDiffieHellman}).call(this,require("buffer").Buffer)},{"./lib/dh":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/diffie-hellman/lib/dh.js","./lib/generatePrime":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/diffie-hellman/lib/generatePrime.js","./lib/primes.json":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/diffie-hellman/lib/primes.json",buffer:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/buffer/index.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/diffie-hellman/lib/dh.js":[function(require,module,exports){(function(Buffer){var BN=require("bn.js");var MillerRabin=require("miller-rabin");var millerRabin=new MillerRabin;var TWENTYFOUR=new BN(24);var ELEVEN=new BN(11);var TEN=new BN(10);var THREE=new BN(3);var SEVEN=new BN(7);var primes=require("./generatePrime");var randomBytes=require("randombytes");module.exports=DH;function setPublicKey(pub,enc){enc=enc||"utf8";if(!Buffer.isBuffer(pub)){pub=new Buffer(pub,enc)}this._pub=new BN(pub);return this}function setPrivateKey(priv,enc){enc=enc||"utf8";if(!Buffer.isBuffer(priv)){priv=new Buffer(priv,enc)}this._priv=new BN(priv);return this}var primeCache={};function checkPrime(prime,generator){var gen=generator.toString("hex");var hex=[gen,prime.toString(16)].join("_");if(hex in primeCache){return primeCache[hex]}var error=0;if(prime.isEven()||!primes.simpleSieve||!primes.fermatTest(prime)||!millerRabin.test(prime)){error+=1;if(gen==="02"||gen==="05"){error+=8}else{error+=4}primeCache[hex]=error;return error}if(!millerRabin.test(prime.shrn(1))){error+=2}var rem;switch(gen){case"02":if(prime.mod(TWENTYFOUR).cmp(ELEVEN)){error+=8}break;case"05":rem=prime.mod(TEN);if(rem.cmp(THREE)&&rem.cmp(SEVEN)){error+=8}break;default:error+=4}primeCache[hex]=error;return error}function DH(prime,generator,malleable){this.setGenerator(generator);this.__prime=new BN(prime);this._prime=BN.mont(this.__prime);this._primeLen=prime.length;this._pub=undefined;this._priv=undefined;this._primeCode=undefined;if(malleable){this.setPublicKey=setPublicKey;this.setPrivateKey=setPrivateKey}else{this._primeCode=8}}Object.defineProperty(DH.prototype,"verifyError",{enumerable:true,get:function(){if(typeof this._primeCode!=="number"){this._primeCode=checkPrime(this.__prime,this.__gen)}return this._primeCode}});DH.prototype.generateKeys=function(){if(!this._priv){this._priv=new BN(randomBytes(this._primeLen))}this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed();return this.getPublicKey()};DH.prototype.computeSecret=function(other){other=new BN(other);other=other.toRed(this._prime);var secret=other.redPow(this._priv).fromRed();var out=new Buffer(secret.toArray());var prime=this.getPrime();if(out.length<prime.length){var front=new Buffer(prime.length-out.length);front.fill(0);out=Buffer.concat([front,out])}return out};DH.prototype.getPublicKey=function getPublicKey(enc){return formatReturnValue(this._pub,enc)};DH.prototype.getPrivateKey=function getPrivateKey(enc){return formatReturnValue(this._priv,enc)};DH.prototype.getPrime=function(enc){return formatReturnValue(this.__prime,enc)};DH.prototype.getGenerator=function(enc){return formatReturnValue(this._gen,enc)};DH.prototype.setGenerator=function(gen,enc){enc=enc||"utf8";if(!Buffer.isBuffer(gen)){gen=new Buffer(gen,enc)}this.__gen=gen;this._gen=new BN(gen);return this};function formatReturnValue(bn,enc){var buf=new Buffer(bn.toArray());if(!enc){return buf}else{return buf.toString(enc)}}}).call(this,require("buffer").Buffer)},{"./generatePrime":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/diffie-hellman/lib/generatePrime.js","bn.js":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/bn.js/lib/bn.js",buffer:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/buffer/index.js","miller-rabin":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/miller-rabin/lib/mr.js",randombytes:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/randombytes/browser.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/diffie-hellman/lib/generatePrime.js":[function(require,module,exports){var randomBytes=require("randombytes");module.exports=findPrime;findPrime.simpleSieve=simpleSieve;findPrime.fermatTest=fermatTest;var BN=require("bn.js");var TWENTYFOUR=new BN(24);var MillerRabin=require("miller-rabin");var millerRabin=new MillerRabin;var ONE=new BN(1);var TWO=new BN(2);var FIVE=new BN(5);var SIXTEEN=new BN(16);var EIGHT=new BN(8);var TEN=new BN(10);var THREE=new BN(3);var SEVEN=new BN(7);var ELEVEN=new BN(11);var FOUR=new BN(4);var TWELVE=new BN(12);var primes=null;function _getPrimes(){if(primes!==null)return primes;var limit=1048576;var res=[];res[0]=2;for(var i=1,k=3;k<limit;k+=2){var sqrt=Math.ceil(Math.sqrt(k));for(var j=0;j<i&&res[j]<=sqrt;j++)if(k%res[j]===0)break;if(i!==j&&res[j]<=sqrt)continue;res[i++]=k}primes=res;return res}function simpleSieve(p){var primes=_getPrimes();for(var i=0;i<primes.length;i++)if(p.modn(primes[i])===0){if(p.cmpn(primes[i])===0){return true}else{return false}}return true}function fermatTest(p){var red=BN.mont(p);return TWO.toRed(red).redPow(p.subn(1)).fromRed().cmpn(1)===0}function findPrime(bits,gen){if(bits<16){if(gen===2||gen===5){return new BN([140,123])}else{return new BN([140,39])}}gen=new BN(gen);var num,n2;while(true){num=new BN(randomBytes(Math.ceil(bits/8)));while(num.bitLength()>bits){num.ishrn(1)}if(num.isEven()){num.iadd(ONE)}if(!num.testn(1)){num.iadd(TWO)}if(!gen.cmp(TWO)){while(num.mod(TWENTYFOUR).cmp(ELEVEN)){num.iadd(FOUR)}}else if(!gen.cmp(FIVE)){while(num.mod(TEN).cmp(THREE)){num.iadd(FOUR)}}n2=num.shrn(1);if(simpleSieve(n2)&&simpleSieve(num)&&fermatTest(n2)&&fermatTest(num)&&millerRabin.test(n2)&&millerRabin.test(num)){return num}}}},{"bn.js":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/bn.js/lib/bn.js","miller-rabin":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/miller-rabin/lib/mr.js",randombytes:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/randombytes/browser.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/diffie-hellman/lib/primes.json":[function(require,module,exports){module.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}},{}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/doctypes/index.js":[function(require,module,exports){"use strict";module.exports={html:"<!DOCTYPE html>",xml:'<?xml version="1.0" encoding="utf-8" ?>',transitional:'<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">',strict:'<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">',frameset:'<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Frameset//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-frameset.dtd">',1.1:'<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">',basic:'<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML Basic 1.1//EN" "http://www.w3.org/TR/xhtml-basic/xhtml-basic11.dtd">',mobile:'<!DOCTYPE html PUBLIC "-//WAPFORUM//DTD XHTML Mobile 1.2//EN" "http://www.openmobilealliance.org/tech/DTD/xhtml-mobile12.dtd">'}},{}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/elliptic/lib/elliptic.js":[function(require,module,exports){"use strict";var elliptic=exports;elliptic.version=require("../package.json").version;elliptic.utils=require("./elliptic/utils");elliptic.rand=require("brorand");elliptic.hmacDRBG=require("./elliptic/hmac-drbg");elliptic.curve=require("./elliptic/curve");elliptic.curves=require("./elliptic/curves");elliptic.ec=require("./elliptic/ec");elliptic.eddsa=require("./elliptic/eddsa")},{"../package.json":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/elliptic/package.json","./elliptic/curve":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/elliptic/lib/elliptic/curve/index.js","./elliptic/curves":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/elliptic/lib/elliptic/curves.js","./elliptic/ec":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/elliptic/lib/elliptic/ec/index.js","./elliptic/eddsa":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/elliptic/lib/elliptic/eddsa/index.js","./elliptic/hmac-drbg":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/elliptic/lib/elliptic/hmac-drbg.js","./elliptic/utils":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/elliptic/lib/elliptic/utils.js",brorand:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/brorand/index.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/elliptic/lib/elliptic/curve/base.js":[function(require,module,exports){"use strict";var BN=require("bn.js");var elliptic=require("../../elliptic");var utils=elliptic.utils;var getNAF=utils.getNAF;var getJSF=utils.getJSF;var assert=utils.assert;function BaseCurve(type,conf){this.type=type;this.p=new BN(conf.p,16);this.red=conf.prime?BN.red(conf.prime):BN.mont(this.p);this.zero=new BN(0).toRed(this.red);this.one=new BN(1).toRed(this.red);this.two=new BN(2).toRed(this.red);this.n=conf.n&&new BN(conf.n,16);this.g=conf.g&&this.pointFromJSON(conf.g,conf.gRed);this._wnafT1=new Array(4);this._wnafT2=new Array(4);this._wnafT3=new Array(4);this._wnafT4=new Array(4);var adjustCount=this.n&&this.p.div(this.n);if(!adjustCount||adjustCount.cmpn(100)>0){this.redN=null}else{this._maxwellTrick=true;this.redN=this.n.toRed(this.red)}}module.exports=BaseCurve;BaseCurve.prototype.point=function point(){throw new Error("Not implemented")};BaseCurve.prototype.validate=function validate(){throw new Error("Not implemented")};BaseCurve.prototype._fixedNafMul=function _fixedNafMul(p,k){assert(p.precomputed);var doubles=p._getDoubles();var naf=getNAF(k,1);var I=(1<<doubles.step+1)-(doubles.step%2===0?2:1);I/=3;var repr=[];for(var j=0;j<naf.length;j+=doubles.step){var nafW=0;for(var k=j+doubles.step-1;k>=j;k--)nafW=(nafW<<1)+naf[k];repr.push(nafW)}var a=this.jpoint(null,null,null);var b=this.jpoint(null,null,null);for(var i=I;i>0;i--){for(var j=0;j<repr.length;j++){var nafW=repr[j];if(nafW===i)b=b.mixedAdd(doubles.points[j]);else if(nafW===-i)b=b.mixedAdd(doubles.points[j].neg())}a=a.add(b)}return a.toP()};BaseCurve.prototype._wnafMul=function _wnafMul(p,k){var w=4;var nafPoints=p._getNAFPoints(w);w=nafPoints.wnd;var wnd=nafPoints.points;var naf=getNAF(k,w);var acc=this.jpoint(null,null,null);for(var i=naf.length-1;i>=0;i--){for(var k=0;i>=0&&naf[i]===0;i--)k++;if(i>=0)k++;acc=acc.dblp(k);if(i<0)break;var z=naf[i];assert(z!==0);if(p.type==="affine"){if(z>0)acc=acc.mixedAdd(wnd[z-1>>1]);else acc=acc.mixedAdd(wnd[-z-1>>1].neg())}else{if(z>0)acc=acc.add(wnd[z-1>>1]);else acc=acc.add(wnd[-z-1>>1].neg())}}return p.type==="affine"?acc.toP():acc};BaseCurve.prototype._wnafMulAdd=function _wnafMulAdd(defW,points,coeffs,len,jacobianResult){var wndWidth=this._wnafT1;var wnd=this._wnafT2;var naf=this._wnafT3;var max=0;for(var i=0;i<len;i++){var p=points[i];var nafPoints=p._getNAFPoints(defW);wndWidth[i]=nafPoints.wnd;wnd[i]=nafPoints.points}for(var i=len-1;i>=1;i-=2){var a=i-1;var b=i;if(wndWidth[a]!==1||wndWidth[b]!==1){naf[a]=getNAF(coeffs[a],wndWidth[a]);naf[b]=getNAF(coeffs[b],wndWidth[b]);max=Math.max(naf[a].length,max);max=Math.max(naf[b].length,max);continue}var comb=[points[a],null,null,points[b]];if(points[a].y.cmp(points[b].y)===0){comb[1]=points[a].add(points[b]);comb[2]=points[a].toJ().mixedAdd(points[b].neg())}else if(points[a].y.cmp(points[b].y.redNeg())===0){comb[1]=points[a].toJ().mixedAdd(points[b]);comb[2]=points[a].add(points[b].neg())}else{comb[1]=points[a].toJ().mixedAdd(points[b]);comb[2]=points[a].toJ().mixedAdd(points[b].neg())}var index=[-3,-1,-5,-7,0,7,5,1,3];var jsf=getJSF(coeffs[a],coeffs[b]);max=Math.max(jsf[0].length,max);naf[a]=new Array(max);naf[b]=new Array(max);for(var j=0;j<max;j++){var ja=jsf[0][j]|0;var jb=jsf[1][j]|0;naf[a][j]=index[(ja+1)*3+(jb+1)];naf[b][j]=0;wnd[a]=comb}}var acc=this.jpoint(null,null,null);var tmp=this._wnafT4;for(var i=max;i>=0;i--){var k=0;while(i>=0){var zero=true;for(var j=0;j<len;j++){tmp[j]=naf[j][i]|0;if(tmp[j]!==0)zero=false}if(!zero)break;k++;i--}if(i>=0)k++;acc=acc.dblp(k);if(i<0)break;for(var j=0;j<len;j++){var z=tmp[j];var p;if(z===0)continue;else if(z>0)p=wnd[j][z-1>>1];else if(z<0)p=wnd[j][-z-1>>1].neg();if(p.type==="affine")acc=acc.mixedAdd(p);else acc=acc.add(p)}}for(var i=0;i<len;i++)wnd[i]=null;if(jacobianResult)return acc;else return acc.toP()};function BasePoint(curve,type){this.curve=curve;this.type=type;this.precomputed=null}BaseCurve.BasePoint=BasePoint;BasePoint.prototype.eq=function eq(){throw new Error("Not implemented")};BasePoint.prototype.validate=function validate(){return this.curve.validate(this)};BaseCurve.prototype.decodePoint=function decodePoint(bytes,enc){bytes=utils.toArray(bytes,enc);var len=this.p.byteLength();if((bytes[0]===4||bytes[0]===6||bytes[0]===7)&&bytes.length-1===2*len){if(bytes[0]===6)assert(bytes[bytes.length-1]%2===0);else if(bytes[0]===7)assert(bytes[bytes.length-1]%2===1);var res=this.point(bytes.slice(1,1+len),bytes.slice(1+len,1+2*len));return res}else if((bytes[0]===2||bytes[0]===3)&&bytes.length-1===len){return this.pointFromX(bytes.slice(1,1+len),bytes[0]===3)}throw new Error("Unknown point format")};BasePoint.prototype.encodeCompressed=function encodeCompressed(enc){return this.encode(enc,true)};BasePoint.prototype._encode=function _encode(compact){var len=this.curve.p.byteLength();var x=this.getX().toArray("be",len);if(compact)return[this.getY().isEven()?2:3].concat(x);return[4].concat(x,this.getY().toArray("be",len))};BasePoint.prototype.encode=function encode(enc,compact){return utils.encode(this._encode(compact),enc)};BasePoint.prototype.precompute=function precompute(power){if(this.precomputed)return this;var precomputed={doubles:null,naf:null,beta:null};precomputed.naf=this._getNAFPoints(8);precomputed.doubles=this._getDoubles(4,power);precomputed.beta=this._getBeta();this.precomputed=precomputed;return this};BasePoint.prototype._hasDoubles=function _hasDoubles(k){if(!this.precomputed)return false;var doubles=this.precomputed.doubles;if(!doubles)return false;return doubles.points.length>=Math.ceil((k.bitLength()+1)/doubles.step)};BasePoint.prototype._getDoubles=function _getDoubles(step,power){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;var doubles=[this];var acc=this;for(var i=0;i<power;i+=step){for(var j=0;j<step;j++)acc=acc.dbl();doubles.push(acc)}return{step:step,points:doubles}};BasePoint.prototype._getNAFPoints=function _getNAFPoints(wnd){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;var res=[this];var max=(1<<wnd)-1;var dbl=max===1?null:this.dbl();for(var i=1;i<max;i++)res[i]=res[i-1].add(dbl);return{wnd:wnd,points:res}};BasePoint.prototype._getBeta=function _getBeta(){return null};BasePoint.prototype.dblp=function dblp(k){var r=this;for(var i=0;i<k;i++)r=r.dbl();return r}},{"../../elliptic":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/elliptic/lib/elliptic.js","bn.js":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/bn.js/lib/bn.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/elliptic/lib/elliptic/curve/edwards.js":[function(require,module,exports){"use strict";var curve=require("../curve");var elliptic=require("../../elliptic");var BN=require("bn.js");var inherits=require("inherits");var Base=curve.base;var assert=elliptic.utils.assert;function EdwardsCurve(conf){this.twisted=(conf.a|0)!==1;this.mOneA=this.twisted&&(conf.a|0)===-1;this.extended=this.mOneA;Base.call(this,"edwards",conf);this.a=new BN(conf.a,16).umod(this.red.m);this.a=this.a.toRed(this.red);this.c=new BN(conf.c,16).toRed(this.red);this.c2=this.c.redSqr();this.d=new BN(conf.d,16).toRed(this.red);this.dd=this.d.redAdd(this.d);assert(!this.twisted||this.c.fromRed().cmpn(1)===0);this.oneC=(conf.c|0)===1}inherits(EdwardsCurve,Base);module.exports=EdwardsCurve;EdwardsCurve.prototype._mulA=function _mulA(num){if(this.mOneA)return num.redNeg();else return this.a.redMul(num)};EdwardsCurve.prototype._mulC=function _mulC(num){if(this.oneC)return num;else return this.c.redMul(num)};EdwardsCurve.prototype.jpoint=function jpoint(x,y,z,t){return this.point(x,y,z,t)};EdwardsCurve.prototype.pointFromX=function pointFromX(x,odd){x=new BN(x,16);if(!x.red)x=x.toRed(this.red);var x2=x.redSqr();var rhs=this.c2.redSub(this.a.redMul(x2));var lhs=this.one.redSub(this.c2.redMul(this.d).redMul(x2));var y2=rhs.redMul(lhs.redInvm());var y=y2.redSqrt();if(y.redSqr().redSub(y2).cmp(this.zero)!==0)throw new Error("invalid point");var isOdd=y.fromRed().isOdd();if(odd&&!isOdd||!odd&&isOdd)y=y.redNeg();return this.point(x,y)};EdwardsCurve.prototype.pointFromY=function pointFromY(y,odd){y=new BN(y,16);if(!y.red)y=y.toRed(this.red);var y2=y.redSqr();var lhs=y2.redSub(this.one);var rhs=y2.redMul(this.d).redAdd(this.one);var x2=lhs.redMul(rhs.redInvm());if(x2.cmp(this.zero)===0){if(odd)throw new Error("invalid point");else return this.point(this.zero,y)}var x=x2.redSqrt();if(x.redSqr().redSub(x2).cmp(this.zero)!==0)throw new Error("invalid point");if(x.isOdd()!==odd)x=x.redNeg();return this.point(x,y)};EdwardsCurve.prototype.validate=function validate(point){if(point.isInfinity())return true;point.normalize();var x2=point.x.redSqr();var y2=point.y.redSqr();var lhs=x2.redMul(this.a).redAdd(y2);var rhs=this.c2.redMul(this.one.redAdd(this.d.redMul(x2).redMul(y2)));return lhs.cmp(rhs)===0};function Point(curve,x,y,z,t){Base.BasePoint.call(this,curve,"projective");if(x===null&&y===null&&z===null){this.x=this.curve.zero;this.y=this.curve.one;this.z=this.curve.one;this.t=this.curve.zero;this.zOne=true}else{this.x=new BN(x,16);this.y=new BN(y,16);this.z=z?new BN(z,16):this.curve.one;this.t=t&&new BN(t,16);if(!this.x.red)this.x=this.x.toRed(this.curve.red);if(!this.y.red)this.y=this.y.toRed(this.curve.red);if(!this.z.red)this.z=this.z.toRed(this.curve.red);if(this.t&&!this.t.red)this.t=this.t.toRed(this.curve.red);this.zOne=this.z===this.curve.one;if(this.curve.extended&&!this.t){this.t=this.x.redMul(this.y);if(!this.zOne)this.t=this.t.redMul(this.z.redInvm())}}}inherits(Point,Base.BasePoint);EdwardsCurve.prototype.pointFromJSON=function pointFromJSON(obj){return Point.fromJSON(this,obj)};EdwardsCurve.prototype.point=function point(x,y,z,t){return new Point(this,x,y,z,t)};Point.fromJSON=function fromJSON(curve,obj){return new Point(curve,obj[0],obj[1],obj[2])};Point.prototype.inspect=function inspect(){if(this.isInfinity())return"<EC Point Infinity>";return"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};Point.prototype.isInfinity=function isInfinity(){return this.x.cmpn(0)===0&&this.y.cmp(this.z)===0};Point.prototype._extDbl=function _extDbl(){var a=this.x.redSqr();var b=this.y.redSqr();var c=this.z.redSqr();c=c.redIAdd(c);var d=this.curve._mulA(a);var e=this.x.redAdd(this.y).redSqr().redISub(a).redISub(b);var g=d.redAdd(b);var f=g.redSub(c);var h=d.redSub(b);var nx=e.redMul(f);var ny=g.redMul(h);var nt=e.redMul(h);var nz=f.redMul(g);return this.curve.point(nx,ny,nz,nt)};Point.prototype._projDbl=function _projDbl(){var b=this.x.redAdd(this.y).redSqr();var c=this.x.redSqr();var d=this.y.redSqr();var nx;var ny;var nz;if(this.curve.twisted){var e=this.curve._mulA(c);var f=e.redAdd(d);if(this.zOne){nx=b.redSub(c).redSub(d).redMul(f.redSub(this.curve.two));ny=f.redMul(e.redSub(d));nz=f.redSqr().redSub(f).redSub(f)}else{var h=this.z.redSqr();var j=f.redSub(h).redISub(h);nx=b.redSub(c).redISub(d).redMul(j);ny=f.redMul(e.redSub(d));nz=f.redMul(j)}}else{var e=c.redAdd(d);var h=this.curve._mulC(this.c.redMul(this.z)).redSqr();var j=e.redSub(h).redSub(h);nx=this.curve._mulC(b.redISub(e)).redMul(j);ny=this.curve._mulC(e).redMul(c.redISub(d));nz=e.redMul(j)}return this.curve.point(nx,ny,nz)};Point.prototype.dbl=function dbl(){if(this.isInfinity())return this;if(this.curve.extended)return this._extDbl();else return this._projDbl()};Point.prototype._extAdd=function _extAdd(p){var a=this.y.redSub(this.x).redMul(p.y.redSub(p.x));var b=this.y.redAdd(this.x).redMul(p.y.redAdd(p.x));
var c=this.t.redMul(this.curve.dd).redMul(p.t);var d=this.z.redMul(p.z.redAdd(p.z));var e=b.redSub(a);var f=d.redSub(c);var g=d.redAdd(c);var h=b.redAdd(a);var nx=e.redMul(f);var ny=g.redMul(h);var nt=e.redMul(h);var nz=f.redMul(g);return this.curve.point(nx,ny,nz,nt)};Point.prototype._projAdd=function _projAdd(p){var a=this.z.redMul(p.z);var b=a.redSqr();var c=this.x.redMul(p.x);var d=this.y.redMul(p.y);var e=this.curve.d.redMul(c).redMul(d);var f=b.redSub(e);var g=b.redAdd(e);var tmp=this.x.redAdd(this.y).redMul(p.x.redAdd(p.y)).redISub(c).redISub(d);var nx=a.redMul(f).redMul(tmp);var ny;var nz;if(this.curve.twisted){ny=a.redMul(g).redMul(d.redSub(this.curve._mulA(c)));nz=f.redMul(g)}else{ny=a.redMul(g).redMul(d.redSub(c));nz=this.curve._mulC(f).redMul(g)}return this.curve.point(nx,ny,nz)};Point.prototype.add=function add(p){if(this.isInfinity())return p;if(p.isInfinity())return this;if(this.curve.extended)return this._extAdd(p);else return this._projAdd(p)};Point.prototype.mul=function mul(k){if(this._hasDoubles(k))return this.curve._fixedNafMul(this,k);else return this.curve._wnafMul(this,k)};Point.prototype.mulAdd=function mulAdd(k1,p,k2){return this.curve._wnafMulAdd(1,[this,p],[k1,k2],2,false)};Point.prototype.jmulAdd=function jmulAdd(k1,p,k2){return this.curve._wnafMulAdd(1,[this,p],[k1,k2],2,true)};Point.prototype.normalize=function normalize(){if(this.zOne)return this;var zi=this.z.redInvm();this.x=this.x.redMul(zi);this.y=this.y.redMul(zi);if(this.t)this.t=this.t.redMul(zi);this.z=this.curve.one;this.zOne=true;return this};Point.prototype.neg=function neg(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())};Point.prototype.getX=function getX(){this.normalize();return this.x.fromRed()};Point.prototype.getY=function getY(){this.normalize();return this.y.fromRed()};Point.prototype.eq=function eq(other){return this===other||this.getX().cmp(other.getX())===0&&this.getY().cmp(other.getY())===0};Point.prototype.eqXToP=function eqXToP(x){var rx=x.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(rx)===0)return true;var xc=x.clone();var t=this.curve.redN.redMul(this.z);for(;;){xc.iadd(this.curve.n);if(xc.cmp(this.curve.p)>=0)return false;rx.redIAdd(t);if(this.x.cmp(rx)===0)return true}return false};Point.prototype.toP=Point.prototype.normalize;Point.prototype.mixedAdd=Point.prototype.add},{"../../elliptic":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/elliptic/lib/elliptic.js","../curve":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/elliptic/lib/elliptic/curve/index.js","bn.js":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/bn.js/lib/bn.js",inherits:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/inherits/inherits_browser.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/elliptic/lib/elliptic/curve/index.js":[function(require,module,exports){"use strict";var curve=exports;curve.base=require("./base");curve.short=require("./short");curve.mont=require("./mont");curve.edwards=require("./edwards")},{"./base":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/elliptic/lib/elliptic/curve/base.js","./edwards":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/elliptic/lib/elliptic/curve/edwards.js","./mont":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/elliptic/lib/elliptic/curve/mont.js","./short":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/elliptic/lib/elliptic/curve/short.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/elliptic/lib/elliptic/curve/mont.js":[function(require,module,exports){"use strict";var curve=require("../curve");var BN=require("bn.js");var inherits=require("inherits");var Base=curve.base;var elliptic=require("../../elliptic");var utils=elliptic.utils;function MontCurve(conf){Base.call(this,"mont",conf);this.a=new BN(conf.a,16).toRed(this.red);this.b=new BN(conf.b,16).toRed(this.red);this.i4=new BN(4).toRed(this.red).redInvm();this.two=new BN(2).toRed(this.red);this.a24=this.i4.redMul(this.a.redAdd(this.two))}inherits(MontCurve,Base);module.exports=MontCurve;MontCurve.prototype.validate=function validate(point){var x=point.normalize().x;var x2=x.redSqr();var rhs=x2.redMul(x).redAdd(x2.redMul(this.a)).redAdd(x);var y=rhs.redSqrt();return y.redSqr().cmp(rhs)===0};function Point(curve,x,z){Base.BasePoint.call(this,curve,"projective");if(x===null&&z===null){this.x=this.curve.one;this.z=this.curve.zero}else{this.x=new BN(x,16);this.z=new BN(z,16);if(!this.x.red)this.x=this.x.toRed(this.curve.red);if(!this.z.red)this.z=this.z.toRed(this.curve.red)}}inherits(Point,Base.BasePoint);MontCurve.prototype.decodePoint=function decodePoint(bytes,enc){return this.point(utils.toArray(bytes,enc),1)};MontCurve.prototype.point=function point(x,z){return new Point(this,x,z)};MontCurve.prototype.pointFromJSON=function pointFromJSON(obj){return Point.fromJSON(this,obj)};Point.prototype.precompute=function precompute(){};Point.prototype._encode=function _encode(){return this.getX().toArray("be",this.curve.p.byteLength())};Point.fromJSON=function fromJSON(curve,obj){return new Point(curve,obj[0],obj[1]||curve.one)};Point.prototype.inspect=function inspect(){if(this.isInfinity())return"<EC Point Infinity>";return"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};Point.prototype.isInfinity=function isInfinity(){return this.z.cmpn(0)===0};Point.prototype.dbl=function dbl(){var a=this.x.redAdd(this.z);var aa=a.redSqr();var b=this.x.redSub(this.z);var bb=b.redSqr();var c=aa.redSub(bb);var nx=aa.redMul(bb);var nz=c.redMul(bb.redAdd(this.curve.a24.redMul(c)));return this.curve.point(nx,nz)};Point.prototype.add=function add(){throw new Error("Not supported on Montgomery curve")};Point.prototype.diffAdd=function diffAdd(p,diff){var a=this.x.redAdd(this.z);var b=this.x.redSub(this.z);var c=p.x.redAdd(p.z);var d=p.x.redSub(p.z);var da=d.redMul(a);var cb=c.redMul(b);var nx=diff.z.redMul(da.redAdd(cb).redSqr());var nz=diff.x.redMul(da.redISub(cb).redSqr());return this.curve.point(nx,nz)};Point.prototype.mul=function mul(k){var t=k.clone();var a=this;var b=this.curve.point(null,null);var c=this;for(var bits=[];t.cmpn(0)!==0;t.iushrn(1))bits.push(t.andln(1));for(var i=bits.length-1;i>=0;i--){if(bits[i]===0){a=a.diffAdd(b,c);b=b.dbl()}else{b=a.diffAdd(b,c);a=a.dbl()}}return b};Point.prototype.mulAdd=function mulAdd(){throw new Error("Not supported on Montgomery curve")};Point.prototype.jumlAdd=function jumlAdd(){throw new Error("Not supported on Montgomery curve")};Point.prototype.eq=function eq(other){return this.getX().cmp(other.getX())===0};Point.prototype.normalize=function normalize(){this.x=this.x.redMul(this.z.redInvm());this.z=this.curve.one;return this};Point.prototype.getX=function getX(){this.normalize();return this.x.fromRed()}},{"../../elliptic":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/elliptic/lib/elliptic.js","../curve":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/elliptic/lib/elliptic/curve/index.js","bn.js":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/bn.js/lib/bn.js",inherits:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/inherits/inherits_browser.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/elliptic/lib/elliptic/curve/short.js":[function(require,module,exports){"use strict";var curve=require("../curve");var elliptic=require("../../elliptic");var BN=require("bn.js");var inherits=require("inherits");var Base=curve.base;var assert=elliptic.utils.assert;function ShortCurve(conf){Base.call(this,"short",conf);this.a=new BN(conf.a,16).toRed(this.red);this.b=new BN(conf.b,16).toRed(this.red);this.tinv=this.two.redInvm();this.zeroA=this.a.fromRed().cmpn(0)===0;this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0;this.endo=this._getEndomorphism(conf);this._endoWnafT1=new Array(4);this._endoWnafT2=new Array(4)}inherits(ShortCurve,Base);module.exports=ShortCurve;ShortCurve.prototype._getEndomorphism=function _getEndomorphism(conf){if(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)return;var beta;var lambda;if(conf.beta){beta=new BN(conf.beta,16).toRed(this.red)}else{var betas=this._getEndoRoots(this.p);beta=betas[0].cmp(betas[1])<0?betas[0]:betas[1];beta=beta.toRed(this.red)}if(conf.lambda){lambda=new BN(conf.lambda,16)}else{var lambdas=this._getEndoRoots(this.n);if(this.g.mul(lambdas[0]).x.cmp(this.g.x.redMul(beta))===0){lambda=lambdas[0]}else{lambda=lambdas[1];assert(this.g.mul(lambda).x.cmp(this.g.x.redMul(beta))===0)}}var basis;if(conf.basis){basis=conf.basis.map(function(vec){return{a:new BN(vec.a,16),b:new BN(vec.b,16)}})}else{basis=this._getEndoBasis(lambda)}return{beta:beta,lambda:lambda,basis:basis}};ShortCurve.prototype._getEndoRoots=function _getEndoRoots(num){var red=num===this.p?this.red:BN.mont(num);var tinv=new BN(2).toRed(red).redInvm();var ntinv=tinv.redNeg();var s=new BN(3).toRed(red).redNeg().redSqrt().redMul(tinv);var l1=ntinv.redAdd(s).fromRed();var l2=ntinv.redSub(s).fromRed();return[l1,l2]};ShortCurve.prototype._getEndoBasis=function _getEndoBasis(lambda){var aprxSqrt=this.n.ushrn(Math.floor(this.n.bitLength()/2));var u=lambda;var v=this.n.clone();var x1=new BN(1);var y1=new BN(0);var x2=new BN(0);var y2=new BN(1);var a0;var b0;var a1;var b1;var a2;var b2;var prevR;var i=0;var r;var x;while(u.cmpn(0)!==0){var q=v.div(u);r=v.sub(q.mul(u));x=x2.sub(q.mul(x1));var y=y2.sub(q.mul(y1));if(!a1&&r.cmp(aprxSqrt)<0){a0=prevR.neg();b0=x1;a1=r.neg();b1=x}else if(a1&&++i===2){break}prevR=r;v=u;u=r;x2=x1;x1=x;y2=y1;y1=y}a2=r.neg();b2=x;var len1=a1.sqr().add(b1.sqr());var len2=a2.sqr().add(b2.sqr());if(len2.cmp(len1)>=0){a2=a0;b2=b0}if(a1.negative){a1=a1.neg();b1=b1.neg()}if(a2.negative){a2=a2.neg();b2=b2.neg()}return[{a:a1,b:b1},{a:a2,b:b2}]};ShortCurve.prototype._endoSplit=function _endoSplit(k){var basis=this.endo.basis;var v1=basis[0];var v2=basis[1];var c1=v2.b.mul(k).divRound(this.n);var c2=v1.b.neg().mul(k).divRound(this.n);var p1=c1.mul(v1.a);var p2=c2.mul(v2.a);var q1=c1.mul(v1.b);var q2=c2.mul(v2.b);var k1=k.sub(p1).sub(p2);var k2=q1.add(q2).neg();return{k1:k1,k2:k2}};ShortCurve.prototype.pointFromX=function pointFromX(x,odd){x=new BN(x,16);if(!x.red)x=x.toRed(this.red);var y2=x.redSqr().redMul(x).redIAdd(x.redMul(this.a)).redIAdd(this.b);var y=y2.redSqrt();if(y.redSqr().redSub(y2).cmp(this.zero)!==0)throw new Error("invalid point");var isOdd=y.fromRed().isOdd();if(odd&&!isOdd||!odd&&isOdd)y=y.redNeg();return this.point(x,y)};ShortCurve.prototype.validate=function validate(point){if(point.inf)return true;var x=point.x;var y=point.y;var ax=this.a.redMul(x);var rhs=x.redSqr().redMul(x).redIAdd(ax).redIAdd(this.b);return y.redSqr().redISub(rhs).cmpn(0)===0};ShortCurve.prototype._endoWnafMulAdd=function _endoWnafMulAdd(points,coeffs,jacobianResult){var npoints=this._endoWnafT1;var ncoeffs=this._endoWnafT2;for(var i=0;i<points.length;i++){var split=this._endoSplit(coeffs[i]);var p=points[i];var beta=p._getBeta();if(split.k1.negative){split.k1.ineg();p=p.neg(true)}if(split.k2.negative){split.k2.ineg();beta=beta.neg(true)}npoints[i*2]=p;npoints[i*2+1]=beta;ncoeffs[i*2]=split.k1;ncoeffs[i*2+1]=split.k2}var res=this._wnafMulAdd(1,npoints,ncoeffs,i*2,jacobianResult);for(var j=0;j<i*2;j++){npoints[j]=null;ncoeffs[j]=null}return res};function Point(curve,x,y,isRed){Base.BasePoint.call(this,curve,"affine");if(x===null&&y===null){this.x=null;this.y=null;this.inf=true}else{this.x=new BN(x,16);this.y=new BN(y,16);if(isRed){this.x.forceRed(this.curve.red);this.y.forceRed(this.curve.red)}if(!this.x.red)this.x=this.x.toRed(this.curve.red);if(!this.y.red)this.y=this.y.toRed(this.curve.red);this.inf=false}}inherits(Point,Base.BasePoint);ShortCurve.prototype.point=function point(x,y,isRed){return new Point(this,x,y,isRed)};ShortCurve.prototype.pointFromJSON=function pointFromJSON(obj,red){return Point.fromJSON(this,obj,red)};Point.prototype._getBeta=function _getBeta(){if(!this.curve.endo)return;var pre=this.precomputed;if(pre&&pre.beta)return pre.beta;var beta=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(pre){var curve=this.curve;var endoMul=function(p){return curve.point(p.x.redMul(curve.endo.beta),p.y)};pre.beta=beta;beta.precomputed={beta:null,naf:pre.naf&&{wnd:pre.naf.wnd,points:pre.naf.points.map(endoMul)},doubles:pre.doubles&&{step:pre.doubles.step,points:pre.doubles.points.map(endoMul)}}}return beta};Point.prototype.toJSON=function toJSON(){if(!this.precomputed)return[this.x,this.y];return[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]};Point.fromJSON=function fromJSON(curve,obj,red){if(typeof obj==="string")obj=JSON.parse(obj);var res=curve.point(obj[0],obj[1],red);if(!obj[2])return res;function obj2point(obj){return curve.point(obj[0],obj[1],red)}var pre=obj[2];res.precomputed={beta:null,doubles:pre.doubles&&{step:pre.doubles.step,points:[res].concat(pre.doubles.points.map(obj2point))},naf:pre.naf&&{wnd:pre.naf.wnd,points:[res].concat(pre.naf.points.map(obj2point))}};return res};Point.prototype.inspect=function inspect(){if(this.isInfinity())return"<EC Point Infinity>";return"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};Point.prototype.isInfinity=function isInfinity(){return this.inf};Point.prototype.add=function add(p){if(this.inf)return p;if(p.inf)return this;if(this.eq(p))return this.dbl();if(this.neg().eq(p))return this.curve.point(null,null);if(this.x.cmp(p.x)===0)return this.curve.point(null,null);var c=this.y.redSub(p.y);if(c.cmpn(0)!==0)c=c.redMul(this.x.redSub(p.x).redInvm());var nx=c.redSqr().redISub(this.x).redISub(p.x);var ny=c.redMul(this.x.redSub(nx)).redISub(this.y);return this.curve.point(nx,ny)};Point.prototype.dbl=function dbl(){if(this.inf)return this;var ys1=this.y.redAdd(this.y);if(ys1.cmpn(0)===0)return this.curve.point(null,null);var a=this.curve.a;var x2=this.x.redSqr();var dyinv=ys1.redInvm();var c=x2.redAdd(x2).redIAdd(x2).redIAdd(a).redMul(dyinv);var nx=c.redSqr().redISub(this.x.redAdd(this.x));var ny=c.redMul(this.x.redSub(nx)).redISub(this.y);return this.curve.point(nx,ny)};Point.prototype.getX=function getX(){return this.x.fromRed()};Point.prototype.getY=function getY(){return this.y.fromRed()};Point.prototype.mul=function mul(k){k=new BN(k,16);if(this._hasDoubles(k))return this.curve._fixedNafMul(this,k);else if(this.curve.endo)return this.curve._endoWnafMulAdd([this],[k]);else return this.curve._wnafMul(this,k)};Point.prototype.mulAdd=function mulAdd(k1,p2,k2){var points=[this,p2];var coeffs=[k1,k2];if(this.curve.endo)return this.curve._endoWnafMulAdd(points,coeffs);else return this.curve._wnafMulAdd(1,points,coeffs,2)};Point.prototype.jmulAdd=function jmulAdd(k1,p2,k2){var points=[this,p2];var coeffs=[k1,k2];if(this.curve.endo)return this.curve._endoWnafMulAdd(points,coeffs,true);else return this.curve._wnafMulAdd(1,points,coeffs,2,true)};Point.prototype.eq=function eq(p){return this===p||this.inf===p.inf&&(this.inf||this.x.cmp(p.x)===0&&this.y.cmp(p.y)===0)};Point.prototype.neg=function neg(_precompute){if(this.inf)return this;var res=this.curve.point(this.x,this.y.redNeg());if(_precompute&&this.precomputed){var pre=this.precomputed;var negate=function(p){return p.neg()};res.precomputed={naf:pre.naf&&{wnd:pre.naf.wnd,points:pre.naf.points.map(negate)},doubles:pre.doubles&&{step:pre.doubles.step,points:pre.doubles.points.map(negate)}}}return res};Point.prototype.toJ=function toJ(){if(this.inf)return this.curve.jpoint(null,null,null);var res=this.curve.jpoint(this.x,this.y,this.curve.one);return res};function JPoint(curve,x,y,z){Base.BasePoint.call(this,curve,"jacobian");if(x===null&&y===null&&z===null){this.x=this.curve.one;this.y=this.curve.one;this.z=new BN(0)}else{this.x=new BN(x,16);this.y=new BN(y,16);this.z=new BN(z,16)}if(!this.x.red)this.x=this.x.toRed(this.curve.red);if(!this.y.red)this.y=this.y.toRed(this.curve.red);if(!this.z.red)this.z=this.z.toRed(this.curve.red);this.zOne=this.z===this.curve.one}inherits(JPoint,Base.BasePoint);ShortCurve.prototype.jpoint=function jpoint(x,y,z){return new JPoint(this,x,y,z)};JPoint.prototype.toP=function toP(){if(this.isInfinity())return this.curve.point(null,null);var zinv=this.z.redInvm();var zinv2=zinv.redSqr();var ax=this.x.redMul(zinv2);var ay=this.y.redMul(zinv2).redMul(zinv);return this.curve.point(ax,ay)};JPoint.prototype.neg=function neg(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};JPoint.prototype.add=function add(p){if(this.isInfinity())return p;if(p.isInfinity())return this;var pz2=p.z.redSqr();var z2=this.z.redSqr();var u1=this.x.redMul(pz2);var u2=p.x.redMul(z2);var s1=this.y.redMul(pz2.redMul(p.z));var s2=p.y.redMul(z2.redMul(this.z));var h=u1.redSub(u2);var r=s1.redSub(s2);if(h.cmpn(0)===0){if(r.cmpn(0)!==0)return this.curve.jpoint(null,null,null);else return this.dbl()}var h2=h.redSqr();var h3=h2.redMul(h);var v=u1.redMul(h2);var nx=r.redSqr().redIAdd(h3).redISub(v).redISub(v);var ny=r.redMul(v.redISub(nx)).redISub(s1.redMul(h3));var nz=this.z.redMul(p.z).redMul(h);return this.curve.jpoint(nx,ny,nz)};JPoint.prototype.mixedAdd=function mixedAdd(p){if(this.isInfinity())return p.toJ();if(p.isInfinity())return this;var z2=this.z.redSqr();var u1=this.x;var u2=p.x.redMul(z2);var s1=this.y;var s2=p.y.redMul(z2).redMul(this.z);var h=u1.redSub(u2);var r=s1.redSub(s2);if(h.cmpn(0)===0){if(r.cmpn(0)!==0)return this.curve.jpoint(null,null,null);else return this.dbl()}var h2=h.redSqr();var h3=h2.redMul(h);var v=u1.redMul(h2);var nx=r.redSqr().redIAdd(h3).redISub(v).redISub(v);var ny=r.redMul(v.redISub(nx)).redISub(s1.redMul(h3));var nz=this.z.redMul(h);return this.curve.jpoint(nx,ny,nz)};JPoint.prototype.dblp=function dblp(pow){if(pow===0)return this;if(this.isInfinity())return this;if(!pow)return this.dbl();if(this.curve.zeroA||this.curve.threeA){var r=this;for(var i=0;i<pow;i++)r=r.dbl();return r}var a=this.curve.a;var tinv=this.curve.tinv;var jx=this.x;var jy=this.y;var jz=this.z;var jz4=jz.redSqr().redSqr();var jyd=jy.redAdd(jy);for(var i=0;i<pow;i++){var jx2=jx.redSqr();var jyd2=jyd.redSqr();var jyd4=jyd2.redSqr();var c=jx2.redAdd(jx2).redIAdd(jx2).redIAdd(a.redMul(jz4));var t1=jx.redMul(jyd2);var nx=c.redSqr().redISub(t1.redAdd(t1));var t2=t1.redISub(nx);var dny=c.redMul(t2);dny=dny.redIAdd(dny).redISub(jyd4);var nz=jyd.redMul(jz);if(i+1<pow)jz4=jz4.redMul(jyd4);jx=nx;jz=nz;jyd=dny}return this.curve.jpoint(jx,jyd.redMul(tinv),jz)};JPoint.prototype.dbl=function dbl(){if(this.isInfinity())return this;if(this.curve.zeroA)return this._zeroDbl();else if(this.curve.threeA)return this._threeDbl();else return this._dbl()};JPoint.prototype._zeroDbl=function _zeroDbl(){var nx;var ny;var nz;if(this.zOne){var xx=this.x.redSqr();var yy=this.y.redSqr();var yyyy=yy.redSqr();var s=this.x.redAdd(yy).redSqr().redISub(xx).redISub(yyyy);s=s.redIAdd(s);var m=xx.redAdd(xx).redIAdd(xx);var t=m.redSqr().redISub(s).redISub(s);var yyyy8=yyyy.redIAdd(yyyy);yyyy8=yyyy8.redIAdd(yyyy8);yyyy8=yyyy8.redIAdd(yyyy8);nx=t;ny=m.redMul(s.redISub(t)).redISub(yyyy8);nz=this.y.redAdd(this.y)}else{var a=this.x.redSqr();var b=this.y.redSqr();var c=b.redSqr();var d=this.x.redAdd(b).redSqr().redISub(a).redISub(c);d=d.redIAdd(d);var e=a.redAdd(a).redIAdd(a);var f=e.redSqr();var c8=c.redIAdd(c);c8=c8.redIAdd(c8);c8=c8.redIAdd(c8);nx=f.redISub(d).redISub(d);ny=e.redMul(d.redISub(nx)).redISub(c8);nz=this.y.redMul(this.z);nz=nz.redIAdd(nz)}return this.curve.jpoint(nx,ny,nz)};JPoint.prototype._threeDbl=function _threeDbl(){var nx;var ny;var nz;if(this.zOne){var xx=this.x.redSqr();var yy=this.y.redSqr();var yyyy=yy.redSqr();var s=this.x.redAdd(yy).redSqr().redISub(xx).redISub(yyyy);s=s.redIAdd(s);var m=xx.redAdd(xx).redIAdd(xx).redIAdd(this.curve.a);var t=m.redSqr().redISub(s).redISub(s);nx=t;var yyyy8=yyyy.redIAdd(yyyy);yyyy8=yyyy8.redIAdd(yyyy8);yyyy8=yyyy8.redIAdd(yyyy8);ny=m.redMul(s.redISub(t)).redISub(yyyy8);nz=this.y.redAdd(this.y)}else{var delta=this.z.redSqr();var gamma=this.y.redSqr();var beta=this.x.redMul(gamma);var alpha=this.x.redSub(delta).redMul(this.x.redAdd(delta));alpha=alpha.redAdd(alpha).redIAdd(alpha);var beta4=beta.redIAdd(beta);beta4=beta4.redIAdd(beta4);var beta8=beta4.redAdd(beta4);nx=alpha.redSqr().redISub(beta8);nz=this.y.redAdd(this.z).redSqr().redISub(gamma).redISub(delta);var ggamma8=gamma.redSqr();ggamma8=ggamma8.redIAdd(ggamma8);ggamma8=ggamma8.redIAdd(ggamma8);ggamma8=ggamma8.redIAdd(ggamma8);ny=alpha.redMul(beta4.redISub(nx)).redISub(ggamma8)}return this.curve.jpoint(nx,ny,nz)};JPoint.prototype._dbl=function _dbl(){var a=this.curve.a;var jx=this.x;var jy=this.y;var jz=this.z;var jz4=jz.redSqr().redSqr();var jx2=jx.redSqr();var jy2=jy.redSqr();var c=jx2.redAdd(jx2).redIAdd(jx2).redIAdd(a.redMul(jz4));var jxd4=jx.redAdd(jx);jxd4=jxd4.redIAdd(jxd4);var t1=jxd4.redMul(jy2);var nx=c.redSqr().redISub(t1.redAdd(t1));var t2=t1.redISub(nx);var jyd8=jy2.redSqr();jyd8=jyd8.redIAdd(jyd8);jyd8=jyd8.redIAdd(jyd8);jyd8=jyd8.redIAdd(jyd8);var ny=c.redMul(t2).redISub(jyd8);var nz=jy.redAdd(jy).redMul(jz);return this.curve.jpoint(nx,ny,nz)};JPoint.prototype.trpl=function trpl(){if(!this.curve.zeroA)return this.dbl().add(this);var xx=this.x.redSqr();var yy=this.y.redSqr();var zz=this.z.redSqr();var yyyy=yy.redSqr();var m=xx.redAdd(xx).redIAdd(xx);var mm=m.redSqr();var e=this.x.redAdd(yy).redSqr().redISub(xx).redISub(yyyy);e=e.redIAdd(e);e=e.redAdd(e).redIAdd(e);e=e.redISub(mm);var ee=e.redSqr();var t=yyyy.redIAdd(yyyy);t=t.redIAdd(t);t=t.redIAdd(t);t=t.redIAdd(t);var u=m.redIAdd(e).redSqr().redISub(mm).redISub(ee).redISub(t);var yyu4=yy.redMul(u);yyu4=yyu4.redIAdd(yyu4);yyu4=yyu4.redIAdd(yyu4);var nx=this.x.redMul(ee).redISub(yyu4);nx=nx.redIAdd(nx);nx=nx.redIAdd(nx);var ny=this.y.redMul(u.redMul(t.redISub(u)).redISub(e.redMul(ee)));ny=ny.redIAdd(ny);ny=ny.redIAdd(ny);ny=ny.redIAdd(ny);var nz=this.z.redAdd(e).redSqr().redISub(zz).redISub(ee);return this.curve.jpoint(nx,ny,nz)};JPoint.prototype.mul=function mul(k,kbase){k=new BN(k,kbase);return this.curve._wnafMul(this,k)};JPoint.prototype.eq=function eq(p){if(p.type==="affine")return this.eq(p.toJ());if(this===p)return true;var z2=this.z.redSqr();var pz2=p.z.redSqr();if(this.x.redMul(pz2).redISub(p.x.redMul(z2)).cmpn(0)!==0)return false;var z3=z2.redMul(this.z);var pz3=pz2.redMul(p.z);return this.y.redMul(pz3).redISub(p.y.redMul(z3)).cmpn(0)===0};JPoint.prototype.eqXToP=function eqXToP(x){var zs=this.z.redSqr();var rx=x.toRed(this.curve.red).redMul(zs);if(this.x.cmp(rx)===0)return true;var xc=x.clone();var t=this.curve.redN.redMul(zs);for(;;){xc.iadd(this.curve.n);if(xc.cmp(this.curve.p)>=0)return false;rx.redIAdd(t);if(this.x.cmp(rx)===0)return true}return false};JPoint.prototype.inspect=function inspect(){if(this.isInfinity())return"<EC JPoint Infinity>";return"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};JPoint.prototype.isInfinity=function isInfinity(){return this.z.cmpn(0)===0}},{"../../elliptic":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/elliptic/lib/elliptic.js","../curve":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/elliptic/lib/elliptic/curve/index.js","bn.js":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/bn.js/lib/bn.js",inherits:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/inherits/inherits_browser.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/elliptic/lib/elliptic/curves.js":[function(require,module,exports){"use strict";var curves=exports;var hash=require("hash.js");var elliptic=require("../elliptic");var assert=elliptic.utils.assert;function PresetCurve(options){if(options.type==="short")this.curve=new elliptic.curve.short(options);else if(options.type==="edwards")this.curve=new elliptic.curve.edwards(options);else this.curve=new elliptic.curve.mont(options);this.g=this.curve.g;this.n=this.curve.n;this.hash=options.hash;assert(this.g.validate(),"Invalid curve");assert(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}curves.PresetCurve=PresetCurve;function defineCurve(name,options){Object.defineProperty(curves,name,{configurable:true,enumerable:true,get:function(){var curve=new PresetCurve(options);Object.defineProperty(curves,name,{configurable:true,enumerable:true,value:curve});return curve}})}defineCurve("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:hash.sha256,gRed:false,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]});defineCurve("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:hash.sha256,gRed:false,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]});defineCurve("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:hash.sha256,gRed:false,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]});defineCurve("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff "+"fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff "+"fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f "+"5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 "+"f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:hash.sha384,gRed:false,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 "+"5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 "+"0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]});defineCurve("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff "+"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff "+"ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff "+"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff "+"ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b "+"99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd "+"3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff "+"ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 "+"f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:hash.sha512,gRed:false,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 "+"053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 "+"a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 "+"579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 "+"3fad0761 353c7086 a272c240 88be9476 9fd16650"]});defineCurve("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"0",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:hash.sha256,gRed:false,g:["9"]});defineCurve("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:hash.sha256,gRed:false,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var pre;try{pre=require("./precomputed/secp256k1")}catch(e){pre=undefined}defineCurve("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:hash.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:false,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",pre]})},{"../elliptic":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/elliptic/lib/elliptic.js","./precomputed/secp256k1":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/elliptic/lib/elliptic/precomputed/secp256k1.js","hash.js":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/hash.js/lib/hash.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/elliptic/lib/elliptic/ec/index.js":[function(require,module,exports){"use strict";var BN=require("bn.js");var elliptic=require("../../elliptic");var utils=elliptic.utils;var assert=utils.assert;var KeyPair=require("./key");var Signature=require("./signature");function EC(options){if(!(this instanceof EC))return new EC(options);if(typeof options==="string"){assert(elliptic.curves.hasOwnProperty(options),"Unknown curve "+options);options=elliptic.curves[options]}if(options instanceof elliptic.curves.PresetCurve)options={curve:options};this.curve=options.curve.curve;this.n=this.curve.n;this.nh=this.n.ushrn(1);this.g=this.curve.g;this.g=options.curve.g;this.g.precompute(options.curve.n.bitLength()+1);this.hash=options.hash||options.curve.hash}module.exports=EC;EC.prototype.keyPair=function keyPair(options){return new KeyPair(this,options)};EC.prototype.keyFromPrivate=function keyFromPrivate(priv,enc){return KeyPair.fromPrivate(this,priv,enc)};EC.prototype.keyFromPublic=function keyFromPublic(pub,enc){return KeyPair.fromPublic(this,pub,enc)};EC.prototype.genKeyPair=function genKeyPair(options){if(!options)options={};var drbg=new elliptic.hmacDRBG({hash:this.hash,pers:options.pers,entropy:options.entropy||elliptic.rand(this.hash.hmacStrength),nonce:this.n.toArray()});var bytes=this.n.byteLength();var ns2=this.n.sub(new BN(2));do{var priv=new BN(drbg.generate(bytes));if(priv.cmp(ns2)>0)continue;priv.iaddn(1);return this.keyFromPrivate(priv)}while(true)};EC.prototype._truncateToN=function truncateToN(msg,truncOnly){var delta=msg.byteLength()*8-this.n.bitLength();if(delta>0)msg=msg.ushrn(delta);if(!truncOnly&&msg.cmp(this.n)>=0)return msg.sub(this.n);else return msg};EC.prototype.sign=function sign(msg,key,enc,options){if(typeof enc==="object"){options=enc;enc=null}if(!options)options={};key=this.keyFromPrivate(key,enc);msg=this._truncateToN(new BN(msg,16));var bytes=this.n.byteLength();var bkey=key.getPrivate().toArray("be",bytes);var nonce=msg.toArray("be",bytes);var drbg=new elliptic.hmacDRBG({hash:this.hash,entropy:bkey,nonce:nonce,pers:options.pers,persEnc:options.persEnc
});var ns1=this.n.sub(new BN(1));for(var iter=0;true;iter++){var k=options.k?options.k(iter):new BN(drbg.generate(this.n.byteLength()));k=this._truncateToN(k,true);if(k.cmpn(1)<=0||k.cmp(ns1)>=0)continue;var kp=this.g.mul(k);if(kp.isInfinity())continue;var kpX=kp.getX();var r=kpX.umod(this.n);if(r.cmpn(0)===0)continue;var s=k.invm(this.n).mul(r.mul(key.getPrivate()).iadd(msg));s=s.umod(this.n);if(s.cmpn(0)===0)continue;var recoveryParam=(kp.getY().isOdd()?1:0)|(kpX.cmp(r)!==0?2:0);if(options.canonical&&s.cmp(this.nh)>0){s=this.n.sub(s);recoveryParam^=1}return new Signature({r:r,s:s,recoveryParam:recoveryParam})}};EC.prototype.verify=function verify(msg,signature,key,enc){msg=this._truncateToN(new BN(msg,16));key=this.keyFromPublic(key,enc);signature=new Signature(signature,"hex");var r=signature.r;var s=signature.s;if(r.cmpn(1)<0||r.cmp(this.n)>=0)return false;if(s.cmpn(1)<0||s.cmp(this.n)>=0)return false;var sinv=s.invm(this.n);var u1=sinv.mul(msg).umod(this.n);var u2=sinv.mul(r).umod(this.n);if(!this.curve._maxwellTrick){var p=this.g.mulAdd(u1,key.getPublic(),u2);if(p.isInfinity())return false;return p.getX().umod(this.n).cmp(r)===0}var p=this.g.jmulAdd(u1,key.getPublic(),u2);if(p.isInfinity())return false;return p.eqXToP(r)};EC.prototype.recoverPubKey=function(msg,signature,j,enc){assert((3&j)===j,"The recovery param is more than two bits");signature=new Signature(signature,enc);var n=this.n;var e=new BN(msg);var r=signature.r;var s=signature.s;var isYOdd=j&1;var isSecondKey=j>>1;if(r.cmp(this.curve.p.umod(this.curve.n))>=0&&isSecondKey)throw new Error("Unable to find sencond key candinate");if(isSecondKey)r=this.curve.pointFromX(r.add(this.curve.n),isYOdd);else r=this.curve.pointFromX(r,isYOdd);var eNeg=n.sub(e);var rInv=signature.r.invm(n);return this.g.mulAdd(eNeg,r,s).mul(rInv)};EC.prototype.getKeyRecoveryParam=function(e,signature,Q,enc){signature=new Signature(signature,enc);if(signature.recoveryParam!==null)return signature.recoveryParam;for(var i=0;i<4;i++){var Qprime;try{Qprime=this.recoverPubKey(e,signature,i)}catch(e){continue}if(Qprime.eq(Q))return i}throw new Error("Unable to find valid recovery factor")}},{"../../elliptic":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/elliptic/lib/elliptic.js","./key":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/elliptic/lib/elliptic/ec/key.js","./signature":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/elliptic/lib/elliptic/ec/signature.js","bn.js":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/bn.js/lib/bn.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/elliptic/lib/elliptic/ec/key.js":[function(require,module,exports){"use strict";var BN=require("bn.js");function KeyPair(ec,options){this.ec=ec;this.priv=null;this.pub=null;if(options.priv)this._importPrivate(options.priv,options.privEnc);if(options.pub)this._importPublic(options.pub,options.pubEnc)}module.exports=KeyPair;KeyPair.fromPublic=function fromPublic(ec,pub,enc){if(pub instanceof KeyPair)return pub;return new KeyPair(ec,{pub:pub,pubEnc:enc})};KeyPair.fromPrivate=function fromPrivate(ec,priv,enc){if(priv instanceof KeyPair)return priv;return new KeyPair(ec,{priv:priv,privEnc:enc})};KeyPair.prototype.validate=function validate(){var pub=this.getPublic();if(pub.isInfinity())return{result:false,reason:"Invalid public key"};if(!pub.validate())return{result:false,reason:"Public key is not a point"};if(!pub.mul(this.ec.curve.n).isInfinity())return{result:false,reason:"Public key * N != O"};return{result:true,reason:null}};KeyPair.prototype.getPublic=function getPublic(compact,enc){if(typeof compact==="string"){enc=compact;compact=null}if(!this.pub)this.pub=this.ec.g.mul(this.priv);if(!enc)return this.pub;return this.pub.encode(enc,compact)};KeyPair.prototype.getPrivate=function getPrivate(enc){if(enc==="hex")return this.priv.toString(16,2);else return this.priv};KeyPair.prototype._importPrivate=function _importPrivate(key,enc){this.priv=new BN(key,enc||16);this.priv=this.priv.umod(this.ec.curve.n)};KeyPair.prototype._importPublic=function _importPublic(key,enc){if(key.x||key.y){this.pub=this.ec.curve.point(key.x,key.y);return}this.pub=this.ec.curve.decodePoint(key,enc)};KeyPair.prototype.derive=function derive(pub){return pub.mul(this.priv).getX()};KeyPair.prototype.sign=function sign(msg,enc,options){return this.ec.sign(msg,this,enc,options)};KeyPair.prototype.verify=function verify(msg,signature){return this.ec.verify(msg,signature,this)};KeyPair.prototype.inspect=function inspect(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},{"bn.js":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/bn.js/lib/bn.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/elliptic/lib/elliptic/ec/signature.js":[function(require,module,exports){"use strict";var BN=require("bn.js");var elliptic=require("../../elliptic");var utils=elliptic.utils;var assert=utils.assert;function Signature(options,enc){if(options instanceof Signature)return options;if(this._importDER(options,enc))return;assert(options.r&&options.s,"Signature without r or s");this.r=new BN(options.r,16);this.s=new BN(options.s,16);if(options.recoveryParam===undefined)this.recoveryParam=null;else this.recoveryParam=options.recoveryParam}module.exports=Signature;function Position(){this.place=0}function getLength(buf,p){var initial=buf[p.place++];if(!(initial&128)){return initial}var octetLen=initial&15;var val=0;for(var i=0,off=p.place;i<octetLen;i++,off++){val<<=8;val|=buf[off]}p.place=off;return val}function rmPadding(buf){var i=0;var len=buf.length-1;while(!buf[i]&&!(buf[i+1]&128)&&i<len){i++}if(i===0){return buf}return buf.slice(i)}Signature.prototype._importDER=function _importDER(data,enc){data=utils.toArray(data,enc);var p=new Position;if(data[p.place++]!==48){return false}var len=getLength(data,p);if(len+p.place!==data.length){return false}if(data[p.place++]!==2){return false}var rlen=getLength(data,p);var r=data.slice(p.place,rlen+p.place);p.place+=rlen;if(data[p.place++]!==2){return false}var slen=getLength(data,p);if(data.length!==slen+p.place){return false}var s=data.slice(p.place,slen+p.place);if(r[0]===0&&r[1]&128){r=r.slice(1)}if(s[0]===0&&s[1]&128){s=s.slice(1)}this.r=new BN(r);this.s=new BN(s);this.recoveryParam=null;return true};function constructLength(arr,len){if(len<128){arr.push(len);return}var octets=1+(Math.log(len)/Math.LN2>>>3);arr.push(octets|128);while(--octets){arr.push(len>>>(octets<<3)&255)}arr.push(len)}Signature.prototype.toDER=function toDER(enc){var r=this.r.toArray();var s=this.s.toArray();if(r[0]&128)r=[0].concat(r);if(s[0]&128)s=[0].concat(s);r=rmPadding(r);s=rmPadding(s);while(!s[0]&&!(s[1]&128)){s=s.slice(1)}var arr=[2];constructLength(arr,r.length);arr=arr.concat(r);arr.push(2);constructLength(arr,s.length);var backHalf=arr.concat(s);var res=[48];constructLength(res,backHalf.length);res=res.concat(backHalf);return utils.encode(res,enc)}},{"../../elliptic":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/elliptic/lib/elliptic.js","bn.js":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/bn.js/lib/bn.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/elliptic/lib/elliptic/eddsa/index.js":[function(require,module,exports){"use strict";var hash=require("hash.js");var elliptic=require("../../elliptic");var utils=elliptic.utils;var assert=utils.assert;var parseBytes=utils.parseBytes;var KeyPair=require("./key");var Signature=require("./signature");function EDDSA(curve){assert(curve==="ed25519","only tested with ed25519 so far");if(!(this instanceof EDDSA))return new EDDSA(curve);var curve=elliptic.curves[curve].curve;this.curve=curve;this.g=curve.g;this.g.precompute(curve.n.bitLength()+1);this.pointClass=curve.point().constructor;this.encodingLength=Math.ceil(curve.n.bitLength()/8);this.hash=hash.sha512}module.exports=EDDSA;EDDSA.prototype.sign=function sign(message,secret){message=parseBytes(message);var key=this.keyFromSecret(secret);var r=this.hashInt(key.messagePrefix(),message);var R=this.g.mul(r);var Rencoded=this.encodePoint(R);var s_=this.hashInt(Rencoded,key.pubBytes(),message).mul(key.priv());var S=r.add(s_).umod(this.curve.n);return this.makeSignature({R:R,S:S,Rencoded:Rencoded})};EDDSA.prototype.verify=function verify(message,sig,pub){message=parseBytes(message);sig=this.makeSignature(sig);var key=this.keyFromPublic(pub);var h=this.hashInt(sig.Rencoded(),key.pubBytes(),message);var SG=this.g.mul(sig.S());var RplusAh=sig.R().add(key.pub().mul(h));return RplusAh.eq(SG)};EDDSA.prototype.hashInt=function hashInt(){var hash=this.hash();for(var i=0;i<arguments.length;i++)hash.update(arguments[i]);return utils.intFromLE(hash.digest()).umod(this.curve.n)};EDDSA.prototype.keyFromPublic=function keyFromPublic(pub){return KeyPair.fromPublic(this,pub)};EDDSA.prototype.keyFromSecret=function keyFromSecret(secret){return KeyPair.fromSecret(this,secret)};EDDSA.prototype.makeSignature=function makeSignature(sig){if(sig instanceof Signature)return sig;return new Signature(this,sig)};EDDSA.prototype.encodePoint=function encodePoint(point){var enc=point.getY().toArray("le",this.encodingLength);enc[this.encodingLength-1]|=point.getX().isOdd()?128:0;return enc};EDDSA.prototype.decodePoint=function decodePoint(bytes){bytes=utils.parseBytes(bytes);var lastIx=bytes.length-1;var normed=bytes.slice(0,lastIx).concat(bytes[lastIx]&~128);var xIsOdd=(bytes[lastIx]&128)!==0;var y=utils.intFromLE(normed);return this.curve.pointFromY(y,xIsOdd)};EDDSA.prototype.encodeInt=function encodeInt(num){return num.toArray("le",this.encodingLength)};EDDSA.prototype.decodeInt=function decodeInt(bytes){return utils.intFromLE(bytes)};EDDSA.prototype.isPoint=function isPoint(val){return val instanceof this.pointClass}},{"../../elliptic":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/elliptic/lib/elliptic.js","./key":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/elliptic/lib/elliptic/eddsa/key.js","./signature":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/elliptic/lib/elliptic/eddsa/signature.js","hash.js":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/hash.js/lib/hash.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/elliptic/lib/elliptic/eddsa/key.js":[function(require,module,exports){"use strict";var elliptic=require("../../elliptic");var utils=elliptic.utils;var assert=utils.assert;var parseBytes=utils.parseBytes;var cachedProperty=utils.cachedProperty;function KeyPair(eddsa,params){this.eddsa=eddsa;this._secret=parseBytes(params.secret);if(eddsa.isPoint(params.pub))this._pub=params.pub;else this._pubBytes=parseBytes(params.pub)}KeyPair.fromPublic=function fromPublic(eddsa,pub){if(pub instanceof KeyPair)return pub;return new KeyPair(eddsa,{pub:pub})};KeyPair.fromSecret=function fromSecret(eddsa,secret){if(secret instanceof KeyPair)return secret;return new KeyPair(eddsa,{secret:secret})};KeyPair.prototype.secret=function secret(){return this._secret};cachedProperty(KeyPair,"pubBytes",function pubBytes(){return this.eddsa.encodePoint(this.pub())});cachedProperty(KeyPair,"pub",function pub(){if(this._pubBytes)return this.eddsa.decodePoint(this._pubBytes);return this.eddsa.g.mul(this.priv())});cachedProperty(KeyPair,"privBytes",function privBytes(){var eddsa=this.eddsa;var hash=this.hash();var lastIx=eddsa.encodingLength-1;var a=hash.slice(0,eddsa.encodingLength);a[0]&=248;a[lastIx]&=127;a[lastIx]|=64;return a});cachedProperty(KeyPair,"priv",function priv(){return this.eddsa.decodeInt(this.privBytes())});cachedProperty(KeyPair,"hash",function hash(){return this.eddsa.hash().update(this.secret()).digest()});cachedProperty(KeyPair,"messagePrefix",function messagePrefix(){return this.hash().slice(this.eddsa.encodingLength)});KeyPair.prototype.sign=function sign(message){assert(this._secret,"KeyPair can only verify");return this.eddsa.sign(message,this)};KeyPair.prototype.verify=function verify(message,sig){return this.eddsa.verify(message,sig,this)};KeyPair.prototype.getSecret=function getSecret(enc){assert(this._secret,"KeyPair is public only");return utils.encode(this.secret(),enc)};KeyPair.prototype.getPublic=function getPublic(enc){return utils.encode(this.pubBytes(),enc)};module.exports=KeyPair},{"../../elliptic":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/elliptic/lib/elliptic.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/elliptic/lib/elliptic/eddsa/signature.js":[function(require,module,exports){"use strict";var BN=require("bn.js");var elliptic=require("../../elliptic");var utils=elliptic.utils;var assert=utils.assert;var cachedProperty=utils.cachedProperty;var parseBytes=utils.parseBytes;function Signature(eddsa,sig){this.eddsa=eddsa;if(typeof sig!=="object")sig=parseBytes(sig);if(Array.isArray(sig)){sig={R:sig.slice(0,eddsa.encodingLength),S:sig.slice(eddsa.encodingLength)}}assert(sig.R&&sig.S,"Signature without R or S");if(eddsa.isPoint(sig.R))this._R=sig.R;if(sig.S instanceof BN)this._S=sig.S;this._Rencoded=Array.isArray(sig.R)?sig.R:sig.Rencoded;this._Sencoded=Array.isArray(sig.S)?sig.S:sig.Sencoded}cachedProperty(Signature,"S",function S(){return this.eddsa.decodeInt(this.Sencoded())});cachedProperty(Signature,"R",function R(){return this.eddsa.decodePoint(this.Rencoded())});cachedProperty(Signature,"Rencoded",function Rencoded(){return this.eddsa.encodePoint(this.R())});cachedProperty(Signature,"Sencoded",function Sencoded(){return this.eddsa.encodeInt(this.S())});Signature.prototype.toBytes=function toBytes(){return this.Rencoded().concat(this.Sencoded())};Signature.prototype.toHex=function toHex(){return utils.encode(this.toBytes(),"hex").toUpperCase()};module.exports=Signature},{"../../elliptic":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/elliptic/lib/elliptic.js","bn.js":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/bn.js/lib/bn.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/elliptic/lib/elliptic/hmac-drbg.js":[function(require,module,exports){"use strict";var hash=require("hash.js");var elliptic=require("../elliptic");var utils=elliptic.utils;var assert=utils.assert;function HmacDRBG(options){if(!(this instanceof HmacDRBG))return new HmacDRBG(options);this.hash=options.hash;this.predResist=!!options.predResist;this.outLen=this.hash.outSize;this.minEntropy=options.minEntropy||this.hash.hmacStrength;this.reseed=null;this.reseedInterval=null;this.K=null;this.V=null;var entropy=utils.toArray(options.entropy,options.entropyEnc);var nonce=utils.toArray(options.nonce,options.nonceEnc);var pers=utils.toArray(options.pers,options.persEnc);assert(entropy.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits");this._init(entropy,nonce,pers)}module.exports=HmacDRBG;HmacDRBG.prototype._init=function init(entropy,nonce,pers){var seed=entropy.concat(nonce).concat(pers);this.K=new Array(this.outLen/8);this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++){this.K[i]=0;this.V[i]=1}this._update(seed);this.reseed=1;this.reseedInterval=281474976710656};HmacDRBG.prototype._hmac=function hmac(){return new hash.hmac(this.hash,this.K)};HmacDRBG.prototype._update=function update(seed){var kmac=this._hmac().update(this.V).update([0]);if(seed)kmac=kmac.update(seed);this.K=kmac.digest();this.V=this._hmac().update(this.V).digest();if(!seed)return;this.K=this._hmac().update(this.V).update([1]).update(seed).digest();this.V=this._hmac().update(this.V).digest()};HmacDRBG.prototype.reseed=function reseed(entropy,entropyEnc,add,addEnc){if(typeof entropyEnc!=="string"){addEnc=add;add=entropyEnc;entropyEnc=null}entropy=utils.toBuffer(entropy,entropyEnc);add=utils.toBuffer(add,addEnc);assert(entropy.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits");this._update(entropy.concat(add||[]));this.reseed=1};HmacDRBG.prototype.generate=function generate(len,enc,add,addEnc){if(this.reseed>this.reseedInterval)throw new Error("Reseed is required");if(typeof enc!=="string"){addEnc=add;add=enc;enc=null}if(add){add=utils.toArray(add,addEnc);this._update(add)}var temp=[];while(temp.length<len){this.V=this._hmac().update(this.V).digest();temp=temp.concat(this.V)}var res=temp.slice(0,len);this._update(add);this.reseed++;return utils.encode(res,enc)}},{"../elliptic":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/elliptic/lib/elliptic.js","hash.js":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/hash.js/lib/hash.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/elliptic/lib/elliptic/precomputed/secp256k1.js":[function(require,module,exports){module.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]
}}},{}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/elliptic/lib/elliptic/utils.js":[function(require,module,exports){"use strict";var utils=exports;var BN=require("bn.js");utils.assert=function assert(val,msg){if(!val)throw new Error(msg||"Assertion failed")};function toArray(msg,enc){if(Array.isArray(msg))return msg.slice();if(!msg)return[];var res=[];if(typeof msg!=="string"){for(var i=0;i<msg.length;i++)res[i]=msg[i]|0;return res}if(!enc){for(var i=0;i<msg.length;i++){var c=msg.charCodeAt(i);var hi=c>>8;var lo=c&255;if(hi)res.push(hi,lo);else res.push(lo)}}else if(enc==="hex"){msg=msg.replace(/[^a-z0-9]+/gi,"");if(msg.length%2!==0)msg="0"+msg;for(var i=0;i<msg.length;i+=2)res.push(parseInt(msg[i]+msg[i+1],16))}return res}utils.toArray=toArray;function zero2(word){if(word.length===1)return"0"+word;else return word}utils.zero2=zero2;function toHex(msg){var res="";for(var i=0;i<msg.length;i++)res+=zero2(msg[i].toString(16));return res}utils.toHex=toHex;utils.encode=function encode(arr,enc){if(enc==="hex")return toHex(arr);else return arr};function getNAF(num,w){var naf=[];var ws=1<<w+1;var k=num.clone();while(k.cmpn(1)>=0){var z;if(k.isOdd()){var mod=k.andln(ws-1);if(mod>(ws>>1)-1)z=(ws>>1)-mod;else z=mod;k.isubn(z)}else{z=0}naf.push(z);var shift=k.cmpn(0)!==0&&k.andln(ws-1)===0?w+1:1;for(var i=1;i<shift;i++)naf.push(0);k.iushrn(shift)}return naf}utils.getNAF=getNAF;function getJSF(k1,k2){var jsf=[[],[]];k1=k1.clone();k2=k2.clone();var d1=0;var d2=0;while(k1.cmpn(-d1)>0||k2.cmpn(-d2)>0){var m14=k1.andln(3)+d1&3;var m24=k2.andln(3)+d2&3;if(m14===3)m14=-1;if(m24===3)m24=-1;var u1;if((m14&1)===0){u1=0}else{var m8=k1.andln(7)+d1&7;if((m8===3||m8===5)&&m24===2)u1=-m14;else u1=m14}jsf[0].push(u1);var u2;if((m24&1)===0){u2=0}else{var m8=k2.andln(7)+d2&7;if((m8===3||m8===5)&&m14===2)u2=-m24;else u2=m24}jsf[1].push(u2);if(2*d1===u1+1)d1=1-d1;if(2*d2===u2+1)d2=1-d2;k1.iushrn(1);k2.iushrn(1)}return jsf}utils.getJSF=getJSF;function cachedProperty(obj,name,computer){var key="_"+name;obj.prototype[name]=function cachedProperty(){return this[key]!==undefined?this[key]:this[key]=computer.call(this)}}utils.cachedProperty=cachedProperty;function parseBytes(bytes){return typeof bytes==="string"?utils.toArray(bytes,"hex"):bytes}utils.parseBytes=parseBytes;function intFromLE(bytes){return new BN(bytes,"hex","le")}utils.intFromLE=intFromLE},{"bn.js":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/bn.js/lib/bn.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/elliptic/package.json":[function(require,module,exports){module.exports={_args:[["elliptic@^6.0.0","/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/browserify-sign"]],_from:"elliptic@>=6.0.0 <7.0.0",_id:"elliptic@6.3.1",_inCache:true,_installable:true,_location:"/elliptic",_nodeVersion:"6.0.0",_npmOperationalInternal:{host:"packages-16-east.internal.npmjs.com",tmp:"tmp/elliptic-6.3.1.tgz_1465921413402_0.5202967382501811"},_npmUser:{email:"fedor@indutny.com",name:"indutny"},_npmVersion:"3.8.6",_phantomChildren:{},_requested:{name:"elliptic",raw:"elliptic@^6.0.0",rawSpec:"^6.0.0",scope:null,spec:">=6.0.0 <7.0.0",type:"range"},_requiredBy:["/browserify-sign","/create-ecdh"],_resolved:"https://registry.npmjs.org/elliptic/-/elliptic-6.3.1.tgz",_shasum:"17781f2109ab0ec686b146bdcff5d2e8c6aeceda",_shrinkwrap:null,_spec:"elliptic@^6.0.0",_where:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/browserify-sign",author:{email:"fedor@indutny.com",name:"Fedor Indutny"},bugs:{url:"https://github.com/indutny/elliptic/issues"},dependencies:{"bn.js":"^4.4.0",brorand:"^1.0.1","hash.js":"^1.0.0",inherits:"^2.0.1"},description:"EC cryptography",devDependencies:{brfs:"^1.4.3",coveralls:"^2.11.3",grunt:"^0.4.5","grunt-browserify":"^5.0.0","grunt-contrib-connect":"^1.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^1.0.1","grunt-mocha-istanbul":"^3.0.1","grunt-saucelabs":"^8.6.2",istanbul:"^0.4.2",jscs:"^2.9.0",jshint:"^2.6.0",mocha:"^2.1.0"},directories:{},dist:{shasum:"17781f2109ab0ec686b146bdcff5d2e8c6aeceda",tarball:"https://registry.npmjs.org/elliptic/-/elliptic-6.3.1.tgz"},files:["lib"],gitHead:"c53f5cf3d832c0073eb4a4ed423a464cbce68f3e",homepage:"https://github.com/indutny/elliptic",keywords:["EC","Elliptic","curve","Cryptography"],license:"MIT",main:"lib/elliptic.js",maintainers:[{email:"fedor@indutny.com",name:"indutny"}],name:"elliptic",optionalDependencies:{},readme:"ERROR: No README data found!",repository:{type:"git",url:"git+ssh://git@github.com/indutny/elliptic.git"},scripts:{jscs:"jscs benchmarks/*.js lib/*.js lib/**/*.js lib/**/**/*.js test/index.js",jshint:"jscs benchmarks/*.js lib/*.js lib/**/*.js lib/**/**/*.js test/index.js",lint:"npm run jscs && npm run jshint",test:"npm run lint && npm run unit",unit:"istanbul test _mocha --reporter=spec test/index.js",version:"grunt dist && git add dist/"},version:"6.3.1"}},{}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/events/events.js":[function(require,module,exports){function EventEmitter(){this._events=this._events||{};this._maxListeners=this._maxListeners||undefined}module.exports=EventEmitter;EventEmitter.EventEmitter=EventEmitter;EventEmitter.prototype._events=undefined;EventEmitter.prototype._maxListeners=undefined;EventEmitter.defaultMaxListeners=10;EventEmitter.prototype.setMaxListeners=function(n){if(!isNumber(n)||n<0||isNaN(n))throw TypeError("n must be a positive number");this._maxListeners=n;return this};EventEmitter.prototype.emit=function(type){var er,handler,len,args,i,listeners;if(!this._events)this._events={};if(type==="error"){if(!this._events.error||isObject(this._events.error)&&!this._events.error.length){er=arguments[1];if(er instanceof Error){throw er}else{var err=new Error('Uncaught, unspecified "error" event. ('+er+")");err.context=er;throw err}}}handler=this._events[type];if(isUndefined(handler))return false;if(isFunction(handler)){switch(arguments.length){case 1:handler.call(this);break;case 2:handler.call(this,arguments[1]);break;case 3:handler.call(this,arguments[1],arguments[2]);break;default:args=Array.prototype.slice.call(arguments,1);handler.apply(this,args)}}else if(isObject(handler)){args=Array.prototype.slice.call(arguments,1);listeners=handler.slice();len=listeners.length;for(i=0;i<len;i++)listeners[i].apply(this,args)}return true};EventEmitter.prototype.addListener=function(type,listener){var m;if(!isFunction(listener))throw TypeError("listener must be a function");if(!this._events)this._events={};if(this._events.newListener)this.emit("newListener",type,isFunction(listener.listener)?listener.listener:listener);if(!this._events[type])this._events[type]=listener;else if(isObject(this._events[type]))this._events[type].push(listener);else this._events[type]=[this._events[type],listener];if(isObject(this._events[type])&&!this._events[type].warned){if(!isUndefined(this._maxListeners)){m=this._maxListeners}else{m=EventEmitter.defaultMaxListeners}if(m&&m>0&&this._events[type].length>m){this._events[type].warned=true;console.error("(node) warning: possible EventEmitter memory "+"leak detected. %d listeners added. "+"Use emitter.setMaxListeners() to increase limit.",this._events[type].length);if(typeof console.trace==="function"){console.trace()}}}return this};EventEmitter.prototype.on=EventEmitter.prototype.addListener;EventEmitter.prototype.once=function(type,listener){if(!isFunction(listener))throw TypeError("listener must be a function");var fired=false;function g(){this.removeListener(type,g);if(!fired){fired=true;listener.apply(this,arguments)}}g.listener=listener;this.on(type,g);return this};EventEmitter.prototype.removeListener=function(type,listener){var list,position,length,i;if(!isFunction(listener))throw TypeError("listener must be a function");if(!this._events||!this._events[type])return this;list=this._events[type];length=list.length;position=-1;if(list===listener||isFunction(list.listener)&&list.listener===listener){delete this._events[type];if(this._events.removeListener)this.emit("removeListener",type,listener)}else if(isObject(list)){for(i=length;i-- >0;){if(list[i]===listener||list[i].listener&&list[i].listener===listener){position=i;break}}if(position<0)return this;if(list.length===1){list.length=0;delete this._events[type]}else{list.splice(position,1)}if(this._events.removeListener)this.emit("removeListener",type,listener)}return this};EventEmitter.prototype.removeAllListeners=function(type){var key,listeners;if(!this._events)return this;if(!this._events.removeListener){if(arguments.length===0)this._events={};else if(this._events[type])delete this._events[type];return this}if(arguments.length===0){for(key in this._events){if(key==="removeListener")continue;this.removeAllListeners(key)}this.removeAllListeners("removeListener");this._events={};return this}listeners=this._events[type];if(isFunction(listeners)){this.removeListener(type,listeners)}else if(listeners){while(listeners.length)this.removeListener(type,listeners[listeners.length-1])}delete this._events[type];return this};EventEmitter.prototype.listeners=function(type){var ret;if(!this._events||!this._events[type])ret=[];else if(isFunction(this._events[type]))ret=[this._events[type]];else ret=this._events[type].slice();return ret};EventEmitter.prototype.listenerCount=function(type){if(this._events){var evlistener=this._events[type];if(isFunction(evlistener))return 1;else if(evlistener)return evlistener.length}return 0};EventEmitter.listenerCount=function(emitter,type){return emitter.listenerCount(type)};function isFunction(arg){return typeof arg==="function"}function isNumber(arg){return typeof arg==="number"}function isObject(arg){return typeof arg==="object"&&arg!==null}function isUndefined(arg){return arg===void 0}},{}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/evp_bytestokey/index.js":[function(require,module,exports){(function(Buffer){var md5=require("create-hash/md5");module.exports=EVP_BytesToKey;function EVP_BytesToKey(password,salt,keyLen,ivLen){if(!Buffer.isBuffer(password)){password=new Buffer(password,"binary")}if(salt&&!Buffer.isBuffer(salt)){salt=new Buffer(salt,"binary")}keyLen=keyLen/8;ivLen=ivLen||0;var ki=0;var ii=0;var key=new Buffer(keyLen);var iv=new Buffer(ivLen);var addmd=0;var md_buf;var i;var bufs=[];while(true){if(addmd++>0){bufs.push(md_buf)}bufs.push(password);if(salt){bufs.push(salt)}md_buf=md5(Buffer.concat(bufs));bufs=[];i=0;if(keyLen>0){while(true){if(keyLen===0){break}if(i===md_buf.length){break}key[ki++]=md_buf[i];keyLen--;i++}}if(ivLen>0&&i!==md_buf.length){while(true){if(ivLen===0){break}if(i===md_buf.length){break}iv[ii++]=md_buf[i];ivLen--;i++}}if(keyLen===0&&ivLen===0){break}}for(i=0;i<md_buf.length;i++){md_buf[i]=0}return{key:key,iv:iv}}}).call(this,require("buffer").Buffer)},{buffer:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/buffer/index.js","create-hash/md5":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/create-hash/md5.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/hash.js/lib/hash.js":[function(require,module,exports){var hash=exports;hash.utils=require("./hash/utils");hash.common=require("./hash/common");hash.sha=require("./hash/sha");hash.ripemd=require("./hash/ripemd");hash.hmac=require("./hash/hmac");hash.sha1=hash.sha.sha1;hash.sha256=hash.sha.sha256;hash.sha224=hash.sha.sha224;hash.sha384=hash.sha.sha384;hash.sha512=hash.sha.sha512;hash.ripemd160=hash.ripemd.ripemd160},{"./hash/common":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/hash.js/lib/hash/common.js","./hash/hmac":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/hash.js/lib/hash/hmac.js","./hash/ripemd":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/hash.js/lib/hash/ripemd.js","./hash/sha":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/hash.js/lib/hash/sha.js","./hash/utils":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/hash.js/lib/hash/utils.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/hash.js/lib/hash/common.js":[function(require,module,exports){var hash=require("../hash");var utils=hash.utils;var assert=utils.assert;function BlockHash(){this.pending=null;this.pendingTotal=0;this.blockSize=this.constructor.blockSize;this.outSize=this.constructor.outSize;this.hmacStrength=this.constructor.hmacStrength;this.padLength=this.constructor.padLength/8;this.endian="big";this._delta8=this.blockSize/8;this._delta32=this.blockSize/32}exports.BlockHash=BlockHash;BlockHash.prototype.update=function update(msg,enc){msg=utils.toArray(msg,enc);if(!this.pending)this.pending=msg;else this.pending=this.pending.concat(msg);this.pendingTotal+=msg.length;if(this.pending.length>=this._delta8){msg=this.pending;var r=msg.length%this._delta8;this.pending=msg.slice(msg.length-r,msg.length);if(this.pending.length===0)this.pending=null;msg=utils.join32(msg,0,msg.length-r,this.endian);for(var i=0;i<msg.length;i+=this._delta32)this._update(msg,i,i+this._delta32)}return this};BlockHash.prototype.digest=function digest(enc){this.update(this._pad());assert(this.pending===null);return this._digest(enc)};BlockHash.prototype._pad=function pad(){var len=this.pendingTotal;var bytes=this._delta8;var k=bytes-(len+this.padLength)%bytes;var res=new Array(k+this.padLength);res[0]=128;for(var i=1;i<k;i++)res[i]=0;len<<=3;if(this.endian==="big"){for(var t=8;t<this.padLength;t++)res[i++]=0;res[i++]=0;res[i++]=0;res[i++]=0;res[i++]=0;res[i++]=len>>>24&255;res[i++]=len>>>16&255;res[i++]=len>>>8&255;res[i++]=len&255}else{res[i++]=len&255;res[i++]=len>>>8&255;res[i++]=len>>>16&255;res[i++]=len>>>24&255;res[i++]=0;res[i++]=0;res[i++]=0;res[i++]=0;for(var t=8;t<this.padLength;t++)res[i++]=0}return res}},{"../hash":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/hash.js/lib/hash.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/hash.js/lib/hash/hmac.js":[function(require,module,exports){var hmac=exports;var hash=require("../hash");var utils=hash.utils;var assert=utils.assert;function Hmac(hash,key,enc){if(!(this instanceof Hmac))return new Hmac(hash,key,enc);this.Hash=hash;this.blockSize=hash.blockSize/8;this.outSize=hash.outSize/8;this.inner=null;this.outer=null;this._init(utils.toArray(key,enc))}module.exports=Hmac;Hmac.prototype._init=function init(key){if(key.length>this.blockSize)key=(new this.Hash).update(key).digest();assert(key.length<=this.blockSize);for(var i=key.length;i<this.blockSize;i++)key.push(0);for(var i=0;i<key.length;i++)key[i]^=54;this.inner=(new this.Hash).update(key);for(var i=0;i<key.length;i++)key[i]^=106;this.outer=(new this.Hash).update(key)};Hmac.prototype.update=function update(msg,enc){this.inner.update(msg,enc);return this};Hmac.prototype.digest=function digest(enc){this.outer.update(this.inner.digest());return this.outer.digest(enc)}},{"../hash":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/hash.js/lib/hash.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/hash.js/lib/hash/ripemd.js":[function(require,module,exports){var hash=require("../hash");var utils=hash.utils;var rotl32=utils.rotl32;var sum32=utils.sum32;var sum32_3=utils.sum32_3;var sum32_4=utils.sum32_4;var BlockHash=hash.common.BlockHash;function RIPEMD160(){if(!(this instanceof RIPEMD160))return new RIPEMD160;BlockHash.call(this);this.h=[1732584193,4023233417,2562383102,271733878,3285377520];this.endian="little"}utils.inherits(RIPEMD160,BlockHash);exports.ripemd160=RIPEMD160;RIPEMD160.blockSize=512;RIPEMD160.outSize=160;RIPEMD160.hmacStrength=192;RIPEMD160.padLength=64;RIPEMD160.prototype._update=function update(msg,start){var A=this.h[0];var B=this.h[1];var C=this.h[2];var D=this.h[3];var E=this.h[4];var Ah=A;var Bh=B;var Ch=C;var Dh=D;var Eh=E;for(var j=0;j<80;j++){var T=sum32(rotl32(sum32_4(A,f(j,B,C,D),msg[r[j]+start],K(j)),s[j]),E);A=E;E=D;D=rotl32(C,10);C=B;B=T;T=sum32(rotl32(sum32_4(Ah,f(79-j,Bh,Ch,Dh),msg[rh[j]+start],Kh(j)),sh[j]),Eh);Ah=Eh;Eh=Dh;Dh=rotl32(Ch,10);Ch=Bh;Bh=T}T=sum32_3(this.h[1],C,Dh);this.h[1]=sum32_3(this.h[2],D,Eh);this.h[2]=sum32_3(this.h[3],E,Ah);this.h[3]=sum32_3(this.h[4],A,Bh);this.h[4]=sum32_3(this.h[0],B,Ch);this.h[0]=T};RIPEMD160.prototype._digest=function digest(enc){if(enc==="hex")return utils.toHex32(this.h,"little");else return utils.split32(this.h,"little")};function f(j,x,y,z){if(j<=15)return x^y^z;else if(j<=31)return x&y|~x&z;else if(j<=47)return(x|~y)^z;else if(j<=63)return x&z|y&~z;else return x^(y|~z)}function K(j){if(j<=15)return 0;else if(j<=31)return 1518500249;else if(j<=47)return 1859775393;else if(j<=63)return 2400959708;else return 2840853838}function Kh(j){if(j<=15)return 1352829926;else if(j<=31)return 1548603684;else if(j<=47)return 1836072691;else if(j<=63)return 2053994217;else return 0}var r=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13];var rh=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11];var s=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6];var sh=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},{"../hash":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/hash.js/lib/hash.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/hash.js/lib/hash/sha.js":[function(require,module,exports){var hash=require("../hash");var utils=hash.utils;var assert=utils.assert;var rotr32=utils.rotr32;var rotl32=utils.rotl32;var sum32=utils.sum32;var sum32_4=utils.sum32_4;var sum32_5=utils.sum32_5;var rotr64_hi=utils.rotr64_hi;var rotr64_lo=utils.rotr64_lo;var shr64_hi=utils.shr64_hi;var shr64_lo=utils.shr64_lo;var sum64=utils.sum64;var sum64_hi=utils.sum64_hi;var sum64_lo=utils.sum64_lo;var sum64_4_hi=utils.sum64_4_hi;var sum64_4_lo=utils.sum64_4_lo;var sum64_5_hi=utils.sum64_5_hi;var sum64_5_lo=utils.sum64_5_lo;var BlockHash=hash.common.BlockHash;var sha256_K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];var sha512_K=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];var sha1_K=[1518500249,1859775393,2400959708,3395469782];function SHA256(){if(!(this instanceof SHA256))return new SHA256;BlockHash.call(this);this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];this.k=sha256_K;this.W=new Array(64)}utils.inherits(SHA256,BlockHash);exports.sha256=SHA256;SHA256.blockSize=512;SHA256.outSize=256;SHA256.hmacStrength=192;SHA256.padLength=64;SHA256.prototype._update=function _update(msg,start){var W=this.W;for(var i=0;i<16;i++)W[i]=msg[start+i];for(;i<W.length;i++)W[i]=sum32_4(g1_256(W[i-2]),W[i-7],g0_256(W[i-15]),W[i-16]);var a=this.h[0];var b=this.h[1];var c=this.h[2];var d=this.h[3];var e=this.h[4];var f=this.h[5];var g=this.h[6];var h=this.h[7];assert(this.k.length===W.length);for(var i=0;i<W.length;i++){var T1=sum32_5(h,s1_256(e),ch32(e,f,g),this.k[i],W[i]);var T2=sum32(s0_256(a),maj32(a,b,c));h=g;g=f;f=e;e=sum32(d,T1);d=c;c=b;b=a;a=sum32(T1,T2)}this.h[0]=sum32(this.h[0],a);this.h[1]=sum32(this.h[1],b);this.h[2]=sum32(this.h[2],c);this.h[3]=sum32(this.h[3],d);this.h[4]=sum32(this.h[4],e);this.h[5]=sum32(this.h[5],f);this.h[6]=sum32(this.h[6],g);this.h[7]=sum32(this.h[7],h)};SHA256.prototype._digest=function digest(enc){if(enc==="hex")return utils.toHex32(this.h,"big");else return utils.split32(this.h,"big")};function SHA224(){if(!(this instanceof SHA224))return new SHA224;SHA256.call(this);this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}utils.inherits(SHA224,SHA256);exports.sha224=SHA224;SHA224.blockSize=512;SHA224.outSize=224;SHA224.hmacStrength=192;SHA224.padLength=64;SHA224.prototype._digest=function digest(enc){if(enc==="hex")return utils.toHex32(this.h.slice(0,7),"big");else return utils.split32(this.h.slice(0,7),"big")};function SHA512(){if(!(this instanceof SHA512))return new SHA512;BlockHash.call(this);this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209];this.k=sha512_K;this.W=new Array(160)}utils.inherits(SHA512,BlockHash);exports.sha512=SHA512;SHA512.blockSize=1024;SHA512.outSize=512;SHA512.hmacStrength=192;SHA512.padLength=128;SHA512.prototype._prepareBlock=function _prepareBlock(msg,start){var W=this.W;for(var i=0;i<32;i++)W[i]=msg[start+i];for(;i<W.length;i+=2){var c0_hi=g1_512_hi(W[i-4],W[i-3]);var c0_lo=g1_512_lo(W[i-4],W[i-3]);var c1_hi=W[i-14];var c1_lo=W[i-13];var c2_hi=g0_512_hi(W[i-30],W[i-29]);var c2_lo=g0_512_lo(W[i-30],W[i-29]);var c3_hi=W[i-32];var c3_lo=W[i-31];W[i]=sum64_4_hi(c0_hi,c0_lo,c1_hi,c1_lo,c2_hi,c2_lo,c3_hi,c3_lo);W[i+1]=sum64_4_lo(c0_hi,c0_lo,c1_hi,c1_lo,c2_hi,c2_lo,c3_hi,c3_lo)}};SHA512.prototype._update=function _update(msg,start){this._prepareBlock(msg,start);var W=this.W;var ah=this.h[0];var al=this.h[1];var bh=this.h[2];var bl=this.h[3];var ch=this.h[4];var cl=this.h[5];var dh=this.h[6];var dl=this.h[7];var eh=this.h[8];var el=this.h[9];var fh=this.h[10];var fl=this.h[11];var gh=this.h[12];var gl=this.h[13];var hh=this.h[14];var hl=this.h[15];assert(this.k.length===W.length);for(var i=0;i<W.length;i+=2){var c0_hi=hh;var c0_lo=hl;var c1_hi=s1_512_hi(eh,el);var c1_lo=s1_512_lo(eh,el);var c2_hi=ch64_hi(eh,el,fh,fl,gh,gl);var c2_lo=ch64_lo(eh,el,fh,fl,gh,gl);var c3_hi=this.k[i];var c3_lo=this.k[i+1];var c4_hi=W[i];var c4_lo=W[i+1];var T1_hi=sum64_5_hi(c0_hi,c0_lo,c1_hi,c1_lo,c2_hi,c2_lo,c3_hi,c3_lo,c4_hi,c4_lo);var T1_lo=sum64_5_lo(c0_hi,c0_lo,c1_hi,c1_lo,c2_hi,c2_lo,c3_hi,c3_lo,c4_hi,c4_lo);var c0_hi=s0_512_hi(ah,al);var c0_lo=s0_512_lo(ah,al);var c1_hi=maj64_hi(ah,al,bh,bl,ch,cl);var c1_lo=maj64_lo(ah,al,bh,bl,ch,cl);var T2_hi=sum64_hi(c0_hi,c0_lo,c1_hi,c1_lo);var T2_lo=sum64_lo(c0_hi,c0_lo,c1_hi,c1_lo);hh=gh;hl=gl;gh=fh;gl=fl;fh=eh;fl=el;eh=sum64_hi(dh,dl,T1_hi,T1_lo);el=sum64_lo(dl,dl,T1_hi,T1_lo);dh=ch;dl=cl;ch=bh;cl=bl;bh=ah;bl=al;ah=sum64_hi(T1_hi,T1_lo,T2_hi,T2_lo);al=sum64_lo(T1_hi,T1_lo,T2_hi,T2_lo)}sum64(this.h,0,ah,al);sum64(this.h,2,bh,bl);sum64(this.h,4,ch,cl);sum64(this.h,6,dh,dl);sum64(this.h,8,eh,el);sum64(this.h,10,fh,fl);sum64(this.h,12,gh,gl);sum64(this.h,14,hh,hl)};SHA512.prototype._digest=function digest(enc){if(enc==="hex")return utils.toHex32(this.h,"big");else return utils.split32(this.h,"big")};function SHA384(){if(!(this instanceof SHA384))return new SHA384;SHA512.call(this);this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}utils.inherits(SHA384,SHA512);exports.sha384=SHA384;SHA384.blockSize=1024;SHA384.outSize=384;SHA384.hmacStrength=192;SHA384.padLength=128;SHA384.prototype._digest=function digest(enc){if(enc==="hex")return utils.toHex32(this.h.slice(0,12),"big");else return utils.split32(this.h.slice(0,12),"big")};function SHA1(){if(!(this instanceof SHA1))return new SHA1;BlockHash.call(this);this.h=[1732584193,4023233417,2562383102,271733878,3285377520];this.W=new Array(80)}utils.inherits(SHA1,BlockHash);exports.sha1=SHA1;SHA1.blockSize=512;SHA1.outSize=160;SHA1.hmacStrength=80;SHA1.padLength=64;SHA1.prototype._update=function _update(msg,start){var W=this.W;for(var i=0;i<16;i++)W[i]=msg[start+i];for(;i<W.length;i++)W[i]=rotl32(W[i-3]^W[i-8]^W[i-14]^W[i-16],1);var a=this.h[0];var b=this.h[1];var c=this.h[2];var d=this.h[3];var e=this.h[4];for(var i=0;i<W.length;i++){var s=~~(i/20);var t=sum32_5(rotl32(a,5),ft_1(s,b,c,d),e,W[i],sha1_K[s]);e=d;d=c;c=rotl32(b,30);b=a;a=t}this.h[0]=sum32(this.h[0],a);this.h[1]=sum32(this.h[1],b);this.h[2]=sum32(this.h[2],c);this.h[3]=sum32(this.h[3],d);this.h[4]=sum32(this.h[4],e)};SHA1.prototype._digest=function digest(enc){if(enc==="hex")return utils.toHex32(this.h,"big");else return utils.split32(this.h,"big")};function ch32(x,y,z){return x&y^~x&z}function maj32(x,y,z){return x&y^x&z^y&z}function p32(x,y,z){return x^y^z}function s0_256(x){return rotr32(x,2)^rotr32(x,13)^rotr32(x,22)}function s1_256(x){return rotr32(x,6)^rotr32(x,11)^rotr32(x,25)}function g0_256(x){return rotr32(x,7)^rotr32(x,18)^x>>>3}function g1_256(x){return rotr32(x,17)^rotr32(x,19)^x>>>10}function ft_1(s,x,y,z){if(s===0)return ch32(x,y,z);if(s===1||s===3)return p32(x,y,z);if(s===2)return maj32(x,y,z)}function ch64_hi(xh,xl,yh,yl,zh,zl){var r=xh&yh^~xh&zh;if(r<0)r+=4294967296;return r}function ch64_lo(xh,xl,yh,yl,zh,zl){var r=xl&yl^~xl&zl;if(r<0)r+=4294967296;return r}function maj64_hi(xh,xl,yh,yl,zh,zl){var r=xh&yh^xh&zh^yh&zh;if(r<0)r+=4294967296;return r}function maj64_lo(xh,xl,yh,yl,zh,zl){var r=xl&yl^xl&zl^yl&zl;if(r<0)r+=4294967296;return r}function s0_512_hi(xh,xl){var c0_hi=rotr64_hi(xh,xl,28);var c1_hi=rotr64_hi(xl,xh,2);var c2_hi=rotr64_hi(xl,xh,7);var r=c0_hi^c1_hi^c2_hi;if(r<0)r+=4294967296;return r}function s0_512_lo(xh,xl){var c0_lo=rotr64_lo(xh,xl,28);var c1_lo=rotr64_lo(xl,xh,2);var c2_lo=rotr64_lo(xl,xh,7);var r=c0_lo^c1_lo^c2_lo;if(r<0)r+=4294967296;return r}function s1_512_hi(xh,xl){var c0_hi=rotr64_hi(xh,xl,14);var c1_hi=rotr64_hi(xh,xl,18);var c2_hi=rotr64_hi(xl,xh,9);var r=c0_hi^c1_hi^c2_hi;if(r<0)r+=4294967296;return r}function s1_512_lo(xh,xl){var c0_lo=rotr64_lo(xh,xl,14);var c1_lo=rotr64_lo(xh,xl,18);var c2_lo=rotr64_lo(xl,xh,9);var r=c0_lo^c1_lo^c2_lo;if(r<0)r+=4294967296;return r}function g0_512_hi(xh,xl){var c0_hi=rotr64_hi(xh,xl,1);var c1_hi=rotr64_hi(xh,xl,8);var c2_hi=shr64_hi(xh,xl,7);var r=c0_hi^c1_hi^c2_hi;if(r<0)r+=4294967296;return r}function g0_512_lo(xh,xl){var c0_lo=rotr64_lo(xh,xl,1);var c1_lo=rotr64_lo(xh,xl,8);var c2_lo=shr64_lo(xh,xl,7);var r=c0_lo^c1_lo^c2_lo;if(r<0)r+=4294967296;return r}function g1_512_hi(xh,xl){var c0_hi=rotr64_hi(xh,xl,19);var c1_hi=rotr64_hi(xl,xh,29);var c2_hi=shr64_hi(xh,xl,6);var r=c0_hi^c1_hi^c2_hi;if(r<0)r+=4294967296;return r}function g1_512_lo(xh,xl){var c0_lo=rotr64_lo(xh,xl,19);var c1_lo=rotr64_lo(xl,xh,29);var c2_lo=shr64_lo(xh,xl,6);var r=c0_lo^c1_lo^c2_lo;if(r<0)r+=4294967296;return r}},{"../hash":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/hash.js/lib/hash.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/hash.js/lib/hash/utils.js":[function(require,module,exports){var utils=exports;var inherits=require("inherits");function toArray(msg,enc){if(Array.isArray(msg))return msg.slice();if(!msg)return[];var res=[];if(typeof msg==="string"){if(!enc){for(var i=0;i<msg.length;i++){var c=msg.charCodeAt(i);var hi=c>>8;var lo=c&255;if(hi)res.push(hi,lo);else res.push(lo)}}else if(enc==="hex"){msg=msg.replace(/[^a-z0-9]+/gi,"");if(msg.length%2!==0)msg="0"+msg;for(var i=0;i<msg.length;i+=2)res.push(parseInt(msg[i]+msg[i+1],16))}}else{for(var i=0;i<msg.length;i++)res[i]=msg[i]|0}return res}utils.toArray=toArray;function toHex(msg){var res="";for(var i=0;i<msg.length;i++)res+=zero2(msg[i].toString(16));return res}utils.toHex=toHex;function htonl(w){var res=w>>>24|w>>>8&65280|w<<8&16711680|(w&255)<<24;return res>>>0}utils.htonl=htonl;function toHex32(msg,endian){var res="";for(var i=0;i<msg.length;i++){var w=msg[i];if(endian==="little")w=htonl(w);res+=zero8(w.toString(16))}return res}utils.toHex32=toHex32;function zero2(word){if(word.length===1)return"0"+word;else return word}utils.zero2=zero2;function zero8(word){if(word.length===7)return"0"+word;else if(word.length===6)return"00"+word;else if(word.length===5)return"000"+word;else if(word.length===4)return"0000"+word;else if(word.length===3)return"00000"+word;else if(word.length===2)return"000000"+word;else if(word.length===1)return"0000000"+word;else return word}utils.zero8=zero8;function join32(msg,start,end,endian){var len=end-start;assert(len%4===0);var res=new Array(len/4);for(var i=0,k=start;i<res.length;i++,k+=4){var w;if(endian==="big")w=msg[k]<<24|msg[k+1]<<16|msg[k+2]<<8|msg[k+3];else w=msg[k+3]<<24|msg[k+2]<<16|msg[k+1]<<8|msg[k];res[i]=w>>>0}return res}utils.join32=join32;function split32(msg,endian){var res=new Array(msg.length*4);for(var i=0,k=0;i<msg.length;i++,k+=4){var m=msg[i];if(endian==="big"){res[k]=m>>>24;res[k+1]=m>>>16&255;res[k+2]=m>>>8&255;res[k+3]=m&255}else{res[k+3]=m>>>24;res[k+2]=m>>>16&255;res[k+1]=m>>>8&255;res[k]=m&255}}return res}utils.split32=split32;function rotr32(w,b){return w>>>b|w<<32-b}utils.rotr32=rotr32;function rotl32(w,b){return w<<b|w>>>32-b}utils.rotl32=rotl32;function sum32(a,b){return a+b>>>0}utils.sum32=sum32;function sum32_3(a,b,c){return a+b+c>>>0}utils.sum32_3=sum32_3;function sum32_4(a,b,c,d){return a+b+c+d>>>0}utils.sum32_4=sum32_4;function sum32_5(a,b,c,d,e){return a+b+c+d+e>>>0}utils.sum32_5=sum32_5;function assert(cond,msg){if(!cond)throw new Error(msg||"Assertion failed")}utils.assert=assert;utils.inherits=inherits;function sum64(buf,pos,ah,al){var bh=buf[pos];var bl=buf[pos+1];var lo=al+bl>>>0;var hi=(lo<al?1:0)+ah+bh;buf[pos]=hi>>>0;buf[pos+1]=lo}exports.sum64=sum64;function sum64_hi(ah,al,bh,bl){var lo=al+bl>>>0;var hi=(lo<al?1:0)+ah+bh;
return hi>>>0}exports.sum64_hi=sum64_hi;function sum64_lo(ah,al,bh,bl){var lo=al+bl;return lo>>>0}exports.sum64_lo=sum64_lo;function sum64_4_hi(ah,al,bh,bl,ch,cl,dh,dl){var carry=0;var lo=al;lo=lo+bl>>>0;carry+=lo<al?1:0;lo=lo+cl>>>0;carry+=lo<cl?1:0;lo=lo+dl>>>0;carry+=lo<dl?1:0;var hi=ah+bh+ch+dh+carry;return hi>>>0}exports.sum64_4_hi=sum64_4_hi;function sum64_4_lo(ah,al,bh,bl,ch,cl,dh,dl){var lo=al+bl+cl+dl;return lo>>>0}exports.sum64_4_lo=sum64_4_lo;function sum64_5_hi(ah,al,bh,bl,ch,cl,dh,dl,eh,el){var carry=0;var lo=al;lo=lo+bl>>>0;carry+=lo<al?1:0;lo=lo+cl>>>0;carry+=lo<cl?1:0;lo=lo+dl>>>0;carry+=lo<dl?1:0;lo=lo+el>>>0;carry+=lo<el?1:0;var hi=ah+bh+ch+dh+eh+carry;return hi>>>0}exports.sum64_5_hi=sum64_5_hi;function sum64_5_lo(ah,al,bh,bl,ch,cl,dh,dl,eh,el){var lo=al+bl+cl+dl+el;return lo>>>0}exports.sum64_5_lo=sum64_5_lo;function rotr64_hi(ah,al,num){var r=al<<32-num|ah>>>num;return r>>>0}exports.rotr64_hi=rotr64_hi;function rotr64_lo(ah,al,num){var r=ah<<32-num|al>>>num;return r>>>0}exports.rotr64_lo=rotr64_lo;function shr64_hi(ah,al,num){return ah>>>num}exports.shr64_hi=shr64_hi;function shr64_lo(ah,al,num){var r=ah<<32-num|al>>>num;return r>>>0}exports.shr64_lo=shr64_lo},{inherits:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/inherits/inherits_browser.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/https-browserify/index.js":[function(require,module,exports){var http=require("http");var https=module.exports;for(var key in http){if(http.hasOwnProperty(key))https[key]=http[key]}https.request=function(params,cb){if(!params)params={};params.scheme="https";params.protocol="https:";return http.request.call(this,params,cb)}},{http:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/stream-http/index.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/ieee754/index.js":[function(require,module,exports){exports.read=function(buffer,offset,isLE,mLen,nBytes){var e,m;var eLen=nBytes*8-mLen-1;var eMax=(1<<eLen)-1;var eBias=eMax>>1;var nBits=-7;var i=isLE?nBytes-1:0;var d=isLE?-1:1;var s=buffer[offset+i];i+=d;e=s&(1<<-nBits)-1;s>>=-nBits;nBits+=eLen;for(;nBits>0;e=e*256+buffer[offset+i],i+=d,nBits-=8){}m=e&(1<<-nBits)-1;e>>=-nBits;nBits+=mLen;for(;nBits>0;m=m*256+buffer[offset+i],i+=d,nBits-=8){}if(e===0){e=1-eBias}else if(e===eMax){return m?NaN:(s?-1:1)*Infinity}else{m=m+Math.pow(2,mLen);e=e-eBias}return(s?-1:1)*m*Math.pow(2,e-mLen)};exports.write=function(buffer,value,offset,isLE,mLen,nBytes){var e,m,c;var eLen=nBytes*8-mLen-1;var eMax=(1<<eLen)-1;var eBias=eMax>>1;var rt=mLen===23?Math.pow(2,-24)-Math.pow(2,-77):0;var i=isLE?0:nBytes-1;var d=isLE?1:-1;var s=value<0||value===0&&1/value<0?1:0;value=Math.abs(value);if(isNaN(value)||value===Infinity){m=isNaN(value)?1:0;e=eMax}else{e=Math.floor(Math.log(value)/Math.LN2);if(value*(c=Math.pow(2,-e))<1){e--;c*=2}if(e+eBias>=1){value+=rt/c}else{value+=rt*Math.pow(2,1-eBias)}if(value*c>=2){e++;c/=2}if(e+eBias>=eMax){m=0;e=eMax}else if(e+eBias>=1){m=(value*c-1)*Math.pow(2,mLen);e=e+eBias}else{m=value*Math.pow(2,eBias-1)*Math.pow(2,mLen);e=0}}for(;mLen>=8;buffer[offset+i]=m&255,i+=d,m/=256,mLen-=8){}e=e<<mLen|m;eLen+=mLen;for(;eLen>0;buffer[offset+i]=e&255,i+=d,e/=256,eLen-=8){}buffer[offset+i-d]|=s*128}},{}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/indexof/index.js":[function(require,module,exports){var indexOf=[].indexOf;module.exports=function(arr,obj){if(indexOf)return arr.indexOf(obj);for(var i=0;i<arr.length;++i){if(arr[i]===obj)return i}return-1}},{}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/inherits/inherits_browser.js":[function(require,module,exports){if(typeof Object.create==="function"){module.exports=function inherits(ctor,superCtor){ctor.super_=superCtor;ctor.prototype=Object.create(superCtor.prototype,{constructor:{value:ctor,enumerable:false,writable:true,configurable:true}})}}else{module.exports=function inherits(ctor,superCtor){ctor.super_=superCtor;var TempCtor=function(){};TempCtor.prototype=superCtor.prototype;ctor.prototype=new TempCtor;ctor.prototype.constructor=ctor}}},{}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/is-buffer/index.js":[function(require,module,exports){module.exports=function(obj){return!!(obj!=null&&(obj._isBuffer||obj.constructor&&typeof obj.constructor.isBuffer==="function"&&obj.constructor.isBuffer(obj)))}},{}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/is-expression/index.js":[function(require,module,exports){"use strict";var acorn=require("acorn");var objectAssign=require("object-assign");module.exports=isExpression;var DEFAULT_OPTIONS={throw:false,strict:false,lineComment:false};function isExpression(src,options){options=objectAssign({},DEFAULT_OPTIONS,options);try{var parser=new acorn.Parser(options,src,0);if(options.strict)parser.strict=true;if(!options.lineComment){parser.skipLineComment=function(startSkip){this.raise(this.pos,"Line comments not allowed in an expression")}}parser.nextToken();parser.parseExpression();if(parser.type!==acorn.tokTypes.eof)parser.unexpected()}catch(ex){if(!options.throw)return false;throw ex}return true}},{acorn:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/is-expression/node_modules/acorn/dist/acorn.js","object-assign":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/object-assign/index.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/is-expression/node_modules/acorn/dist/acorn.js":[function(require,module,exports){(function(global){(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.acorn=f()}})(function(){var define,module,exports;return function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s}({1:[function(_dereq_,module,exports){"use strict";var _tokentype=_dereq_("./tokentype");var _state=_dereq_("./state");var pp=_state.Parser.prototype;pp.checkPropClash=function(prop,propHash){if(this.options.ecmaVersion>=6&&(prop.computed||prop.method||prop.shorthand))return;var key=prop.key;var name=undefined;switch(key.type){case"Identifier":name=key.name;break;case"Literal":name=String(key.value);break;default:return}var kind=prop.kind;if(this.options.ecmaVersion>=6){if(name==="__proto__"&&kind==="init"){if(propHash.proto)this.raiseRecoverable(key.start,"Redefinition of __proto__ property");propHash.proto=true}return}name="$"+name;var other=propHash[name];if(other){var isGetSet=kind!=="init";if((this.strict||isGetSet)&&other[kind]||!(isGetSet^other.init))this.raiseRecoverable(key.start,"Redefinition of property")}else{other=propHash[name]={init:false,get:false,set:false}}other[kind]=true};pp.parseExpression=function(noIn,refDestructuringErrors){var startPos=this.start,startLoc=this.startLoc;var expr=this.parseMaybeAssign(noIn,refDestructuringErrors);if(this.type===_tokentype.types.comma){var node=this.startNodeAt(startPos,startLoc);node.expressions=[expr];while(this.eat(_tokentype.types.comma))node.expressions.push(this.parseMaybeAssign(noIn,refDestructuringErrors));return this.finishNode(node,"SequenceExpression")}return expr};pp.parseMaybeAssign=function(noIn,refDestructuringErrors,afterLeftParse){if(this.inGenerator&&this.isContextual("yield"))return this.parseYield();var validateDestructuring=false;if(!refDestructuringErrors){refDestructuringErrors={shorthandAssign:0,trailingComma:0};validateDestructuring=true}var startPos=this.start,startLoc=this.startLoc;if(this.type==_tokentype.types.parenL||this.type==_tokentype.types.name)this.potentialArrowAt=this.start;var left=this.parseMaybeConditional(noIn,refDestructuringErrors);if(afterLeftParse)left=afterLeftParse.call(this,left,startPos,startLoc);if(this.type.isAssign){if(validateDestructuring)this.checkPatternErrors(refDestructuringErrors,true);var node=this.startNodeAt(startPos,startLoc);node.operator=this.value;node.left=this.type===_tokentype.types.eq?this.toAssignable(left):left;refDestructuringErrors.shorthandAssign=0;this.checkLVal(left);this.next();node.right=this.parseMaybeAssign(noIn);return this.finishNode(node,"AssignmentExpression")}else{if(validateDestructuring)this.checkExpressionErrors(refDestructuringErrors,true)}return left};pp.parseMaybeConditional=function(noIn,refDestructuringErrors){var startPos=this.start,startLoc=this.startLoc;var expr=this.parseExprOps(noIn,refDestructuringErrors);if(this.checkExpressionErrors(refDestructuringErrors))return expr;if(this.eat(_tokentype.types.question)){var node=this.startNodeAt(startPos,startLoc);node.test=expr;node.consequent=this.parseMaybeAssign();this.expect(_tokentype.types.colon);node.alternate=this.parseMaybeAssign(noIn);return this.finishNode(node,"ConditionalExpression")}return expr};pp.parseExprOps=function(noIn,refDestructuringErrors){var startPos=this.start,startLoc=this.startLoc;var expr=this.parseMaybeUnary(refDestructuringErrors,false);if(this.checkExpressionErrors(refDestructuringErrors))return expr;return this.parseExprOp(expr,startPos,startLoc,-1,noIn)};pp.parseExprOp=function(left,leftStartPos,leftStartLoc,minPrec,noIn){var prec=this.type.binop;if(prec!=null&&(!noIn||this.type!==_tokentype.types._in)){if(prec>minPrec){var logical=this.type===_tokentype.types.logicalOR||this.type===_tokentype.types.logicalAND;var op=this.value;this.next();var startPos=this.start,startLoc=this.startLoc;var right=this.parseExprOp(this.parseMaybeUnary(null,false),startPos,startLoc,prec,noIn);var node=this.buildBinary(leftStartPos,leftStartLoc,left,right,op,logical);return this.parseExprOp(node,leftStartPos,leftStartLoc,minPrec,noIn)}}return left};pp.buildBinary=function(startPos,startLoc,left,right,op,logical){var node=this.startNodeAt(startPos,startLoc);node.left=left;node.operator=op;node.right=right;return this.finishNode(node,logical?"LogicalExpression":"BinaryExpression")};pp.parseMaybeUnary=function(refDestructuringErrors,sawUnary){var startPos=this.start,startLoc=this.startLoc,expr=undefined;if(this.type.prefix){var node=this.startNode(),update=this.type===_tokentype.types.incDec;node.operator=this.value;node.prefix=true;this.next();node.argument=this.parseMaybeUnary(null,true);this.checkExpressionErrors(refDestructuringErrors,true);if(update)this.checkLVal(node.argument);else if(this.strict&&node.operator==="delete"&&node.argument.type==="Identifier")this.raiseRecoverable(node.start,"Deleting local variable in strict mode");else sawUnary=true;expr=this.finishNode(node,update?"UpdateExpression":"UnaryExpression")}else{expr=this.parseExprSubscripts(refDestructuringErrors);if(this.checkExpressionErrors(refDestructuringErrors))return expr;while(this.type.postfix&&!this.canInsertSemicolon()){var node=this.startNodeAt(startPos,startLoc);node.operator=this.value;node.prefix=false;node.argument=expr;this.checkLVal(expr);this.next();expr=this.finishNode(node,"UpdateExpression")}}if(!sawUnary&&this.eat(_tokentype.types.starstar))return this.buildBinary(startPos,startLoc,expr,this.parseMaybeUnary(null,false),"**",false);else return expr};pp.parseExprSubscripts=function(refDestructuringErrors){var startPos=this.start,startLoc=this.startLoc;var expr=this.parseExprAtom(refDestructuringErrors);var skipArrowSubscripts=expr.type==="ArrowFunctionExpression"&&this.input.slice(this.lastTokStart,this.lastTokEnd)!==")";if(this.checkExpressionErrors(refDestructuringErrors)||skipArrowSubscripts)return expr;return this.parseSubscripts(expr,startPos,startLoc)};pp.parseSubscripts=function(base,startPos,startLoc,noCalls){for(;;){if(this.eat(_tokentype.types.dot)){var node=this.startNodeAt(startPos,startLoc);node.object=base;node.property=this.parseIdent(true);node.computed=false;base=this.finishNode(node,"MemberExpression")}else if(this.eat(_tokentype.types.bracketL)){var node=this.startNodeAt(startPos,startLoc);node.object=base;node.property=this.parseExpression();node.computed=true;this.expect(_tokentype.types.bracketR);base=this.finishNode(node,"MemberExpression")}else if(!noCalls&&this.eat(_tokentype.types.parenL)){var node=this.startNodeAt(startPos,startLoc);node.callee=base;node.arguments=this.parseExprList(_tokentype.types.parenR,false);base=this.finishNode(node,"CallExpression")}else if(this.type===_tokentype.types.backQuote){var node=this.startNodeAt(startPos,startLoc);node.tag=base;node.quasi=this.parseTemplate();base=this.finishNode(node,"TaggedTemplateExpression")}else{return base}}};pp.parseExprAtom=function(refDestructuringErrors){var node=undefined,canBeArrow=this.potentialArrowAt==this.start;switch(this.type){case _tokentype.types._super:if(!this.inFunction)this.raise(this.start,"'super' outside of function or class");case _tokentype.types._this:var type=this.type===_tokentype.types._this?"ThisExpression":"Super";node=this.startNode();this.next();return this.finishNode(node,type);case _tokentype.types.name:var startPos=this.start,startLoc=this.startLoc;var id=this.parseIdent(this.type!==_tokentype.types.name);if(canBeArrow&&!this.canInsertSemicolon()&&this.eat(_tokentype.types.arrow))return this.parseArrowExpression(this.startNodeAt(startPos,startLoc),[id]);return id;case _tokentype.types.regexp:var value=this.value;node=this.parseLiteral(value.value);node.regex={pattern:value.pattern,flags:value.flags};return node;case _tokentype.types.num:case _tokentype.types.string:return this.parseLiteral(this.value);case _tokentype.types._null:case _tokentype.types._true:case _tokentype.types._false:node=this.startNode();node.value=this.type===_tokentype.types._null?null:this.type===_tokentype.types._true;node.raw=this.type.keyword;this.next();return this.finishNode(node,"Literal");case _tokentype.types.parenL:return this.parseParenAndDistinguishExpression(canBeArrow);case _tokentype.types.bracketL:node=this.startNode();this.next();node.elements=this.parseExprList(_tokentype.types.bracketR,true,true,refDestructuringErrors);return this.finishNode(node,"ArrayExpression");case _tokentype.types.braceL:return this.parseObj(false,refDestructuringErrors);case _tokentype.types._function:node=this.startNode();this.next();return this.parseFunction(node,false);case _tokentype.types._class:return this.parseClass(this.startNode(),false);case _tokentype.types._new:return this.parseNew();case _tokentype.types.backQuote:return this.parseTemplate();default:this.unexpected()}};pp.parseLiteral=function(value){var node=this.startNode();node.value=value;node.raw=this.input.slice(this.start,this.end);this.next();return this.finishNode(node,"Literal")};pp.parseParenExpression=function(){this.expect(_tokentype.types.parenL);var val=this.parseExpression();this.expect(_tokentype.types.parenR);return val};pp.parseParenAndDistinguishExpression=function(canBeArrow){var startPos=this.start,startLoc=this.startLoc,val=undefined;if(this.options.ecmaVersion>=6){this.next();var innerStartPos=this.start,innerStartLoc=this.startLoc;var exprList=[],first=true;var refDestructuringErrors={shorthandAssign:0,trailingComma:0},spreadStart=undefined,innerParenStart=undefined;while(this.type!==_tokentype.types.parenR){first?first=false:this.expect(_tokentype.types.comma);if(this.type===_tokentype.types.ellipsis){spreadStart=this.start;exprList.push(this.parseParenItem(this.parseRest()));break}else{if(this.type===_tokentype.types.parenL&&!innerParenStart){innerParenStart=this.start}exprList.push(this.parseMaybeAssign(false,refDestructuringErrors,this.parseParenItem))}}var innerEndPos=this.start,innerEndLoc=this.startLoc;this.expect(_tokentype.types.parenR);if(canBeArrow&&!this.canInsertSemicolon()&&this.eat(_tokentype.types.arrow)){this.checkPatternErrors(refDestructuringErrors,true);if(innerParenStart)this.unexpected(innerParenStart);return this.parseParenArrowList(startPos,startLoc,exprList)}if(!exprList.length)this.unexpected(this.lastTokStart);if(spreadStart)this.unexpected(spreadStart);this.checkExpressionErrors(refDestructuringErrors,true);if(exprList.length>1){val=this.startNodeAt(innerStartPos,innerStartLoc);val.expressions=exprList;this.finishNodeAt(val,"SequenceExpression",innerEndPos,innerEndLoc)}else{val=exprList[0]}}else{val=this.parseParenExpression()}if(this.options.preserveParens){var par=this.startNodeAt(startPos,startLoc);par.expression=val;return this.finishNode(par,"ParenthesizedExpression")}else{return val}};pp.parseParenItem=function(item){return item};pp.parseParenArrowList=function(startPos,startLoc,exprList){return this.parseArrowExpression(this.startNodeAt(startPos,startLoc),exprList)};var empty=[];pp.parseNew=function(){var node=this.startNode();var meta=this.parseIdent(true);if(this.options.ecmaVersion>=6&&this.eat(_tokentype.types.dot)){node.meta=meta;node.property=this.parseIdent(true);if(node.property.name!=="target")this.raiseRecoverable(node.property.start,"The only valid meta property for new is new.target");if(!this.inFunction)this.raiseRecoverable(node.start,"new.target can only be used in functions");return this.finishNode(node,"MetaProperty")}var startPos=this.start,startLoc=this.startLoc;node.callee=this.parseSubscripts(this.parseExprAtom(),startPos,startLoc,true);if(this.eat(_tokentype.types.parenL))node.arguments=this.parseExprList(_tokentype.types.parenR,false);else node.arguments=empty;return this.finishNode(node,"NewExpression")};pp.parseTemplateElement=function(){var elem=this.startNode();elem.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,"\n"),cooked:this.value};this.next();elem.tail=this.type===_tokentype.types.backQuote;return this.finishNode(elem,"TemplateElement")};pp.parseTemplate=function(){var node=this.startNode();this.next();node.expressions=[];var curElt=this.parseTemplateElement();node.quasis=[curElt];while(!curElt.tail){this.expect(_tokentype.types.dollarBraceL);node.expressions.push(this.parseExpression());this.expect(_tokentype.types.braceR);node.quasis.push(curElt=this.parseTemplateElement())}this.next();return this.finishNode(node,"TemplateLiteral")};pp.parseObj=function(isPattern,refDestructuringErrors){var node=this.startNode(),first=true,propHash={};node.properties=[];this.next();while(!this.eat(_tokentype.types.braceR)){if(!first){this.expect(_tokentype.types.comma);if(this.afterTrailingComma(_tokentype.types.braceR))break}else first=false;var prop=this.startNode(),isGenerator=undefined,startPos=undefined,startLoc=undefined;if(this.options.ecmaVersion>=6){prop.method=false;prop.shorthand=false;if(isPattern||refDestructuringErrors){startPos=this.start;startLoc=this.startLoc}if(!isPattern)isGenerator=this.eat(_tokentype.types.star)}this.parsePropertyName(prop);this.parsePropertyValue(prop,isPattern,isGenerator,startPos,startLoc,refDestructuringErrors);this.checkPropClash(prop,propHash);node.properties.push(this.finishNode(prop,"Property"))}return this.finishNode(node,isPattern?"ObjectPattern":"ObjectExpression")};pp.parsePropertyValue=function(prop,isPattern,isGenerator,startPos,startLoc,refDestructuringErrors){if(this.eat(_tokentype.types.colon)){prop.value=isPattern?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(false,refDestructuringErrors);prop.kind="init"}else if(this.options.ecmaVersion>=6&&this.type===_tokentype.types.parenL){if(isPattern)this.unexpected();prop.kind="init";prop.method=true;prop.value=this.parseMethod(isGenerator)}else if(this.options.ecmaVersion>=5&&!prop.computed&&prop.key.type==="Identifier"&&(prop.key.name==="get"||prop.key.name==="set")&&this.type!=_tokentype.types.comma&&this.type!=_tokentype.types.braceR){if(isGenerator||isPattern)this.unexpected();prop.kind=prop.key.name;this.parsePropertyName(prop);prop.value=this.parseMethod(false);var paramCount=prop.kind==="get"?0:1;if(prop.value.params.length!==paramCount){var start=prop.value.start;if(prop.kind==="get")this.raiseRecoverable(start,"getter should have no params");else this.raiseRecoverable(start,"setter should have exactly one param")}if(prop.kind==="set"&&prop.value.params[0].type==="RestElement")this.raiseRecoverable(prop.value.params[0].start,"Setter cannot use rest params")}else if(this.options.ecmaVersion>=6&&!prop.computed&&prop.key.type==="Identifier"){prop.kind="init";if(isPattern){if(this.keywords.test(prop.key.name)||(this.strict?this.reservedWordsStrictBind:this.reservedWords).test(prop.key.name)||this.inGenerator&&prop.key.name=="yield")this.raiseRecoverable(prop.key.start,"Binding "+prop.key.name);prop.value=this.parseMaybeDefault(startPos,startLoc,prop.key)}else if(this.type===_tokentype.types.eq&&refDestructuringErrors){if(!refDestructuringErrors.shorthandAssign)refDestructuringErrors.shorthandAssign=this.start;prop.value=this.parseMaybeDefault(startPos,startLoc,prop.key)}else{prop.value=prop.key}prop.shorthand=true}else this.unexpected()};pp.parsePropertyName=function(prop){if(this.options.ecmaVersion>=6){if(this.eat(_tokentype.types.bracketL)){prop.computed=true;prop.key=this.parseMaybeAssign();this.expect(_tokentype.types.bracketR);return prop.key}else{prop.computed=false}}return prop.key=this.type===_tokentype.types.num||this.type===_tokentype.types.string?this.parseExprAtom():this.parseIdent(true)};pp.initFunction=function(node){node.id=null;if(this.options.ecmaVersion>=6){node.generator=false;node.expression=false}};pp.parseMethod=function(isGenerator){var node=this.startNode(),oldInGen=this.inGenerator;this.inGenerator=isGenerator;this.initFunction(node);this.expect(_tokentype.types.parenL);node.params=this.parseBindingList(_tokentype.types.parenR,false,false);if(this.options.ecmaVersion>=6)node.generator=isGenerator;this.parseFunctionBody(node,false);this.inGenerator=oldInGen;return this.finishNode(node,"FunctionExpression")};pp.parseArrowExpression=function(node,params){var oldInGen=this.inGenerator;this.inGenerator=false;this.initFunction(node);node.params=this.toAssignableList(params,true);this.parseFunctionBody(node,true);this.inGenerator=oldInGen;return this.finishNode(node,"ArrowFunctionExpression")};pp.parseFunctionBody=function(node,isArrowFunction){var isExpression=isArrowFunction&&this.type!==_tokentype.types.braceL;if(isExpression){node.body=this.parseMaybeAssign();node.expression=true}else{var oldInFunc=this.inFunction,oldLabels=this.labels;this.inFunction=true;this.labels=[];node.body=this.parseBlock(true);node.expression=false;this.inFunction=oldInFunc;this.labels=oldLabels}if(this.strict||!isExpression&&node.body.body.length&&this.isUseStrict(node.body.body[0])){var oldStrict=this.strict;this.strict=true;if(node.id)this.checkLVal(node.id,true);this.checkParams(node);this.strict=oldStrict}else if(isArrowFunction){this.checkParams(node)}};pp.checkParams=function(node){var nameHash={};for(var i=0;i<node.params.length;i++){this.checkLVal(node.params[i],true,nameHash)}};pp.parseExprList=function(close,allowTrailingComma,allowEmpty,refDestructuringErrors){var elts=[],first=true;while(!this.eat(close)){if(!first){this.expect(_tokentype.types.comma);if(allowTrailingComma&&this.afterTrailingComma(close))break}else first=false;var elt=undefined;if(allowEmpty&&this.type===_tokentype.types.comma)elt=null;else if(this.type===_tokentype.types.ellipsis){elt=this.parseSpread(refDestructuringErrors);if(this.type===_tokentype.types.comma&&refDestructuringErrors&&!refDestructuringErrors.trailingComma){refDestructuringErrors.trailingComma=this.lastTokStart}}else elt=this.parseMaybeAssign(false,refDestructuringErrors);elts.push(elt)}return elts};pp.parseIdent=function(liberal){var node=this.startNode();if(liberal&&this.options.allowReserved=="never")liberal=false;if(this.type===_tokentype.types.name){if(!liberal&&(this.strict?this.reservedWordsStrict:this.reservedWords).test(this.value)&&(this.options.ecmaVersion>=6||this.input.slice(this.start,this.end).indexOf("\\")==-1))this.raiseRecoverable(this.start,"The keyword '"+this.value+"' is reserved");if(!liberal&&this.inGenerator&&this.value==="yield")this.raiseRecoverable(this.start,"Can not use 'yield' as identifier inside a generator");node.name=this.value}else if(liberal&&this.type.keyword){node.name=this.type.keyword}else{this.unexpected()}this.next();return this.finishNode(node,"Identifier")};pp.parseYield=function(){var node=this.startNode();this.next();if(this.type==_tokentype.types.semi||this.canInsertSemicolon()||this.type!=_tokentype.types.star&&!this.type.startsExpr){node.delegate=false;node.argument=null}else{node.delegate=this.eat(_tokentype.types.star);node.argument=this.parseMaybeAssign()}return this.finishNode(node,"YieldExpression")}},{"./state":10,"./tokentype":14}],2:[function(_dereq_,module,exports){"use strict";exports.__esModule=true;exports.isIdentifierStart=isIdentifierStart;exports.isIdentifierChar=isIdentifierChar;var reservedWords={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",7:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"};exports.reservedWords=reservedWords;var ecma5AndLessKeywords="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this";var keywords={5:ecma5AndLessKeywords,6:ecma5AndLessKeywords+" const class extends export import super"};exports.keywords=keywords;var nonASCIIidentifierStartChars="ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԯԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠ-ࢴऄ-हऽॐक़-ॡॱ-ঀঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡૹଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-హఽౘ-ౚౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൟ-ൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏽᏸ-ᏽᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛸᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤞᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕ℘-ℝℤΩℨK-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞ々-〇〡-〩〱-〵〸-〼ぁ-ゖ゛-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿕ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚝꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞭꞰ-ꞷꟷ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꣽꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꧠ-ꧤꧦ-ꧯꧺ-ꧾꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꩾ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭥꭰ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ";var nonASCIIidentifierChars="‌‍·̀-ͯ·҃-֑҇-ׇֽֿׁׂׅׄؐ-ًؚ-٩ٰۖ-ۜ۟-۪ۤۧۨ-ۭ۰-۹ܑܰ-݊ަ-ް߀-߉߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ࣣ-ःऺ-़ा-ॏ॑-ॗॢॣ०-९ঁ-ঃ়া-ৄেৈো-্ৗৢৣ০-৯ਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑ੦-ੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢૣ૦-૯ଁ-ଃ଼ା-ୄେୈୋ-୍ୖୗୢୣ୦-୯ஂா-ூெ-ைொ-்ௗ௦-௯ఀ-ఃా-ౄె-ైొ-్ౕౖౢౣ౦-౯ಁ-ಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢೣ೦-೯ഁ-ഃാ-ൄെ-ൈൊ-്ൗൢൣ൦-൯ංඃ්ා-ුූෘ-ෟ෦-෯ෲෳัิ-ฺ็-๎๐-๙ັິ-ູົຼ່-ໍ໐-໙༘༙༠-༩༹༵༷༾༿ཱ-྄྆྇ྍ-ྗྙ-ྼ࿆ါ-ှ၀-၉ၖ-ၙၞ-ၠၢ-ၤၧ-ၭၱ-ၴႂ-ႍႏ-ႝ፝-፟፩-፱ᜒ-᜔ᜲ-᜴ᝒᝓᝲᝳ឴-៓៝០-៩᠋-᠍᠐-᠙ᢩᤠ-ᤫᤰ-᤻᥆-᥏᧐-᧚ᨗ-ᨛᩕ-ᩞ᩠-᩿᩼-᪉᪐-᪙᪰-᪽ᬀ-ᬄ᬴-᭄᭐-᭙᭫-᭳ᮀ-ᮂᮡ-ᮭ᮰-᮹᯦-᯳ᰤ-᰷᱀-᱉᱐-᱙᳐-᳔᳒-᳨᳭ᳲ-᳴᳸᳹᷀-᷵᷼-᷿‿⁀⁔⃐-⃥⃜⃡-⃰⳯-⵿⳱ⷠ-〪ⷿ-゙゚〯꘠-꘩꙯ꙴ-꙽ꚞꚟ꛰꛱ꠂ꠆ꠋꠣ-ꠧꢀꢁꢴ-꣄꣐-꣙꣠-꣱꤀-꤉ꤦ-꤭ꥇ-꥓ꦀ-ꦃ꦳-꧀꧐-꧙ꧥ꧰-꧹ꨩ-ꨶꩃꩌꩍ꩐-꩙ꩻ-ꩽꪰꪲ-ꪴꪷꪸꪾ꪿꫁ꫫ-ꫯꫵ꫶ꯣ-ꯪ꯬꯭꯰-꯹ﬞ︀-️︠-︯︳︴﹍-﹏０-９＿";var nonASCIIidentifierStart=new RegExp("["+nonASCIIidentifierStartChars+"]");var nonASCIIidentifier=new RegExp("["+nonASCIIidentifierStartChars+nonASCIIidentifierChars+"]");nonASCIIidentifierStartChars=nonASCIIidentifierChars=null;var astralIdentifierStartCodes=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,17,26,6,37,11,29,3,35,5,7,2,4,43,157,99,39,9,51,157,310,10,21,11,7,153,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,26,45,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,785,52,76,44,33,24,27,35,42,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,85,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,287,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,86,25,391,63,32,0,449,56,1288,921,103,110,18,195,2749,1070,4050,582,8634,568,8,30,114,29,19,47,17,3,32,20,6,18,881,68,12,0,67,12,16481,1,3071,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,4149,196,1340,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42710,42,4148,12,221,3,5761,10591,541];var astralIdentifierCodes=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,1306,2,54,14,32,9,16,3,46,10,54,9,7,2,37,13,2,9,52,0,13,2,49,13,10,2,4,9,83,11,168,11,6,9,7,3,57,0,2,6,3,1,3,2,10,0,11,1,3,6,4,4,316,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,423,9,20855,9,135,4,60,6,26,9,1016,45,17,3,19723,1,5319,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,3617,6,792618,239];function isInAstralSet(code,set){var pos=65536;for(var i=0;i<set.length;i+=2){pos+=set[i];if(pos>code)return false;pos+=set[i+1];if(pos>=code)return true}}function isIdentifierStart(code,astral){if(code<65)return code===36;if(code<91)return true;if(code<97)return code===95;if(code<123)return true;if(code<=65535)return code>=170&&nonASCIIidentifierStart.test(String.fromCharCode(code));if(astral===false)return false;return isInAstralSet(code,astralIdentifierStartCodes)}function isIdentifierChar(code,astral){if(code<48)return code===36;if(code<58)return true;if(code<65)return false;if(code<91)return true;if(code<97)return code===95;if(code<123)return true;if(code<=65535)return code>=170&&nonASCIIidentifier.test(String.fromCharCode(code));if(astral===false)return false;return isInAstralSet(code,astralIdentifierStartCodes)||isInAstralSet(code,astralIdentifierCodes)}},{}],3:[function(_dereq_,module,exports){"use strict";exports.__esModule=true;exports.parse=parse;exports.parseExpressionAt=parseExpressionAt;exports.tokenizer=tokenizer;var _state=_dereq_("./state");_dereq_("./parseutil");_dereq_("./statement");_dereq_("./lval");_dereq_("./expression");_dereq_("./location");exports.Parser=_state.Parser;exports.plugins=_state.plugins;var _options=_dereq_("./options");exports.defaultOptions=_options.defaultOptions;var _locutil=_dereq_("./locutil");exports.Position=_locutil.Position;exports.SourceLocation=_locutil.SourceLocation;exports.getLineInfo=_locutil.getLineInfo;var _node=_dereq_("./node");exports.Node=_node.Node;var _tokentype=_dereq_("./tokentype");exports.TokenType=_tokentype.TokenType;exports.tokTypes=_tokentype.types;var _tokencontext=_dereq_("./tokencontext");exports.TokContext=_tokencontext.TokContext;exports.tokContexts=_tokencontext.types;var _identifier=_dereq_("./identifier");exports.isIdentifierChar=_identifier.isIdentifierChar;exports.isIdentifierStart=_identifier.isIdentifierStart;var _tokenize=_dereq_("./tokenize");exports.Token=_tokenize.Token;var _whitespace=_dereq_("./whitespace");exports.isNewLine=_whitespace.isNewLine;exports.lineBreak=_whitespace.lineBreak;exports.lineBreakG=_whitespace.lineBreakG;var version="3.1.0";exports.version=version;function parse(input,options){return new _state.Parser(options,input).parse()}function parseExpressionAt(input,pos,options){var p=new _state.Parser(options,input,pos);p.nextToken();return p.parseExpression()}function tokenizer(input,options){return new _state.Parser(options,input)}},{"./expression":1,"./identifier":2,"./location":4,"./locutil":5,"./lval":6,"./node":7,"./options":8,"./parseutil":9,"./state":10,"./statement":11,"./tokencontext":12,"./tokenize":13,"./tokentype":14,"./whitespace":16}],4:[function(_dereq_,module,exports){"use strict";var _state=_dereq_("./state");var _locutil=_dereq_("./locutil");
var pp=_state.Parser.prototype;pp.raise=function(pos,message){var loc=_locutil.getLineInfo(this.input,pos);message+=" ("+loc.line+":"+loc.column+")";var err=new SyntaxError(message);err.pos=pos;err.loc=loc;err.raisedAt=this.pos;throw err};pp.raiseRecoverable=pp.raise;pp.curPosition=function(){if(this.options.locations){return new _locutil.Position(this.curLine,this.pos-this.lineStart)}}},{"./locutil":5,"./state":10}],5:[function(_dereq_,module,exports){"use strict";exports.__esModule=true;exports.getLineInfo=getLineInfo;function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var _whitespace=_dereq_("./whitespace");var Position=function(){function Position(line,col){_classCallCheck(this,Position);this.line=line;this.column=col}Position.prototype.offset=function offset(n){return new Position(this.line,this.column+n)};return Position}();exports.Position=Position;var SourceLocation=function SourceLocation(p,start,end){_classCallCheck(this,SourceLocation);this.start=start;this.end=end;if(p.sourceFile!==null)this.source=p.sourceFile};exports.SourceLocation=SourceLocation;function getLineInfo(input,offset){for(var line=1,cur=0;;){_whitespace.lineBreakG.lastIndex=cur;var match=_whitespace.lineBreakG.exec(input);if(match&&match.index<offset){++line;cur=match.index+match[0].length}else{return new Position(line,offset-cur)}}}},{"./whitespace":16}],6:[function(_dereq_,module,exports){"use strict";var _tokentype=_dereq_("./tokentype");var _state=_dereq_("./state");var _util=_dereq_("./util");var pp=_state.Parser.prototype;pp.toAssignable=function(node,isBinding){if(this.options.ecmaVersion>=6&&node){switch(node.type){case"Identifier":case"ObjectPattern":case"ArrayPattern":break;case"ObjectExpression":node.type="ObjectPattern";for(var i=0;i<node.properties.length;i++){var prop=node.properties[i];if(prop.kind!=="init")this.raise(prop.key.start,"Object pattern can't contain getter or setter");this.toAssignable(prop.value,isBinding)}break;case"ArrayExpression":node.type="ArrayPattern";this.toAssignableList(node.elements,isBinding);break;case"AssignmentExpression":if(node.operator==="="){node.type="AssignmentPattern";delete node.operator}else{this.raise(node.left.end,"Only '=' operator can be used for specifying default value.");break}case"AssignmentPattern":if(node.right.type==="YieldExpression")this.raise(node.right.start,"Yield expression cannot be a default value");break;case"ParenthesizedExpression":node.expression=this.toAssignable(node.expression,isBinding);break;case"MemberExpression":if(!isBinding)break;default:this.raise(node.start,"Assigning to rvalue")}}return node};pp.toAssignableList=function(exprList,isBinding){var end=exprList.length;if(end){var last=exprList[end-1];if(last&&last.type=="RestElement"){--end}else if(last&&last.type=="SpreadElement"){last.type="RestElement";var arg=last.argument;this.toAssignable(arg,isBinding);if(arg.type!=="Identifier"&&arg.type!=="MemberExpression"&&arg.type!=="ArrayPattern")this.unexpected(arg.start);--end}if(isBinding&&last.type==="RestElement"&&last.argument.type!=="Identifier")this.unexpected(last.argument.start)}for(var i=0;i<end;i++){var elt=exprList[i];if(elt)this.toAssignable(elt,isBinding)}return exprList};pp.parseSpread=function(refDestructuringErrors){var node=this.startNode();this.next();node.argument=this.parseMaybeAssign(refDestructuringErrors);return this.finishNode(node,"SpreadElement")};pp.parseRest=function(allowNonIdent){var node=this.startNode();this.next();if(allowNonIdent)node.argument=this.type===_tokentype.types.name?this.parseIdent():this.unexpected();else node.argument=this.type===_tokentype.types.name||this.type===_tokentype.types.bracketL?this.parseBindingAtom():this.unexpected();return this.finishNode(node,"RestElement")};pp.parseBindingAtom=function(){if(this.options.ecmaVersion<6)return this.parseIdent();switch(this.type){case _tokentype.types.name:return this.parseIdent();case _tokentype.types.bracketL:var node=this.startNode();this.next();node.elements=this.parseBindingList(_tokentype.types.bracketR,true,true);return this.finishNode(node,"ArrayPattern");case _tokentype.types.braceL:return this.parseObj(true);default:this.unexpected()}};pp.parseBindingList=function(close,allowEmpty,allowTrailingComma,allowNonIdent){var elts=[],first=true;while(!this.eat(close)){if(first)first=false;else this.expect(_tokentype.types.comma);if(allowEmpty&&this.type===_tokentype.types.comma){elts.push(null)}else if(allowTrailingComma&&this.afterTrailingComma(close)){break}else if(this.type===_tokentype.types.ellipsis){var rest=this.parseRest(allowNonIdent);this.parseBindingListItem(rest);elts.push(rest);if(this.type===_tokentype.types.comma)this.raise(this.start,"Comma is not permitted after the rest element");this.expect(close);break}else{var elem=this.parseMaybeDefault(this.start,this.startLoc);this.parseBindingListItem(elem);elts.push(elem)}}return elts};pp.parseBindingListItem=function(param){return param};pp.parseMaybeDefault=function(startPos,startLoc,left){left=left||this.parseBindingAtom();if(this.options.ecmaVersion<6||!this.eat(_tokentype.types.eq))return left;var node=this.startNodeAt(startPos,startLoc);node.left=left;node.right=this.parseMaybeAssign();return this.finishNode(node,"AssignmentPattern")};pp.checkLVal=function(expr,isBinding,checkClashes){switch(expr.type){case"Identifier":if(this.strict&&this.reservedWordsStrictBind.test(expr.name))this.raiseRecoverable(expr.start,(isBinding?"Binding ":"Assigning to ")+expr.name+" in strict mode");if(checkClashes){if(_util.has(checkClashes,expr.name))this.raiseRecoverable(expr.start,"Argument name clash");checkClashes[expr.name]=true}break;case"MemberExpression":if(isBinding)this.raiseRecoverable(expr.start,(isBinding?"Binding":"Assigning to")+" member expression");break;case"ObjectPattern":for(var i=0;i<expr.properties.length;i++){this.checkLVal(expr.properties[i].value,isBinding,checkClashes)}break;case"ArrayPattern":for(var i=0;i<expr.elements.length;i++){var elem=expr.elements[i];if(elem)this.checkLVal(elem,isBinding,checkClashes)}break;case"AssignmentPattern":this.checkLVal(expr.left,isBinding,checkClashes);break;case"RestElement":this.checkLVal(expr.argument,isBinding,checkClashes);break;case"ParenthesizedExpression":this.checkLVal(expr.expression,isBinding,checkClashes);break;default:this.raise(expr.start,(isBinding?"Binding":"Assigning to")+" rvalue")}}},{"./state":10,"./tokentype":14,"./util":15}],7:[function(_dereq_,module,exports){"use strict";exports.__esModule=true;function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var _state=_dereq_("./state");var _locutil=_dereq_("./locutil");var Node=function Node(parser,pos,loc){_classCallCheck(this,Node);this.type="";this.start=pos;this.end=0;if(parser.options.locations)this.loc=new _locutil.SourceLocation(parser,loc);if(parser.options.directSourceFile)this.sourceFile=parser.options.directSourceFile;if(parser.options.ranges)this.range=[pos,0]};exports.Node=Node;var pp=_state.Parser.prototype;pp.startNode=function(){return new Node(this,this.start,this.startLoc)};pp.startNodeAt=function(pos,loc){return new Node(this,pos,loc)};function finishNodeAt(node,type,pos,loc){node.type=type;node.end=pos;if(this.options.locations)node.loc.end=loc;if(this.options.ranges)node.range[1]=pos;return node}pp.finishNode=function(node,type){return finishNodeAt.call(this,node,type,this.lastTokEnd,this.lastTokEndLoc)};pp.finishNodeAt=function(node,type,pos,loc){return finishNodeAt.call(this,node,type,pos,loc)}},{"./locutil":5,"./state":10}],8:[function(_dereq_,module,exports){"use strict";exports.__esModule=true;exports.getOptions=getOptions;var _util=_dereq_("./util");var _locutil=_dereq_("./locutil");var defaultOptions={ecmaVersion:6,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:false,allowImportExportEverywhere:false,allowHashBang:false,locations:false,onToken:null,onComment:null,ranges:false,program:null,sourceFile:null,directSourceFile:null,preserveParens:false,plugins:{}};exports.defaultOptions=defaultOptions;function getOptions(opts){var options={};for(var opt in defaultOptions){options[opt]=opts&&_util.has(opts,opt)?opts[opt]:defaultOptions[opt]}if(options.allowReserved==null)options.allowReserved=options.ecmaVersion<5;if(_util.isArray(options.onToken)){(function(){var tokens=options.onToken;options.onToken=function(token){return tokens.push(token)}})()}if(_util.isArray(options.onComment))options.onComment=pushComment(options,options.onComment);return options}function pushComment(options,array){return function(block,text,start,end,startLoc,endLoc){var comment={type:block?"Block":"Line",value:text,start:start,end:end};if(options.locations)comment.loc=new _locutil.SourceLocation(this,startLoc,endLoc);if(options.ranges)comment.range=[start,end];array.push(comment)}}},{"./locutil":5,"./util":15}],9:[function(_dereq_,module,exports){"use strict";var _tokentype=_dereq_("./tokentype");var _state=_dereq_("./state");var _whitespace=_dereq_("./whitespace");var pp=_state.Parser.prototype;pp.isUseStrict=function(stmt){return this.options.ecmaVersion>=5&&stmt.type==="ExpressionStatement"&&stmt.expression.type==="Literal"&&stmt.expression.raw.slice(1,-1)==="use strict"};pp.eat=function(type){if(this.type===type){this.next();return true}else{return false}};pp.isContextual=function(name){return this.type===_tokentype.types.name&&this.value===name};pp.eatContextual=function(name){return this.value===name&&this.eat(_tokentype.types.name)};pp.expectContextual=function(name){if(!this.eatContextual(name))this.unexpected()};pp.canInsertSemicolon=function(){return this.type===_tokentype.types.eof||this.type===_tokentype.types.braceR||_whitespace.lineBreak.test(this.input.slice(this.lastTokEnd,this.start))};pp.insertSemicolon=function(){if(this.canInsertSemicolon()){if(this.options.onInsertedSemicolon)this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc);return true}};pp.semicolon=function(){if(!this.eat(_tokentype.types.semi)&&!this.insertSemicolon())this.unexpected()};pp.afterTrailingComma=function(tokType){if(this.type==tokType){if(this.options.onTrailingComma)this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc);this.next();return true}};pp.expect=function(type){this.eat(type)||this.unexpected()};pp.unexpected=function(pos){this.raise(pos!=null?pos:this.start,"Unexpected token")};pp.checkPatternErrors=function(refDestructuringErrors,andThrow){var pos=refDestructuringErrors&&refDestructuringErrors.trailingComma;if(!andThrow)return!!pos;if(pos)this.raise(pos,"Comma is not permitted after the rest element")};pp.checkExpressionErrors=function(refDestructuringErrors,andThrow){var pos=refDestructuringErrors&&refDestructuringErrors.shorthandAssign;if(!andThrow)return!!pos;if(pos)this.raise(pos,"Shorthand property assignments are valid only in destructuring patterns")}},{"./state":10,"./tokentype":14,"./whitespace":16}],10:[function(_dereq_,module,exports){"use strict";exports.__esModule=true;function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var _identifier=_dereq_("./identifier");var _tokentype=_dereq_("./tokentype");var _whitespace=_dereq_("./whitespace");var _options=_dereq_("./options");var plugins={};exports.plugins=plugins;function keywordRegexp(words){return new RegExp("^("+words.replace(/ /g,"|")+")$")}var Parser=function(){function Parser(options,input,startPos){_classCallCheck(this,Parser);this.options=options=_options.getOptions(options);this.sourceFile=options.sourceFile;this.keywords=keywordRegexp(_identifier.keywords[options.ecmaVersion>=6?6:5]);var reserved=options.allowReserved?"":_identifier.reservedWords[options.ecmaVersion]+(options.sourceType=="module"?" await":"");this.reservedWords=keywordRegexp(reserved);var reservedStrict=(reserved?reserved+" ":"")+_identifier.reservedWords.strict;this.reservedWordsStrict=keywordRegexp(reservedStrict);this.reservedWordsStrictBind=keywordRegexp(reservedStrict+" "+_identifier.reservedWords.strictBind);this.input=String(input);this.containsEsc=false;this.loadPlugins(options.plugins);if(startPos){this.pos=startPos;this.lineStart=Math.max(0,this.input.lastIndexOf("\n",startPos));this.curLine=this.input.slice(0,this.lineStart).split(_whitespace.lineBreak).length}else{this.pos=this.lineStart=0;this.curLine=1}this.type=_tokentype.types.eof;this.value=null;this.start=this.end=this.pos;this.startLoc=this.endLoc=this.curPosition();this.lastTokEndLoc=this.lastTokStartLoc=null;this.lastTokStart=this.lastTokEnd=this.pos;this.context=this.initialContext();this.exprAllowed=true;this.strict=this.inModule=options.sourceType==="module";this.potentialArrowAt=-1;this.inFunction=this.inGenerator=false;this.labels=[];if(this.pos===0&&options.allowHashBang&&this.input.slice(0,2)==="#!")this.skipLineComment(2)}Parser.prototype.isKeyword=function isKeyword(word){return this.keywords.test(word)};Parser.prototype.isReservedWord=function isReservedWord(word){return this.reservedWords.test(word)};Parser.prototype.extend=function extend(name,f){this[name]=f(this[name])};Parser.prototype.loadPlugins=function loadPlugins(pluginConfigs){for(var _name in pluginConfigs){var plugin=plugins[_name];if(!plugin)throw new Error("Plugin '"+_name+"' not found");plugin(this,pluginConfigs[_name])}};Parser.prototype.parse=function parse(){var node=this.options.program||this.startNode();this.nextToken();return this.parseTopLevel(node)};return Parser}();exports.Parser=Parser},{"./identifier":2,"./options":8,"./tokentype":14,"./whitespace":16}],11:[function(_dereq_,module,exports){"use strict";var _tokentype=_dereq_("./tokentype");var _state=_dereq_("./state");var _whitespace=_dereq_("./whitespace");var _identifier=_dereq_("./identifier");var pp=_state.Parser.prototype;pp.parseTopLevel=function(node){var first=true;if(!node.body)node.body=[];while(this.type!==_tokentype.types.eof){var stmt=this.parseStatement(true,true);node.body.push(stmt);if(first){if(this.isUseStrict(stmt))this.setStrict(true);first=false}}this.next();if(this.options.ecmaVersion>=6){node.sourceType=this.options.sourceType}return this.finishNode(node,"Program")};var loopLabel={kind:"loop"},switchLabel={kind:"switch"};pp.isLet=function(){if(this.type!==_tokentype.types.name||this.options.ecmaVersion<6||this.value!="let")return false;_whitespace.skipWhiteSpace.lastIndex=this.pos;var skip=_whitespace.skipWhiteSpace.exec(this.input);var next=this.pos+skip[0].length,nextCh=this.input.charCodeAt(next);if(nextCh===91||nextCh==123)return true;if(_identifier.isIdentifierStart(nextCh,true)){for(var pos=next+1;_identifier.isIdentifierChar(this.input.charCodeAt(pos,true));++pos){}var ident=this.input.slice(next,pos);if(!this.isKeyword(ident))return true}return false};pp.parseStatement=function(declaration,topLevel){var starttype=this.type,node=this.startNode(),kind=undefined;if(this.isLet()){starttype=_tokentype.types._var;kind="let"}switch(starttype){case _tokentype.types._break:case _tokentype.types._continue:return this.parseBreakContinueStatement(node,starttype.keyword);case _tokentype.types._debugger:return this.parseDebuggerStatement(node);case _tokentype.types._do:return this.parseDoStatement(node);case _tokentype.types._for:return this.parseForStatement(node);case _tokentype.types._function:if(!declaration&&this.options.ecmaVersion>=6)this.unexpected();return this.parseFunctionStatement(node);case _tokentype.types._class:if(!declaration)this.unexpected();return this.parseClass(node,true);case _tokentype.types._if:return this.parseIfStatement(node);case _tokentype.types._return:return this.parseReturnStatement(node);case _tokentype.types._switch:return this.parseSwitchStatement(node);case _tokentype.types._throw:return this.parseThrowStatement(node);case _tokentype.types._try:return this.parseTryStatement(node);case _tokentype.types._const:case _tokentype.types._var:kind=kind||this.value;if(!declaration&&kind!="var")this.unexpected();return this.parseVarStatement(node,kind);case _tokentype.types._while:return this.parseWhileStatement(node);case _tokentype.types._with:return this.parseWithStatement(node);case _tokentype.types.braceL:return this.parseBlock();case _tokentype.types.semi:return this.parseEmptyStatement(node);case _tokentype.types._export:case _tokentype.types._import:if(!this.options.allowImportExportEverywhere){if(!topLevel)this.raise(this.start,"'import' and 'export' may only appear at the top level");if(!this.inModule)this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")}return starttype===_tokentype.types._import?this.parseImport(node):this.parseExport(node);default:var maybeName=this.value,expr=this.parseExpression();if(starttype===_tokentype.types.name&&expr.type==="Identifier"&&this.eat(_tokentype.types.colon))return this.parseLabeledStatement(node,maybeName,expr);else return this.parseExpressionStatement(node,expr)}};pp.parseBreakContinueStatement=function(node,keyword){var isBreak=keyword=="break";this.next();if(this.eat(_tokentype.types.semi)||this.insertSemicolon())node.label=null;else if(this.type!==_tokentype.types.name)this.unexpected();else{node.label=this.parseIdent();this.semicolon()}for(var i=0;i<this.labels.length;++i){var lab=this.labels[i];if(node.label==null||lab.name===node.label.name){if(lab.kind!=null&&(isBreak||lab.kind==="loop"))break;if(node.label&&isBreak)break}}if(i===this.labels.length)this.raise(node.start,"Unsyntactic "+keyword);return this.finishNode(node,isBreak?"BreakStatement":"ContinueStatement")};pp.parseDebuggerStatement=function(node){this.next();this.semicolon();return this.finishNode(node,"DebuggerStatement")};pp.parseDoStatement=function(node){this.next();this.labels.push(loopLabel);node.body=this.parseStatement(false);this.labels.pop();this.expect(_tokentype.types._while);node.test=this.parseParenExpression();if(this.options.ecmaVersion>=6)this.eat(_tokentype.types.semi);else this.semicolon();return this.finishNode(node,"DoWhileStatement")};pp.parseForStatement=function(node){this.next();this.labels.push(loopLabel);this.expect(_tokentype.types.parenL);if(this.type===_tokentype.types.semi)return this.parseFor(node,null);var isLet=this.isLet();if(this.type===_tokentype.types._var||this.type===_tokentype.types._const||isLet){var _init=this.startNode(),kind=isLet?"let":this.value;this.next();this.parseVar(_init,true,kind);this.finishNode(_init,"VariableDeclaration");if((this.type===_tokentype.types._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&_init.declarations.length===1&&!(kind!=="var"&&_init.declarations[0].init))return this.parseForIn(node,_init);return this.parseFor(node,_init)}var refDestructuringErrors={shorthandAssign:0,trailingComma:0};var init=this.parseExpression(true,refDestructuringErrors);if(this.type===_tokentype.types._in||this.options.ecmaVersion>=6&&this.isContextual("of")){this.checkPatternErrors(refDestructuringErrors,true);this.toAssignable(init);this.checkLVal(init);return this.parseForIn(node,init)}else{this.checkExpressionErrors(refDestructuringErrors,true)}return this.parseFor(node,init)};pp.parseFunctionStatement=function(node){this.next();return this.parseFunction(node,true)};pp.parseIfStatement=function(node){this.next();node.test=this.parseParenExpression();node.consequent=this.parseStatement(false);node.alternate=this.eat(_tokentype.types._else)?this.parseStatement(false):null;return this.finishNode(node,"IfStatement")};pp.parseReturnStatement=function(node){if(!this.inFunction&&!this.options.allowReturnOutsideFunction)this.raise(this.start,"'return' outside of function");this.next();if(this.eat(_tokentype.types.semi)||this.insertSemicolon())node.argument=null;else{node.argument=this.parseExpression();this.semicolon()}return this.finishNode(node,"ReturnStatement")};pp.parseSwitchStatement=function(node){this.next();node.discriminant=this.parseParenExpression();node.cases=[];this.expect(_tokentype.types.braceL);this.labels.push(switchLabel);for(var cur,sawDefault=false;this.type!=_tokentype.types.braceR;){if(this.type===_tokentype.types._case||this.type===_tokentype.types._default){var isCase=this.type===_tokentype.types._case;if(cur)this.finishNode(cur,"SwitchCase");node.cases.push(cur=this.startNode());cur.consequent=[];this.next();if(isCase){cur.test=this.parseExpression()}else{if(sawDefault)this.raiseRecoverable(this.lastTokStart,"Multiple default clauses");sawDefault=true;cur.test=null}this.expect(_tokentype.types.colon)}else{if(!cur)this.unexpected();cur.consequent.push(this.parseStatement(true))}}if(cur)this.finishNode(cur,"SwitchCase");this.next();this.labels.pop();return this.finishNode(node,"SwitchStatement")};pp.parseThrowStatement=function(node){this.next();if(_whitespace.lineBreak.test(this.input.slice(this.lastTokEnd,this.start)))this.raise(this.lastTokEnd,"Illegal newline after throw");node.argument=this.parseExpression();this.semicolon();return this.finishNode(node,"ThrowStatement")};var empty=[];pp.parseTryStatement=function(node){this.next();node.block=this.parseBlock();node.handler=null;if(this.type===_tokentype.types._catch){var clause=this.startNode();this.next();this.expect(_tokentype.types.parenL);clause.param=this.parseBindingAtom();this.checkLVal(clause.param,true);this.expect(_tokentype.types.parenR);clause.body=this.parseBlock();node.handler=this.finishNode(clause,"CatchClause")}node.finalizer=this.eat(_tokentype.types._finally)?this.parseBlock():null;if(!node.handler&&!node.finalizer)this.raise(node.start,"Missing catch or finally clause");return this.finishNode(node,"TryStatement")};pp.parseVarStatement=function(node,kind){this.next();this.parseVar(node,false,kind);this.semicolon();return this.finishNode(node,"VariableDeclaration")};pp.parseWhileStatement=function(node){this.next();node.test=this.parseParenExpression();this.labels.push(loopLabel);node.body=this.parseStatement(false);this.labels.pop();return this.finishNode(node,"WhileStatement")};pp.parseWithStatement=function(node){if(this.strict)this.raise(this.start,"'with' in strict mode");this.next();node.object=this.parseParenExpression();node.body=this.parseStatement(false);return this.finishNode(node,"WithStatement")};pp.parseEmptyStatement=function(node){this.next();return this.finishNode(node,"EmptyStatement")};pp.parseLabeledStatement=function(node,maybeName,expr){for(var i=0;i<this.labels.length;++i){if(this.labels[i].name===maybeName)this.raise(expr.start,"Label '"+maybeName+"' is already declared")}var kind=this.type.isLoop?"loop":this.type===_tokentype.types._switch?"switch":null;for(var i=this.labels.length-1;i>=0;i--){var label=this.labels[i];if(label.statementStart==node.start){label.statementStart=this.start;label.kind=kind}else break}this.labels.push({name:maybeName,kind:kind,statementStart:this.start});node.body=this.parseStatement(true);this.labels.pop();node.label=expr;return this.finishNode(node,"LabeledStatement")};pp.parseExpressionStatement=function(node,expr){node.expression=expr;this.semicolon();return this.finishNode(node,"ExpressionStatement")};pp.parseBlock=function(allowStrict){var node=this.startNode(),first=true,oldStrict=undefined;node.body=[];this.expect(_tokentype.types.braceL);while(!this.eat(_tokentype.types.braceR)){var stmt=this.parseStatement(true);node.body.push(stmt);if(first&&allowStrict&&this.isUseStrict(stmt)){oldStrict=this.strict;this.setStrict(this.strict=true)}first=false}if(oldStrict===false)this.setStrict(false);return this.finishNode(node,"BlockStatement")};pp.parseFor=function(node,init){node.init=init;this.expect(_tokentype.types.semi);node.test=this.type===_tokentype.types.semi?null:this.parseExpression();this.expect(_tokentype.types.semi);node.update=this.type===_tokentype.types.parenR?null:this.parseExpression();this.expect(_tokentype.types.parenR);node.body=this.parseStatement(false);this.labels.pop();return this.finishNode(node,"ForStatement")};pp.parseForIn=function(node,init){var type=this.type===_tokentype.types._in?"ForInStatement":"ForOfStatement";this.next();node.left=init;node.right=this.parseExpression();this.expect(_tokentype.types.parenR);node.body=this.parseStatement(false);this.labels.pop();return this.finishNode(node,type)};pp.parseVar=function(node,isFor,kind){node.declarations=[];node.kind=kind;for(;;){var decl=this.startNode();this.parseVarId(decl);if(this.eat(_tokentype.types.eq)){decl.init=this.parseMaybeAssign(isFor)}else if(kind==="const"&&!(this.type===_tokentype.types._in||this.options.ecmaVersion>=6&&this.isContextual("of"))){this.unexpected()}else if(decl.id.type!="Identifier"&&!(isFor&&(this.type===_tokentype.types._in||this.isContextual("of")))){this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value")}else{decl.init=null}node.declarations.push(this.finishNode(decl,"VariableDeclarator"));if(!this.eat(_tokentype.types.comma))break}return node};pp.parseVarId=function(decl){decl.id=this.parseBindingAtom();this.checkLVal(decl.id,true)};pp.parseFunction=function(node,isStatement,allowExpressionBody){this.initFunction(node);if(this.options.ecmaVersion>=6)node.generator=this.eat(_tokentype.types.star);var oldInGen=this.inGenerator;this.inGenerator=node.generator;if(isStatement||this.type===_tokentype.types.name)node.id=this.parseIdent();this.parseFunctionParams(node);this.parseFunctionBody(node,allowExpressionBody);this.inGenerator=oldInGen;return this.finishNode(node,isStatement?"FunctionDeclaration":"FunctionExpression")};pp.parseFunctionParams=function(node){this.expect(_tokentype.types.parenL);node.params=this.parseBindingList(_tokentype.types.parenR,false,false,true)};pp.parseClass=function(node,isStatement){this.next();this.parseClassId(node,isStatement);this.parseClassSuper(node);var classBody=this.startNode();var hadConstructor=false;classBody.body=[];this.expect(_tokentype.types.braceL);while(!this.eat(_tokentype.types.braceR)){if(this.eat(_tokentype.types.semi))continue;var method=this.startNode();var isGenerator=this.eat(_tokentype.types.star);var isMaybeStatic=this.type===_tokentype.types.name&&this.value==="static";this.parsePropertyName(method);method["static"]=isMaybeStatic&&this.type!==_tokentype.types.parenL;if(method["static"]){if(isGenerator)this.unexpected();isGenerator=this.eat(_tokentype.types.star);this.parsePropertyName(method)}method.kind="method";var isGetSet=false;if(!method.computed){var key=method.key;if(!isGenerator&&key.type==="Identifier"&&this.type!==_tokentype.types.parenL&&(key.name==="get"||key.name==="set")){isGetSet=true;method.kind=key.name;key=this.parsePropertyName(method)}if(!method["static"]&&(key.type==="Identifier"&&key.name==="constructor"||key.type==="Literal"&&key.value==="constructor")){if(hadConstructor)this.raise(key.start,"Duplicate constructor in the same class");if(isGetSet)this.raise(key.start,"Constructor can't have get/set modifier");if(isGenerator)this.raise(key.start,"Constructor can't be a generator");method.kind="constructor";hadConstructor=true}}this.parseClassMethod(classBody,method,isGenerator);if(isGetSet){var paramCount=method.kind==="get"?0:1;if(method.value.params.length!==paramCount){var start=method.value.start;if(method.kind==="get")this.raiseRecoverable(start,"getter should have no params");else this.raiseRecoverable(start,"setter should have exactly one param")}if(method.kind==="set"&&method.value.params[0].type==="RestElement")this.raise(method.value.params[0].start,"Setter cannot use rest params")}}node.body=this.finishNode(classBody,"ClassBody");return this.finishNode(node,isStatement?"ClassDeclaration":"ClassExpression")};pp.parseClassMethod=function(classBody,method,isGenerator){method.value=this.parseMethod(isGenerator);classBody.body.push(this.finishNode(method,"MethodDefinition"))};pp.parseClassId=function(node,isStatement){node.id=this.type===_tokentype.types.name?this.parseIdent():isStatement?this.unexpected():null};pp.parseClassSuper=function(node){node.superClass=this.eat(_tokentype.types._extends)?this.parseExprSubscripts():null};pp.parseExport=function(node){this.next();if(this.eat(_tokentype.types.star)){this.expectContextual("from");node.source=this.type===_tokentype.types.string?this.parseExprAtom():this.unexpected();this.semicolon();return this.finishNode(node,"ExportAllDeclaration")}if(this.eat(_tokentype.types._default)){var parens=this.type==_tokentype.types.parenL;var expr=this.parseMaybeAssign();var needsSemi=true;if(!parens&&(expr.type=="FunctionExpression"||expr.type=="ClassExpression")){needsSemi=false;if(expr.id){expr.type=expr.type=="FunctionExpression"?"FunctionDeclaration":"ClassDeclaration"}}node.declaration=expr;if(needsSemi)this.semicolon();return this.finishNode(node,"ExportDefaultDeclaration")}if(this.shouldParseExportStatement()){node.declaration=this.parseStatement(true);node.specifiers=[];node.source=null}else{node.declaration=null;node.specifiers=this.parseExportSpecifiers();if(this.eatContextual("from")){node.source=this.type===_tokentype.types.string?this.parseExprAtom():this.unexpected()}else{for(var i=0;i<node.specifiers.length;i++){if(this.keywords.test(node.specifiers[i].local.name)||this.reservedWords.test(node.specifiers[i].local.name)){this.unexpected(node.specifiers[i].local.start)}}node.source=null}this.semicolon()}return this.finishNode(node,"ExportNamedDeclaration")};pp.shouldParseExportStatement=function(){return this.type.keyword||this.isLet()};pp.parseExportSpecifiers=function(){var nodes=[],first=true;this.expect(_tokentype.types.braceL);while(!this.eat(_tokentype.types.braceR)){if(!first){this.expect(_tokentype.types.comma);if(this.afterTrailingComma(_tokentype.types.braceR))break}else first=false;var node=this.startNode();node.local=this.parseIdent(this.type===_tokentype.types._default);node.exported=this.eatContextual("as")?this.parseIdent(true):node.local;nodes.push(this.finishNode(node,"ExportSpecifier"))}return nodes};pp.parseImport=function(node){this.next();if(this.type===_tokentype.types.string){node.specifiers=empty;node.source=this.parseExprAtom()}else{node.specifiers=this.parseImportSpecifiers();this.expectContextual("from");node.source=this.type===_tokentype.types.string?this.parseExprAtom():this.unexpected()}this.semicolon();return this.finishNode(node,"ImportDeclaration")};pp.parseImportSpecifiers=function(){var nodes=[],first=true;if(this.type===_tokentype.types.name){var node=this.startNode();node.local=this.parseIdent();this.checkLVal(node.local,true);nodes.push(this.finishNode(node,"ImportDefaultSpecifier"));if(!this.eat(_tokentype.types.comma))return nodes}if(this.type===_tokentype.types.star){var node=this.startNode();this.next();this.expectContextual("as");node.local=this.parseIdent();this.checkLVal(node.local,true);nodes.push(this.finishNode(node,"ImportNamespaceSpecifier"));return nodes}this.expect(_tokentype.types.braceL);while(!this.eat(_tokentype.types.braceR)){if(!first){this.expect(_tokentype.types.comma);if(this.afterTrailingComma(_tokentype.types.braceR))break}else first=false;var node=this.startNode();node.imported=this.parseIdent(true);if(this.eatContextual("as")){node.local=this.parseIdent()}else{node.local=node.imported;if(this.isKeyword(node.local.name))this.unexpected(node.local.start);if(this.reservedWordsStrict.test(node.local.name))this.raise(node.local.start,"The keyword '"+node.local.name+"' is reserved")}this.checkLVal(node.local,true);nodes.push(this.finishNode(node,"ImportSpecifier"))}return nodes}},{"./identifier":2,"./state":10,"./tokentype":14,"./whitespace":16}],12:[function(_dereq_,module,exports){"use strict";exports.__esModule=true;function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var _state=_dereq_("./state");var _tokentype=_dereq_("./tokentype");var _whitespace=_dereq_("./whitespace");
var TokContext=function TokContext(token,isExpr,preserveSpace,override){_classCallCheck(this,TokContext);this.token=token;this.isExpr=!!isExpr;this.preserveSpace=!!preserveSpace;this.override=override};exports.TokContext=TokContext;var types={b_stat:new TokContext("{",false),b_expr:new TokContext("{",true),b_tmpl:new TokContext("${",true),p_stat:new TokContext("(",false),p_expr:new TokContext("(",true),q_tmpl:new TokContext("`",true,true,function(p){return p.readTmplToken()}),f_expr:new TokContext("function",true)};exports.types=types;var pp=_state.Parser.prototype;pp.initialContext=function(){return[types.b_stat]};pp.braceIsBlock=function(prevType){if(prevType===_tokentype.types.colon){var _parent=this.curContext();if(_parent===types.b_stat||_parent===types.b_expr)return!_parent.isExpr}if(prevType===_tokentype.types._return)return _whitespace.lineBreak.test(this.input.slice(this.lastTokEnd,this.start));if(prevType===_tokentype.types._else||prevType===_tokentype.types.semi||prevType===_tokentype.types.eof||prevType===_tokentype.types.parenR)return true;if(prevType==_tokentype.types.braceL)return this.curContext()===types.b_stat;return!this.exprAllowed};pp.updateContext=function(prevType){var update=undefined,type=this.type;if(type.keyword&&prevType==_tokentype.types.dot)this.exprAllowed=false;else if(update=type.updateContext)update.call(this,prevType);else this.exprAllowed=type.beforeExpr};_tokentype.types.parenR.updateContext=_tokentype.types.braceR.updateContext=function(){if(this.context.length==1){this.exprAllowed=true;return}var out=this.context.pop();if(out===types.b_stat&&this.curContext()===types.f_expr){this.context.pop();this.exprAllowed=false}else if(out===types.b_tmpl){this.exprAllowed=true}else{this.exprAllowed=!out.isExpr}};_tokentype.types.braceL.updateContext=function(prevType){this.context.push(this.braceIsBlock(prevType)?types.b_stat:types.b_expr);this.exprAllowed=true};_tokentype.types.dollarBraceL.updateContext=function(){this.context.push(types.b_tmpl);this.exprAllowed=true};_tokentype.types.parenL.updateContext=function(prevType){var statementParens=prevType===_tokentype.types._if||prevType===_tokentype.types._for||prevType===_tokentype.types._with||prevType===_tokentype.types._while;this.context.push(statementParens?types.p_stat:types.p_expr);this.exprAllowed=true};_tokentype.types.incDec.updateContext=function(){};_tokentype.types._function.updateContext=function(prevType){if(prevType.beforeExpr&&prevType!==_tokentype.types.semi&&prevType!==_tokentype.types._else&&(prevType!==_tokentype.types.colon||this.curContext()!==types.b_stat))this.context.push(types.f_expr);this.exprAllowed=false};_tokentype.types.backQuote.updateContext=function(){if(this.curContext()===types.q_tmpl)this.context.pop();else this.context.push(types.q_tmpl);this.exprAllowed=false}},{"./state":10,"./tokentype":14,"./whitespace":16}],13:[function(_dereq_,module,exports){"use strict";exports.__esModule=true;function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var _identifier=_dereq_("./identifier");var _tokentype=_dereq_("./tokentype");var _state=_dereq_("./state");var _locutil=_dereq_("./locutil");var _whitespace=_dereq_("./whitespace");var Token=function Token(p){_classCallCheck(this,Token);this.type=p.type;this.value=p.value;this.start=p.start;this.end=p.end;if(p.options.locations)this.loc=new _locutil.SourceLocation(p,p.startLoc,p.endLoc);if(p.options.ranges)this.range=[p.start,p.end]};exports.Token=Token;var pp=_state.Parser.prototype;var isRhino=typeof Packages=="object"&&Object.prototype.toString.call(Packages)=="[object JavaPackage]";pp.next=function(){if(this.options.onToken)this.options.onToken(new Token(this));this.lastTokEnd=this.end;this.lastTokStart=this.start;this.lastTokEndLoc=this.endLoc;this.lastTokStartLoc=this.startLoc;this.nextToken()};pp.getToken=function(){this.next();return new Token(this)};if(typeof Symbol!=="undefined")pp[Symbol.iterator]=function(){var self=this;return{next:function next(){var token=self.getToken();return{done:token.type===_tokentype.types.eof,value:token}}}};pp.setStrict=function(strict){this.strict=strict;if(this.type!==_tokentype.types.num&&this.type!==_tokentype.types.string)return;this.pos=this.start;if(this.options.locations){while(this.pos<this.lineStart){this.lineStart=this.input.lastIndexOf("\n",this.lineStart-2)+1;--this.curLine}}this.nextToken()};pp.curContext=function(){return this.context[this.context.length-1]};pp.nextToken=function(){var curContext=this.curContext();if(!curContext||!curContext.preserveSpace)this.skipSpace();this.start=this.pos;if(this.options.locations)this.startLoc=this.curPosition();if(this.pos>=this.input.length)return this.finishToken(_tokentype.types.eof);if(curContext.override)return curContext.override(this);else this.readToken(this.fullCharCodeAtPos())};pp.readToken=function(code){if(_identifier.isIdentifierStart(code,this.options.ecmaVersion>=6)||code===92)return this.readWord();return this.getTokenFromCode(code)};pp.fullCharCodeAtPos=function(){var code=this.input.charCodeAt(this.pos);if(code<=55295||code>=57344)return code;var next=this.input.charCodeAt(this.pos+1);return(code<<10)+next-56613888};pp.skipBlockComment=function(){var startLoc=this.options.onComment&&this.curPosition();var start=this.pos,end=this.input.indexOf("*/",this.pos+=2);if(end===-1)this.raise(this.pos-2,"Unterminated comment");this.pos=end+2;if(this.options.locations){_whitespace.lineBreakG.lastIndex=start;var match=undefined;while((match=_whitespace.lineBreakG.exec(this.input))&&match.index<this.pos){++this.curLine;this.lineStart=match.index+match[0].length}}if(this.options.onComment)this.options.onComment(true,this.input.slice(start+2,end),start,this.pos,startLoc,this.curPosition())};pp.skipLineComment=function(startSkip){var start=this.pos;var startLoc=this.options.onComment&&this.curPosition();var ch=this.input.charCodeAt(this.pos+=startSkip);while(this.pos<this.input.length&&ch!==10&&ch!==13&&ch!==8232&&ch!==8233){++this.pos;ch=this.input.charCodeAt(this.pos)}if(this.options.onComment)this.options.onComment(false,this.input.slice(start+startSkip,this.pos),start,this.pos,startLoc,this.curPosition())};pp.skipSpace=function(){loop:while(this.pos<this.input.length){var ch=this.input.charCodeAt(this.pos);switch(ch){case 32:case 160:++this.pos;break;case 13:if(this.input.charCodeAt(this.pos+1)===10){++this.pos}case 10:case 8232:case 8233:++this.pos;if(this.options.locations){++this.curLine;this.lineStart=this.pos}break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break loop}break;default:if(ch>8&&ch<14||ch>=5760&&_whitespace.nonASCIIwhitespace.test(String.fromCharCode(ch))){++this.pos}else{break loop}}}};pp.finishToken=function(type,val){this.end=this.pos;if(this.options.locations)this.endLoc=this.curPosition();var prevType=this.type;this.type=type;this.value=val;this.updateContext(prevType)};pp.readToken_dot=function(){var next=this.input.charCodeAt(this.pos+1);if(next>=48&&next<=57)return this.readNumber(true);var next2=this.input.charCodeAt(this.pos+2);if(this.options.ecmaVersion>=6&&next===46&&next2===46){this.pos+=3;return this.finishToken(_tokentype.types.ellipsis)}else{++this.pos;return this.finishToken(_tokentype.types.dot)}};pp.readToken_slash=function(){var next=this.input.charCodeAt(this.pos+1);if(this.exprAllowed){++this.pos;return this.readRegexp()}if(next===61)return this.finishOp(_tokentype.types.assign,2);return this.finishOp(_tokentype.types.slash,1)};pp.readToken_mult_modulo_exp=function(code){var next=this.input.charCodeAt(this.pos+1);var size=1;var tokentype=code===42?_tokentype.types.star:_tokentype.types.modulo;if(this.options.ecmaVersion>=7&&next===42){++size;tokentype=_tokentype.types.starstar;next=this.input.charCodeAt(this.pos+2)}if(next===61)return this.finishOp(_tokentype.types.assign,size+1);return this.finishOp(tokentype,size)};pp.readToken_pipe_amp=function(code){var next=this.input.charCodeAt(this.pos+1);if(next===code)return this.finishOp(code===124?_tokentype.types.logicalOR:_tokentype.types.logicalAND,2);if(next===61)return this.finishOp(_tokentype.types.assign,2);return this.finishOp(code===124?_tokentype.types.bitwiseOR:_tokentype.types.bitwiseAND,1)};pp.readToken_caret=function(){var next=this.input.charCodeAt(this.pos+1);if(next===61)return this.finishOp(_tokentype.types.assign,2);return this.finishOp(_tokentype.types.bitwiseXOR,1)};pp.readToken_plus_min=function(code){var next=this.input.charCodeAt(this.pos+1);if(next===code){if(next==45&&this.input.charCodeAt(this.pos+2)==62&&_whitespace.lineBreak.test(this.input.slice(this.lastTokEnd,this.pos))){this.skipLineComment(3);this.skipSpace();return this.nextToken()}return this.finishOp(_tokentype.types.incDec,2)}if(next===61)return this.finishOp(_tokentype.types.assign,2);return this.finishOp(_tokentype.types.plusMin,1)};pp.readToken_lt_gt=function(code){var next=this.input.charCodeAt(this.pos+1);var size=1;if(next===code){size=code===62&&this.input.charCodeAt(this.pos+2)===62?3:2;if(this.input.charCodeAt(this.pos+size)===61)return this.finishOp(_tokentype.types.assign,size+1);return this.finishOp(_tokentype.types.bitShift,size)}if(next==33&&code==60&&this.input.charCodeAt(this.pos+2)==45&&this.input.charCodeAt(this.pos+3)==45){if(this.inModule)this.unexpected();this.skipLineComment(4);this.skipSpace();return this.nextToken()}if(next===61)size=2;return this.finishOp(_tokentype.types.relational,size)};pp.readToken_eq_excl=function(code){var next=this.input.charCodeAt(this.pos+1);if(next===61)return this.finishOp(_tokentype.types.equality,this.input.charCodeAt(this.pos+2)===61?3:2);if(code===61&&next===62&&this.options.ecmaVersion>=6){this.pos+=2;return this.finishToken(_tokentype.types.arrow)}return this.finishOp(code===61?_tokentype.types.eq:_tokentype.types.prefix,1)};pp.getTokenFromCode=function(code){switch(code){case 46:return this.readToken_dot();case 40:++this.pos;return this.finishToken(_tokentype.types.parenL);case 41:++this.pos;return this.finishToken(_tokentype.types.parenR);case 59:++this.pos;return this.finishToken(_tokentype.types.semi);case 44:++this.pos;return this.finishToken(_tokentype.types.comma);case 91:++this.pos;return this.finishToken(_tokentype.types.bracketL);case 93:++this.pos;return this.finishToken(_tokentype.types.bracketR);case 123:++this.pos;return this.finishToken(_tokentype.types.braceL);case 125:++this.pos;return this.finishToken(_tokentype.types.braceR);case 58:++this.pos;return this.finishToken(_tokentype.types.colon);case 63:++this.pos;return this.finishToken(_tokentype.types.question);case 96:if(this.options.ecmaVersion<6)break;++this.pos;return this.finishToken(_tokentype.types.backQuote);case 48:var next=this.input.charCodeAt(this.pos+1);if(next===120||next===88)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(next===111||next===79)return this.readRadixNumber(8);if(next===98||next===66)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(false);case 34:case 39:return this.readString(code);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(code);case 124:case 38:return this.readToken_pipe_amp(code);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(code);case 60:case 62:return this.readToken_lt_gt(code);case 61:case 33:return this.readToken_eq_excl(code);case 126:return this.finishOp(_tokentype.types.prefix,1)}this.raise(this.pos,"Unexpected character '"+codePointToString(code)+"'")};pp.finishOp=function(type,size){var str=this.input.slice(this.pos,this.pos+size);this.pos+=size;return this.finishToken(type,str)};function tryCreateRegexp(src,flags,throwErrorAt,parser){try{return new RegExp(src,flags)}catch(e){if(throwErrorAt!==undefined){if(e instanceof SyntaxError)parser.raise(throwErrorAt,"Error parsing regular expression: "+e.message);throw e}}}var regexpUnicodeSupport=!!tryCreateRegexp("￿","u");pp.readRegexp=function(){var _this=this;var escaped=undefined,inClass=undefined,start=this.pos;for(;;){if(this.pos>=this.input.length)this.raise(start,"Unterminated regular expression");var ch=this.input.charAt(this.pos);if(_whitespace.lineBreak.test(ch))this.raise(start,"Unterminated regular expression");if(!escaped){if(ch==="[")inClass=true;else if(ch==="]"&&inClass)inClass=false;else if(ch==="/"&&!inClass)break;escaped=ch==="\\"}else escaped=false;++this.pos}var content=this.input.slice(start,this.pos);++this.pos;var mods=this.readWord1();var tmp=content;if(mods){var validFlags=/^[gim]*$/;if(this.options.ecmaVersion>=6)validFlags=/^[gimuy]*$/;if(!validFlags.test(mods))this.raise(start,"Invalid regular expression flag");if(mods.indexOf("u")>=0&&!regexpUnicodeSupport){tmp=tmp.replace(/\\u\{([0-9a-fA-F]+)\}/g,function(_match,code,offset){code=Number("0x"+code);if(code>1114111)_this.raise(start+offset+3,"Code point out of bounds");return"x"});tmp=tmp.replace(/\\u([a-fA-F0-9]{4})|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x")}}var value=null;if(!isRhino){tryCreateRegexp(tmp,undefined,start,this);value=tryCreateRegexp(content,mods)}return this.finishToken(_tokentype.types.regexp,{pattern:content,flags:mods,value:value})};pp.readInt=function(radix,len){var start=this.pos,total=0;for(var i=0,e=len==null?Infinity:len;i<e;++i){var code=this.input.charCodeAt(this.pos),val=undefined;if(code>=97)val=code-97+10;else if(code>=65)val=code-65+10;else if(code>=48&&code<=57)val=code-48;else val=Infinity;if(val>=radix)break;++this.pos;total=total*radix+val}if(this.pos===start||len!=null&&this.pos-start!==len)return null;return total};pp.readRadixNumber=function(radix){this.pos+=2;var val=this.readInt(radix);if(val==null)this.raise(this.start+2,"Expected number in radix "+radix);if(_identifier.isIdentifierStart(this.fullCharCodeAtPos()))this.raise(this.pos,"Identifier directly after number");return this.finishToken(_tokentype.types.num,val)};pp.readNumber=function(startsWithDot){var start=this.pos,isFloat=false,octal=this.input.charCodeAt(this.pos)===48;if(!startsWithDot&&this.readInt(10)===null)this.raise(start,"Invalid number");var next=this.input.charCodeAt(this.pos);if(next===46){++this.pos;this.readInt(10);isFloat=true;next=this.input.charCodeAt(this.pos)}if(next===69||next===101){next=this.input.charCodeAt(++this.pos);if(next===43||next===45)++this.pos;if(this.readInt(10)===null)this.raise(start,"Invalid number");isFloat=true}if(_identifier.isIdentifierStart(this.fullCharCodeAtPos()))this.raise(this.pos,"Identifier directly after number");var str=this.input.slice(start,this.pos),val=undefined;if(isFloat)val=parseFloat(str);else if(!octal||str.length===1)val=parseInt(str,10);else if(/[89]/.test(str)||this.strict)this.raise(start,"Invalid number");else val=parseInt(str,8);return this.finishToken(_tokentype.types.num,val)};pp.readCodePoint=function(){var ch=this.input.charCodeAt(this.pos),code=undefined;if(ch===123){if(this.options.ecmaVersion<6)this.unexpected();var codePos=++this.pos;code=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos);++this.pos;if(code>1114111)this.raise(codePos,"Code point out of bounds")}else{code=this.readHexChar(4)}return code};function codePointToString(code){if(code<=65535)return String.fromCharCode(code);code-=65536;return String.fromCharCode((code>>10)+55296,(code&1023)+56320)}pp.readString=function(quote){var out="",chunkStart=++this.pos;for(;;){if(this.pos>=this.input.length)this.raise(this.start,"Unterminated string constant");var ch=this.input.charCodeAt(this.pos);if(ch===quote)break;if(ch===92){out+=this.input.slice(chunkStart,this.pos);out+=this.readEscapedChar(false);chunkStart=this.pos}else{if(_whitespace.isNewLine(ch))this.raise(this.start,"Unterminated string constant");++this.pos}}out+=this.input.slice(chunkStart,this.pos++);return this.finishToken(_tokentype.types.string,out)};pp.readTmplToken=function(){var out="",chunkStart=this.pos;for(;;){if(this.pos>=this.input.length)this.raise(this.start,"Unterminated template");var ch=this.input.charCodeAt(this.pos);if(ch===96||ch===36&&this.input.charCodeAt(this.pos+1)===123){if(this.pos===this.start&&this.type===_tokentype.types.template){if(ch===36){this.pos+=2;return this.finishToken(_tokentype.types.dollarBraceL)}else{++this.pos;return this.finishToken(_tokentype.types.backQuote)}}out+=this.input.slice(chunkStart,this.pos);return this.finishToken(_tokentype.types.template,out)}if(ch===92){out+=this.input.slice(chunkStart,this.pos);out+=this.readEscapedChar(true);chunkStart=this.pos}else if(_whitespace.isNewLine(ch)){out+=this.input.slice(chunkStart,this.pos);++this.pos;switch(ch){case 13:if(this.input.charCodeAt(this.pos)===10)++this.pos;case 10:out+="\n";break;default:out+=String.fromCharCode(ch);break}if(this.options.locations){++this.curLine;this.lineStart=this.pos}chunkStart=this.pos}else{++this.pos}}};pp.readEscapedChar=function(inTemplate){var ch=this.input.charCodeAt(++this.pos);++this.pos;switch(ch){case 110:return"\n";case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return codePointToString(this.readCodePoint());case 116:return"\t";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:if(this.input.charCodeAt(this.pos)===10)++this.pos;case 10:if(this.options.locations){this.lineStart=this.pos;++this.curLine}return"";default:if(ch>=48&&ch<=55){var octalStr=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0];var octal=parseInt(octalStr,8);if(octal>255){octalStr=octalStr.slice(0,-1);octal=parseInt(octalStr,8)}if(octalStr!=="0"&&(this.strict||inTemplate)){this.raise(this.pos-2,"Octal literal in strict mode")}this.pos+=octalStr.length-1;return String.fromCharCode(octal)}return String.fromCharCode(ch)}};pp.readHexChar=function(len){var codePos=this.pos;var n=this.readInt(16,len);if(n===null)this.raise(codePos,"Bad character escape sequence");return n};pp.readWord1=function(){this.containsEsc=false;var word="",first=true,chunkStart=this.pos;var astral=this.options.ecmaVersion>=6;while(this.pos<this.input.length){var ch=this.fullCharCodeAtPos();if(_identifier.isIdentifierChar(ch,astral)){this.pos+=ch<=65535?1:2}else if(ch===92){this.containsEsc=true;word+=this.input.slice(chunkStart,this.pos);var escStart=this.pos;if(this.input.charCodeAt(++this.pos)!=117)this.raise(this.pos,"Expecting Unicode escape sequence \\uXXXX");++this.pos;var esc=this.readCodePoint();if(!(first?_identifier.isIdentifierStart:_identifier.isIdentifierChar)(esc,astral))this.raise(escStart,"Invalid Unicode escape");word+=codePointToString(esc);chunkStart=this.pos}else{break}first=false}return word+this.input.slice(chunkStart,this.pos)};pp.readWord=function(){var word=this.readWord1();var type=_tokentype.types.name;if((this.options.ecmaVersion>=6||!this.containsEsc)&&this.keywords.test(word))type=_tokentype.keywords[word];return this.finishToken(type,word)}},{"./identifier":2,"./locutil":5,"./state":10,"./tokentype":14,"./whitespace":16}],14:[function(_dereq_,module,exports){"use strict";exports.__esModule=true;function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var TokenType=function TokenType(label){var conf=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];_classCallCheck(this,TokenType);this.label=label;this.keyword=conf.keyword;this.beforeExpr=!!conf.beforeExpr;this.startsExpr=!!conf.startsExpr;this.isLoop=!!conf.isLoop;this.isAssign=!!conf.isAssign;this.prefix=!!conf.prefix;this.postfix=!!conf.postfix;this.binop=conf.binop||null;this.updateContext=null};exports.TokenType=TokenType;function binop(name,prec){return new TokenType(name,{beforeExpr:true,binop:prec})}var beforeExpr={beforeExpr:true},startsExpr={startsExpr:true};var types={num:new TokenType("num",startsExpr),regexp:new TokenType("regexp",startsExpr),string:new TokenType("string",startsExpr),name:new TokenType("name",startsExpr),eof:new TokenType("eof"),bracketL:new TokenType("[",{beforeExpr:true,startsExpr:true}),bracketR:new TokenType("]"),braceL:new TokenType("{",{beforeExpr:true,startsExpr:true}),braceR:new TokenType("}"),parenL:new TokenType("(",{beforeExpr:true,startsExpr:true}),parenR:new TokenType(")"),comma:new TokenType(",",beforeExpr),semi:new TokenType(";",beforeExpr),colon:new TokenType(":",beforeExpr),dot:new TokenType("."),question:new TokenType("?",beforeExpr),arrow:new TokenType("=>",beforeExpr),template:new TokenType("template"),ellipsis:new TokenType("...",beforeExpr),backQuote:new TokenType("`",startsExpr),dollarBraceL:new TokenType("${",{beforeExpr:true,startsExpr:true}),eq:new TokenType("=",{beforeExpr:true,isAssign:true}),assign:new TokenType("_=",{beforeExpr:true,isAssign:true}),incDec:new TokenType("++/--",{prefix:true,postfix:true,startsExpr:true}),prefix:new TokenType("prefix",{beforeExpr:true,prefix:true,startsExpr:true}),logicalOR:binop("||",1),logicalAND:binop("&&",2),bitwiseOR:binop("|",3),bitwiseXOR:binop("^",4),bitwiseAND:binop("&",5),equality:binop("==/!=",6),relational:binop("</>",7),bitShift:binop("<</>>",8),plusMin:new TokenType("+/-",{beforeExpr:true,binop:9,prefix:true,startsExpr:true}),modulo:binop("%",10),star:binop("*",10),slash:binop("/",10),starstar:new TokenType("**",{beforeExpr:true})};exports.types=types;var keywords={};exports.keywords=keywords;function kw(name){var options=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];options.keyword=name;keywords[name]=types["_"+name]=new TokenType(name,options)}kw("break");kw("case",beforeExpr);kw("catch");kw("continue");kw("debugger");kw("default",beforeExpr);kw("do",{isLoop:true,beforeExpr:true});kw("else",beforeExpr);kw("finally");kw("for",{isLoop:true});kw("function",startsExpr);kw("if");kw("return",beforeExpr);kw("switch");kw("throw",beforeExpr);kw("try");kw("var");kw("const");kw("while",{isLoop:true});kw("with");kw("new",{beforeExpr:true,startsExpr:true});kw("this",startsExpr);kw("super",startsExpr);kw("class");kw("extends",beforeExpr);kw("export");kw("import");kw("null",startsExpr);kw("true",startsExpr);kw("false",startsExpr);kw("in",{beforeExpr:true,binop:7});kw("instanceof",{beforeExpr:true,binop:7});kw("typeof",{beforeExpr:true,prefix:true,startsExpr:true});kw("void",{beforeExpr:true,prefix:true,startsExpr:true});kw("delete",{beforeExpr:true,prefix:true,startsExpr:true})},{}],15:[function(_dereq_,module,exports){"use strict";exports.__esModule=true;exports.isArray=isArray;exports.has=has;function isArray(obj){return Object.prototype.toString.call(obj)==="[object Array]"}function has(obj,propName){return Object.prototype.hasOwnProperty.call(obj,propName)}},{}],16:[function(_dereq_,module,exports){"use strict";exports.__esModule=true;exports.isNewLine=isNewLine;var lineBreak=/\r\n?|\n|\u2028|\u2029/;exports.lineBreak=lineBreak;var lineBreakG=new RegExp(lineBreak.source,"g");exports.lineBreakG=lineBreakG;function isNewLine(code){return code===10||code===13||code===8232||code==8233}var nonASCIIwhitespace=/[\u1680\u180e\u2000-\u200a\u202f\u205f\u3000\ufeff]/;exports.nonASCIIwhitespace=nonASCIIwhitespace;var skipWhiteSpace=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g;exports.skipWhiteSpace=skipWhiteSpace},{}]},{},[3])(3)})}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/is-promise/index.js":[function(require,module,exports){module.exports=isPromise;function isPromise(obj){return!!obj&&(typeof obj==="object"||typeof obj==="function")&&typeof obj.then==="function"}},{}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/is-regex/index.js":[function(require,module,exports){"use strict";var regexExec=RegExp.prototype.exec;var tryRegexExec=function tryRegexExec(value){try{regexExec.call(value);return true}catch(e){return false}};var toStr=Object.prototype.toString;var regexClass="[object RegExp]";var hasToStringTag=typeof Symbol==="function"&&typeof Symbol.toStringTag==="symbol";module.exports=function isRegex(value){if(typeof value!=="object"){return false}return hasToStringTag?tryRegexExec(value):toStr.call(value)===regexClass}},{}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/isarray/index.js":[function(require,module,exports){var toString={}.toString;module.exports=Array.isArray||function(arr){return toString.call(arr)=="[object Array]"}},{}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/js-stringify/index.js":[function(require,module,exports){"use strict";module.exports=stringify;function stringify(obj){if(obj instanceof Date){return"new Date("+stringify(obj.toISOString())+")"}if(obj===undefined){return"undefined"}return JSON.stringify(obj).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/</g,"\\u003C").replace(/>/g,"\\u003E").replace(/\//g,"\\u002F")}},{}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/jstransformer/index.js":[function(require,module,exports){"use strict";var fs=require("fs");var assert=require("assert");var Promise=require("promise");var isPromise=require("is-promise");var tr=module.exports=function(transformer){return new Transformer(transformer)};tr.Transformer=Transformer;tr.normalizeFn=normalizeFn;tr.normalizeFnAsync=normalizeFnAsync;tr.normalize=normalize;tr.normalizeAsync=normalizeAsync;if(fs.readFile){tr.readFile=Promise.denodeify(fs.readFile);tr.readFileSync=fs.readFileSync}else{tr.readFile=function(){throw new Error("fs.readFile unsupported")};tr.readFileSync=function(){throw new Error("fs.readFileSync unsupported")}}function normalizeFn(result){if(typeof result==="function"){return{fn:result,dependencies:[]}}else if(result&&typeof result==="object"&&typeof result.fn==="function"){if("dependencies"in result){if(!Array.isArray(result.dependencies)){throw new Error("Result should have a dependencies property that is an array")}}else{result.dependencies=[]}return result}else{throw new Error("Invalid result object from transform.")}}function normalizeFnAsync(result,cb){return Promise.resolve(result).then(function(result){if(result&&isPromise(result.fn)){return result.fn.then(function(fn){result.fn=fn;return result})}return result}).then(tr.normalizeFn).nodeify(cb)}function normalize(result){if(typeof result==="string"){return{body:result,dependencies:[]}}else if(result&&typeof result==="object"&&typeof result.body==="string"){if("dependencies"in result){if(!Array.isArray(result.dependencies)){throw new Error("Result should have a dependencies property that is an array")}}else{result.dependencies=[]}return result}else{throw new Error("Invalid result object from transform.")}}function normalizeAsync(result,cb){return Promise.resolve(result).then(function(result){if(result&&isPromise(result.body)){return result.body.then(function(body){result.body=body;return result})}return result}).then(tr.normalize).nodeify(cb)}function Transformer(tr){assert(tr,"Transformer must be an object");assert(typeof tr.name==="string","Transformer must have a name");assert(typeof tr.outputFormat==="string","Transformer must have an output format");assert(["compile","compileAsync","compileFile","compileFileAsync","compileClient","compileClientAsync","compileFileClient","compileFileClientAsync","render","renderAsync","renderFile","renderFileAsync"].some(function(method){return typeof tr[method]==="function"}),"Transformer must implement at least one of the potential methods.");this._tr=tr;this.name=this._tr.name;this.outputFormat=this._tr.outputFormat;this.inputFormats=this._tr.inputFormats||[this.name]}var fallbacks={compile:["compile","render"],compileAsync:["compileAsync","compile","render"],compileFile:["compileFile","compile","renderFile","render"],compileFileAsync:["compileFileAsync","compileFile","compileAsync","compile","renderFile","render"],compileClient:["compileClient"],compileClientAsync:["compileClientAsync","compileClient"],compileFileClient:["compileFileClient","compileClient"],compileFileClientAsync:["compileFileClientAsync","compileFileClient","compileClientAsync","compileClient"],render:["render","compile"],renderAsync:["renderAsync","render","compileAsync","compile"],renderFile:["renderFile","render","compileFile","compile"],renderFileAsync:["renderFileAsync","renderFile","renderAsync","render","compileFileAsync","compileFile","compileAsync","compile"]};Transformer.prototype._hasMethod=function(method){return typeof this._tr[method]==="function"};Transformer.prototype.can=function(method){return fallbacks[method].some(function(method){return this._hasMethod(method)}.bind(this))};Transformer.prototype.compile=function(str,options){if(!this._hasMethod("compile")){if(this.can("render")){var _this=this;return{fn:function(locals){return tr.normalize(_this._tr.render(str,options,locals)).body},dependencies:[]}}if(this.can("compileAsync")){throw new Error('The Transform "'+this.name+'" does not support synchronous compilation')}else if(this.can("compileFileAsync")){throw new Error('The Transform "'+this.name+'" does not support compiling plain strings')}else{throw new Error('The Transform "'+this.name+'" does not support compilation')}}return tr.normalizeFn(this._tr.compile(str,options))};Transformer.prototype.compileAsync=function(str,options,cb){if(!this.can("compileAsync")){return Promise.reject(new Error('The Transform "'+this.name+'" does not support compiling plain strings')).nodeify(cb)}if(this._hasMethod("compileAsync")){return tr.normalizeFnAsync(this._tr.compileAsync(str,options),cb)}else{return tr.normalizeFnAsync(this.compile(str,options),cb)}};Transformer.prototype.compileFile=function(filename,options){if(!this.can("compileFile")){throw new Error('The Transform "'+this.name+'" does not support synchronous compilation')}if(this._hasMethod("compileFile")){return tr.normalizeFn(this._tr.compileFile(filename,options))}else if(this._hasMethod("renderFile")){return tr.normalizeFn(function(locals){return tr.normalize(this._tr.renderFile(filename,options,locals)).body}.bind(this))}else{if(!options)options={};if(options.filename===undefined)options.filename=filename;return this.compile(tr.readFileSync(filename,"utf8"),options)}};Transformer.prototype.compileFileAsync=function(filename,options,cb){if(!this.can("compileFileAsync")){return Promise.reject(new Error('The Transform "'+this.name+'" does not support compilation'))}if(this._hasMethod("compileFileAsync")){return tr.normalizeFnAsync(this._tr.compileFileAsync(filename,options),cb)}else if(this._hasMethod("compileFile")||this._hasMethod("renderFile")){return tr.normalizeFnAsync(this.compileFile(filename,options),cb)}else{if(!options)options={};if(options.filename===undefined)options.filename=filename;return tr.normalizeFnAsync(tr.readFile(filename,"utf8").then(function(str){if(this._hasMethod("compileAsync")){return this._tr.compileAsync(str,options)}else{return this.compile(str,options)}}.bind(this)),cb)}};Transformer.prototype.compileClient=function(str,options){if(!this.can("compileClient")){if(this.can("compileClientAsync")){throw new Error('The Transform "'+this.name+'" does not support compiling for the client synchronously.')}else if(this.can("compileFileClientAsync")){throw new Error('The Transform "'+this.name+'" does not support compiling for the client from a string.')}else{throw new Error('The Transform "'+this.name+'" does not support compiling for the client')}}return tr.normalize(this._tr.compileClient(str,options))};Transformer.prototype.compileClientAsync=function(str,options,cb){if(!this.can("compileClientAsync")){if(this.can("compileFileClientAsync")){return Promise.reject(new Error('The Transform "'+this.name+'" does not support compiling for the client from a string.')).nodeify(cb)}else{return Promise.reject(new Error('The Transform "'+this.name+'" does not support compiling for the client')).nodeify(cb);
}}if(this._hasMethod("compileClientAsync")){return tr.normalizeAsync(this._tr.compileClientAsync(str,options),cb)}else{return tr.normalizeAsync(this._tr.compileClient(str,options),cb)}};Transformer.prototype.compileFileClient=function(filename,options){if(!this.can("compileFileClient")){if(this.can("compileFileClientAsync")){throw new Error('The Transform "'+this.name+'" does not support compiling for the client synchronously.')}else{throw new Error('The Transform "'+this.name+'" does not support compiling for the client')}}if(this._hasMethod("compileFileClient")){return tr.normalize(this._tr.compileFileClient(filename,options))}else{if(!options)options={};if(options.filename===undefined)options.filename=filename;return tr.normalize(this._tr.compileClient(tr.readFileSync(filename,"utf8"),options))}};Transformer.prototype.compileFileClientAsync=function(filename,options,cb){if(!this.can("compileFileClientAsync")){return Promise.reject(new Error('The Transform "'+this.name+'" does not support compiling for the client')).nodeify(cb)}if(this._hasMethod("compileFileClientAsync")){return tr.normalizeAsync(this._tr.compileFileClientAsync(filename,options),cb)}else if(this._hasMethod("compileFileClient")){return tr.normalizeAsync(this._tr.compileFileClient(filename,options),cb)}else{if(!options)options={};if(options.filename===undefined)options.filename=filename;return tr.normalizeAsync(tr.readFile(filename,"utf8").then(function(str){if(this._hasMethod("compileClientAsync")){return this._tr.compileClientAsync(str,options)}else{return this._tr.compileClient(str,options)}}.bind(this)),cb)}};Transformer.prototype.render=function(str,options,locals){if(!this.can("render")){if(this.can("renderAsync")){throw new Error('The Transform "'+this.name+'" does not support rendering synchronously.')}else if(this.can("renderFileAsync")){throw new Error('The Transform "'+this.name+'" does not support rendering from a string.')}else{throw new Error('The Transform "'+this.name+'" does not support rendering')}}if(this._hasMethod("render")){return tr.normalize(this._tr.render(str,options,locals))}else{var compiled=tr.normalizeFn(this._tr.compile(str,options));var body=compiled.fn(locals||options);if(typeof body!=="string"){throw new Error('The Transform "'+this.name+'" does not support rendering synchronously.')}return tr.normalize({body:body,dependencies:compiled.dependencies})}};Transformer.prototype.renderAsync=function(str,options,locals,cb){if(typeof locals==="function"){cb=locals;locals=options}if(!this.can("renderAsync")){if(this.can("renderFileAsync")){return Promise.reject(new Error('The Transform "'+this.name+'" does not support rendering from a string.')).nodeify(cb)}else{return Promise.reject(new Error('The Transform "'+this.name+'" does not support rendering')).nodeify(cb)}}if(this._hasMethod("renderAsync")){return tr.normalizeAsync(this._tr.renderAsync(str,options,locals),cb)}else if(this._hasMethod("render")){return tr.normalizeAsync(this._tr.render(str,options,locals),cb)}else{return tr.normalizeAsync(this.compileAsync(str,options).then(function(compiled){return{body:compiled.fn(locals||options),dependencies:compiled.dependencies}}),cb)}};Transformer.prototype.renderFile=function(filename,options,locals){if(!this.can("renderFile")){throw new Error('The Transform "'+this.name+'" does not support rendering synchronously.')}if(this._hasMethod("renderFile")){return tr.normalize(this._tr.renderFile(filename,options,locals))}else if(this._hasMethod("render")){if(!options)options={};if(options.filename===undefined)options.filename=filename;return tr.normalize(this._tr.render(tr.readFileSync(filename,"utf8"),options,locals))}else{var compiled=this.compileFile(filename,options);return tr.normalize({body:compiled.fn(locals||options),dependencies:compiled.dependencies})}};Transformer.prototype.renderFileAsync=function(filename,options,locals,cb){if(!this.can("renderFileAsync")){throw new Error('The Transform "'+this.name+'" does not support rendering.')}if(typeof locals==="function"){cb=locals;locals=options}if(this._hasMethod("renderFileAsync")){return tr.normalizeAsync(this._tr.renderFileAsync(filename,options,locals),cb)}else if(this._hasMethod("renderFile")){return tr.normalizeAsync(this._tr.renderFile(filename,options,locals),cb)}else if(this._hasMethod("compile")||this._hasMethod("compileAsync")||this._hasMethod("compileFile")||this._hasMethod("compileFileAsync")){return tr.normalizeAsync(this.compileFileAsync(filename,options).then(function(compiled){return{body:compiled.fn(locals||options),dependencies:compiled.dependencies}}),cb)}else{if(!options)options={};if(options.filename===undefined)options.filename=filename;return tr.normalizeAsync(tr.readFile(filename,"utf8").then(function(str){return this.renderAsync(str,options,locals)}.bind(this)),cb)}}},{assert:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/assert/assert.js",fs:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/browserify/lib/_empty.js","is-promise":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/is-promise/index.js",promise:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/promise/index.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/miller-rabin/lib/mr.js":[function(require,module,exports){var bn=require("bn.js");var brorand=require("brorand");function MillerRabin(rand){this.rand=rand||new brorand.Rand}module.exports=MillerRabin;MillerRabin.create=function create(rand){return new MillerRabin(rand)};MillerRabin.prototype._rand=function _rand(n){var len=n.bitLength();var buf=this.rand.generate(Math.ceil(len/8));buf[0]|=3;var mask=len&7;if(mask!==0)buf[buf.length-1]>>=7-mask;return new bn(buf)};MillerRabin.prototype.test=function test(n,k,cb){var len=n.bitLength();var red=bn.mont(n);var rone=new bn(1).toRed(red);if(!k)k=Math.max(1,len/48|0);var n1=n.subn(1);var n2=n1.subn(1);for(var s=0;!n1.testn(s);s++){}var d=n.shrn(s);var rn1=n1.toRed(red);var prime=true;for(;k>0;k--){var a=this._rand(n2);if(cb)cb(a);var x=a.toRed(red).redPow(d);if(x.cmp(rone)===0||x.cmp(rn1)===0)continue;for(var i=1;i<s;i++){x=x.redSqr();if(x.cmp(rone)===0)return false;if(x.cmp(rn1)===0)break}if(i===s)return false}return prime};MillerRabin.prototype.getDivisor=function getDivisor(n,k){var len=n.bitLength();var red=bn.mont(n);var rone=new bn(1).toRed(red);if(!k)k=Math.max(1,len/48|0);var n1=n.subn(1);var n2=n1.subn(1);for(var s=0;!n1.testn(s);s++){}var d=n.shrn(s);var rn1=n1.toRed(red);for(;k>0;k--){var a=this._rand(n2);var g=n.gcd(a);if(g.cmpn(1)!==0)return g;var x=a.toRed(red).redPow(d);if(x.cmp(rone)===0||x.cmp(rn1)===0)continue;for(var i=1;i<s;i++){x=x.redSqr();if(x.cmp(rone)===0)return x.fromRed().subn(1).gcd(n);if(x.cmp(rn1)===0)break}if(i===s){x=x.redSqr();return x.fromRed().subn(1).gcd(n)}}return false}},{"bn.js":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/bn.js/lib/bn.js",brorand:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/brorand/index.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/minimalistic-assert/index.js":[function(require,module,exports){module.exports=assert;function assert(val,msg){if(!val)throw new Error(msg||"Assertion failed")}assert.equal=function assertEqual(l,r,msg){if(l!=r)throw new Error(msg||"Assertion failed: "+l+" != "+r)}},{}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/mkdirp/index.js":[function(require,module,exports){(function(process){var path=require("path");var fs=require("fs");var _0777=parseInt("0777",8);module.exports=mkdirP.mkdirp=mkdirP.mkdirP=mkdirP;function mkdirP(p,opts,f,made){if(typeof opts==="function"){f=opts;opts={}}else if(!opts||typeof opts!=="object"){opts={mode:opts}}var mode=opts.mode;var xfs=opts.fs||fs;if(mode===undefined){mode=_0777&~process.umask()}if(!made)made=null;var cb=f||function(){};p=path.resolve(p);xfs.mkdir(p,mode,function(er){if(!er){made=made||p;return cb(null,made)}switch(er.code){case"ENOENT":mkdirP(path.dirname(p),opts,function(er,made){if(er)cb(er,made);else mkdirP(p,opts,cb,made)});break;default:xfs.stat(p,function(er2,stat){if(er2||!stat.isDirectory())cb(er,made);else cb(null,made)});break}})}mkdirP.sync=function sync(p,opts,made){if(!opts||typeof opts!=="object"){opts={mode:opts}}var mode=opts.mode;var xfs=opts.fs||fs;if(mode===undefined){mode=_0777&~process.umask()}if(!made)made=null;p=path.resolve(p);try{xfs.mkdirSync(p,mode);made=made||p}catch(err0){switch(err0.code){case"ENOENT":made=sync(path.dirname(p),opts,made);sync(p,opts,made);break;default:var stat;try{stat=xfs.statSync(p)}catch(err1){throw err0}if(!stat.isDirectory())throw err0;break}}return made}}).call(this,require("_process"))},{_process:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/process/browser.js",fs:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/browserify/lib/_empty.js",path:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/path-browserify/index.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/object-assign/index.js":[function(require,module,exports){"use strict";var hasOwnProperty=Object.prototype.hasOwnProperty;var propIsEnumerable=Object.prototype.propertyIsEnumerable;function toObject(val){if(val===null||val===undefined){throw new TypeError("Object.assign cannot be called with null or undefined")}return Object(val)}function shouldUseNative(){try{if(!Object.assign){return false}var test1=new String("abc");test1[5]="de";if(Object.getOwnPropertyNames(test1)[0]==="5"){return false}var test2={};for(var i=0;i<10;i++){test2["_"+String.fromCharCode(i)]=i}var order2=Object.getOwnPropertyNames(test2).map(function(n){return test2[n]});if(order2.join("")!=="0123456789"){return false}var test3={};"abcdefghijklmnopqrst".split("").forEach(function(letter){test3[letter]=letter});if(Object.keys(Object.assign({},test3)).join("")!=="abcdefghijklmnopqrst"){return false}return true}catch(e){return false}}module.exports=shouldUseNative()?Object.assign:function(target,source){var from;var to=toObject(target);var symbols;for(var s=1;s<arguments.length;s++){from=Object(arguments[s]);for(var key in from){if(hasOwnProperty.call(from,key)){to[key]=from[key]}}if(Object.getOwnPropertySymbols){symbols=Object.getOwnPropertySymbols(from);for(var i=0;i<symbols.length;i++){if(propIsEnumerable.call(from,symbols[i])){to[symbols[i]]=from[symbols[i]]}}}}return to}},{}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/os-browserify/browser.js":[function(require,module,exports){exports.endianness=function(){return"LE"};exports.hostname=function(){if(typeof location!=="undefined"){return location.hostname}else return""};exports.loadavg=function(){return[]};exports.uptime=function(){return 0};exports.freemem=function(){return Number.MAX_VALUE};exports.totalmem=function(){return Number.MAX_VALUE};exports.cpus=function(){return[]};exports.type=function(){return"Browser"};exports.release=function(){if(typeof navigator!=="undefined"){return navigator.appVersion}return""};exports.networkInterfaces=exports.getNetworkInterfaces=function(){return{}};exports.arch=function(){return"javascript"};exports.platform=function(){return"browser"};exports.tmpdir=exports.tmpDir=function(){return"/tmp"};exports.EOL="\n"},{}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/pad/lib/index.js":[function(require,module,exports){module.exports=function(text,length,options){var escapecolor,i,invert,j,pad,padlength,ref,ref1;if(options==null){options={}}invert=typeof text==="number";if(invert){ref=[text,length],length=ref[0],text=ref[1]}if(typeof options==="string"){options={char:options}}if(options.char==null){options.char=" "}if(options.strip==null){options.strip=false}text=text.toString();pad="";if(options.colors){escapecolor=/\x1B\[([0-9]{1,2}(;[0-9]{1,2})?)?[m|K]/g;length+=text.length-text.replace(escapecolor,"").length}padlength=length-text.length;if(padlength<0){if(options.strip){if(invert){return text.substr(length*-1)}else{return text.substr(0,length)}}return text}for(i=j=0,ref1=padlength;0<=ref1?j<ref1:j>ref1;i=0<=ref1?++j:--j){pad+=options.char}if(invert){return pad+text}else{return text+pad}}},{}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/parse-asn1/aesid.json":[function(require,module,exports){module.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}},{}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/parse-asn1/asn1.js":[function(require,module,exports){var asn1=require("asn1.js");var RSAPrivateKey=asn1.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});exports.RSAPrivateKey=RSAPrivateKey;var RSAPublicKey=asn1.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});exports.RSAPublicKey=RSAPublicKey;var PublicKey=asn1.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(AlgorithmIdentifier),this.key("subjectPublicKey").bitstr())});exports.PublicKey=PublicKey;var AlgorithmIdentifier=asn1.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())});var PrivateKeyInfo=asn1.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(AlgorithmIdentifier),this.key("subjectPrivateKey").octstr())});exports.PrivateKey=PrivateKeyInfo;var EncryptedPrivateKeyInfo=asn1.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});exports.EncryptedPrivateKey=EncryptedPrivateKeyInfo;var DSAPrivateKey=asn1.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});exports.DSAPrivateKey=DSAPrivateKey;exports.DSAparam=asn1.define("DSAparam",function(){this.int()});var ECPrivateKey=asn1.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(ECParameters),this.key("publicKey").optional().explicit(1).bitstr())});exports.ECPrivateKey=ECPrivateKey;var ECParameters=asn1.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});exports.signature=asn1.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})},{"asn1.js":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/asn1.js/lib/asn1.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/parse-asn1/fixProc.js":[function(require,module,exports){(function(Buffer){var findProc=/Proc-Type: 4,ENCRYPTED\r?\nDEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)\r?\n\r?\n([0-9A-z\n\r\+\/\=]+)\r?\n/m;var startRegex=/^-----BEGIN (.*) KEY-----\r?\n/m;var fullRegex=/^-----BEGIN (.*) KEY-----\r?\n([0-9A-z\n\r\+\/\=]+)\r?\n-----END \1 KEY-----$/m;var evp=require("evp_bytestokey");var ciphers=require("browserify-aes");module.exports=function(okey,password){var key=okey.toString();var match=key.match(findProc);var decrypted;if(!match){var match2=key.match(fullRegex);decrypted=new Buffer(match2[2].replace(/\r?\n/g,""),"base64")}else{var suite="aes"+match[1];var iv=new Buffer(match[2],"hex");var cipherText=new Buffer(match[3].replace(/\r?\n/g,""),"base64");var cipherKey=evp(password,iv.slice(0,8),parseInt(match[1],10)).key;var out=[];var cipher=ciphers.createDecipheriv(suite,cipherKey,iv);out.push(cipher.update(cipherText));out.push(cipher.final());decrypted=Buffer.concat(out)}var tag=key.match(startRegex)[1]+" KEY";return{tag:tag,data:decrypted}}}).call(this,require("buffer").Buffer)},{"browserify-aes":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/browserify-aes/browser.js",buffer:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/buffer/index.js",evp_bytestokey:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/evp_bytestokey/index.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/parse-asn1/index.js":[function(require,module,exports){(function(Buffer){var asn1=require("./asn1");var aesid=require("./aesid.json");var fixProc=require("./fixProc");var ciphers=require("browserify-aes");var compat=require("pbkdf2");module.exports=parseKeys;function parseKeys(buffer){var password;if(typeof buffer==="object"&&!Buffer.isBuffer(buffer)){password=buffer.passphrase;buffer=buffer.key}if(typeof buffer==="string"){buffer=new Buffer(buffer)}var stripped=fixProc(buffer,password);var type=stripped.tag;var data=stripped.data;var subtype,ndata;switch(type){case"PUBLIC KEY":ndata=asn1.PublicKey.decode(data,"der");subtype=ndata.algorithm.algorithm.join(".");switch(subtype){case"1.2.840.113549.1.1.1":return asn1.RSAPublicKey.decode(ndata.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":ndata.subjectPrivateKey=ndata.subjectPublicKey;return{type:"ec",data:ndata};case"1.2.840.10040.4.1":ndata.algorithm.params.pub_key=asn1.DSAparam.decode(ndata.subjectPublicKey.data,"der");return{type:"dsa",data:ndata.algorithm.params};default:throw new Error("unknown key id "+subtype)}throw new Error("unknown key type "+type);case"ENCRYPTED PRIVATE KEY":data=asn1.EncryptedPrivateKey.decode(data,"der");data=decrypt(data,password);case"PRIVATE KEY":ndata=asn1.PrivateKey.decode(data,"der");subtype=ndata.algorithm.algorithm.join(".");switch(subtype){case"1.2.840.113549.1.1.1":return asn1.RSAPrivateKey.decode(ndata.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:ndata.algorithm.curve,privateKey:asn1.ECPrivateKey.decode(ndata.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":ndata.algorithm.params.priv_key=asn1.DSAparam.decode(ndata.subjectPrivateKey,"der");return{type:"dsa",params:ndata.algorithm.params};default:throw new Error("unknown key id "+subtype)}throw new Error("unknown key type "+type);case"RSA PUBLIC KEY":return asn1.RSAPublicKey.decode(data,"der");case"RSA PRIVATE KEY":return asn1.RSAPrivateKey.decode(data,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:asn1.DSAPrivateKey.decode(data,"der")};case"EC PRIVATE KEY":data=asn1.ECPrivateKey.decode(data,"der");return{curve:data.parameters.value,privateKey:data.privateKey};default:throw new Error("unknown key type "+type)}}parseKeys.signature=asn1.signature;function decrypt(data,password){var salt=data.algorithm.decrypt.kde.kdeparams.salt;var iters=parseInt(data.algorithm.decrypt.kde.kdeparams.iters.toString(),10);var algo=aesid[data.algorithm.decrypt.cipher.algo.join(".")];var iv=data.algorithm.decrypt.cipher.iv;var cipherText=data.subjectPrivateKey;var keylen=parseInt(algo.split("-")[1],10)/8;var key=compat.pbkdf2Sync(password,salt,iters,keylen);var cipher=ciphers.createDecipheriv(algo,key,iv);var out=[];out.push(cipher.update(cipherText));out.push(cipher.final());return Buffer.concat(out)}}).call(this,require("buffer").Buffer)},{"./aesid.json":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/parse-asn1/aesid.json","./asn1":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/parse-asn1/asn1.js","./fixProc":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/parse-asn1/fixProc.js","browserify-aes":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/browserify-aes/browser.js",buffer:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/buffer/index.js",pbkdf2:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/pbkdf2/browser.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/path-browserify/index.js":[function(require,module,exports){(function(process){function normalizeArray(parts,allowAboveRoot){var up=0;for(var i=parts.length-1;i>=0;i--){var last=parts[i];if(last==="."){parts.splice(i,1)}else if(last===".."){parts.splice(i,1);up++}else if(up){parts.splice(i,1);up--}}if(allowAboveRoot){for(;up--;up){parts.unshift("..")}}return parts}var splitPathRe=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;var splitPath=function(filename){return splitPathRe.exec(filename).slice(1)};exports.resolve=function(){var resolvedPath="",resolvedAbsolute=false;for(var i=arguments.length-1;i>=-1&&!resolvedAbsolute;i--){var path=i>=0?arguments[i]:process.cwd();if(typeof path!=="string"){throw new TypeError("Arguments to path.resolve must be strings")}else if(!path){continue}resolvedPath=path+"/"+resolvedPath;resolvedAbsolute=path.charAt(0)==="/"}resolvedPath=normalizeArray(filter(resolvedPath.split("/"),function(p){return!!p}),!resolvedAbsolute).join("/");return(resolvedAbsolute?"/":"")+resolvedPath||"."};exports.normalize=function(path){var isAbsolute=exports.isAbsolute(path),trailingSlash=substr(path,-1)==="/";path=normalizeArray(filter(path.split("/"),function(p){return!!p}),!isAbsolute).join("/");if(!path&&!isAbsolute){path="."}if(path&&trailingSlash){path+="/"}return(isAbsolute?"/":"")+path};exports.isAbsolute=function(path){return path.charAt(0)==="/"};exports.join=function(){var paths=Array.prototype.slice.call(arguments,0);return exports.normalize(filter(paths,function(p,index){if(typeof p!=="string"){throw new TypeError("Arguments to path.join must be strings")}return p}).join("/"))};exports.relative=function(from,to){from=exports.resolve(from).substr(1);to=exports.resolve(to).substr(1);function trim(arr){var start=0;for(;start<arr.length;start++){if(arr[start]!=="")break}var end=arr.length-1;for(;end>=0;end--){if(arr[end]!=="")break}if(start>end)return[];return arr.slice(start,end-start+1)}var fromParts=trim(from.split("/"));var toParts=trim(to.split("/"));var length=Math.min(fromParts.length,toParts.length);var samePartsLength=length;for(var i=0;i<length;i++){if(fromParts[i]!==toParts[i]){samePartsLength=i;break}}var outputParts=[];for(var i=samePartsLength;i<fromParts.length;i++){outputParts.push("..")}outputParts=outputParts.concat(toParts.slice(samePartsLength));return outputParts.join("/")};exports.sep="/";exports.delimiter=":";exports.dirname=function(path){var result=splitPath(path),root=result[0],dir=result[1];if(!root&&!dir){return"."}if(dir){dir=dir.substr(0,dir.length-1)}return root+dir};exports.basename=function(path,ext){var f=splitPath(path)[2];if(ext&&f.substr(-1*ext.length)===ext){f=f.substr(0,f.length-ext.length)}return f};exports.extname=function(path){return splitPath(path)[3]};function filter(xs,f){if(xs.filter)return xs.filter(f);var res=[];for(var i=0;i<xs.length;i++){if(f(xs[i],i,xs))res.push(xs[i])}return res}var substr="ab".substr(-1)==="b"?function(str,start,len){return str.substr(start,len)}:function(str,start,len){if(start<0)start=str.length+start;return str.substr(start,len)}}).call(this,require("_process"))},{_process:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/process/browser.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/pbkdf2/browser.js":[function(require,module,exports){(function(Buffer){var createHmac=require("create-hmac");var MAX_ALLOC=Math.pow(2,30)-1;exports.pbkdf2=pbkdf2;function pbkdf2(password,salt,iterations,keylen,digest,callback){if(typeof digest==="function"){callback=digest;digest=undefined}if(typeof callback!=="function"){throw new Error("No callback provided to pbkdf2")}var result=pbkdf2Sync(password,salt,iterations,keylen,digest);setTimeout(function(){callback(undefined,result)})}exports.pbkdf2Sync=pbkdf2Sync;function pbkdf2Sync(password,salt,iterations,keylen,digest){if(typeof iterations!=="number"){throw new TypeError("Iterations not a number")}if(iterations<0){throw new TypeError("Bad iterations")}if(typeof keylen!=="number"){throw new TypeError("Key length not a number")}if(keylen<0||keylen>MAX_ALLOC){throw new TypeError("Bad key length")}digest=digest||"sha1";if(!Buffer.isBuffer(password))password=new Buffer(password,"binary");if(!Buffer.isBuffer(salt))salt=new Buffer(salt,"binary");var hLen;var l=1;var DK=new Buffer(keylen);var block1=new Buffer(salt.length+4);salt.copy(block1,0,0,salt.length);var r;var T;for(var i=1;i<=l;i++){block1.writeUInt32BE(i,salt.length);var U=createHmac(digest,password).update(block1).digest();if(!hLen){hLen=U.length;T=new Buffer(hLen);l=Math.ceil(keylen/hLen);r=keylen-(l-1)*hLen}U.copy(T,0,0,hLen);for(var j=1;j<iterations;j++){U=createHmac(digest,password).update(U).digest();for(var k=0;k<hLen;k++){T[k]^=U[k]}}var destPos=(i-1)*hLen;var len=i===l?r:hLen;T.copy(DK,destPos,0,len)}return DK}}).call(this,require("buffer").Buffer)},{buffer:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/buffer/index.js","create-hmac":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/create-hmac/browser.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/pkginfo/lib/pkginfo.js":[function(require,module,exports){(function(__dirname){var fs=require("fs"),path=require("path");var pkginfo=module.exports=function(pmodule,options){var args=[].slice.call(arguments,2).filter(function(arg){return typeof arg==="string"});if(Array.isArray(options)){options={include:options}}else if(typeof options==="string"){options={include:[options]}}options=options||{};options.include=options.include||[];if(args.length>0){options.include=options.include.concat(args)}var pkg=pkginfo.read(pmodule,options.dir).package;Object.keys(pkg).forEach(function(key){if(options.include.length>0&&!~options.include.indexOf(key)){return}if(!pmodule.exports[key]){pmodule.exports[key]=pkg[key]}});return pkginfo};pkginfo.find=function(pmodule,dir){if(!dir){dir=path.dirname(pmodule.filename)}var files=fs.readdirSync(dir);if(~files.indexOf("package.json")){return path.join(dir,"package.json")}if(dir==="/"){throw new Error("Could not find package.json up from: "+dir)}else if(!dir||dir==="."){throw new Error("Cannot find package.json from unspecified directory")}return pkginfo.find(pmodule,path.dirname(dir))};pkginfo.read=function(pmodule,dir){dir=pkginfo.find(pmodule,dir);var data=fs.readFileSync(dir).toString();return{dir:dir,package:JSON.parse(data)}};pkginfo(module,{dir:__dirname,include:["version"],target:pkginfo})}).call(this,"/node_modules/pkginfo/lib")},{fs:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/browserify/lib/_empty.js",path:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/path-browserify/index.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/process-nextick-args/index.js":[function(require,module,exports){(function(process){"use strict";if(!process.version||process.version.indexOf("v0.")===0||process.version.indexOf("v1.")===0&&process.version.indexOf("v1.8.")!==0){module.exports=nextTick}else{module.exports=process.nextTick}function nextTick(fn,arg1,arg2,arg3){if(typeof fn!=="function"){throw new TypeError('"callback" argument must be a function')}var len=arguments.length;var args,i;switch(len){case 0:case 1:return process.nextTick(fn);case 2:return process.nextTick(function afterTickOne(){fn.call(null,arg1)});case 3:return process.nextTick(function afterTickTwo(){fn.call(null,arg1,arg2)});case 4:return process.nextTick(function afterTickThree(){fn.call(null,arg1,arg2,arg3)});default:args=new Array(len-1);i=0;while(i<args.length){args[i++]=arguments[i]}return process.nextTick(function afterTick(){fn.apply(null,args)})}}}).call(this,require("_process"))},{_process:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/process/browser.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/process/browser.js":[function(require,module,exports){var process=module.exports={};var cachedSetTimeout;var cachedClearTimeout;(function(){try{cachedSetTimeout=setTimeout}catch(e){cachedSetTimeout=function(){throw new Error("setTimeout is not defined")}}try{cachedClearTimeout=clearTimeout}catch(e){cachedClearTimeout=function(){throw new Error("clearTimeout is not defined")}}})();var queue=[];var draining=false;var currentQueue;var queueIndex=-1;function cleanUpNextTick(){if(!draining||!currentQueue){return}draining=false;if(currentQueue.length){queue=currentQueue.concat(queue)}else{queueIndex=-1}if(queue.length){drainQueue()}}function drainQueue(){if(draining){return}var timeout=cachedSetTimeout(cleanUpNextTick);draining=true;var len=queue.length;while(len){currentQueue=queue;queue=[];while(++queueIndex<len){if(currentQueue){currentQueue[queueIndex].run()}}queueIndex=-1;len=queue.length}currentQueue=null;draining=false;cachedClearTimeout(timeout)}process.nextTick=function(fun){var args=new Array(arguments.length-1);if(arguments.length>1){for(var i=1;i<arguments.length;i++){args[i-1]=arguments[i]}}queue.push(new Item(fun,args));if(queue.length===1&&!draining){cachedSetTimeout(drainQueue,0)}};function Item(fun,array){this.fun=fun;this.array=array}Item.prototype.run=function(){this.fun.apply(null,this.array)};process.title="browser";process.browser=true;process.env={};process.argv=[];process.version="";process.versions={};function noop(){}process.on=noop;process.addListener=noop;process.once=noop;process.off=noop;process.removeListener=noop;process.removeAllListeners=noop;process.emit=noop;process.binding=function(name){throw new Error("process.binding is not supported")};process.cwd=function(){return"/"};process.chdir=function(dir){throw new Error("process.chdir is not supported")};process.umask=function(){return 0}},{}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/promise/index.js":[function(require,module,exports){"use strict";module.exports=require("./lib")},{"./lib":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/promise/lib/index.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/promise/lib/core.js":[function(require,module,exports){"use strict";var asap=require("asap/raw");function noop(){}var LAST_ERROR=null;var IS_ERROR={};function getThen(obj){try{return obj.then}catch(ex){LAST_ERROR=ex;return IS_ERROR}}function tryCallOne(fn,a){try{return fn(a)}catch(ex){LAST_ERROR=ex;return IS_ERROR}}function tryCallTwo(fn,a,b){try{fn(a,b)}catch(ex){LAST_ERROR=ex;return IS_ERROR}}module.exports=Promise;function Promise(fn){if(typeof this!=="object"){throw new TypeError("Promises must be constructed via new")}if(typeof fn!=="function"){throw new TypeError("not a function")}this._45=0;this._81=0;this._65=null;this._54=null;if(fn===noop)return;doResolve(fn,this)}Promise._10=null;Promise._97=null;Promise._61=noop;Promise.prototype.then=function(onFulfilled,onRejected){if(this.constructor!==Promise){return safeThen(this,onFulfilled,onRejected)}var res=new Promise(noop);handle(this,new Handler(onFulfilled,onRejected,res));return res;
};function safeThen(self,onFulfilled,onRejected){return new self.constructor(function(resolve,reject){var res=new Promise(noop);res.then(resolve,reject);handle(self,new Handler(onFulfilled,onRejected,res))})}function handle(self,deferred){while(self._81===3){self=self._65}if(Promise._10){Promise._10(self)}if(self._81===0){if(self._45===0){self._45=1;self._54=deferred;return}if(self._45===1){self._45=2;self._54=[self._54,deferred];return}self._54.push(deferred);return}handleResolved(self,deferred)}function handleResolved(self,deferred){asap(function(){var cb=self._81===1?deferred.onFulfilled:deferred.onRejected;if(cb===null){if(self._81===1){resolve(deferred.promise,self._65)}else{reject(deferred.promise,self._65)}return}var ret=tryCallOne(cb,self._65);if(ret===IS_ERROR){reject(deferred.promise,LAST_ERROR)}else{resolve(deferred.promise,ret)}})}function resolve(self,newValue){if(newValue===self){return reject(self,new TypeError("A promise cannot be resolved with itself."))}if(newValue&&(typeof newValue==="object"||typeof newValue==="function")){var then=getThen(newValue);if(then===IS_ERROR){return reject(self,LAST_ERROR)}if(then===self.then&&newValue instanceof Promise){self._81=3;self._65=newValue;finale(self);return}else if(typeof then==="function"){doResolve(then.bind(newValue),self);return}}self._81=1;self._65=newValue;finale(self)}function reject(self,newValue){self._81=2;self._65=newValue;if(Promise._97){Promise._97(self,newValue)}finale(self)}function finale(self){if(self._45===1){handle(self,self._54);self._54=null}if(self._45===2){for(var i=0;i<self._54.length;i++){handle(self,self._54[i])}self._54=null}}function Handler(onFulfilled,onRejected,promise){this.onFulfilled=typeof onFulfilled==="function"?onFulfilled:null;this.onRejected=typeof onRejected==="function"?onRejected:null;this.promise=promise}function doResolve(fn,promise){var done=false;var res=tryCallTwo(fn,function(value){if(done)return;done=true;resolve(promise,value)},function(reason){if(done)return;done=true;reject(promise,reason)});if(!done&&res===IS_ERROR){done=true;reject(promise,LAST_ERROR)}}},{"asap/raw":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/asap/browser-raw.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/promise/lib/done.js":[function(require,module,exports){"use strict";var Promise=require("./core.js");module.exports=Promise;Promise.prototype.done=function(onFulfilled,onRejected){var self=arguments.length?this.then.apply(this,arguments):this;self.then(null,function(err){setTimeout(function(){throw err},0)})}},{"./core.js":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/promise/lib/core.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/promise/lib/es6-extensions.js":[function(require,module,exports){"use strict";var Promise=require("./core.js");module.exports=Promise;var TRUE=valuePromise(true);var FALSE=valuePromise(false);var NULL=valuePromise(null);var UNDEFINED=valuePromise(undefined);var ZERO=valuePromise(0);var EMPTYSTRING=valuePromise("");function valuePromise(value){var p=new Promise(Promise._61);p._81=1;p._65=value;return p}Promise.resolve=function(value){if(value instanceof Promise)return value;if(value===null)return NULL;if(value===undefined)return UNDEFINED;if(value===true)return TRUE;if(value===false)return FALSE;if(value===0)return ZERO;if(value==="")return EMPTYSTRING;if(typeof value==="object"||typeof value==="function"){try{var then=value.then;if(typeof then==="function"){return new Promise(then.bind(value))}}catch(ex){return new Promise(function(resolve,reject){reject(ex)})}}return valuePromise(value)};Promise.all=function(arr){var args=Array.prototype.slice.call(arr);return new Promise(function(resolve,reject){if(args.length===0)return resolve([]);var remaining=args.length;function res(i,val){if(val&&(typeof val==="object"||typeof val==="function")){if(val instanceof Promise&&val.then===Promise.prototype.then){while(val._81===3){val=val._65}if(val._81===1)return res(i,val._65);if(val._81===2)reject(val._65);val.then(function(val){res(i,val)},reject);return}else{var then=val.then;if(typeof then==="function"){var p=new Promise(then.bind(val));p.then(function(val){res(i,val)},reject);return}}}args[i]=val;if(--remaining===0){resolve(args)}}for(var i=0;i<args.length;i++){res(i,args[i])}})};Promise.reject=function(value){return new Promise(function(resolve,reject){reject(value)})};Promise.race=function(values){return new Promise(function(resolve,reject){values.forEach(function(value){Promise.resolve(value).then(resolve,reject)})})};Promise.prototype["catch"]=function(onRejected){return this.then(null,onRejected)}},{"./core.js":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/promise/lib/core.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/promise/lib/finally.js":[function(require,module,exports){"use strict";var Promise=require("./core.js");module.exports=Promise;Promise.prototype["finally"]=function(f){return this.then(function(value){return Promise.resolve(f()).then(function(){return value})},function(err){return Promise.resolve(f()).then(function(){throw err})})}},{"./core.js":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/promise/lib/core.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/promise/lib/index.js":[function(require,module,exports){"use strict";module.exports=require("./core.js");require("./done.js");require("./finally.js");require("./es6-extensions.js");require("./node-extensions.js");require("./synchronous.js")},{"./core.js":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/promise/lib/core.js","./done.js":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/promise/lib/done.js","./es6-extensions.js":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/promise/lib/es6-extensions.js","./finally.js":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/promise/lib/finally.js","./node-extensions.js":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/promise/lib/node-extensions.js","./synchronous.js":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/promise/lib/synchronous.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/promise/lib/node-extensions.js":[function(require,module,exports){"use strict";var Promise=require("./core.js");var asap=require("asap");module.exports=Promise;Promise.denodeify=function(fn,argumentCount){if(typeof argumentCount==="number"&&argumentCount!==Infinity){return denodeifyWithCount(fn,argumentCount)}else{return denodeifyWithoutCount(fn)}};var callbackFn="function (err, res) {"+"if (err) { rj(err); } else { rs(res); }"+"}";function denodeifyWithCount(fn,argumentCount){var args=[];for(var i=0;i<argumentCount;i++){args.push("a"+i)}var body=["return function ("+args.join(",")+") {","var self = this;","return new Promise(function (rs, rj) {","var res = fn.call(",["self"].concat(args).concat([callbackFn]).join(","),");","if (res &&",'(typeof res === "object" || typeof res === "function") &&','typeof res.then === "function"',") {rs(res);}","});","};"].join("");return Function(["Promise","fn"],body)(Promise,fn)}function denodeifyWithoutCount(fn){var fnLength=Math.max(fn.length-1,3);var args=[];for(var i=0;i<fnLength;i++){args.push("a"+i)}var body=["return function ("+args.join(",")+") {","var self = this;","var args;","var argLength = arguments.length;","if (arguments.length > "+fnLength+") {","args = new Array(arguments.length + 1);","for (var i = 0; i < arguments.length; i++) {","args[i] = arguments[i];","}","}","return new Promise(function (rs, rj) {","var cb = "+callbackFn+";","var res;","switch (argLength) {",args.concat(["extra"]).map(function(_,index){return"case "+index+":"+"res = fn.call("+["self"].concat(args.slice(0,index)).concat("cb").join(",")+");"+"break;"}).join(""),"default:","args[argLength] = cb;","res = fn.apply(self, args);","}","if (res &&",'(typeof res === "object" || typeof res === "function") &&','typeof res.then === "function"',") {rs(res);}","});","};"].join("");return Function(["Promise","fn"],body)(Promise,fn)}Promise.nodeify=function(fn){return function(){var args=Array.prototype.slice.call(arguments);var callback=typeof args[args.length-1]==="function"?args.pop():null;var ctx=this;try{return fn.apply(this,arguments).nodeify(callback,ctx)}catch(ex){if(callback===null||typeof callback=="undefined"){return new Promise(function(resolve,reject){reject(ex)})}else{asap(function(){callback.call(ctx,ex)})}}}};Promise.prototype.nodeify=function(callback,ctx){if(typeof callback!="function")return this;this.then(function(value){asap(function(){callback.call(ctx,null,value)})},function(err){asap(function(){callback.call(ctx,err)})})}},{"./core.js":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/promise/lib/core.js",asap:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/asap/browser-asap.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/promise/lib/synchronous.js":[function(require,module,exports){"use strict";var Promise=require("./core.js");module.exports=Promise;Promise.enableSynchronous=function(){Promise.prototype.isPending=function(){return this.getState()==0};Promise.prototype.isFulfilled=function(){return this.getState()==1};Promise.prototype.isRejected=function(){return this.getState()==2};Promise.prototype.getValue=function(){if(this._81===3){return this._65.getValue()}if(!this.isFulfilled()){throw new Error("Cannot get a value of an unfulfilled promise.")}return this._65};Promise.prototype.getReason=function(){if(this._81===3){return this._65.getReason()}if(!this.isRejected()){throw new Error("Cannot get a rejection reason of a non-rejected promise.")}return this._65};Promise.prototype.getState=function(){if(this._81===3){return this._65.getState()}if(this._81===-1||this._81===-2){return 0}return this._81}};Promise.disableSynchronous=function(){Promise.prototype.isPending=undefined;Promise.prototype.isFulfilled=undefined;Promise.prototype.isRejected=undefined;Promise.prototype.getValue=undefined;Promise.prototype.getReason=undefined;Promise.prototype.getState=undefined}},{"./core.js":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/promise/lib/core.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/public-encrypt/browser.js":[function(require,module,exports){exports.publicEncrypt=require("./publicEncrypt");exports.privateDecrypt=require("./privateDecrypt");exports.privateEncrypt=function privateEncrypt(key,buf){return exports.publicEncrypt(key,buf,true)};exports.publicDecrypt=function publicDecrypt(key,buf){return exports.privateDecrypt(key,buf,true)}},{"./privateDecrypt":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/public-encrypt/privateDecrypt.js","./publicEncrypt":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/public-encrypt/publicEncrypt.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/public-encrypt/mgf.js":[function(require,module,exports){(function(Buffer){var createHash=require("create-hash");module.exports=function(seed,len){var t=new Buffer("");var i=0,c;while(t.length<len){c=i2ops(i++);t=Buffer.concat([t,createHash("sha1").update(seed).update(c).digest()])}return t.slice(0,len)};function i2ops(c){var out=new Buffer(4);out.writeUInt32BE(c,0);return out}}).call(this,require("buffer").Buffer)},{buffer:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/buffer/index.js","create-hash":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/create-hash/browser.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/public-encrypt/privateDecrypt.js":[function(require,module,exports){(function(Buffer){var parseKeys=require("parse-asn1");var mgf=require("./mgf");var xor=require("./xor");var bn=require("bn.js");var crt=require("browserify-rsa");var createHash=require("create-hash");var withPublic=require("./withPublic");module.exports=function privateDecrypt(private_key,enc,reverse){var padding;if(private_key.padding){padding=private_key.padding}else if(reverse){padding=1}else{padding=4}var key=parseKeys(private_key);var k=key.modulus.byteLength();if(enc.length>k||new bn(enc).cmp(key.modulus)>=0){throw new Error("decryption error")}var msg;if(reverse){msg=withPublic(new bn(enc),key)}else{msg=crt(enc,key)}var zBuffer=new Buffer(k-msg.length);zBuffer.fill(0);msg=Buffer.concat([zBuffer,msg],k);if(padding===4){return oaep(key,msg)}else if(padding===1){return pkcs1(key,msg,reverse)}else if(padding===3){return msg}else{throw new Error("unknown padding")}};function oaep(key,msg){var n=key.modulus;var k=key.modulus.byteLength();var mLen=msg.length;var iHash=createHash("sha1").update(new Buffer("")).digest();var hLen=iHash.length;var hLen2=2*hLen;if(msg[0]!==0){throw new Error("decryption error")}var maskedSeed=msg.slice(1,hLen+1);var maskedDb=msg.slice(hLen+1);var seed=xor(maskedSeed,mgf(maskedDb,hLen));var db=xor(maskedDb,mgf(seed,k-hLen-1));if(compare(iHash,db.slice(0,hLen))){throw new Error("decryption error")}var i=hLen;while(db[i]===0){i++}if(db[i++]!==1){throw new Error("decryption error")}return db.slice(i)}function pkcs1(key,msg,reverse){var p1=msg.slice(0,2);var i=2;var status=0;while(msg[i++]!==0){if(i>=msg.length){status++;break}}var ps=msg.slice(2,i-1);var p2=msg.slice(i-1,i);if(p1.toString("hex")!=="0002"&&!reverse||p1.toString("hex")!=="0001"&&reverse){status++}if(ps.length<8){status++}if(status){throw new Error("decryption error")}return msg.slice(i)}function compare(a,b){a=new Buffer(a);b=new Buffer(b);var dif=0;var len=a.length;if(a.length!==b.length){dif++;len=Math.min(a.length,b.length)}var i=-1;while(++i<len){dif+=a[i]^b[i]}return dif}}).call(this,require("buffer").Buffer)},{"./mgf":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/public-encrypt/mgf.js","./withPublic":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/public-encrypt/withPublic.js","./xor":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/public-encrypt/xor.js","bn.js":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/bn.js/lib/bn.js","browserify-rsa":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/browserify-rsa/index.js",buffer:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/buffer/index.js","create-hash":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/create-hash/browser.js","parse-asn1":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/parse-asn1/index.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/public-encrypt/publicEncrypt.js":[function(require,module,exports){(function(Buffer){var parseKeys=require("parse-asn1");var randomBytes=require("randombytes");var createHash=require("create-hash");var mgf=require("./mgf");var xor=require("./xor");var bn=require("bn.js");var withPublic=require("./withPublic");var crt=require("browserify-rsa");var constants={RSA_PKCS1_OAEP_PADDING:4,RSA_PKCS1_PADDIN:1,RSA_NO_PADDING:3};module.exports=function publicEncrypt(public_key,msg,reverse){var padding;if(public_key.padding){padding=public_key.padding}else if(reverse){padding=1}else{padding=4}var key=parseKeys(public_key);var paddedMsg;if(padding===4){paddedMsg=oaep(key,msg)}else if(padding===1){paddedMsg=pkcs1(key,msg,reverse)}else if(padding===3){paddedMsg=new bn(msg);if(paddedMsg.cmp(key.modulus)>=0){throw new Error("data too long for modulus")}}else{throw new Error("unknown padding")}if(reverse){return crt(paddedMsg,key)}else{return withPublic(paddedMsg,key)}};function oaep(key,msg){var k=key.modulus.byteLength();var mLen=msg.length;var iHash=createHash("sha1").update(new Buffer("")).digest();var hLen=iHash.length;var hLen2=2*hLen;if(mLen>k-hLen2-2){throw new Error("message too long")}var ps=new Buffer(k-mLen-hLen2-2);ps.fill(0);var dblen=k-hLen-1;var seed=randomBytes(hLen);var maskedDb=xor(Buffer.concat([iHash,ps,new Buffer([1]),msg],dblen),mgf(seed,dblen));var maskedSeed=xor(seed,mgf(maskedDb,hLen));return new bn(Buffer.concat([new Buffer([0]),maskedSeed,maskedDb],k))}function pkcs1(key,msg,reverse){var mLen=msg.length;var k=key.modulus.byteLength();if(mLen>k-11){throw new Error("message too long")}var ps;if(reverse){ps=new Buffer(k-mLen-3);ps.fill(255)}else{ps=nonZero(k-mLen-3)}return new bn(Buffer.concat([new Buffer([0,reverse?1:2]),ps,new Buffer([0]),msg],k))}function nonZero(len,crypto){var out=new Buffer(len);var i=0;var cache=randomBytes(len*2);var cur=0;var num;while(i<len){if(cur===cache.length){cache=randomBytes(len*2);cur=0}num=cache[cur++];if(num){out[i++]=num}}return out}}).call(this,require("buffer").Buffer)},{"./mgf":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/public-encrypt/mgf.js","./withPublic":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/public-encrypt/withPublic.js","./xor":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/public-encrypt/xor.js","bn.js":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/bn.js/lib/bn.js","browserify-rsa":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/browserify-rsa/index.js",buffer:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/buffer/index.js","create-hash":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/create-hash/browser.js","parse-asn1":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/parse-asn1/index.js",randombytes:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/randombytes/browser.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/public-encrypt/withPublic.js":[function(require,module,exports){(function(Buffer){var bn=require("bn.js");function withPublic(paddedMsg,key){return new Buffer(paddedMsg.toRed(bn.mont(key.modulus)).redPow(new bn(key.publicExponent)).fromRed().toArray())}module.exports=withPublic}).call(this,require("buffer").Buffer)},{"bn.js":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/bn.js/lib/bn.js",buffer:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/buffer/index.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/public-encrypt/xor.js":[function(require,module,exports){module.exports=function xor(a,b){var len=a.length;var i=-1;while(++i<len){a[i]^=b[i]}return a}},{}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/pug-attrs/index.js":[function(require,module,exports){"use strict";var assert=require("assert");var constantinople=require("constantinople");var runtime=require("pug-runtime");var stringify=require("js-stringify");function isConstant(src){return constantinople(src,{pug:runtime,pug_interp:undefined})}function toConstant(src){return constantinople.toConstant(src,{pug:runtime,pug_interp:undefined})}module.exports=compileAttrs;function compileAttrs(attrs,options){assert(Array.isArray(attrs),"Attrs should be an array");assert(attrs.every(function(attr){return attr&&typeof attr==="object"&&typeof attr.name==="string"&&(typeof attr.val==="string"||typeof attr.val==="boolean")&&typeof attr.mustEscape==="boolean"}),"All attributes should be supplied as an object of the form {name, val, mustEscape}");assert(options&&typeof options==="object","Options should be an object");assert(typeof options.terse==="boolean","Options.terse should be a boolean");assert(typeof options.runtime==="function","Options.runtime should be a function that takes a runtime function name and returns the source code that will evaluate to that function at runtime");assert(options.format==="html"||options.format==="object",'Options.format should be "html" or "object"');var buf=[];var classes=[];var classEscaping=[];function addAttribute(key,val,mustEscape,buf){if(isConstant(val)){if(options.format==="html"){var str=stringify(runtime.attr(key,toConstant(val),mustEscape,options.terse));var last=buf[buf.length-1];if(last&&last[last.length-1]===str[0]){buf[buf.length-1]=last.substr(0,last.length-1)+str.substr(1)}else{buf.push(str)}}else{val=toConstant(val);if(mustEscape){val=runtime.escape(val)}buf.push(stringify(key)+": "+stringify(val))}}else{if(options.format==="html"){buf.push(options.runtime("attr")+'("'+key+'", '+val+", "+stringify(mustEscape)+", "+stringify(options.terse)+")")}else{if(mustEscape){val=options.runtime("escape")+"("+val+")"}buf.push(stringify(key)+": "+val)}}}attrs.forEach(function(attr){var key=attr.name;var val=attr.val;var mustEscape=attr.mustEscape;if(key==="class"){classes.push(val);classEscaping.push(mustEscape)}else{if(key==="style"){if(isConstant(val)){val=stringify(runtime.style(toConstant(val)))}else{val=options.runtime("style")+"("+val+")"}}addAttribute(key,val,mustEscape,buf)}});var classesBuf=[];if(classes.length){if(classes.every(isConstant)){addAttribute("class",stringify(runtime.classes(classes.map(toConstant),classEscaping)),false,classesBuf)}else{classes=classes.map(function(cls,i){if(isConstant(cls)){cls=stringify(classEscaping[i]?runtime.escape(toConstant(cls)):toConstant(cls));classEscaping[i]=false}return cls});addAttribute("class",options.runtime("classes")+"(["+classes.join(",")+"], "+stringify(classEscaping)+")",false,classesBuf)}}buf=classesBuf.concat(buf);if(options.format==="html")return buf.length?buf.join("+"):'""';else return"{"+buf.join(",")+"}"}},{assert:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/assert/assert.js",constantinople:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/constantinople/index.js","js-stringify":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/js-stringify/index.js","pug-runtime":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/pug-runtime/index.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/pug-code-gen/index.js":[function(require,module,exports){"use strict";var doctypes=require("doctypes");var makeError=require("pug-error");var buildRuntime=require("pug-runtime/build");var runtime=require("pug-runtime");var compileAttrs=require("pug-attrs");var selfClosing=require("void-elements");var constantinople=require("constantinople");var stringify=require("js-stringify");var addWith=require("with");var WHITE_SPACE_SENSITIVE_TAGS={pre:true,textarea:true};var INTERNAL_VARIABLES=["pug","pug_mixins","pug_interp","pug_debug_filename","pug_debug_line","pug_debug_sources","pug_html"];module.exports=generateCode;module.exports.CodeGenerator=Compiler;function generateCode(ast,options){return new Compiler(ast,options).compile()}function isConstant(src){return constantinople(src,{pug:runtime,pug_interp:undefined})}function toConstant(src){return constantinople.toConstant(src,{pug:runtime,pug_interp:undefined})}function Compiler(node,options){this.options=options=options||{};this.node=node;this.bufferedConcatenationCount=0;this.hasCompiledDoctype=false;this.hasCompiledTag=false;this.pp=options.pretty||false;if(this.pp&&typeof this.pp!=="string"){this.pp="  "}this.debug=false!==options.compileDebug;this.indents=0;this.parentIndents=0;this.terse=false;this.mixins={};this.dynamicMixins=false;this.eachCount=0;if(options.doctype)this.setDoctype(options.doctype);this.runtimeFunctionsUsed=[];this.inlineRuntimeFunctions=options.inlineRuntimeFunctions||false;if(this.debug&&this.inlineRuntimeFunctions){this.runtimeFunctionsUsed.push("rethrow")}}Compiler.prototype={runtime:function(name){if(this.inlineRuntimeFunctions){this.runtimeFunctionsUsed.push(name);return"pug_"+name}else{return"pug."+name}},error:function(message,code,node){var err=makeError(code,message,{line:node.line,filename:node.filename});throw err},compile:function(){this.buf=[];if(this.pp)this.buf.push("var pug_indent = [];");this.lastBufferedIdx=-1;this.visit(this.node);if(!this.dynamicMixins){var mixinNames=Object.keys(this.mixins);for(var i=0;i<mixinNames.length;i++){var mixin=this.mixins[mixinNames[i]];if(!mixin.used){for(var x=0;x<mixin.instances.length;x++){for(var y=mixin.instances[x].start;y<mixin.instances[x].end;y++){this.buf[y]=""}}}}}var js=this.buf.join("\n");var globals=this.options.globals?this.options.globals.concat(INTERNAL_VARIABLES):INTERNAL_VARIABLES;if(this.options.self){js="var self = locals || {};"+js}else{js=addWith("locals || {}",js,globals.concat(this.runtimeFunctionsUsed.map(function(name){return"pug_"+name})))}if(this.debug){if(this.options.includeSources){js="var pug_debug_sources = "+stringify(this.options.includeSources)+";\n"+js}js="var pug_debug_filename, pug_debug_line;"+"try {"+js+"} catch (err) {"+(this.inlineRuntimeFunctions?"pug_rethrow":"pug.rethrow")+"(err, pug_debug_filename, pug_debug_line"+(this.options.includeSources?", pug_debug_sources[pug_debug_filename]":"")+");"+"}"}return buildRuntime(this.runtimeFunctionsUsed)+"function "+(this.options.templateName||"template")+'(locals) {var pug_html = "", pug_mixins = {}, pug_interp;'+js+";return pug_html;}"},setDoctype:function(name){this.doctype=doctypes[name.toLowerCase()]||"<!DOCTYPE "+name+">";this.terse=this.doctype.toLowerCase()=="<!doctype html>";this.xml=0==this.doctype.indexOf("<?xml")},buffer:function(str){var self=this;str=stringify(str);str=str.substr(1,str.length-2);if(this.lastBufferedIdx==this.buf.length&&this.bufferedConcatenationCount<100){if(this.lastBufferedType==="code"){this.lastBuffered+=' + "';this.bufferedConcatenationCount++}this.lastBufferedType="text";this.lastBuffered+=str;this.buf[this.lastBufferedIdx-1]="pug_html = pug_html + "+this.bufferStartChar+this.lastBuffered+'";'}else{this.bufferedConcatenationCount=0;this.buf.push('pug_html = pug_html + "'+str+'";');this.lastBufferedType="text";this.bufferStartChar='"';this.lastBuffered=str;this.lastBufferedIdx=this.buf.length}},bufferExpression:function(src){if(isConstant(src)){return this.buffer(toConstant(src)+"")}if(this.lastBufferedIdx==this.buf.length&&this.bufferedConcatenationCount<100){this.bufferedConcatenationCount++;if(this.lastBufferedType==="text")this.lastBuffered+='"';this.lastBufferedType="code";this.lastBuffered+=" + ("+src+")";this.buf[this.lastBufferedIdx-1]="pug_html = pug_html + ("+this.bufferStartChar+this.lastBuffered+");"}else{this.bufferedConcatenationCount=0;this.buf.push("pug_html = pug_html + ("+src+");");this.lastBufferedType="code";this.bufferStartChar="";this.lastBuffered="("+src+")";this.lastBufferedIdx=this.buf.length}},prettyIndent:function(offset,newline){offset=offset||0;newline=newline?"\n":"";this.buffer(newline+Array(this.indents+offset).join(this.pp));if(this.parentIndents)this.buf.push('pug_html = pug_html + pug_indent.join("");')},visit:function(node,parent){var debug=this.debug;if(!node){var msg;if(parent){msg="A child of "+parent.type+" ("+(parent.filename||"Pug")+":"+parent.line+")"}else{msg="A top-level node"}msg+=" is "+node+", expected a Pug AST Node.";throw new TypeError(msg)}if(debug&&node.debug!==false&&node.type!=="Block"){if(node.line){var js=";pug_debug_line = "+node.line;if(node.filename)js+=";pug_debug_filename = "+stringify(node.filename);this.buf.push(js+";")}}if(!this["visit"+node.type]){var msg;if(parent){msg="A child of "+parent.type}else{msg="A top-level node"}msg+=" ("+(node.filename||"Pug")+":"+node.line+")"+" is of type "+node.type+","+" which is not supported by pug-code-gen.";switch(node.type){case"Filter":msg+=" Please use pug-filters to preprocess this AST.";break;case"Extends":case"Include":case"NamedBlock":case"FileReference":msg+=" Please use pug-linker to preprocess this AST.";break}throw new TypeError(msg)}this.visitNode(node)},visitNode:function(node){return this["visit"+node.type](node)},visitCase:function(node){var _=this.withinCase;this.withinCase=true;this.buf.push("switch ("+node.expr+"){");this.visit(node.block,node);this.buf.push("}");this.withinCase=_},visitWhen:function(node){if("default"==node.expr){this.buf.push("default:")}else{this.buf.push("case "+node.expr+":")}if(node.block){this.visit(node.block,node);this.buf.push("  break;")}},visitLiteral:function(node){this.buffer(node.str)},visitNamedBlock:function(block){return this.visitBlock(block)},visitBlock:function(block){var escapePrettyMode=this.escapePrettyMode;var pp=this.pp;if(pp&&block.nodes.length>1&&!escapePrettyMode&&block.nodes[0].type==="Text"&&block.nodes[1].type==="Text"){this.prettyIndent(1,true)}for(var i=0;i<block.nodes.length;++i){if(pp&&i>0&&!escapePrettyMode&&block.nodes[i].type==="Text"&&block.nodes[i-1].type==="Text"&&/\n$/.test(block.nodes[i-1].val)){this.prettyIndent(1,false)}this.visit(block.nodes[i],block)}},visitMixinBlock:function(block){if(this.pp)this.buf.push("pug_indent.push('"+Array(this.indents+1).join(this.pp)+"');");this.buf.push("block && block();");if(this.pp)this.buf.push("pug_indent.pop();")},visitDoctype:function(doctype){if(doctype&&(doctype.val||!this.doctype)){this.setDoctype(doctype.val||"html")}if(this.doctype)this.buffer(this.doctype);this.hasCompiledDoctype=true},visitMixin:function(mixin){var name="pug_mixins[";var args=mixin.args||"";var block=mixin.block;var attrs=mixin.attrs;var attrsBlocks=mixin.attributeBlocks&&mixin.attributeBlocks.slice();var pp=this.pp;var dynamic=mixin.name[0]==="#";var key=mixin.name;if(dynamic)this.dynamicMixins=true;name+=(dynamic?mixin.name.substr(2,mixin.name.length-3):'"'+mixin.name+'"')+"]";this.mixins[key]=this.mixins[key]||{used:false,instances:[]};if(mixin.call){this.mixins[key].used=true;if(pp)this.buf.push("pug_indent.push('"+Array(this.indents+1).join(pp)+"');");if(block||attrs.length||attrsBlocks.length){this.buf.push(name+".call({");if(block){this.buf.push("block: function(){");this.parentIndents++;var _indents=this.indents;this.indents=0;this.visit(mixin.block,mixin);this.indents=_indents;this.parentIndents--;if(attrs.length||attrsBlocks.length){this.buf.push("},")}else{this.buf.push("}")}}if(attrsBlocks.length){if(attrs.length){var val=this.attrs(attrs);attrsBlocks.unshift(val)}if(attrsBlocks.length>1){this.buf.push("attributes: "+this.runtime("merge")+"(["+attrsBlocks.join(",")+"])")}else{this.buf.push("attributes: "+attrsBlocks[0])}}else if(attrs.length){var val=this.attrs(attrs);this.buf.push("attributes: "+val)}if(args){this.buf.push("}, "+args+");")}else{this.buf.push("});")}}else{this.buf.push(name+"("+args+");")}if(pp)this.buf.push("pug_indent.pop();")}else{var mixin_start=this.buf.length;args=args?args.split(","):[];var rest;if(args.length&&/^\.\.\./.test(args[args.length-1].trim())){rest=args.pop().trim().replace(/^\.\.\./,"")}this.buf.push(name+" = pug_interp = function("+args.join(",")+"){");this.buf.push("var block = (this && this.block), attributes = (this && this.attributes) || {};");if(rest){this.buf.push("var "+rest+" = [];");this.buf.push("for (pug_interp = "+args.length+"; pug_interp < arguments.length; pug_interp++) {");this.buf.push("  "+rest+".push(arguments[pug_interp]);");this.buf.push("}")}this.parentIndents++;this.visit(block,mixin);this.parentIndents--;this.buf.push("};");var mixin_end=this.buf.length;this.mixins[key].instances.push({start:mixin_start,end:mixin_end})}},visitTag:function(tag,interpolated){this.indents++;var name=tag.name,pp=this.pp,self=this;function bufferName(){if(interpolated)self.bufferExpression(tag.expr);else self.buffer(name)}if(WHITE_SPACE_SENSITIVE_TAGS[tag.name]===true)this.escapePrettyMode=true;if(!this.hasCompiledTag){if(!this.hasCompiledDoctype&&"html"==name){this.visitDoctype()}this.hasCompiledTag=true}if(pp&&!tag.isInline)this.prettyIndent(0,true);if(tag.selfClosing||!this.xml&&selfClosing[tag.name]){this.buffer("<");bufferName();
this.visitAttributes(tag.attrs,tag.attributeBlocks.slice());if(this.terse&&!tag.selfClosing){this.buffer(">")}else{this.buffer("/>")}if(tag.code||tag.block&&!(tag.block.type==="Block"&&tag.block.nodes.length===0)&&tag.block.nodes.some(function(tag){return tag.type!=="Text"||!/^\s*$/.test(tag.val)})){this.error(name+" is a self closing element: <"+name+"/> but contains nested content.","SELF_CLOSING_CONTENT",tag)}}else{this.buffer("<");bufferName();this.visitAttributes(tag.attrs,tag.attributeBlocks.slice());this.buffer(">");if(tag.code)this.visitCode(tag.code);this.visit(tag.block,tag);if(pp&&!tag.isInline&&WHITE_SPACE_SENSITIVE_TAGS[tag.name]!==true&&!tagCanInline(tag))this.prettyIndent(0,true);this.buffer("</");bufferName();this.buffer(">")}if(WHITE_SPACE_SENSITIVE_TAGS[tag.name]===true)this.escapePrettyMode=false;this.indents--},visitInterpolatedTag:function(tag){return this.visitTag(tag,true)},visitText:function(text){this.buffer(text.val)},visitComment:function(comment){if(!comment.buffer)return;if(this.pp)this.prettyIndent(1,true);this.buffer("<!--"+comment.val+"-->")},visitYieldBlock:function(block){},visitBlockComment:function(comment){if(!comment.buffer)return;if(this.pp)this.prettyIndent(1,true);this.buffer("<!--"+(comment.val||""));this.visit(comment.block,comment);if(this.pp)this.prettyIndent(1,true);this.buffer("-->")},visitCode:function(code){if(code.buffer){var val=code.val.trim();val="null == (pug_interp = "+val+') ? "" : pug_interp';if(code.mustEscape!==false)val=this.runtime("escape")+"("+val+")";this.bufferExpression(val)}else{this.buf.push(code.val)}if(code.block){if(!code.buffer)this.buf.push("{");this.visit(code.block,code);if(!code.buffer)this.buf.push("}")}},visitConditional:function(cond){var test=cond.test;this.buf.push("if ("+test+") {");this.visit(cond.consequent,cond);this.buf.push("}");if(cond.alternate){if(cond.alternate.type==="Conditional"){this.buf.push("else");this.visitConditional(cond.alternate)}else{this.buf.push("else {");this.visit(cond.alternate,cond);this.buf.push("}")}}},visitWhile:function(loop){var test=loop.test;this.buf.push("while ("+test+") {");this.visit(loop.block,loop);this.buf.push("}")},visitEach:function(each){var indexVarName=each.key||"pug_index"+this.eachCount,objVarName="pug_obj"+this.eachCount,lengthVarName="pug_length"+this.eachCount;this.eachCount++;this.buf.push(""+"// iterate "+each.obj+"\n"+"var "+objVarName+" = "+each.obj+";\n"+"if ('number' == typeof "+objVarName+".length) {\n");if(each.alternate){this.buf.push("if ("+objVarName+".length) {")}this.buf.push(""+"  for (var "+indexVarName+" = 0, "+lengthVarName+" = "+objVarName+".length; "+indexVarName+" < "+lengthVarName+"; "+indexVarName+"++) {\n"+"    var "+each.val+" = "+objVarName+"["+indexVarName+"];\n");this.visit(each.block,each);this.buf.push("  }\n");if(each.alternate){this.buf.push("} else {");this.visit(each.alternate,each);this.buf.push("}")}this.buf.push(""+"} else {\n"+"  var "+lengthVarName+" = 0;\n"+"  for (var "+indexVarName+" in "+objVarName+") {\n"+"    "+lengthVarName+"++;\n"+"    var "+each.val+" = "+objVarName+"["+indexVarName+"];\n");this.visit(each.block,each);this.buf.push("  }\n");if(each.alternate){this.buf.push("  if ("+lengthVarName+" === 0) {");this.visit(each.alternate,each);this.buf.push("  }")}this.buf.push("}\n")},visitAttributes:function(attrs,attributeBlocks){if(attributeBlocks.length){if(attrs.length){var val=this.attrs(attrs);attributeBlocks.unshift(val)}if(attributeBlocks.length>1){this.bufferExpression(this.runtime("attrs")+"("+this.runtime("merge")+"(["+attributeBlocks.join(",")+"]), "+stringify(this.terse)+")")}else{this.bufferExpression(this.runtime("attrs")+"("+attributeBlocks[0]+", "+stringify(this.terse)+")")}}else if(attrs.length){this.attrs(attrs,true)}},attrs:function(attrs,buffer){var res=compileAttrs(attrs,{terse:this.terse,format:buffer?"html":"object",runtime:this.runtime.bind(this)});if(buffer){this.bufferExpression(res)}return res}};function tagCanInline(tag){function isInline(node){if(node.type==="Block")return node.nodes.every(isInline);if(node.type==="YieldBlock")return true;return node.type==="Text"&&!/\n/.test(node.val)||node.isInline}return tag.block.nodes.every(isInline)}},{constantinople:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/constantinople/index.js",doctypes:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/doctypes/index.js","js-stringify":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/js-stringify/index.js","pug-attrs":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/pug-attrs/index.js","pug-error":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/pug-error/index.js","pug-runtime":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/pug-runtime/index.js","pug-runtime/build":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/pug-runtime/build.js","void-elements":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/void-elements/index.js",with:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/with/index.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/pug-error/index.js":[function(require,module,exports){"use strict";module.exports=makeError;function makeError(code,message,options){var line=options.line;var column=options.column;var filename=options.filename;var src=options.src;var fullMessage;var location=line+(column?":"+column:"");if(src&&line>=1&&line<=src.split("\n").length){var lines=src.split("\n");var start=Math.max(line-3,0);var end=Math.min(lines.length,line+3);var context=lines.slice(start,end).map(function(text,i){var curr=i+start+1;var preamble=(curr==line?"  > ":"    ")+curr+"| ";var out=preamble+text;if(curr===line&&column>0){out+="\n";out+=Array(preamble.length+column).join("-")+"^"}return out}).join("\n");fullMessage=(filename||"Pug")+":"+location+"\n"+context+"\n\n"+message}else{fullMessage=(filename||"Pug")+":"+location+"\n\n"+message}var err=new Error(fullMessage);err.code="PUG:"+code;err.msg=message;err.line=line;err.column=column;err.filename=filename;err.src=src;err.toJSON=function(){return{code:this.code,msg:this.msg,line:this.line,column:this.column,filename:this.filename}};return err}},{}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/pug-filters/index.js":[function(require,module,exports){"use strict";exports.runFilter=require("./lib/run-filter");exports.handleFilters=require("./lib/handle-filters")},{"./lib/handle-filters":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/pug-filters/lib/handle-filters.js","./lib/run-filter":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/pug-filters/lib/run-filter.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/pug-filters/lib/handle-filters.js":[function(require,module,exports){"use strict";var dirname=require("path").dirname;var constantinople=require("constantinople");var walk=require("pug-walk");var error=require("pug-error");var runFilter=require("./run-filter");module.exports=handleFilters;function handleFilters(ast,filters,options){options=options||{};walk(ast,function(node){var dir=node.filename?dirname(node.filename):null;if(node.type==="Filter"){handleNestedFilters(node,filters);var text=getBodyAsText(node);var attrs=getAttributes(node);var opts=options[node.name]||{};Object.keys(opts).forEach(function(opt){if(!attrs.hasOwnProperty(opt)){attrs[opt]=opts[opt]}});attrs.filename=node.filename;node.type="Text";node.val=filterWithFallback(node,text,attrs)}else if(node.type==="RawInclude"&&node.filters.length){var firstFilter=node.filters.shift();var attrs=getAttributes(firstFilter);var filename=attrs.filename=node.file.fullPath;node.type="Text";node.val=filterWithFallback(firstFilter,filename,attrs,"renderFile");node.filters.forEach(function(filter){var attrs=getAttributes(filter);attrs.filename=filename;node.val=filterWithFallback(filter,node.val,attrs)});node.filters=undefined;node.file=undefined}function filterWithFallback(filter,text,attrs,funcName){try{if(filters&&filters[filter.name]){return filters[filter.name](text,attrs)}else{return runFilter(filter.name,text,attrs,dir,funcName)}}catch(ex){if(ex.code==="UNKNOWN_FILTER"){throw error(ex.code,ex.message,filter)}throw ex}}},{includeDependencies:true});return ast}function handleNestedFilters(node,filters){if(node.block.nodes[0]&&node.block.nodes[0].type==="Filter"){node.block.nodes[0]=handleFilters(node.block,filters).nodes[0]}}function getBodyAsText(node){return node.block.nodes.map(function(node){return node.val}).join("")}function getAttributes(node){var attrs={};node.attrs.forEach(function(attr){try{attrs[attr.name]=constantinople.toConstant(attr.val)}catch(ex){if(/not constant/.test(ex.message)){throw error("FILTER_OPTION_NOT_CONSTANT",ex.message+" All filters are rendered compile-time so filter options must be constants.",node)}throw ex}});return attrs}},{"./run-filter":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/pug-filters/lib/run-filter.js",constantinople:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/constantinople/index.js",path:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/path-browserify/index.js","pug-error":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/pug-error/index.js","pug-walk":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/pug-walk/index.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/pug-filters/lib/run-filter.js":[function(require,module,exports){(function(process){"use strict";var jstransformer=require("jstransformer");var uglify=require("uglify-js");var CleanCSS=require("clean-css");var resolve=require("resolve");module.exports=filter;function filter(name,str,options,currentDirectory,funcName){funcName=funcName||"render";var tr;try{try{tr=require(resolve.sync("jstransformer-"+name,{basedir:currentDirectory||process.cwd()}))}catch(ex){tr=require("jstransformer-"+name)}tr=jstransformer(tr)}catch(ex){}if(tr){var result=tr[funcName](str,options,options).body;if(options&&options.minify){try{switch(tr.outputFormat){case"js":result=uglify.minify(result,{fromString:true}).code;break;case"css":result=(new CleanCSS).minify(result).styles;break}}catch(ex){}}return result}else{var err=new Error('unknown filter ":'+name+'"');err.code="UNKNOWN_FILTER";throw err}}}).call(this,require("_process"))},{_process:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/process/browser.js","clean-css":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/clean-css/index.js",jstransformer:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/jstransformer/index.js",resolve:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/resolve/index.js","uglify-js":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/uglify-js/tools/node.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/pug-lexer/index.js":[function(require,module,exports){"use strict";var assert=require("assert");var isExpression=require("is-expression");var characterParser=require("character-parser");var error=require("pug-error");module.exports=lex;module.exports.Lexer=Lexer;function lex(str,options){var lexer=new Lexer(str,options);return JSON.parse(JSON.stringify(lexer.getTokens()))}function Lexer(str,options){options=options||{};if(typeof str!=="string"){throw new Error('Expected source code to be a string but got "'+typeof str+'"')}if(typeof options!=="object"){throw new Error('Expected "options" to be an object but got "'+typeof options+'"')}str=str.replace(/^\uFEFF/,"");this.input=str.replace(/\r\n|\r/g,"\n");this.originalInput=this.input;this.filename=options.filename;this.interpolated=options.interpolated||false;this.lineno=options.startingLine||1;this.colno=options.startingColumn||1;this.plugins=options.plugins||[];this.indentStack=[0];this.indentRe=null;this.interpolationAllowed=true;this.tokens=[];this.ended=false}Lexer.prototype={constructor:Lexer,error:function(code,message){var err=error(code,message,{line:this.lineno,column:this.colno,filename:this.filename,src:this.originalInput});throw err},assert:function(value,message){if(!value)this.error("ASSERT_FAILED",message)},assertExpression:function(exp,noThrow){try{return isExpression(exp,{throw:!noThrow,ecmaVersion:6})}catch(ex){if(!ex.loc)throw ex;this.incrementLine(ex.loc.line-1);this.incrementColumn(ex.loc.column);var msg="Syntax Error: "+ex.message.replace(/ \([0-9]+:[0-9]+\)$/,"");this.error("SYNTAX_ERROR",msg)}},assertNestingCorrect:function(exp){var res=characterParser(exp);if(res.isNesting()){this.error("INCORRECT_NESTING","Nesting must match on expression `"+exp+"`")}},tok:function(type,val){var res={type:type,line:this.lineno,col:this.colno};if(val!==undefined)res.val=val;return res},incrementLine:function(increment){this.lineno+=increment;if(increment)this.colno=1},incrementColumn:function(increment){this.colno+=increment},consume:function(len){this.input=this.input.substr(len)},scan:function(regexp,type){var captures;if(captures=regexp.exec(this.input)){var len=captures[0].length;var val=captures[1];var diff=len-(val?val.length:0);var tok=this.tok(type,val);this.consume(len);this.incrementColumn(diff);return tok}},scanEndOfLine:function(regexp,type){var captures;if(captures=regexp.exec(this.input)){var whitespaceLength=0;var whitespace;var tok;if(whitespace=/^([ ]+)([^ ]*)/.exec(captures[0])){whitespaceLength=whitespace[1].length;this.incrementColumn(whitespaceLength)}var newInput=this.input.substr(captures[0].length);if(newInput[0]===":"){this.input=newInput;tok=this.tok(type,captures[1]);this.incrementColumn(captures[0].length-whitespaceLength);return tok}if(/^[ \t]*(\n|$)/.test(newInput)){this.input=newInput.substr(/^[ \t]*/.exec(newInput)[0].length);tok=this.tok(type,captures[1]);this.incrementColumn(captures[0].length-whitespaceLength);return tok}}},bracketExpression:function(skip){skip=skip||0;var start=this.input[skip];assert(start==="("||start==="{"||start==="[",'The start character should be "(", "{" or "["');var end=characterParser.BRACKETS[start];var range;try{range=characterParser.parseUntil(this.input,end,{start:skip+1})}catch(ex){if(ex.index!==undefined){var idx=ex.index;var tmp=this.input.substr(skip).indexOf("\n");var nextNewline=tmp+skip;var ptr=0;while(idx>nextNewline&&tmp!==-1){this.incrementLine(1);idx-=nextNewline+1;ptr+=nextNewline+1;tmp=nextNewline=this.input.substr(ptr).indexOf("\n")}this.incrementColumn(idx)}if(ex.code==="CHARACTER_PARSER:END_OF_STRING_REACHED"){this.error("NO_END_BRACKET","The end of the string reached with no closing bracket "+end+" found.")}else if(ex.code==="CHARACTER_PARSER:MISMATCHED_BRACKET"){this.error("BRACKET_MISMATCH",ex.message)}throw ex}return range},scanIndentation:function(){var captures,re;if(this.indentRe){captures=this.indentRe.exec(this.input)}else{re=/^\n(\t*) */;captures=re.exec(this.input);if(captures&&!captures[1].length){re=/^\n( *)/;captures=re.exec(this.input)}if(captures&&captures[1].length)this.indentRe=re}return captures},eos:function(){if(this.input.length)return;if(this.interpolated){this.error("NO_END_BRACKET","End of line was reached with no closing bracket for interpolation.")}for(var i=0;this.indentStack[i];i++){this.tokens.push(this.tok("outdent"))}this.tokens.push(this.tok("eos"));this.ended=true;return true},blank:function(){var captures;if(captures=/^\n[ \t]*\n/.exec(this.input)){this.consume(captures[0].length-1);this.incrementLine(1);return true}},comment:function(){var captures;if(captures=/^\/\/(-)?([^\n]*)/.exec(this.input)){this.consume(captures[0].length);var tok=this.tok("comment",captures[2]);tok.buffer="-"!=captures[1];this.interpolationAllowed=tok.buffer;this.tokens.push(tok);this.incrementColumn(captures[0].length);this.callLexerFunction("pipelessText");return true}},interpolation:function(){if(/^#\{/.test(this.input)){var match=this.bracketExpression(1);this.consume(match.end+1);var tok=this.tok("interpolation",match.src);this.tokens.push(tok);this.incrementColumn(2);this.assertExpression(match.src);var splitted=match.src.split("\n");var lines=splitted.length-1;this.incrementLine(lines);this.incrementColumn(splitted[lines].length+1);return true}},tag:function(){var captures;if(captures=/^(\w(?:[-:\w]*\w)?)/.exec(this.input)){var tok,name=captures[1],len=captures[0].length;this.consume(len);tok=this.tok("tag",name);this.tokens.push(tok);this.incrementColumn(len);return true}},filter:function(opts){var tok=this.scan(/^:([\w\-]+)/,"filter");var inInclude=opts&&opts.inInclude;if(tok){this.tokens.push(tok);this.incrementColumn(tok.val.length);this.callLexerFunction("attrs");if(!inInclude){this.interpolationAllowed=false;this.callLexerFunction("pipelessText")}return true}},doctype:function(){var node=this.scanEndOfLine(/^doctype *([^\n]*)/,"doctype");if(node){this.tokens.push(node);return true}},id:function(){var tok=this.scan(/^#([\w-]+)/,"id");if(tok){this.tokens.push(tok);this.incrementColumn(tok.val.length);return true}if(/^#/.test(this.input)){this.error("INVALID_ID",'"'+/.[^ \t\(\#\.\:]*/.exec(this.input.substr(1))[0]+'" is not a valid ID.')}},className:function(){var tok=this.scan(/^\.(\-?[_a-z][_a-z0-9\-]*)/i,"class");if(tok){this.tokens.push(tok);this.incrementColumn(tok.val.length);return true}if(/^\.\-/i.test(this.input)){this.error("INVALID_CLASS_NAME",'If a class name begins with a "-", it must be followed by a letter or underscore.')}if(/^\.[0-9]/i.test(this.input)){this.error("INVALID_CLASS_NAME",'Class names must begin with "-", "_" or a letter.')}if(/^\./.test(this.input)){this.error("INVALID_CLASS_NAME",'"'+/.[^ \t\(\#\.\:]*/.exec(this.input.substr(1))[0]+'" is not a valid class name.  Class names must begin with "-", "_" or a letter and can only contain "_", "-", a-z and 0-9.')}},endInterpolation:function(){if(this.interpolated&&this.input[0]==="]"){this.input=this.input.substr(1);this.ended=true;return true}},addText:function(type,value,prefix,escaped){if(value+prefix==="")return;prefix=prefix||"";var indexOfEnd=this.interpolated?value.indexOf("]"):-1;var indexOfStart=value.indexOf("#[");var indexOfEscaped=value.indexOf("\\#[");var matchOfStringInterp=/(\\)?([#!]){((?:.|\n)*)$/.exec(value);var indexOfStringInterp=this.interpolationAllowed&&matchOfStringInterp?matchOfStringInterp.index:Infinity;if(indexOfEnd===-1)indexOfEnd=Infinity;if(indexOfStart===-1)indexOfStart=Infinity;if(indexOfEscaped===-1)indexOfEscaped=Infinity;if(indexOfEscaped!==Infinity&&indexOfEscaped<indexOfEnd&&indexOfEscaped<indexOfStart&&indexOfEscaped<indexOfStringInterp){prefix=prefix+value.substring(0,indexOfEscaped)+"#[";return this.addText(type,value.substring(indexOfEscaped+3),prefix,true)}if(indexOfStart!==Infinity&&indexOfStart<indexOfEnd&&indexOfStart<indexOfEscaped&&indexOfStart<indexOfStringInterp){this.tokens.push(this.tok(type,prefix+value.substring(0,indexOfStart)));this.incrementColumn(prefix.length+indexOfStart);if(escaped)this.incrementColumn(1);this.tokens.push(this.tok("start-pug-interpolation"));this.incrementColumn(2);var child=new this.constructor(value.substr(indexOfStart+2),{filename:this.filename,interpolated:true,startingLine:this.lineno,startingColumn:this.colno});var interpolated;try{interpolated=child.getTokens()}catch(ex){if(ex.code&&/^PUG:/.test(ex.code)){this.colno=ex.column;this.error(ex.code.substr(4),ex.msg)}throw ex}this.colno=child.colno;this.tokens=this.tokens.concat(interpolated);this.tokens.push(this.tok("end-pug-interpolation"));this.incrementColumn(1);this.addText(type,child.input);return}if(indexOfEnd!==Infinity&&indexOfEnd<indexOfStart&&indexOfEnd<indexOfEscaped&&indexOfEnd<indexOfStringInterp){if(prefix+value.substring(0,indexOfEnd)){this.addText(type,value.substring(0,indexOfEnd),prefix)}this.ended=true;this.input=value.substr(value.indexOf("]")+1)+this.input;return}if(indexOfStringInterp!==Infinity){if(matchOfStringInterp[1]){prefix=prefix+value.substring(0,indexOfStringInterp)+"#{";return this.addText(type,value.substring(indexOfStringInterp+3),prefix)}var before=value.substr(0,indexOfStringInterp);if(prefix||before){before=prefix+before;this.tokens.push(this.tok(type,before));this.incrementColumn(before.length)}var rest=matchOfStringInterp[3];var range;var tok=this.tok("interpolated-code");this.incrementColumn(2);try{range=characterParser.parseUntil(rest,"}")}catch(ex){if(ex.index!==undefined){this.incrementColumn(ex.index)}if(ex.code==="CHARACTER_PARSER:END_OF_STRING_REACHED"){this.error("NO_END_BRACKET","End of line was reached with no closing bracket for interpolation.")}else if(ex.code==="CHARACTER_PARSER:MISMATCHED_BRACKET"){this.error("BRACKET_MISMATCH",ex.message)}else{throw ex}}tok.mustEscape=matchOfStringInterp[2]==="#";tok.buffer=true;tok.val=range.src;this.assertExpression(range.src);this.tokens.push(tok);if(range.end+1<rest.length){rest=rest.substr(range.end+1);this.incrementColumn(range.end+1);this.addText(type,rest)}else{this.incrementColumn(rest.length)}return}value=prefix+value;this.tokens.push(this.tok(type,value));this.incrementColumn(value.length)},text:function(){var tok=this.scan(/^(?:\| ?| )([^\n]+)/,"text")||this.scan(/^\|?( )/,"text");if(tok){this.addText("text",tok.val);return true}},textHtml:function(){var tok=this.scan(/^(<[^\n]*)/,"text-html");if(tok){this.addText("text-html",tok.val);return true}},dot:function(){var tok;if(tok=this.scanEndOfLine(/^\./,"dot")){this.tokens.push(tok);this.callLexerFunction("pipelessText");return true}},extends:function(){var tok=this.scan(/^extends?(?= |$|\n)/,"extends");if(tok){this.tokens.push(tok);if(!this.callLexerFunction("path")){this.error("NO_EXTENDS_PATH","missing path for extends")}return true}if(this.scan(/^extends?\b/)){this.error("MALFORMED_EXTENDS","malformed extends")}},prepend:function(){var captures;if(captures=/^(?:block +)?prepend +([^\n]+)/.exec(this.input)){var name=captures[1].trim();var comment="";if(name.indexOf("//")!==-1){comment="//"+name.split("//").slice(1).join("//");name=name.split("//")[0].trim()}if(!name)return;this.consume(captures[0].length-comment.length);var tok=this.tok("block",name);tok.mode="prepend";this.tokens.push(tok);return true}},append:function(){var captures;if(captures=/^(?:block +)?append +([^\n]+)/.exec(this.input)){var name=captures[1].trim();var comment="";if(name.indexOf("//")!==-1){comment="//"+name.split("//").slice(1).join("//");name=name.split("//")[0].trim()}if(!name)return;this.consume(captures[0].length-comment.length);var tok=this.tok("block",name);tok.mode="append";this.tokens.push(tok);return true}},block:function(){var captures;if(captures=/^block +([^\n]+)/.exec(this.input)){var name=captures[1].trim();var comment="";if(name.indexOf("//")!==-1){comment="//"+name.split("//").slice(1).join("//");name=name.split("//")[0].trim()}if(!name)return;this.consume(captures[0].length-comment.length);var tok=this.tok("block",name);tok.mode="replace";this.tokens.push(tok);return true}},mixinBlock:function(){var tok;if(tok=this.scanEndOfLine(/^block/,"mixin-block")){this.tokens.push(tok);return true}},yield:function(){var tok=this.scanEndOfLine(/^yield/,"yield");if(tok){this.tokens.push(tok);return true}},include:function(){var tok=this.scan(/^include(?=:| |$|\n)/,"include");if(tok){this.tokens.push(tok);while(this.callLexerFunction("filter",{inInclude:true}));if(!this.callLexerFunction("path")){if(/^[^ \n]+/.test(this.input)){this.fail()}else{this.error("NO_INCLUDE_PATH","missing path for include")}}return true}if(this.scan(/^include\b/)){this.error("MALFORMED_INCLUDE","malformed include")}},path:function(){var tok=this.scanEndOfLine(/^ ([^\n]+)/,"path");if(tok&&(tok.val=tok.val.trim())){this.tokens.push(tok);return true}},case:function(){var tok=this.scanEndOfLine(/^case +([^\n]+)/,"case");if(tok){this.assertExpression(tok.val);this.tokens.push(tok);return true}if(this.scan(/^case\b/)){this.error("NO_CASE_EXPRESSION","missing expression for case")}},when:function(){var tok=this.scanEndOfLine(/^when +([^:\n]+)/,"when");if(tok){this.tokens.push(tok);return true}if(this.scan(/^when\b/)){this.error("NO_WHEN_EXPRESSION","missing expression for when")}},default:function(){var tok=this.scanEndOfLine(/^default/,"default");if(tok){this.tokens.push(tok);return true}if(this.scan(/^default\b/)){this.error("DEFAULT_WITH_EXPRESSION","default should not have an expression")}},call:function(){var tok,captures,increment;if(captures=/^\+(\s*)(([-\w]+)|(#\{))/.exec(this.input)){if(captures[3]){increment=captures[0].length;this.consume(increment);tok=this.tok("call",captures[3])}else{var match=this.bracketExpression(2+captures[1].length);increment=match.end+1;this.consume(increment);this.assertExpression(match.src);tok=this.tok("call","#{"+match.src+"}")}this.incrementColumn(increment);tok.args=null;if(captures=/^ *\(/.exec(this.input)){var range=this.bracketExpression(captures[0].length-1);if(!/^\s*[-\w]+ *=/.test(range.src)){this.incrementColumn(1);this.consume(range.end+1);tok.args=range.src;this.assertExpression("["+tok.args+"]");for(var i=0;i<=tok.args.length;i++){if(tok.args[i]==="\n"){this.incrementLine(1)}else{this.incrementColumn(1)}}}}this.tokens.push(tok);return true}},mixin:function(){var captures;if(captures=/^mixin +([-\w]+)(?: *\((.*)\))? */.exec(this.input)){this.consume(captures[0].length);var tok=this.tok("mixin",captures[1]);tok.args=captures[2]||null;this.tokens.push(tok);return true}},conditional:function(){var captures;if(captures=/^(if|unless|else if|else)\b([^\n]*)/.exec(this.input)){this.consume(captures[0].length);var type=captures[1].replace(/ /g,"-");var js=captures[2]&&captures[2].trim();var tok=this.tok(type,js);this.incrementColumn(captures[0].length-js.length);switch(type){case"if":case"else-if":this.assertExpression(js);break;case"unless":this.assertExpression(js);tok.val="!("+js+")";tok.type="if";break;case"else":if(js){this.error("ELSE_CONDITION","`else` cannot have a condition, perhaps you meant `else if`")}break}this.tokens.push(tok);return true}},while:function(){var captures;if(captures=/^while +([^\n]+)/.exec(this.input)){this.consume(captures[0].length);this.assertExpression(captures[1]);this.tokens.push(this.tok("while",captures[1]));return true}if(this.scan(/^while\b/)){this.error("NO_WHILE_EXPRESSION","missing expression for while")}},each:function(){var captures;if(captures=/^(?:each|for) +([a-zA-Z_$][\w$]*)(?: *, *([a-zA-Z_$][\w$]*))? * in *([^\n]+)/.exec(this.input)){this.consume(captures[0].length);var tok=this.tok("each",captures[1]);tok.key=captures[2]||null;this.incrementColumn(captures[0].length-captures[3].length);this.assertExpression(captures[3]);tok.code=captures[3];this.incrementColumn(captures[3].length);this.tokens.push(tok);return true}if(this.scan(/^(?:each|for)\b/)){this.error("MALFORMED_EACH","malformed each")}if(captures=/^- *(?:each|for) +([a-zA-Z_$][\w$]*)(?: *, *([a-zA-Z_$][\w$]*))? +in +([^\n]+)/.exec(this.input)){this.error("MALFORMED_EACH",'Pug each and for should no longer be prefixed with a dash ("-"). They are pug keywords and not part of JavaScript.')}},code:function(){var captures;if(captures=/^(!?=|-)[ \t]*([^\n]+)/.exec(this.input)){var flags=captures[1];var code=captures[2];var shortened=0;if(this.interpolated){var parsed;try{parsed=characterParser.parseUntil(code,"]")}catch(err){if(err.index!==undefined){this.incrementColumn(captures[0].length-code.length+err.index)}if(err.code==="CHARACTER_PARSER:END_OF_STRING_REACHED"){this.error("NO_END_BRACKET","End of line was reached with no closing bracket for interpolation.")}else if(err.code==="CHARACTER_PARSER:MISMATCHED_BRACKET"){this.error("BRACKET_MISMATCH",err.message)}else{throw err}}shortened=code.length-parsed.end;code=parsed.src}var consumed=captures[0].length-shortened;this.consume(consumed);var tok=this.tok("code",code);tok.mustEscape=flags.charAt(0)==="=";tok.buffer=flags.charAt(0)==="="||flags.charAt(1)==="=";this.incrementColumn(captures[0].length-captures[2].length);if(tok.buffer)this.assertExpression(code);this.tokens.push(tok);this.incrementColumn(code.length);return true}},blockCode:function(){var tok;if(tok=this.scanEndOfLine(/^-/,"blockcode")){this.tokens.push(tok);this.interpolationAllowed=false;this.callLexerFunction("pipelessText");return true}},attrs:function(){if("("==this.input.charAt(0)){var startingLine=this.lineno;this.tokens.push(this.tok("start-attributes"));var index=this.bracketExpression().end,str=this.input.substr(1,index-1);this.incrementColumn(1);this.assertNestingCorrect(str);var quote="";var self=this;this.consume(index+1);var whitespaceRe=/[ \n\t]/;var quoteRe=/['"]/;var escapedAttr=true;var key="";var val="";var state=characterParser.defaultState();var lineno=startingLine;var colnoBeginAttr=this.colno;var colnoBeginVal;var loc="key";var isEndOfAttribute=function(i){if(key.trim()===""){colnoBeginAttr=this.colno;return false}if(i===str.length)return true;if(loc==="key"){if(whitespaceRe.test(str[i])){for(var x=i;x<str.length;x++){if(!whitespaceRe.test(str[x])){if(str[x]==="="||str[x]==="!")return false;else if(str[x]===",")return false;else return true}}}return str[i]===","}else if(loc==="value"){if(state.isNesting()||state.isString())return false;if(!self.assertExpression(val,true))return false;if(whitespaceRe.test(str[i])){for(var x=i;x<str.length;x++){if(!whitespaceRe.test(str[x])){return!characterParser.isPunctuator(str[x])||quoteRe.test(str[x])}}}return str[i]===","}};for(var i=0;i<=str.length;i++){if(isEndOfAttribute.call(this,i)){if(val.trim()){var saved=this.colno;this.colno=colnoBeginVal;this.assertExpression(val);this.colno=saved}val=val.trim();if(key[0]===":")this.incrementColumn(-key.length);else if(key[key.length-1]===":")this.incrementColumn(-1);if(key[0]===":"||key[key.length-1]===":"){this.error("COLON_ATTRIBUTE",'":" is not valid as the start or end of an un-quoted attribute.')}key=key.trim();key=key.replace(/^['"]|['"]$/g,"");var tok=this.tok("attribute");tok.name=key;tok.val=""==val?true:val;tok.col=colnoBeginAttr;tok.mustEscape=escapedAttr;this.tokens.push(tok);key=val="";loc="key";escapedAttr=false;this.lineno=lineno}else{switch(loc){case"key-char":if(str[i]===quote){loc="key";if(i+1<str.length&&!/[ ,!=\n\t]/.test(str[i+1]))this.error("INVALID_KEY_CHARACTER",'Unexpected character "'+str[i+1]+'" expected ` `, `\\n`, `\t`, `,`, `!` or `=`')}else{key+=str[i]}break;case"key":if(key===""&&quoteRe.test(str[i])){loc="key-char";quote=str[i]}else if(str[i]==="!"||str[i]==="="){escapedAttr=str[i]!=="!";if(str[i]==="!"){this.incrementColumn(1);i++}if(str[i]!=="=")this.error("INVALID_KEY_CHARACTER","Unexpected character "+str[i]+" expected `=`");loc="value";colnoBeginVal=this.colno+1;state=characterParser.defaultState()}else{key+=str[i]}break;case"value":state=characterParser.parseChar(str[i],state);val+=str[i];break}}if(str[i]==="\n"){lineno++;this.colno=1;if(!key.trim())this.lineno=lineno}else if(str[i]!==undefined){this.incrementColumn(1)}}this.lineno=startingLine+(str.match(/\n/g)||[]).length;this.tokens.push(this.tok("end-attributes"));this.incrementColumn(1);return true}},attributesBlock:function(){if(/^&attributes\b/.test(this.input)){var consumed=11;this.consume(consumed);var tok=this.tok("&attributes");this.incrementColumn(consumed);var args=this.bracketExpression();consumed=args.end+1;this.consume(consumed);tok.val=args.src;this.tokens.push(tok);this.incrementColumn(consumed);return true}},indent:function(){var captures=this.scanIndentation();if(captures){var indents=captures[1].length;this.incrementLine(1);this.consume(indents+1);if(" "==this.input[0]||"\t"==this.input[0]){this.error("INVALID_INDENTATION","Invalid indentation, you can use tabs or spaces but not both")}if("\n"==this.input[0]){this.interpolationAllowed=true;return this.tok("newline");
}if(indents<this.indentStack[0]){while(this.indentStack[0]>indents){if(this.indentStack[1]<indents){this.error("INCONSISTENT_INDENTATION","Inconsistent indentation. Expecting either "+this.indentStack[1]+" or "+this.indentStack[0]+" spaces/tabs.")}this.colno=this.indentStack[1]+1;this.tokens.push(this.tok("outdent"));this.indentStack.shift()}}else if(indents&&indents!=this.indentStack[0]){this.tokens.push(this.tok("indent",indents));this.colno=1+indents;this.indentStack.unshift(indents)}else{this.tokens.push(this.tok("newline"));this.colno=1+(this.indentStack[0]||0)}this.interpolationAllowed=true;return true}},pipelessText:function pipelessText(indents){while(this.callLexerFunction("blank"));var captures=this.scanIndentation();indents=indents||captures&&captures[1].length;if(indents>this.indentStack[0]){this.tokens.push(this.tok("start-pipeless-text"));var tokens=[];var isMatch;var stringPtr=0;do{var i=this.input.substr(stringPtr+1).indexOf("\n");if(-1==i)i=this.input.length-stringPtr-1;var str=this.input.substr(stringPtr+1,i);var lineCaptures=this.indentRe.exec("\n"+str);var lineIndents=lineCaptures&&lineCaptures[1].length;isMatch=lineIndents>=indents||!str.trim();if(isMatch){stringPtr+=str.length+1;tokens.push(str.substr(indents))}else if(lineIndents>this.indentStack[0]){this.tokens.pop();return pipelessText.call(this,lineCaptures[1].length)}}while(this.input.length-stringPtr&&isMatch);this.consume(stringPtr);while(this.input.length===0&&tokens[tokens.length-1]==="")tokens.pop();tokens.forEach(function(token,i){this.incrementLine(1);if(i!==0)this.tokens.push(this.tok("newline"));this.incrementColumn(indents);this.addText("text",token)}.bind(this));this.tokens.push(this.tok("end-pipeless-text"));return true}},slash:function(){var tok=this.scan(/^\//,"slash");if(tok){this.tokens.push(tok);return true}},colon:function(){var tok=this.scan(/^: +/,":");if(tok){this.tokens.push(tok);return true}},fail:function(){this.error("UNEXPECTED_TEXT",'unexpected text "'+this.input.substr(0,5)+'"')},callLexerFunction:function(func){var rest=[];for(var i=1;i<arguments.length;i++){rest.push(arguments[i])}var pluginArgs=[this].concat(rest);for(var i=0;i<this.plugins.length;i++){var plugin=this.plugins[i];if(plugin[func]&&plugin[func].apply(plugin,pluginArgs)){return true}}return this[func].apply(this,rest)},advance:function(){return this.callLexerFunction("blank")||this.callLexerFunction("eos")||this.callLexerFunction("endInterpolation")||this.callLexerFunction("yield")||this.callLexerFunction("doctype")||this.callLexerFunction("interpolation")||this.callLexerFunction("case")||this.callLexerFunction("when")||this.callLexerFunction("default")||this.callLexerFunction("extends")||this.callLexerFunction("append")||this.callLexerFunction("prepend")||this.callLexerFunction("block")||this.callLexerFunction("mixinBlock")||this.callLexerFunction("include")||this.callLexerFunction("mixin")||this.callLexerFunction("call")||this.callLexerFunction("conditional")||this.callLexerFunction("each")||this.callLexerFunction("while")||this.callLexerFunction("tag")||this.callLexerFunction("filter")||this.callLexerFunction("blockCode")||this.callLexerFunction("code")||this.callLexerFunction("id")||this.callLexerFunction("dot")||this.callLexerFunction("className")||this.callLexerFunction("attrs")||this.callLexerFunction("attributesBlock")||this.callLexerFunction("indent")||this.callLexerFunction("text")||this.callLexerFunction("textHtml")||this.callLexerFunction("comment")||this.callLexerFunction("slash")||this.callLexerFunction("colon")||this.fail()},getTokens:function(){while(!this.ended){this.callLexerFunction("advance")}return this.tokens}}},{assert:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/assert/assert.js","character-parser":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/character-parser/index.js","is-expression":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/is-expression/index.js","pug-error":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/pug-error/index.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/pug-linker/index.js":[function(require,module,exports){"use strict";var assert=require("assert");var walk=require("pug-walk");function error(){throw require("pug-error").apply(null,arguments)}module.exports=link;function link(ast){assert(ast.type==="Block","The top level element should always be a block");var extendsNode=null;if(ast.nodes.length){var hasExtends=ast.nodes[0].type==="Extends";if(hasExtends){extendsNode=ast.nodes.shift()}checkExtendPosition(ast,hasExtends)}ast=applyIncludes(ast);ast.declaredBlocks=findDeclaredBlocks(ast);if(extendsNode){var mixins=[];var expectedBlocks=[];ast.nodes.forEach(function addNode(node){if(node.type==="NamedBlock"){expectedBlocks.push(node)}else if(node.type==="Block"){node.nodes.forEach(addNode)}else if(node.type==="Mixin"&&node.call===false){mixins.push(node)}else{error("UNEXPECTED_NODES_IN_EXTENDING_ROOT","Only named blocks and mixins can appear at the top level of an extending template",node)}});var parent=link(extendsNode.file.ast);extend(parent.declaredBlocks,ast);var foundBlockNames=[];walk(parent,function(node){if(node.type==="NamedBlock"){foundBlockNames.push(node.name)}});expectedBlocks.forEach(function(expectedBlock){if(foundBlockNames.indexOf(expectedBlock.name)===-1){error("UNEXPECTED_BLOCK","Unexpected block "+expectedBlock.name,expectedBlock)}});Object.keys(ast.declaredBlocks).forEach(function(name){parent.declaredBlocks[name]=ast.declaredBlocks[name]});parent.nodes=mixins.concat(parent.nodes);return parent}return ast}function findDeclaredBlocks(ast){var definitions={};walk(ast,function before(node){if(node.type==="NamedBlock"&&node.mode==="replace"){definitions[node.name]=node}});return definitions}function extend(parentBlocks,ast){var stack={};walk(ast,function before(node){if(node.type==="NamedBlock"){if(stack[node.name]===node.name){return node.ignore=true}stack[node.name]=node.name;var parentBlock=parentBlocks[node.name];if(parentBlock){if(parentBlock.parent)parentBlock=parentBlock.parent;node.parent=parentBlock;switch(node.mode){case"append":parentBlock.nodes=parentBlock.nodes.concat(node.nodes);break;case"prepend":parentBlock.nodes=node.nodes.concat(parentBlock.nodes);break;case"replace":parentBlock.nodes=node.nodes;break}}}},function after(node){if(node.type==="NamedBlock"&&!node.ignore){delete stack[node.name]}})}function applyIncludes(ast,child){return walk(ast,function before(node,replace){if(node.type==="RawInclude"){replace({type:"Text",val:node.file.str.replace(/\r/g,"")})}},function after(node,replace){if(node.type==="Include"){replace(applyYield(link(node.file.ast),node.block))}})}function applyYield(ast,block){if(!block||!block.nodes.length)return ast;var replaced=false;ast=walk(ast,null,function(node,replace){if(node.type==="YieldBlock"){replaced=true;node.type="Block";node.nodes=[block]}});function defaultYieldLocation(node){var res=node;for(var i=0;i<node.nodes.length;i++){if(node.nodes[i].textOnly)continue;if(node.nodes[i].type==="Block"){res=defaultYieldLocation(node.nodes[i])}else if(node.nodes[i].block&&node.nodes[i].block.nodes.length){res=defaultYieldLocation(node.nodes[i].block)}}return res}if(!replaced){defaultYieldLocation(ast).nodes.push(block)}return ast}function checkExtendPosition(ast,hasExtends){var legitExtendsReached=false;walk(ast,function(node){if(node.type==="Extends"){if(hasExtends&&!legitExtendsReached){legitExtendsReached=true}else{error("EXTENDS_NOT_FIRST",'Declaration of template inheritance ("extends") should be the first thing in the file.',node)}}})}},{assert:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/assert/assert.js","pug-error":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/pug-error/index.js","pug-walk":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/pug-walk/index.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/pug-load/index.js":[function(require,module,exports){"use strict";var fs=require("fs");var path=require("path");var walk=require("pug-walk");module.exports=load;function load(ast,options){load.validateOptions(options);ast=JSON.parse(JSON.stringify(ast));return walk(ast,function(node){if(node.str===undefined){if(node.type==="Include"||node.type==="RawInclude"||node.type==="Extends"){var file=node.file;if(file.type!=="FileReference"){throw new Error('Expected file.type to be "FileReference"')}var path,str;try{path=(options.resolve||load.resolve)(file.path,file.filename,options);file.fullPath=path;str=(options.read||load.read)(path,options)}catch(ex){ex.message+="\n    at "+node.filename+" line "+node.line;throw ex}file.str=str;if(node.type==="Extends"||node.type==="Include"){var childOptions={};Object.keys(options).forEach(function(key){childOptions[key]=options[key]});childOptions.filename=path;file.ast=load.string(str,childOptions)}}}})}load.string=function loadString(src,options){load.validateOptions(options);options.src=src;var tokens=options.lex(src,options);var ast=options.parse(tokens,options);return load(ast,options)};load.file=function loadFile(filename,options){load.validateOptions(options);options.filename=filename;var str=(options.read||load.read)(filename);return load.string(str,options)};load.resolve=function resolve(filename,source,options){filename=filename.trim();if(filename[0]!=="/"&&!source)throw new Error('the "filename" option is required to use includes and extends with "relative" paths');if(filename[0]==="/"&&!options.basedir)throw new Error('the "basedir" option is required to use includes and extends with "absolute" paths');filename=path.join(filename[0]==="/"?options.basedir:path.dirname(source.trim()),filename);return filename};load.read=function read(filename,options){return fs.readFileSync(filename,"utf8")};load.validateOptions=function validateOptions(options){if(typeof options!=="object"){throw new TypeError("options must be an object")}if(typeof options.lex!=="function"){throw new TypeError("options.lex must be a function")}if(typeof options.parse!=="function"){throw new TypeError("options.parse must be a function")}if(options.resolve&&typeof options.resolve!=="function"){throw new TypeError("options.resolve must be a function")}if(options.read&&typeof options.read!=="function"){throw new TypeError("options.read must be a function")}}},{fs:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/browserify/lib/_empty.js",path:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/path-browserify/index.js","pug-walk":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/pug-walk/index.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/pug-parser/index.js":[function(require,module,exports){"use strict";var assert=require("assert");var TokenStream=require("token-stream");var error=require("pug-error");var inlineTags=require("./lib/inline-tags");module.exports=parse;module.exports.Parser=Parser;function parse(tokens,options){var parser=new Parser(tokens,options);var ast=parser.parse();return JSON.parse(JSON.stringify(ast))}function Parser(tokens,options){options=options||{};if(!Array.isArray(tokens)){throw new Error('Expected tokens to be an Array but got "'+typeof tokens+'"')}if(typeof options!=="object"){throw new Error('Expected "options" to be an object but got "'+typeof options+'"')}this.tokens=new TokenStream(tokens);this.filename=options.filename;this.src=options.src;this.inMixin=0;this.plugins=options.plugins||[]}Parser.prototype={constructor:Parser,error:function(code,message,token){var err=error(code,message,{line:token.line,column:token.col,filename:this.filename,src:this.src});throw err},advance:function(){return this.tokens.advance()},peek:function(){return this.tokens.peek()},lookahead:function(n){return this.tokens.lookahead(n)},parse:function(){var block=this.emptyBlock(0);while("eos"!=this.peek().type){if("newline"==this.peek().type){this.advance()}else if("text-html"==this.peek().type){block.nodes=block.nodes.concat(this.parseTextHtml())}else{var expr=this.parseExpr();if(expr)block.nodes.push(expr)}}return block},expect:function(type){if(this.peek().type===type){return this.advance()}else{this.error("INVALID_TOKEN",'expected "'+type+'", but got "'+this.peek().type+'"',this.peek())}},accept:function(type){if(this.peek().type===type){return this.advance()}},initBlock:function(line,nodes){if((line|0)!==line)throw new Error("`line` is not an integer");if(!Array.isArray(nodes))throw new Error("`nodes` is not an array");return{type:"Block",nodes:nodes,line:line,filename:this.filename}},emptyBlock:function(line){return this.initBlock(line,[])},runPlugin:function(context,tok){var rest=[this];for(var i=2;i<arguments.length;i++){rest.push(arguments[i])}var pluginContext;for(var i=0;i<this.plugins.length;i++){var plugin=this.plugins[i];if(plugin[context]&&plugin[context][tok.type]){if(pluginContext)throw new Error("Multiple plugin handlers found for context "+JSON.stringify(context)+", token type "+JSON.stringify(tok.type));pluginContext=plugin[context]}}if(pluginContext)return pluginContext[tok.type].apply(pluginContext,rest)},parseExpr:function(){switch(this.peek().type){case"tag":return this.parseTag();case"mixin":return this.parseMixin();case"block":return this.parseBlock();case"mixin-block":return this.parseMixinBlock();case"case":return this.parseCase();case"extends":return this.parseExtends();case"include":return this.parseInclude();case"doctype":return this.parseDoctype();case"filter":return this.parseFilter();case"comment":return this.parseComment();case"text":case"interpolated-code":case"start-pug-interpolation":return this.parseText({block:true});case"text-html":return this.initBlock(this.peek().line,this.parseTextHtml());case"dot":return this.parseDot();case"each":return this.parseEach();case"code":return this.parseCode();case"blockcode":return this.parseBlockCode();case"if":return this.parseConditional();case"while":return this.parseWhile();case"call":return this.parseCall();case"interpolation":return this.parseInterpolation();case"yield":return this.parseYield();case"id":case"class":this.tokens.defer({type:"tag",val:"div",line:this.peek().line,filename:this.filename});return this.parseExpr();default:var pluginResult=this.runPlugin("expressionTokens",this.peek());if(pluginResult)return pluginResult;this.error("INVALID_TOKEN",'unexpected token "'+this.peek().type+'"',this.peek())}},parseDot:function(){this.advance();return this.parseTextBlock()},parseText:function(options){var tags=[];var lineno=this.peek().line;var nextTok=this.peek();loop:while(true){switch(nextTok.type){case"text":var tok=this.advance();tags.push({type:"Text",val:tok.val,line:tok.line,filename:this.filename});break;case"interpolated-code":var tok=this.advance();tags.push({type:"Code",val:tok.val,buffer:tok.buffer,mustEscape:tok.mustEscape!==false,isInline:true,line:tok.line,filename:this.filename});break;case"newline":if(!options||!options.block)break loop;var tok=this.advance();if(this.peek().type==="text"){tags.push({type:"Text",val:"\n",line:tok.line,filename:this.filename})}break;case"start-pug-interpolation":this.advance();tags.push(this.parseExpr());this.expect("end-pug-interpolation");break;default:var pluginResult=this.runPlugin("textTokens",nextTok,tags);if(pluginResult)break;break loop}nextTok=this.peek()}if(tags.length===1)return tags[0];else return this.initBlock(lineno,tags)},parseTextHtml:function(){var nodes=[];var currentNode=null;loop:while(true){switch(this.peek().type){case"text-html":var text=this.advance();if(!currentNode){currentNode={type:"Text",val:text.val,filename:this.filename,line:text.line,isHtml:true};nodes.push(currentNode)}else{currentNode.val+="\n"+text.val}break;case"indent":var block=this.block();block.nodes.forEach(function(node){if(node.isHtml){if(!currentNode){currentNode=node;nodes.push(currentNode)}else{currentNode.val+="\n"+node.val}}else{currentNode=null;nodes.push(node)}});break;case"code":currentNode=null;nodes.push(this.parseCode(true));break;case"newline":this.advance();break;default:break loop}}return nodes},parseBlockExpansion:function(){var tok=this.accept(":");if(tok){return this.initBlock(tok.line,[this.parseExpr()])}else{return this.block()}},parseCase:function(){var tok=this.expect("case");var node={type:"Case",expr:tok.val,line:tok.line,filename:this.filename};var block=this.emptyBlock(tok.line+1);this.expect("indent");while("outdent"!=this.peek().type){switch(this.peek().type){case"comment":case"newline":this.advance();break;case"when":block.nodes.push(this.parseWhen());break;case"default":block.nodes.push(this.parseDefault());break;default:var pluginResult=this.runPlugin("caseTokens",this.peek(),block);if(pluginResult)break;this.error("INVALID_TOKEN",'Unexpected token "'+this.peek().type+'", expected "when", "default" or "newline"',this.peek())}}this.expect("outdent");node.block=block;return node},parseWhen:function(){var tok=this.expect("when");if(this.peek().type!=="newline"){return{type:"When",expr:tok.val,block:this.parseBlockExpansion(),debug:false,line:tok.line,filename:this.filename}}else{return{type:"When",expr:tok.val,debug:false,line:tok.line,filename:this.filename}}},parseDefault:function(){var tok=this.expect("default");return{type:"When",expr:"default",block:this.parseBlockExpansion(),debug:false,line:tok.line,filename:this.filename}},parseCode:function(noBlock){var tok=this.expect("code");assert(typeof tok.mustEscape==="boolean","Please update to the newest version of pug-lexer.");var node={type:"Code",val:tok.val,buffer:tok.buffer,mustEscape:tok.mustEscape!==false,isInline:!!noBlock,line:tok.line,filename:this.filename};if(node.val.match(/^ *else/))node.debug=false;if(noBlock)return node;var block;block="indent"==this.peek().type;if(block){if(tok.buffer){this.error("BLOCK_IN_BUFFERED_CODE","Buffered code cannot have a block attached to it",this.peek())}node.block=this.block()}return node},parseConditional:function(){var tok=this.expect("if");var node={type:"Conditional",test:tok.val,consequent:this.emptyBlock(tok.line),alternate:null,line:tok.line,filename:this.filename};if("indent"==this.peek().type){node.consequent=this.block()}var currentNode=node;while(true){if(this.peek().type==="newline"){this.expect("newline")}else if(this.peek().type==="else-if"){tok=this.expect("else-if");currentNode=currentNode.alternate={type:"Conditional",test:tok.val,consequent:this.emptyBlock(tok.line),alternate:null,line:tok.line,filename:this.filename};if("indent"==this.peek().type){currentNode.consequent=this.block()}}else if(this.peek().type==="else"){this.expect("else");if(this.peek().type==="indent"){currentNode.alternate=this.block()}break}else{break}}return node},parseWhile:function(){var tok=this.expect("while");var node={type:"While",test:tok.val,line:tok.line,filename:this.filename};if("indent"==this.peek().type){node.block=this.block()}else{node.block=this.emptyBlock(tok.line)}return node},parseBlockCode:function(){var line=this.expect("blockcode").line;var body=this.peek();var text="";if(body.type==="start-pipeless-text"){this.advance();while(this.peek().type!=="end-pipeless-text"){var tok=this.advance();switch(tok.type){case"text":text+=tok.val;break;case"newline":text+="\n";break;default:var pluginResult=this.runPlugin("blockCodeTokens",tok,tok);if(pluginResult){text+=pluginResult;break}this.error("INVALID_TOKEN","Unexpected token type: "+tok.type,tok)}}this.advance()}return{type:"Code",val:text,buffer:false,mustEscape:false,isInline:false,line:line,filename:this.filename}},parseComment:function(){var tok=this.expect("comment");var block;if(block=this.parseTextBlock()){return{type:"BlockComment",val:tok.val,block:block,buffer:tok.buffer,line:tok.line,filename:this.filename}}else{return{type:"Comment",val:tok.val,buffer:tok.buffer,line:tok.line,filename:this.filename}}},parseDoctype:function(){var tok=this.expect("doctype");return{type:"Doctype",val:tok.val,line:tok.line,filename:this.filename}},parseIncludeFilter:function(){var tok=this.expect("filter");var attrs=[];if(this.peek().type==="start-attributes"){attrs=this.attrs()}return{type:"IncludeFilter",name:tok.val,attrs:attrs,line:tok.line,filename:this.filename}},parseFilter:function(){var tok=this.expect("filter");var block,attrs=[];if(this.peek().type==="start-attributes"){attrs=this.attrs()}if(this.peek().type==="text"){var textToken=this.advance();block=this.initBlock(textToken.line,[{type:"Text",val:textToken.val,line:textToken.line,filename:this.filename}])}else if(this.peek().type==="filter"){block=this.initBlock(tok.line,[this.parseFilter()])}else{block=this.parseTextBlock()||this.emptyBlock(tok.line)}return{type:"Filter",name:tok.val,block:block,attrs:attrs,line:tok.line,filename:this.filename}},parseEach:function(){var tok=this.expect("each");var node={type:"Each",obj:tok.code,val:tok.val,key:tok.key,block:this.block(),line:tok.line,filename:this.filename};if(this.peek().type=="else"){this.advance();node.alternate=this.block()}return node},parseExtends:function(){var tok=this.expect("extends");var path=this.expect("path");return{type:"Extends",file:{type:"FileReference",path:path.val.trim(),line:tok.line,filename:this.filename},line:tok.line,filename:this.filename}},parseBlock:function(){var tok=this.expect("block");var node="indent"==this.peek().type?this.block():this.emptyBlock(tok.line);node.type="NamedBlock";node.name=tok.val.trim();node.mode=tok.mode;node.line=tok.line;return node},parseMixinBlock:function(){var tok=this.expect("mixin-block");if(!this.inMixin){this.error("BLOCK_OUTISDE_MIXIN","Anonymous blocks are not allowed unless they are part of a mixin.",tok)}return{type:"MixinBlock",line:tok.line,filename:this.filename}},parseYield:function(){var tok=this.expect("yield");return{type:"YieldBlock",line:tok.line,filename:this.filename}},parseInclude:function(){var tok=this.expect("include");var node={type:"Include",file:{type:"FileReference",line:tok.line,filename:this.filename},line:tok.line,filename:this.filename};var filters=[];while(this.peek().type==="filter"){filters.push(this.parseIncludeFilter())}var path=this.expect("path");node.file.path=path.val.trim();if((/\.jade$/.test(node.file.path)||/\.pug$/.test(node.file.path))&&!filters.length){node.block="indent"==this.peek().type?this.block():this.emptyBlock(tok.line);if(/\.jade$/.test(node.file.path)){console.warn(this.filename+", line "+tok.line+':\nThe .jade extension is deprecated, use .pug for "'+node.file.path+'".')}}else{node.type="RawInclude";node.filters=filters;if(this.peek().type==="indent"){this.error("RAW_INCLUDE_BLOCK","Raw inclusion cannot contain a block",this.peek())}}return node},parseCall:function(){var tok=this.expect("call");var name=tok.val;var args=tok.args;var mixin={type:"Mixin",name:name,args:args,block:this.emptyBlock(tok.line),call:true,attrs:[],attributeBlocks:[],line:tok.line,filename:this.filename};this.tag(mixin);if(mixin.code){mixin.block.nodes.push(mixin.code);delete mixin.code}if(mixin.block.nodes.length===0)mixin.block=null;return mixin},parseMixin:function(){var tok=this.expect("mixin");var name=tok.val;var args=tok.args;if("indent"==this.peek().type){this.inMixin++;var mixin={type:"Mixin",name:name,args:args,block:this.block(),call:false,line:tok.line,filename:this.filename};this.inMixin--;return mixin}else{this.error("MIXIN_WITHOUT_BODY","Mixin "+name+" declared without body",tok)}},parseTextBlock:function(){var tok=this.accept("start-pipeless-text");if(!tok)return;var block=this.emptyBlock(tok.line);while(this.peek().type!=="end-pipeless-text"){var tok=this.advance();switch(tok.type){case"text":block.nodes.push({type:"Text",val:tok.val,line:tok.line});break;case"newline":block.nodes.push({type:"Text",val:"\n",line:tok.line});break;case"start-pug-interpolation":block.nodes.push(this.parseExpr());this.expect("end-pug-interpolation");break;case"interpolated-code":block.nodes.push({type:"Code",val:tok.val,buffer:tok.buffer,mustEscape:tok.mustEscape!==false,isInline:true,line:tok.line,filename:this.filename});break;default:var pluginResult=this.runPlugin("textBlockTokens",tok,block,tok);if(pluginResult)break;this.error("INVALID_TOKEN","Unexpected token type: "+tok.type,tok)}}this.advance();return block},block:function(){var tok=this.expect("indent");var block=this.emptyBlock(tok.line);while("outdent"!=this.peek().type){if("newline"==this.peek().type){this.advance()}else if("text-html"==this.peek().type){block.nodes=block.nodes.concat(this.parseTextHtml())}else{var expr=this.parseExpr();block.nodes.push(expr)}}this.expect("outdent");return block},parseInterpolation:function(){var tok=this.advance();var tag={type:"InterpolatedTag",expr:tok.val,selfClosing:false,block:this.emptyBlock(tok.line),attrs:[],attributeBlocks:[],isInline:false,line:tok.line,filename:this.filename};return this.tag(tag,{selfClosingAllowed:true})},parseTag:function(){var tok=this.advance();var tag={type:"Tag",name:tok.val,selfClosing:false,block:this.emptyBlock(tok.line),attrs:[],attributeBlocks:[],isInline:inlineTags.indexOf(tok.val)!==-1,line:tok.line,filename:this.filename};return this.tag(tag,{selfClosingAllowed:true})},tag:function(tag,options){var seenAttrs=false;var attributeNames=[];var selfClosingAllowed=options&&options.selfClosingAllowed;out:while(true){switch(this.peek().type){case"id":case"class":var tok=this.advance();if(tok.type==="id"){if(attributeNames.indexOf("id")!==-1){this.error("DUPLICATE_ID",'Duplicate attribute "id" is not allowed.',tok)}attributeNames.push("id")}tag.attrs.push({name:tok.type,val:"'"+tok.val+"'",mustEscape:false});continue;case"start-attributes":if(seenAttrs){console.warn(this.filename+", line "+this.peek().line+":\nYou should not have pug tags with multiple attributes.")}seenAttrs=true;tag.attrs=tag.attrs.concat(this.attrs(attributeNames));continue;case"&attributes":var tok=this.advance();tag.attributeBlocks.push(tok.val);break;default:var pluginResult=this.runPlugin("tagAttributeTokens",this.peek(),tag,attributeNames);if(pluginResult)break;break out}}if("dot"==this.peek().type){tag.textOnly=true;this.advance()}switch(this.peek().type){case"text":case"interpolated-code":var text=this.parseText();if(text.type==="Block"){tag.block.nodes.push.apply(tag.block.nodes,text.nodes)}else{tag.block.nodes.push(text)}break;case"code":tag.block.nodes.push(this.parseCode(true));break;case":":this.advance();tag.block=this.initBlock(tag.line,[this.parseExpr()]);break;case"newline":case"indent":case"outdent":case"eos":case"start-pipeless-text":case"end-pug-interpolation":break;case"slash":if(selfClosingAllowed){this.advance();tag.selfClosing=true;break}default:var pluginResult=this.runPlugin("tagTokens",this.peek(),tag,options);if(pluginResult)break;this.error("INVALID_TOKEN","Unexpected token `"+this.peek().type+"` expected `text`, `interpolated-code`, `code`, `:`"+(selfClosingAllowed?", `slash`":"")+", `newline` or `eos`",this.peek())}while("newline"==this.peek().type)this.advance();if(tag.textOnly){tag.block=this.parseTextBlock()||this.emptyBlock(tag.line)}else if("indent"==this.peek().type){var block=this.block();for(var i=0,len=block.nodes.length;i<len;++i){tag.block.nodes.push(block.nodes[i])}}return tag},attrs:function(attributeNames){this.expect("start-attributes");var attrs=[];var tok=this.advance();while(tok.type==="attribute"){if(tok.name!=="class"&&attributeNames){if(attributeNames.indexOf(tok.name)!==-1){this.error("DUPLICATE_ATTRIBUTE",'Duplicate attribute "'+tok.name+'" is not allowed.',tok)}attributeNames.push(tok.name)}attrs.push({name:tok.name,val:tok.val,mustEscape:tok.mustEscape!==false});tok=this.advance()}this.tokens.defer(tok);this.expect("end-attributes");return attrs}}},{"./lib/inline-tags":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/pug-parser/lib/inline-tags.js",assert:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/assert/assert.js","pug-error":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/pug-error/index.js","token-stream":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/token-stream/index.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/pug-parser/lib/inline-tags.js":[function(require,module,exports){"use strict";module.exports=["a","abbr","acronym","b","br","code","em","font","i","img","ins","kbd","map","samp","small","span","strong","sub","sup"]},{}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/pug-runtime/build.js":[function(require,module,exports){"use strict";var fs=require("fs");var dependencies=require("./lib/dependencies.js");var internals=require("./lib/internals.js");var sources=require("./lib/sources.js");module.exports=build;function build(functions){var fns=[];functions=functions.filter(function(fn){return!internals[fn]});for(var i=0;i<functions.length;i++){if(fns.indexOf(functions[i])===-1){fns.push(functions[i]);functions.push.apply(functions,dependencies[functions[i]])}}return fns.sort().map(function(name){return sources[name]}).join("\n")}},{"./lib/dependencies.js":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/pug-runtime/lib/dependencies.js","./lib/internals.js":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/pug-runtime/lib/internals.js","./lib/sources.js":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/pug-runtime/lib/sources.js",fs:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/browserify/lib/_empty.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/pug-runtime/index.js":[function(require,module,exports){"use strict";var pug_has_own_property=Object.prototype.hasOwnProperty;exports.merge=pug_merge;function pug_merge(a,b){if(arguments.length===1){var attrs=a[0];for(var i=1;i<a.length;i++){attrs=pug_merge(attrs,a[i])}return attrs}for(var key in b){if(key==="class"){var valA=a[key]||[];a[key]=(Array.isArray(valA)?valA:[valA]).concat(b[key]||[])}else if(key==="style"){var valA=pug_style(a[key]);var valB=pug_style(b[key]);a[key]=valA+(valA&&valB&&";")+valB}else{a[key]=b[key]}}return a}exports.classes=pug_classes;function pug_classes_array(val,escaping){var classString="",className,padding="",escapeEnabled=Array.isArray(escaping);for(var i=0;i<val.length;i++){className=pug_classes(val[i]);if(!className)continue;escapeEnabled&&escaping[i]&&(className=pug_escape(className));classString=classString+padding+className;padding=" "}return classString}function pug_classes_object(val){var classString="",padding="";for(var key in val){if(key&&val[key]&&pug_has_own_property.call(val,key)){classString=classString+padding+key;padding=" "}}return classString}function pug_classes(val,escaping){if(Array.isArray(val)){return pug_classes_array(val,escaping)}else if(val&&typeof val==="object"){return pug_classes_object(val)}else{return val||""}}exports.style=pug_style;function pug_style(val){if(!val)return"";if(typeof val==="object"){var out="",delim="";for(var style in val){if(pug_has_own_property.call(val,style)){out=out+delim+style+":"+val[style];delim=";"}}return out}else{val=""+val;if(val[val.length-1]===";")return val.slice(0,-1);return val}}exports.attr=pug_attr;function pug_attr(key,val,escaped,terse){if(val===false||val==null||!val&&(key==="class"||key==="style")){return""}if(val===true){return" "+(terse?key:key+'="'+key+'"')}if(typeof val.toISOString==="function"){val=val.toISOString()}else if(typeof val!=="string"){val=JSON.stringify(val);if(!escaped&&val.indexOf('"')!==-1){return" "+key+"='"+val.replace(/'/g,"&#39;")+"'"}}if(escaped)val=pug_escape(val);return" "+key+'="'+val+'"'}exports.attrs=pug_attrs;function pug_attrs(obj,terse){var attrs="";for(var key in obj){if(pug_has_own_property.call(obj,key)){var val=obj[key];if("class"===key){
val=pug_classes(val);attrs=pug_attr(key,val,false,terse)+attrs;continue}if("style"===key){val=pug_style(val)}attrs+=pug_attr(key,val,false,terse)}}return attrs}var pug_match_html=/["&<>]/;exports.escape=pug_escape;function pug_escape(_html){var html=""+_html;var regexResult=pug_match_html.exec(html);if(!regexResult)return _html;var result="";var i,lastIndex,escape;for(i=regexResult.index,lastIndex=0;i<html.length;i++){switch(html.charCodeAt(i)){case 34:escape="&quot;";break;case 38:escape="&amp;";break;case 60:escape="&lt;";break;case 62:escape="&gt;";break;default:continue}if(lastIndex!==i)result+=html.substring(lastIndex,i);lastIndex=i+1;result+=escape}if(lastIndex!==i)return result+html.substring(lastIndex,i);else return result}exports.rethrow=pug_rethrow;function pug_rethrow(err,filename,lineno,str){if(!(err instanceof Error))throw err;if((typeof window!="undefined"||!filename)&&!str){err.message+=" on line "+lineno;throw err}try{str=str||require("fs").readFileSync(filename,"utf8")}catch(ex){pug_rethrow(err,null,lineno)}var context=3,lines=str.split("\n"),start=Math.max(lineno-context,0),end=Math.min(lines.length,lineno+context);var context=lines.slice(start,end).map(function(line,i){var curr=i+start+1;return(curr==lineno?"  > ":"    ")+curr+"| "+line}).join("\n");err.path=filename;err.message=(filename||"Pug")+":"+lineno+"\n"+context+"\n\n"+err.message;throw err}},{fs:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/browserify/lib/_empty.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/pug-runtime/lib/dependencies.js":[function(require,module,exports){module.exports={has_own_property:[],merge:["style"],classes_array:["classes","escape"],classes_object:["has_own_property"],classes:["classes_array","classes_object"],style:["has_own_property"],attr:["escape"],attrs:["attr","classes","has_own_property","style"],match_html:[],escape:["match_html"],rethrow:[]}},{}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/pug-runtime/lib/internals.js":[function(require,module,exports){module.exports={dependencies:true,internals:true,has_own_property:true,classes_array:true,classes_object:true,match_html:true}},{}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/pug-runtime/lib/sources.js":[function(require,module,exports){module.exports={has_own_property:"var pug_has_own_property=Object.prototype.hasOwnProperty;",merge:'function pug_merge(r,e){if(1===arguments.length){for(var t=r[0],a=1;a<r.length;a++)t=pug_merge(t,r[a]);return t}for(var g in e)if("class"===g){var l=r[g]||[];r[g]=(Array.isArray(l)?l:[l]).concat(e[g]||[])}else if("style"===g){var l=pug_style(r[g]),n=pug_style(e[g]);r[g]=l+(l&&n&&";")+n}else r[g]=e[g];return r}',classes_array:'function pug_classes_array(r,a){for(var s,e="",u="",c=Array.isArray(a),g=0;g<r.length;g++)s=pug_classes(r[g]),s&&(c&&a[g]&&(s=pug_escape(s)),e=e+u+s,u=" ");return e}',classes_object:'function pug_classes_object(r){var a="",n="";for(var o in r)o&&r[o]&&pug_has_own_property.call(r,o)&&(a=a+n+o,n=" ");return a}',classes:'function pug_classes(s,r){return Array.isArray(s)?pug_classes_array(s,r):s&&"object"==typeof s?pug_classes_object(s):s||""}',style:'function pug_style(r){if(!r)return"";if("object"==typeof r){var e="",t="";for(var n in r)pug_has_own_property.call(r,n)&&(e=e+t+n+":"+r[n],t=";");return e}return r=""+r,";"===r[r.length-1]?r.slice(0,-1):r}',attr:'function pug_attr(t,e,n,r){if(e===!1||null==e||!e&&("class"===t||"style"===t))return"";if(e===!0)return" "+(r?t:t+\'="\'+t+\'"\');if("function"==typeof e.toISOString)e=e.toISOString();else if("string"!=typeof e&&(e=JSON.stringify(e),!n&&-1!==e.indexOf(\'"\')))return" "+t+"=\'"+e.replace(/\'/g,"&#39;")+"\'";return n&&(e=pug_escape(e))," "+t+\'="\'+e+\'"\'}',attrs:'function pug_attrs(t,r){var a="";for(var s in t)if(pug_has_own_property.call(t,s)){var u=t[s];if("class"===s){u=pug_classes(u),a=pug_attr(s,u,!1,r)+a;continue}"style"===s&&(u=pug_style(u)),a+=pug_attr(s,u,!1,r)}return a}',match_html:'var pug_match_html=/["&<>]/;',escape:'function pug_escape(e){var a=""+e,t=pug_match_html.exec(a);if(!t)return e;var r,c,n,s="";for(r=t.index,c=0;r<a.length;r++){switch(a.charCodeAt(r)){case 34:n="&quot;";break;case 38:n="&amp;";break;case 60:n="&lt;";break;case 62:n="&gt;";break;default:continue}c!==r&&(s+=a.substring(c,r)),c=r+1,s+=n}return c!==r?s+a.substring(c,r):s}',rethrow:'function pug_rethrow(n,e,r,t){if(!(n instanceof Error))throw n;if(!("undefined"==typeof window&&e||t))throw n.message+=" on line "+r,n;try{t=t||require("fs").readFileSync(e,"utf8")}catch(i){pug_rethrow(n,null,r)}var a=3,o=t.split("\\n"),h=Math.max(r-a,0),s=Math.min(o.length,r+a),a=o.slice(h,s).map(function(n,e){var t=e+h+1;return(t==r?"  > ":"    ")+t+"| "+n}).join("\\n");throw n.path=e,n.message=(e||"Pug")+":"+r+"\\n"+a+"\\n\\n"+n.message,n}'}},{}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/pug-runtime/wrap.js":[function(require,module,exports){var runtime=require("./");module.exports=wrap;function wrap(template,templateName){templateName=templateName||"template";return Function("pug",template+"\n"+"return "+templateName+";")(runtime)}},{"./":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/pug-runtime/index.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/pug-strip-comments/index.js":[function(require,module,exports){"use strict";var jadeError=require("pug-error");module.exports=stripComments;function unexpectedToken(type,occasion,filename,line){var msg="`"+type+"` encountered when "+occasion;throw jadeError("UNEXPECTED_TOKEN",msg,{filename:filename,line:line})}function stripComments(input,options){options=options||{};var stripUnbuffered=options.stripUnbuffered!==false;var stripBuffered=options.stripBuffered===true;var filename=options.filename;var out=[];var inComment=false;var inPipelessText=false;return input.filter(function(tok){switch(tok.type){case"comment":if(inComment){unexpectedToken("comment","already in a comment",filename,tok.line)}else{inComment=tok.buffer?stripBuffered:stripUnbuffered;return!inComment}case"start-pipeless-text":if(!inComment)return true;if(inPipelessText){unexpectedToken("start-pipeless-text","already in pipeless text mode",filename,tok.line)}inPipelessText=true;return false;case"end-pipeless-text":if(!inComment)return true;if(!inPipelessText){unexpectedToken("end-pipeless-text","not in pipeless text mode",filename,tok.line)}inPipelessText=false;inComment=false;return false;case"text":return!inComment;default:if(inPipelessText)return false;inComment=false;return true}})}},{"pug-error":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/pug-strip-comments/node_modules/pug-error/index.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/pug-strip-comments/node_modules/pug-error/index.js":[function(require,module,exports){"use strict";module.exports=makeError;function makeError(code,message,options){var line=options.line;var column=options.column;var filename=options.filename;var src=options.src;var fullMessage;var location=line+(column?":"+column:"");if(src){var lines=src.split("\n");var start=Math.max(line-3,0);var end=Math.min(lines.length,line+3);var context=lines.slice(start,end).map(function(text,i){var curr=i+start+1;var preamble=(curr==line?"  > ":"    ")+curr+"| ";var out=preamble+text;if(curr===line&&column){out+="\n";out+=Array(preamble.length+column).join("-")+"^"}return out}).join("\n");fullMessage=(filename||"Jade")+":"+location+"\n"+context+"\n\n"+message}else{fullMessage=(filename||"Jade")+":"+location+"\n\n"+message}var err=new Error(fullMessage);err.code="JADE:"+code;err.msg=message;err.line=line;err.column=column;err.filename=filename;err.src=src;err.toJSON=function(){return{code:this.code,msg:this.msg,line:this.line,column:this.column,filename:this.filename}};return err}},{}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/pug-walk/index.js":[function(require,module,exports){"use strict";module.exports=walkAST;function walkAST(ast,before,after,options){if(after&&typeof after==="object"&&typeof options==="undefined"){options=after;after=null}options=options||{includeDependencies:false};function replace(replacement){ast=replacement}var result=before&&before(ast,replace);if(before&&result===false){return ast}switch(ast.type){case"NamedBlock":case"Block":ast.nodes=ast.nodes.map(function(node){return walkAST(node,before,after,options)});break;case"Case":case"Filter":case"Mixin":case"Tag":case"InterpolatedTag":case"When":case"Code":case"While":if(ast.block){ast.block=walkAST(ast.block,before,after,options)}break;case"Each":if(ast.block){ast.block=walkAST(ast.block,before,after,options)}if(ast.alternate){ast.alternate=walkAST(ast.alternate,before,after,options)}break;case"Conditional":if(ast.consequent){ast.consequent=walkAST(ast.consequent,before,after,options)}if(ast.alternate){ast.alternate=walkAST(ast.alternate,before,after,options)}break;case"Include":walkAST(ast.block,before,after,options);walkAST(ast.file,before,after,options);break;case"Extends":case"RawInclude":walkAST(ast.file,before,after,options);break;case"Attrs":case"BlockComment":case"Comment":case"Doctype":case"Literal":case"MixinBlock":case"YieldBlock":case"Text":break;case"FileReference":if(options.includeDependencies&&ast.ast){walkAST(ast.ast,before,after,options)}break;default:throw new Error("Unexpected node type "+ast.type);break}after&&after(ast,replace);return ast}},{}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/pug/lib/index.js":[function(require,module,exports){(function(process){"use strict";var fs=require("fs");var path=require("path");var lex=require("pug-lexer");var stripComments=require("pug-strip-comments");var parse=require("pug-parser");var load=require("pug-load");var filters=require("pug-filters");var link=require("pug-linker");var generateCode=require("pug-code-gen");var runtime=require("pug-runtime");var runtimeWrap=require("pug-runtime/wrap");exports.runtime=runtime;exports.cache={};function applyPlugins(value,options,plugins,name){return plugins.reduce(function(value,plugin){return plugin[name]?plugin[name](value,options):value},value)}function findReplacementFunc(plugins,name){var eligiblePlugins=plugins.filter(function(plugin){return plugin[name]});if(eligiblePlugins.length>1){throw new Error("Two or more plugins all implement "+name+" method.")}else if(eligiblePlugins.length){return eligiblePlugins[0][name]}else{return null}}exports.filters={};function compileBody(str,options){var debug_sources={};debug_sources[options.filename]=str;var dependencies=[];var plugins=options.plugins||[];var ast=load.string(str,{filename:options.filename,basedir:options.basedir,lex:function(str,options){var lexOptions={};Object.keys(options).forEach(function(key){lexOptions[key]=options[key]});lexOptions.plugins=plugins.filter(function(plugin){return!!plugin.lex}).map(function(plugin){return plugin.lex});return applyPlugins(lex(str,lexOptions),options,plugins,"postLex")},parse:function(tokens,options){tokens=tokens.map(function(token){if(token.type==="path"&&path.extname(token.val)===""){return{type:"path",line:token.line,col:token.col,val:token.val+".pug"}}return token});tokens=stripComments(tokens,options);tokens=applyPlugins(tokens,options,plugins,"preParse");var parseOptions={};Object.keys(options).forEach(function(key){parseOptions[key]=options[key]});parseOptions.plugins=plugins.filter(function(plugin){return!!plugin.parse}).map(function(plugin){return plugin.parse});return applyPlugins(applyPlugins(parse(tokens,parseOptions),options,plugins,"postParse"),options,plugins,"preLoad")},resolve:function(filename,source,loadOptions){var replacementFunc=findReplacementFunc(plugins,"resolve");if(replacementFunc){return replacementFunc(filename,source,options)}return load.resolve(filename,source,loadOptions)},read:function(filename,loadOptions){dependencies.push(filename);var contents;var replacementFunc=findReplacementFunc(plugins,"read");if(replacementFunc){contents=replacementFunc(filename,options)}else{contents=load.read(filename,loadOptions)}var str=applyPlugins(contents,{filename:filename},plugins,"preLex");debug_sources[filename]=str;return str}});ast=applyPlugins(ast,options,plugins,"postLoad");ast=applyPlugins(ast,options,plugins,"preFilters");var filtersSet={};Object.keys(exports.filters).forEach(function(key){filtersSet[key]=exports.filters[key]});if(options.filters){Object.keys(options.filters).forEach(function(key){filtersSet[key]=options.filters[key]})}ast=filters.handleFilters(ast,filtersSet,options.filterOptions);ast=applyPlugins(ast,options,plugins,"postFilters");ast=applyPlugins(ast,options,plugins,"preLink");ast=link(ast);ast=applyPlugins(ast,options,plugins,"postLink");ast=applyPlugins(ast,options,plugins,"preCodeGen");var js=generateCode(ast,{pretty:options.pretty,compileDebug:options.compileDebug,doctype:options.doctype,inlineRuntimeFunctions:options.inlineRuntimeFunctions,globals:options.globals,self:options.self,includeSources:options.includeSources?debug_sources:false,templateName:options.templateName});js=applyPlugins(js,options,plugins,"postCodeGen");if(options.debug){console.error("\nCompiled Function:\n\n[90m%s[0m",js.replace(/^/gm,"  "))}return{body:js,dependencies:dependencies}}function handleTemplateCache(options,str){var key=options.filename;if(options.cache&&exports.cache[key]){return exports.cache[key]}else{if(str===undefined)str=fs.readFileSync(options.filename,"utf8");var templ=exports.compile(str,options);if(options.cache)exports.cache[key]=templ;return templ}}exports.compile=function(str,options){var options=options||{};str=String(str);var parsed=compileBody(str,{compileDebug:options.compileDebug!==false,filename:options.filename,basedir:options.basedir,pretty:options.pretty,doctype:options.doctype,inlineRuntimeFunctions:options.inlineRuntimeFunctions,globals:options.globals,self:options.self,includeSources:options.compileDebug===true,debug:options.debug,templateName:"template",filters:options.filters,filterOptions:options.filterOptions,plugins:options.plugins});var res=options.inlineRuntimeFunctions?new Function("",parsed.body+";return template;")():runtimeWrap(parsed.body);res.dependencies=parsed.dependencies;return res};exports.compileClientWithDependenciesTracked=function(str,options){var options=options||{};str=String(str);var parsed=compileBody(str,{compileDebug:options.compileDebug,filename:options.filename,basedir:options.basedir,pretty:options.pretty,doctype:options.doctype,inlineRuntimeFunctions:options.inlineRuntimeFunctions!==false,globals:options.globals,self:options.self,includeSources:options.compileDebug,debug:options.debug,templateName:options.name||"template",filters:options.filters,filterOptions:options.filterOptions,plugins:options.plugins});return{body:parsed.body,dependencies:parsed.dependencies}};exports.compileClient=function(str,options){return exports.compileClientWithDependenciesTracked(str,options).body};exports.compileFile=function(path,options){options=options||{};options.filename=path;return handleTemplateCache(options)};exports.render=function(str,options,fn){if("function"==typeof options){fn=options,options=undefined}if(typeof fn==="function"){var res;try{res=exports.render(str,options)}catch(ex){return fn(ex)}return fn(null,res)}options=options||{};if(options.cache&&!options.filename){throw new Error('the "filename" option is required for caching')}return handleTemplateCache(options,str)(options)};exports.renderFile=function(path,options,fn){if("function"==typeof options){fn=options,options=undefined}if(typeof fn==="function"){var res;try{res=exports.renderFile(path,options)}catch(ex){return fn(ex)}return fn(null,res)}options=options||{};options.filename=path;return handleTemplateCache(options)(options)};exports.compileFileClient=function(path,options){var key=path+":client";options=options||{};options.filename=path;if(options.cache&&exports.cache[key]){return exports.cache[key]}var str=fs.readFileSync(options.filename,"utf8");var out=exports.compileClient(str,options);if(options.cache)exports.cache[key]=out;return out};exports.__express=function(path,options,fn){if(options.compileDebug==undefined&&process.env.NODE_ENV==="production"){options.compileDebug=false}exports.renderFile(path,options,fn)}}).call(this,require("_process"))},{_process:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/process/browser.js",fs:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/browser-resolve/empty.js",path:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/path-browserify/index.js","pug-code-gen":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/pug-code-gen/index.js","pug-filters":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/pug-filters/index.js","pug-lexer":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/pug-lexer/index.js","pug-linker":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/pug-linker/index.js","pug-load":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/pug-load/index.js","pug-parser":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/pug-parser/index.js","pug-runtime":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/pug-runtime/index.js","pug-runtime/wrap":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/pug-runtime/wrap.js","pug-strip-comments":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/pug-strip-comments/index.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/punycode/punycode.js":[function(require,module,exports){(function(global){(function(root){var freeExports=typeof exports=="object"&&exports&&!exports.nodeType&&exports;var freeModule=typeof module=="object"&&module&&!module.nodeType&&module;var freeGlobal=typeof global=="object"&&global;if(freeGlobal.global===freeGlobal||freeGlobal.window===freeGlobal||freeGlobal.self===freeGlobal){root=freeGlobal}var punycode,maxInt=2147483647,base=36,tMin=1,tMax=26,skew=38,damp=700,initialBias=72,initialN=128,delimiter="-",regexPunycode=/^xn--/,regexNonASCII=/[^\x20-\x7E]/,regexSeparators=/[\x2E\u3002\uFF0E\uFF61]/g,errors={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},baseMinusTMin=base-tMin,floor=Math.floor,stringFromCharCode=String.fromCharCode,key;function error(type){throw new RangeError(errors[type])}function map(array,fn){var length=array.length;var result=[];while(length--){result[length]=fn(array[length])}return result}function mapDomain(string,fn){var parts=string.split("@");var result="";if(parts.length>1){result=parts[0]+"@";string=parts[1]}string=string.replace(regexSeparators,".");var labels=string.split(".");var encoded=map(labels,fn).join(".");return result+encoded}function ucs2decode(string){var output=[],counter=0,length=string.length,value,extra;while(counter<length){value=string.charCodeAt(counter++);if(value>=55296&&value<=56319&&counter<length){extra=string.charCodeAt(counter++);if((extra&64512)==56320){output.push(((value&1023)<<10)+(extra&1023)+65536)}else{output.push(value);counter--}}else{output.push(value)}}return output}function ucs2encode(array){return map(array,function(value){var output="";if(value>65535){value-=65536;output+=stringFromCharCode(value>>>10&1023|55296);value=56320|value&1023}output+=stringFromCharCode(value);return output}).join("")}function basicToDigit(codePoint){if(codePoint-48<10){return codePoint-22}if(codePoint-65<26){return codePoint-65}if(codePoint-97<26){return codePoint-97}return base}function digitToBasic(digit,flag){return digit+22+75*(digit<26)-((flag!=0)<<5)}function adapt(delta,numPoints,firstTime){var k=0;delta=firstTime?floor(delta/damp):delta>>1;delta+=floor(delta/numPoints);for(;delta>baseMinusTMin*tMax>>1;k+=base){delta=floor(delta/baseMinusTMin)}return floor(k+(baseMinusTMin+1)*delta/(delta+skew))}function decode(input){var output=[],inputLength=input.length,out,i=0,n=initialN,bias=initialBias,basic,j,index,oldi,w,k,digit,t,baseMinusT;basic=input.lastIndexOf(delimiter);if(basic<0){basic=0}for(j=0;j<basic;++j){if(input.charCodeAt(j)>=128){error("not-basic")}output.push(input.charCodeAt(j))}for(index=basic>0?basic+1:0;index<inputLength;){for(oldi=i,w=1,k=base;;k+=base){if(index>=inputLength){error("invalid-input")}digit=basicToDigit(input.charCodeAt(index++));if(digit>=base||digit>floor((maxInt-i)/w)){error("overflow")}i+=digit*w;t=k<=bias?tMin:k>=bias+tMax?tMax:k-bias;if(digit<t){break}baseMinusT=base-t;if(w>floor(maxInt/baseMinusT)){error("overflow")}w*=baseMinusT}out=output.length+1;bias=adapt(i-oldi,out,oldi==0);if(floor(i/out)>maxInt-n){error("overflow")}n+=floor(i/out);i%=out;output.splice(i++,0,n)}return ucs2encode(output)}function encode(input){var n,delta,handledCPCount,basicLength,bias,j,m,q,k,t,currentValue,output=[],inputLength,handledCPCountPlusOne,baseMinusT,qMinusT;input=ucs2decode(input);inputLength=input.length;n=initialN;delta=0;bias=initialBias;for(j=0;j<inputLength;++j){currentValue=input[j];if(currentValue<128){output.push(stringFromCharCode(currentValue))}}handledCPCount=basicLength=output.length;if(basicLength){output.push(delimiter)}while(handledCPCount<inputLength){for(m=maxInt,j=0;j<inputLength;++j){currentValue=input[j];if(currentValue>=n&&currentValue<m){m=currentValue}}handledCPCountPlusOne=handledCPCount+1;if(m-n>floor((maxInt-delta)/handledCPCountPlusOne)){error("overflow")}delta+=(m-n)*handledCPCountPlusOne;n=m;for(j=0;j<inputLength;++j){currentValue=input[j];if(currentValue<n&&++delta>maxInt){error("overflow")}if(currentValue==n){for(q=delta,k=base;;k+=base){t=k<=bias?tMin:k>=bias+tMax?tMax:k-bias;if(q<t){break}qMinusT=q-t;baseMinusT=base-t;output.push(stringFromCharCode(digitToBasic(t+qMinusT%baseMinusT,0)));q=floor(qMinusT/baseMinusT)}output.push(stringFromCharCode(digitToBasic(q,0)));bias=adapt(delta,handledCPCountPlusOne,handledCPCount==basicLength);delta=0;++handledCPCount}}++delta;++n}return output.join("")}function toUnicode(input){return mapDomain(input,function(string){return regexPunycode.test(string)?decode(string.slice(4).toLowerCase()):string})}function toASCII(input){return mapDomain(input,function(string){return regexNonASCII.test(string)?"xn--"+encode(string):string})}punycode={version:"1.4.1",ucs2:{decode:ucs2decode,encode:ucs2encode},decode:decode,encode:encode,toASCII:toASCII,toUnicode:toUnicode};if(typeof define=="function"&&typeof define.amd=="object"&&define.amd){define("punycode",function(){return punycode})}else if(freeExports&&freeModule){if(module.exports==freeExports){freeModule.exports=punycode}else{for(key in punycode){punycode.hasOwnProperty(key)&&(freeExports[key]=punycode[key])}}}else{root.punycode=punycode}})(this)}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/querystring-es3/decode.js":[function(require,module,exports){"use strict";function hasOwnProperty(obj,prop){return Object.prototype.hasOwnProperty.call(obj,prop)}module.exports=function(qs,sep,eq,options){sep=sep||"&";eq=eq||"=";var obj={};if(typeof qs!=="string"||qs.length===0){return obj}var regexp=/\+/g;qs=qs.split(sep);var maxKeys=1e3;if(options&&typeof options.maxKeys==="number"){maxKeys=options.maxKeys}var len=qs.length;if(maxKeys>0&&len>maxKeys){len=maxKeys}for(var i=0;i<len;++i){var x=qs[i].replace(regexp,"%20"),idx=x.indexOf(eq),kstr,vstr,k,v;if(idx>=0){kstr=x.substr(0,idx);vstr=x.substr(idx+1)}else{kstr=x;vstr=""}k=decodeURIComponent(kstr);v=decodeURIComponent(vstr);if(!hasOwnProperty(obj,k)){obj[k]=v}else if(isArray(obj[k])){obj[k].push(v)}else{obj[k]=[obj[k],v]}}return obj};var isArray=Array.isArray||function(xs){return Object.prototype.toString.call(xs)==="[object Array]"}},{}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/querystring-es3/encode.js":[function(require,module,exports){"use strict";var stringifyPrimitive=function(v){switch(typeof v){case"string":return v;case"boolean":return v?"true":"false";case"number":return isFinite(v)?v:"";default:return""}};module.exports=function(obj,sep,eq,name){sep=sep||"&";eq=eq||"=";if(obj===null){obj=undefined}if(typeof obj==="object"){return map(objectKeys(obj),function(k){var ks=encodeURIComponent(stringifyPrimitive(k))+eq;if(isArray(obj[k])){return map(obj[k],function(v){return ks+encodeURIComponent(stringifyPrimitive(v))}).join(sep)}else{return ks+encodeURIComponent(stringifyPrimitive(obj[k]))}}).join(sep)}if(!name)return"";return encodeURIComponent(stringifyPrimitive(name))+eq+encodeURIComponent(stringifyPrimitive(obj))};var isArray=Array.isArray||function(xs){return Object.prototype.toString.call(xs)==="[object Array]"};function map(xs,f){if(xs.map)return xs.map(f);var res=[];for(var i=0;i<xs.length;i++){res.push(f(xs[i],i))}return res}var objectKeys=Object.keys||function(obj){var res=[];for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))res.push(key)}return res}},{}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/querystring-es3/index.js":[function(require,module,exports){"use strict";exports.decode=exports.parse=require("./decode");exports.encode=exports.stringify=require("./encode")},{"./decode":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/querystring-es3/decode.js","./encode":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/querystring-es3/encode.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/randombytes/browser.js":[function(require,module,exports){(function(process,global,Buffer){"use strict";function oldBrowser(){throw new Error("secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11")}var crypto=global.crypto||global.msCrypto;if(crypto&&crypto.getRandomValues){module.exports=randomBytes}else{module.exports=oldBrowser}function randomBytes(size,cb){if(size>65536)throw new Error("requested too many random bytes");var rawBytes=new global.Uint8Array(size);if(size>0){crypto.getRandomValues(rawBytes)}var bytes=new Buffer(rawBytes.buffer);if(typeof cb==="function"){return process.nextTick(function(){cb(null,bytes)})}return bytes}}).call(this,require("_process"),typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{},require("buffer").Buffer)},{_process:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/process/browser.js",buffer:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/buffer/index.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/readable-stream/duplex.js":[function(require,module,exports){module.exports=require("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/readable-stream/lib/_stream_duplex.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/readable-stream/lib/_stream_duplex.js":[function(require,module,exports){"use strict";var objectKeys=Object.keys||function(obj){var keys=[];for(var key in obj){keys.push(key)}return keys};module.exports=Duplex;var processNextTick=require("process-nextick-args");var util=require("core-util-is");util.inherits=require("inherits");var Readable=require("./_stream_readable");var Writable=require("./_stream_writable");util.inherits(Duplex,Readable);var keys=objectKeys(Writable.prototype);for(var v=0;v<keys.length;v++){var method=keys[v];if(!Duplex.prototype[method])Duplex.prototype[method]=Writable.prototype[method]}function Duplex(options){if(!(this instanceof Duplex))return new Duplex(options);Readable.call(this,options);Writable.call(this,options);if(options&&options.readable===false)this.readable=false;if(options&&options.writable===false)this.writable=false;this.allowHalfOpen=true;if(options&&options.allowHalfOpen===false)this.allowHalfOpen=false;this.once("end",onend)}function onend(){if(this.allowHalfOpen||this._writableState.ended)return;processNextTick(onEndNT,this)}function onEndNT(self){self.end()}function forEach(xs,f){for(var i=0,l=xs.length;i<l;i++){f(xs[i],i)}}},{"./_stream_readable":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/readable-stream/lib/_stream_readable.js","./_stream_writable":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/readable-stream/lib/_stream_writable.js","core-util-is":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/core-util-is/lib/util.js",inherits:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/inherits/inherits_browser.js","process-nextick-args":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/process-nextick-args/index.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/readable-stream/lib/_stream_passthrough.js":[function(require,module,exports){"use strict";module.exports=PassThrough;var Transform=require("./_stream_transform");var util=require("core-util-is");util.inherits=require("inherits");util.inherits(PassThrough,Transform);function PassThrough(options){if(!(this instanceof PassThrough))return new PassThrough(options);Transform.call(this,options)}PassThrough.prototype._transform=function(chunk,encoding,cb){cb(null,chunk)}},{"./_stream_transform":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/readable-stream/lib/_stream_transform.js","core-util-is":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/core-util-is/lib/util.js",inherits:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/inherits/inherits_browser.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/readable-stream/lib/_stream_readable.js":[function(require,module,exports){(function(process){"use strict";module.exports=Readable;var processNextTick=require("process-nextick-args");var isArray=require("isarray");Readable.ReadableState=ReadableState;var EE=require("events").EventEmitter;var EElistenerCount=function(emitter,type){return emitter.listeners(type).length};var Stream;(function(){try{Stream=require("st"+"ream")}catch(_){}finally{if(!Stream)Stream=require("events").EventEmitter}})();var Buffer=require("buffer").Buffer;var bufferShim=require("buffer-shims");var util=require("core-util-is");util.inherits=require("inherits");var debugUtil=require("util");var debug=void 0;if(debugUtil&&debugUtil.debuglog){debug=debugUtil.debuglog("stream")}else{debug=function(){}}var StringDecoder;util.inherits(Readable,Stream);var hasPrependListener=typeof EE.prototype.prependListener==="function";function prependListener(emitter,event,fn){if(hasPrependListener)return emitter.prependListener(event,fn);if(!emitter._events||!emitter._events[event])emitter.on(event,fn);else if(isArray(emitter._events[event]))emitter._events[event].unshift(fn);else emitter._events[event]=[fn,emitter._events[event]]}var Duplex;function ReadableState(options,stream){Duplex=Duplex||require("./_stream_duplex");options=options||{};this.objectMode=!!options.objectMode;if(stream instanceof Duplex)this.objectMode=this.objectMode||!!options.readableObjectMode;var hwm=options.highWaterMark;var defaultHwm=this.objectMode?16:16*1024;this.highWaterMark=hwm||hwm===0?hwm:defaultHwm;this.highWaterMark=~~this.highWaterMark;this.buffer=[];this.length=0;this.pipes=null;this.pipesCount=0;this.flowing=null;this.ended=false;this.endEmitted=false;this.reading=false;this.sync=true;this.needReadable=false;this.emittedReadable=false;this.readableListening=false;
this.resumeScheduled=false;this.defaultEncoding=options.defaultEncoding||"utf8";this.ranOut=false;this.awaitDrain=0;this.readingMore=false;this.decoder=null;this.encoding=null;if(options.encoding){if(!StringDecoder)StringDecoder=require("string_decoder/").StringDecoder;this.decoder=new StringDecoder(options.encoding);this.encoding=options.encoding}}var Duplex;function Readable(options){Duplex=Duplex||require("./_stream_duplex");if(!(this instanceof Readable))return new Readable(options);this._readableState=new ReadableState(options,this);this.readable=true;if(options&&typeof options.read==="function")this._read=options.read;Stream.call(this)}Readable.prototype.push=function(chunk,encoding){var state=this._readableState;if(!state.objectMode&&typeof chunk==="string"){encoding=encoding||state.defaultEncoding;if(encoding!==state.encoding){chunk=bufferShim.from(chunk,encoding);encoding=""}}return readableAddChunk(this,state,chunk,encoding,false)};Readable.prototype.unshift=function(chunk){var state=this._readableState;return readableAddChunk(this,state,chunk,"",true)};Readable.prototype.isPaused=function(){return this._readableState.flowing===false};function readableAddChunk(stream,state,chunk,encoding,addToFront){var er=chunkInvalid(state,chunk);if(er){stream.emit("error",er)}else if(chunk===null){state.reading=false;onEofChunk(stream,state)}else if(state.objectMode||chunk&&chunk.length>0){if(state.ended&&!addToFront){var e=new Error("stream.push() after EOF");stream.emit("error",e)}else if(state.endEmitted&&addToFront){var _e=new Error("stream.unshift() after end event");stream.emit("error",_e)}else{var skipAdd;if(state.decoder&&!addToFront&&!encoding){chunk=state.decoder.write(chunk);skipAdd=!state.objectMode&&chunk.length===0}if(!addToFront)state.reading=false;if(!skipAdd){if(state.flowing&&state.length===0&&!state.sync){stream.emit("data",chunk);stream.read(0)}else{state.length+=state.objectMode?1:chunk.length;if(addToFront)state.buffer.unshift(chunk);else state.buffer.push(chunk);if(state.needReadable)emitReadable(stream)}}maybeReadMore(stream,state)}}else if(!addToFront){state.reading=false}return needMoreData(state)}function needMoreData(state){return!state.ended&&(state.needReadable||state.length<state.highWaterMark||state.length===0)}Readable.prototype.setEncoding=function(enc){if(!StringDecoder)StringDecoder=require("string_decoder/").StringDecoder;this._readableState.decoder=new StringDecoder(enc);this._readableState.encoding=enc;return this};var MAX_HWM=8388608;function computeNewHighWaterMark(n){if(n>=MAX_HWM){n=MAX_HWM}else{n--;n|=n>>>1;n|=n>>>2;n|=n>>>4;n|=n>>>8;n|=n>>>16;n++}return n}function howMuchToRead(n,state){if(state.length===0&&state.ended)return 0;if(state.objectMode)return n===0?0:1;if(n===null||isNaN(n)){if(state.flowing&&state.buffer.length)return state.buffer[0].length;else return state.length}if(n<=0)return 0;if(n>state.highWaterMark)state.highWaterMark=computeNewHighWaterMark(n);if(n>state.length){if(!state.ended){state.needReadable=true;return 0}else{return state.length}}return n}Readable.prototype.read=function(n){debug("read",n);var state=this._readableState;var nOrig=n;if(typeof n!=="number"||n>0)state.emittedReadable=false;if(n===0&&state.needReadable&&(state.length>=state.highWaterMark||state.ended)){debug("read: emitReadable",state.length,state.ended);if(state.length===0&&state.ended)endReadable(this);else emitReadable(this);return null}n=howMuchToRead(n,state);if(n===0&&state.ended){if(state.length===0)endReadable(this);return null}var doRead=state.needReadable;debug("need readable",doRead);if(state.length===0||state.length-n<state.highWaterMark){doRead=true;debug("length less than watermark",doRead)}if(state.ended||state.reading){doRead=false;debug("reading or ended",doRead)}if(doRead){debug("do read");state.reading=true;state.sync=true;if(state.length===0)state.needReadable=true;this._read(state.highWaterMark);state.sync=false}if(doRead&&!state.reading)n=howMuchToRead(nOrig,state);var ret;if(n>0)ret=fromList(n,state);else ret=null;if(ret===null){state.needReadable=true;n=0}state.length-=n;if(state.length===0&&!state.ended)state.needReadable=true;if(nOrig!==n&&state.ended&&state.length===0)endReadable(this);if(ret!==null)this.emit("data",ret);return ret};function chunkInvalid(state,chunk){var er=null;if(!Buffer.isBuffer(chunk)&&typeof chunk!=="string"&&chunk!==null&&chunk!==undefined&&!state.objectMode){er=new TypeError("Invalid non-string/buffer chunk")}return er}function onEofChunk(stream,state){if(state.ended)return;if(state.decoder){var chunk=state.decoder.end();if(chunk&&chunk.length){state.buffer.push(chunk);state.length+=state.objectMode?1:chunk.length}}state.ended=true;emitReadable(stream)}function emitReadable(stream){var state=stream._readableState;state.needReadable=false;if(!state.emittedReadable){debug("emitReadable",state.flowing);state.emittedReadable=true;if(state.sync)processNextTick(emitReadable_,stream);else emitReadable_(stream)}}function emitReadable_(stream){debug("emit readable");stream.emit("readable");flow(stream)}function maybeReadMore(stream,state){if(!state.readingMore){state.readingMore=true;processNextTick(maybeReadMore_,stream,state)}}function maybeReadMore_(stream,state){var len=state.length;while(!state.reading&&!state.flowing&&!state.ended&&state.length<state.highWaterMark){debug("maybeReadMore read 0");stream.read(0);if(len===state.length)break;else len=state.length}state.readingMore=false}Readable.prototype._read=function(n){this.emit("error",new Error("not implemented"))};Readable.prototype.pipe=function(dest,pipeOpts){var src=this;var state=this._readableState;switch(state.pipesCount){case 0:state.pipes=dest;break;case 1:state.pipes=[state.pipes,dest];break;default:state.pipes.push(dest);break}state.pipesCount+=1;debug("pipe count=%d opts=%j",state.pipesCount,pipeOpts);var doEnd=(!pipeOpts||pipeOpts.end!==false)&&dest!==process.stdout&&dest!==process.stderr;var endFn=doEnd?onend:cleanup;if(state.endEmitted)processNextTick(endFn);else src.once("end",endFn);dest.on("unpipe",onunpipe);function onunpipe(readable){debug("onunpipe");if(readable===src){cleanup()}}function onend(){debug("onend");dest.end()}var ondrain=pipeOnDrain(src);dest.on("drain",ondrain);var cleanedUp=false;function cleanup(){debug("cleanup");dest.removeListener("close",onclose);dest.removeListener("finish",onfinish);dest.removeListener("drain",ondrain);dest.removeListener("error",onerror);dest.removeListener("unpipe",onunpipe);src.removeListener("end",onend);src.removeListener("end",cleanup);src.removeListener("data",ondata);cleanedUp=true;if(state.awaitDrain&&(!dest._writableState||dest._writableState.needDrain))ondrain()}src.on("data",ondata);function ondata(chunk){debug("ondata");var ret=dest.write(chunk);if(false===ret){if((state.pipesCount===1&&state.pipes===dest||state.pipesCount>1&&indexOf(state.pipes,dest)!==-1)&&!cleanedUp){debug("false write response, pause",src._readableState.awaitDrain);src._readableState.awaitDrain++}src.pause()}}function onerror(er){debug("onerror",er);unpipe();dest.removeListener("error",onerror);if(EElistenerCount(dest,"error")===0)dest.emit("error",er)}prependListener(dest,"error",onerror);function onclose(){dest.removeListener("finish",onfinish);unpipe()}dest.once("close",onclose);function onfinish(){debug("onfinish");dest.removeListener("close",onclose);unpipe()}dest.once("finish",onfinish);function unpipe(){debug("unpipe");src.unpipe(dest)}dest.emit("pipe",src);if(!state.flowing){debug("pipe resume");src.resume()}return dest};function pipeOnDrain(src){return function(){var state=src._readableState;debug("pipeOnDrain",state.awaitDrain);if(state.awaitDrain)state.awaitDrain--;if(state.awaitDrain===0&&EElistenerCount(src,"data")){state.flowing=true;flow(src)}}}Readable.prototype.unpipe=function(dest){var state=this._readableState;if(state.pipesCount===0)return this;if(state.pipesCount===1){if(dest&&dest!==state.pipes)return this;if(!dest)dest=state.pipes;state.pipes=null;state.pipesCount=0;state.flowing=false;if(dest)dest.emit("unpipe",this);return this}if(!dest){var dests=state.pipes;var len=state.pipesCount;state.pipes=null;state.pipesCount=0;state.flowing=false;for(var _i=0;_i<len;_i++){dests[_i].emit("unpipe",this)}return this}var i=indexOf(state.pipes,dest);if(i===-1)return this;state.pipes.splice(i,1);state.pipesCount-=1;if(state.pipesCount===1)state.pipes=state.pipes[0];dest.emit("unpipe",this);return this};Readable.prototype.on=function(ev,fn){var res=Stream.prototype.on.call(this,ev,fn);if(ev==="data"&&false!==this._readableState.flowing){this.resume()}if(ev==="readable"&&!this._readableState.endEmitted){var state=this._readableState;if(!state.readableListening){state.readableListening=true;state.emittedReadable=false;state.needReadable=true;if(!state.reading){processNextTick(nReadingNextTick,this)}else if(state.length){emitReadable(this,state)}}}return res};Readable.prototype.addListener=Readable.prototype.on;function nReadingNextTick(self){debug("readable nexttick read 0");self.read(0)}Readable.prototype.resume=function(){var state=this._readableState;if(!state.flowing){debug("resume");state.flowing=true;resume(this,state)}return this};function resume(stream,state){if(!state.resumeScheduled){state.resumeScheduled=true;processNextTick(resume_,stream,state)}}function resume_(stream,state){if(!state.reading){debug("resume read 0");stream.read(0)}state.resumeScheduled=false;stream.emit("resume");flow(stream);if(state.flowing&&!state.reading)stream.read(0)}Readable.prototype.pause=function(){debug("call pause flowing=%j",this._readableState.flowing);if(false!==this._readableState.flowing){debug("pause");this._readableState.flowing=false;this.emit("pause")}return this};function flow(stream){var state=stream._readableState;debug("flow",state.flowing);if(state.flowing){do{var chunk=stream.read()}while(null!==chunk&&state.flowing)}}Readable.prototype.wrap=function(stream){var state=this._readableState;var paused=false;var self=this;stream.on("end",function(){debug("wrapped end");if(state.decoder&&!state.ended){var chunk=state.decoder.end();if(chunk&&chunk.length)self.push(chunk)}self.push(null)});stream.on("data",function(chunk){debug("wrapped data");if(state.decoder)chunk=state.decoder.write(chunk);if(state.objectMode&&(chunk===null||chunk===undefined))return;else if(!state.objectMode&&(!chunk||!chunk.length))return;var ret=self.push(chunk);if(!ret){paused=true;stream.pause()}});for(var i in stream){if(this[i]===undefined&&typeof stream[i]==="function"){this[i]=function(method){return function(){return stream[method].apply(stream,arguments)}}(i)}}var events=["error","close","destroy","pause","resume"];forEach(events,function(ev){stream.on(ev,self.emit.bind(self,ev))});self._read=function(n){debug("wrapped _read",n);if(paused){paused=false;stream.resume()}};return self};Readable._fromList=fromList;function fromList(n,state){var list=state.buffer;var length=state.length;var stringMode=!!state.decoder;var objectMode=!!state.objectMode;var ret;if(list.length===0)return null;if(length===0)ret=null;else if(objectMode)ret=list.shift();else if(!n||n>=length){if(stringMode)ret=list.join("");else if(list.length===1)ret=list[0];else ret=Buffer.concat(list,length);list.length=0}else{if(n<list[0].length){var buf=list[0];ret=buf.slice(0,n);list[0]=buf.slice(n)}else if(n===list[0].length){ret=list.shift()}else{if(stringMode)ret="";else ret=bufferShim.allocUnsafe(n);var c=0;for(var i=0,l=list.length;i<l&&c<n;i++){var _buf=list[0];var cpy=Math.min(n-c,_buf.length);if(stringMode)ret+=_buf.slice(0,cpy);else _buf.copy(ret,c,0,cpy);if(cpy<_buf.length)list[0]=_buf.slice(cpy);else list.shift();c+=cpy}}}return ret}function endReadable(stream){var state=stream._readableState;if(state.length>0)throw new Error('"endReadable()" called on non-empty stream');if(!state.endEmitted){state.ended=true;processNextTick(endReadableNT,state,stream)}}function endReadableNT(state,stream){if(!state.endEmitted&&state.length===0){state.endEmitted=true;stream.readable=false;stream.emit("end")}}function forEach(xs,f){for(var i=0,l=xs.length;i<l;i++){f(xs[i],i)}}function indexOf(xs,x){for(var i=0,l=xs.length;i<l;i++){if(xs[i]===x)return i}return-1}}).call(this,require("_process"))},{"./_stream_duplex":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/readable-stream/lib/_stream_duplex.js",_process:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/process/browser.js",buffer:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/buffer/index.js","buffer-shims":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/buffer-shims/index.js","core-util-is":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/core-util-is/lib/util.js",events:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/events/events.js",inherits:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/inherits/inherits_browser.js",isarray:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/isarray/index.js","process-nextick-args":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/process-nextick-args/index.js","string_decoder/":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/string_decoder/index.js",util:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/browser-resolve/empty.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/readable-stream/lib/_stream_transform.js":[function(require,module,exports){"use strict";module.exports=Transform;var Duplex=require("./_stream_duplex");var util=require("core-util-is");util.inherits=require("inherits");util.inherits(Transform,Duplex);function TransformState(stream){this.afterTransform=function(er,data){return afterTransform(stream,er,data)};this.needTransform=false;this.transforming=false;this.writecb=null;this.writechunk=null;this.writeencoding=null}function afterTransform(stream,er,data){var ts=stream._transformState;ts.transforming=false;var cb=ts.writecb;if(!cb)return stream.emit("error",new Error("no writecb in Transform class"));ts.writechunk=null;ts.writecb=null;if(data!==null&&data!==undefined)stream.push(data);cb(er);var rs=stream._readableState;rs.reading=false;if(rs.needReadable||rs.length<rs.highWaterMark){stream._read(rs.highWaterMark)}}function Transform(options){if(!(this instanceof Transform))return new Transform(options);Duplex.call(this,options);this._transformState=new TransformState(this);var stream=this;this._readableState.needReadable=true;this._readableState.sync=false;if(options){if(typeof options.transform==="function")this._transform=options.transform;if(typeof options.flush==="function")this._flush=options.flush}this.once("prefinish",function(){if(typeof this._flush==="function")this._flush(function(er){done(stream,er)});else done(stream)})}Transform.prototype.push=function(chunk,encoding){this._transformState.needTransform=false;return Duplex.prototype.push.call(this,chunk,encoding)};Transform.prototype._transform=function(chunk,encoding,cb){throw new Error("Not implemented")};Transform.prototype._write=function(chunk,encoding,cb){var ts=this._transformState;ts.writecb=cb;ts.writechunk=chunk;ts.writeencoding=encoding;if(!ts.transforming){var rs=this._readableState;if(ts.needTransform||rs.needReadable||rs.length<rs.highWaterMark)this._read(rs.highWaterMark)}};Transform.prototype._read=function(n){var ts=this._transformState;if(ts.writechunk!==null&&ts.writecb&&!ts.transforming){ts.transforming=true;this._transform(ts.writechunk,ts.writeencoding,ts.afterTransform)}else{ts.needTransform=true}};function done(stream,er){if(er)return stream.emit("error",er);var ws=stream._writableState;var ts=stream._transformState;if(ws.length)throw new Error("Calling transform done when ws.length != 0");if(ts.transforming)throw new Error("Calling transform done when still transforming");return stream.push(null)}},{"./_stream_duplex":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/readable-stream/lib/_stream_duplex.js","core-util-is":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/core-util-is/lib/util.js",inherits:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/inherits/inherits_browser.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/readable-stream/lib/_stream_writable.js":[function(require,module,exports){(function(process){"use strict";module.exports=Writable;var processNextTick=require("process-nextick-args");var asyncWrite=!process.browser&&["v0.10","v0.9."].indexOf(process.version.slice(0,5))>-1?setImmediate:processNextTick;Writable.WritableState=WritableState;var util=require("core-util-is");util.inherits=require("inherits");var internalUtil={deprecate:require("util-deprecate")};var Stream;(function(){try{Stream=require("st"+"ream")}catch(_){}finally{if(!Stream)Stream=require("events").EventEmitter}})();var Buffer=require("buffer").Buffer;var bufferShim=require("buffer-shims");util.inherits(Writable,Stream);function nop(){}function WriteReq(chunk,encoding,cb){this.chunk=chunk;this.encoding=encoding;this.callback=cb;this.next=null}var Duplex;function WritableState(options,stream){Duplex=Duplex||require("./_stream_duplex");options=options||{};this.objectMode=!!options.objectMode;if(stream instanceof Duplex)this.objectMode=this.objectMode||!!options.writableObjectMode;var hwm=options.highWaterMark;var defaultHwm=this.objectMode?16:16*1024;this.highWaterMark=hwm||hwm===0?hwm:defaultHwm;this.highWaterMark=~~this.highWaterMark;this.needDrain=false;this.ending=false;this.ended=false;this.finished=false;var noDecode=options.decodeStrings===false;this.decodeStrings=!noDecode;this.defaultEncoding=options.defaultEncoding||"utf8";this.length=0;this.writing=false;this.corked=0;this.sync=true;this.bufferProcessing=false;this.onwrite=function(er){onwrite(stream,er)};this.writecb=null;this.writelen=0;this.bufferedRequest=null;this.lastBufferedRequest=null;this.pendingcb=0;this.prefinished=false;this.errorEmitted=false;this.bufferedRequestCount=0;this.corkedRequestsFree=new CorkedRequest(this)}WritableState.prototype.getBuffer=function writableStateGetBuffer(){var current=this.bufferedRequest;var out=[];while(current){out.push(current);current=current.next}return out};(function(){try{Object.defineProperty(WritableState.prototype,"buffer",{get:internalUtil.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer "+"instead.")})}catch(_){}})();var Duplex;function Writable(options){Duplex=Duplex||require("./_stream_duplex");if(!(this instanceof Writable)&&!(this instanceof Duplex))return new Writable(options);this._writableState=new WritableState(options,this);this.writable=true;if(options){if(typeof options.write==="function")this._write=options.write;if(typeof options.writev==="function")this._writev=options.writev}Stream.call(this)}Writable.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function writeAfterEnd(stream,cb){var er=new Error("write after end");stream.emit("error",er);processNextTick(cb,er)}function validChunk(stream,state,chunk,cb){var valid=true;var er=false;if(chunk===null){er=new TypeError("May not write null values to stream")}else if(!Buffer.isBuffer(chunk)&&typeof chunk!=="string"&&chunk!==undefined&&!state.objectMode){er=new TypeError("Invalid non-string/buffer chunk")}if(er){stream.emit("error",er);processNextTick(cb,er);valid=false}return valid}Writable.prototype.write=function(chunk,encoding,cb){var state=this._writableState;var ret=false;if(typeof encoding==="function"){cb=encoding;encoding=null}if(Buffer.isBuffer(chunk))encoding="buffer";else if(!encoding)encoding=state.defaultEncoding;if(typeof cb!=="function")cb=nop;if(state.ended)writeAfterEnd(this,cb);else if(validChunk(this,state,chunk,cb)){state.pendingcb++;ret=writeOrBuffer(this,state,chunk,encoding,cb)}return ret};Writable.prototype.cork=function(){var state=this._writableState;state.corked++};Writable.prototype.uncork=function(){var state=this._writableState;if(state.corked){state.corked--;if(!state.writing&&!state.corked&&!state.finished&&!state.bufferProcessing&&state.bufferedRequest)clearBuffer(this,state)}};Writable.prototype.setDefaultEncoding=function setDefaultEncoding(encoding){if(typeof encoding==="string")encoding=encoding.toLowerCase();if(!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((encoding+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+encoding);this._writableState.defaultEncoding=encoding;return this};function decodeChunk(state,chunk,encoding){if(!state.objectMode&&state.decodeStrings!==false&&typeof chunk==="string"){chunk=bufferShim.from(chunk,encoding)}return chunk}function writeOrBuffer(stream,state,chunk,encoding,cb){chunk=decodeChunk(state,chunk,encoding);if(Buffer.isBuffer(chunk))encoding="buffer";var len=state.objectMode?1:chunk.length;state.length+=len;var ret=state.length<state.highWaterMark;if(!ret)state.needDrain=true;if(state.writing||state.corked){var last=state.lastBufferedRequest;state.lastBufferedRequest=new WriteReq(chunk,encoding,cb);if(last){last.next=state.lastBufferedRequest}else{state.bufferedRequest=state.lastBufferedRequest}state.bufferedRequestCount+=1}else{doWrite(stream,state,false,len,chunk,encoding,cb)}return ret}function doWrite(stream,state,writev,len,chunk,encoding,cb){state.writelen=len;state.writecb=cb;state.writing=true;state.sync=true;if(writev)stream._writev(chunk,state.onwrite);else stream._write(chunk,encoding,state.onwrite);state.sync=false}function onwriteError(stream,state,sync,er,cb){--state.pendingcb;if(sync)processNextTick(cb,er);else cb(er);stream._writableState.errorEmitted=true;stream.emit("error",er)}function onwriteStateUpdate(state){state.writing=false;state.writecb=null;state.length-=state.writelen;state.writelen=0}function onwrite(stream,er){var state=stream._writableState;var sync=state.sync;var cb=state.writecb;onwriteStateUpdate(state);if(er)onwriteError(stream,state,sync,er,cb);else{var finished=needFinish(state);if(!finished&&!state.corked&&!state.bufferProcessing&&state.bufferedRequest){clearBuffer(stream,state)}if(sync){asyncWrite(afterWrite,stream,state,finished,cb)}else{afterWrite(stream,state,finished,cb)}}}function afterWrite(stream,state,finished,cb){if(!finished)onwriteDrain(stream,state);state.pendingcb--;cb();finishMaybe(stream,state)}function onwriteDrain(stream,state){if(state.length===0&&state.needDrain){state.needDrain=false;stream.emit("drain")}}function clearBuffer(stream,state){state.bufferProcessing=true;var entry=state.bufferedRequest;if(stream._writev&&entry&&entry.next){var l=state.bufferedRequestCount;var buffer=new Array(l);var holder=state.corkedRequestsFree;holder.entry=entry;var count=0;while(entry){buffer[count]=entry;entry=entry.next;count+=1}doWrite(stream,state,true,state.length,buffer,"",holder.finish);state.pendingcb++;state.lastBufferedRequest=null;if(holder.next){state.corkedRequestsFree=holder.next;holder.next=null}else{state.corkedRequestsFree=new CorkedRequest(state)}}else{while(entry){var chunk=entry.chunk;var encoding=entry.encoding;var cb=entry.callback;var len=state.objectMode?1:chunk.length;doWrite(stream,state,false,len,chunk,encoding,cb);entry=entry.next;if(state.writing){break}}if(entry===null)state.lastBufferedRequest=null}state.bufferedRequestCount=0;state.bufferedRequest=entry;state.bufferProcessing=false}Writable.prototype._write=function(chunk,encoding,cb){cb(new Error("not implemented"))};Writable.prototype._writev=null;Writable.prototype.end=function(chunk,encoding,cb){var state=this._writableState;if(typeof chunk==="function"){cb=chunk;chunk=null;encoding=null}else if(typeof encoding==="function"){cb=encoding;encoding=null}if(chunk!==null&&chunk!==undefined)this.write(chunk,encoding);if(state.corked){state.corked=1;this.uncork()}if(!state.ending&&!state.finished)endWritable(this,state,cb)};function needFinish(state){return state.ending&&state.length===0&&state.bufferedRequest===null&&!state.finished&&!state.writing}function prefinish(stream,state){if(!state.prefinished){state.prefinished=true;stream.emit("prefinish")}}function finishMaybe(stream,state){var need=needFinish(state);if(need){if(state.pendingcb===0){prefinish(stream,state);state.finished=true;stream.emit("finish")}else{prefinish(stream,state)}}return need}function endWritable(stream,state,cb){state.ending=true;finishMaybe(stream,state);if(cb){if(state.finished)processNextTick(cb);else stream.once("finish",cb)}state.ended=true;stream.writable=false}function CorkedRequest(state){var _this=this;this.next=null;this.entry=null;this.finish=function(err){var entry=_this.entry;_this.entry=null;while(entry){var cb=entry.callback;state.pendingcb--;cb(err);entry=entry.next}if(state.corkedRequestsFree){state.corkedRequestsFree.next=_this}else{state.corkedRequestsFree=_this}}}}).call(this,require("_process"))},{"./_stream_duplex":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/readable-stream/lib/_stream_duplex.js",_process:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/process/browser.js",buffer:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/buffer/index.js","buffer-shims":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/buffer-shims/index.js","core-util-is":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/core-util-is/lib/util.js",events:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/events/events.js",inherits:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/inherits/inherits_browser.js","process-nextick-args":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/process-nextick-args/index.js","util-deprecate":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/util-deprecate/browser.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/readable-stream/passthrough.js":[function(require,module,exports){module.exports=require("./lib/_stream_passthrough.js")},{"./lib/_stream_passthrough.js":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/readable-stream/lib/_stream_passthrough.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/readable-stream/readable.js":[function(require,module,exports){(function(process){var Stream=function(){try{return require("st"+"ream")}catch(_){}}();exports=module.exports=require("./lib/_stream_readable.js");exports.Stream=Stream||exports;exports.Readable=exports;exports.Writable=require("./lib/_stream_writable.js");exports.Duplex=require("./lib/_stream_duplex.js");exports.Transform=require("./lib/_stream_transform.js");exports.PassThrough=require("./lib/_stream_passthrough.js");if(!process.browser&&process.env.READABLE_STREAM==="disable"&&Stream){module.exports=Stream}}).call(this,require("_process"))},{"./lib/_stream_duplex.js":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/readable-stream/lib/_stream_duplex.js","./lib/_stream_passthrough.js":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/readable-stream/lib/_stream_passthrough.js","./lib/_stream_readable.js":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/readable-stream/lib/_stream_readable.js","./lib/_stream_transform.js":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/readable-stream/lib/_stream_transform.js","./lib/_stream_writable.js":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/readable-stream/lib/_stream_writable.js",_process:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/process/browser.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/readable-stream/transform.js":[function(require,module,exports){module.exports=require("./lib/_stream_transform.js")},{"./lib/_stream_transform.js":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/readable-stream/lib/_stream_transform.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/readable-stream/writable.js":[function(require,module,exports){module.exports=require("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/readable-stream/lib/_stream_writable.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/resolve/index.js":[function(require,module,exports){var core=require("./lib/core");exports=module.exports=require("./lib/async");exports.core=core;exports.isCore=function(x){return core[x]};exports.sync=require("./lib/sync")},{"./lib/async":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/resolve/lib/async.js","./lib/core":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/resolve/lib/core.js","./lib/sync":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/resolve/lib/sync.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/resolve/lib/async.js":[function(require,module,exports){(function(process){var core=require("./core");var fs=require("fs");var path=require("path");var caller=require("./caller.js");var nodeModulesPaths=require("./node-modules-paths.js");var splitRe=process.platform==="win32"?/[\/\\]/:/\//;module.exports=function resolve(x,opts,cb){if(typeof opts==="function"){cb=opts;opts={}}if(!opts)opts={};if(typeof x!=="string"){return process.nextTick(function(){cb(new Error("path must be a string"))})}var isFile=opts.isFile||function(file,cb){fs.stat(file,function(err,stat){if(err&&err.code==="ENOENT")cb(null,false);else if(err)cb(err);else cb(null,stat.isFile()||stat.isFIFO())})};var readFile=opts.readFile||fs.readFile;var extensions=opts.extensions||[".js"];var y=opts.basedir||path.dirname(caller());opts.paths=opts.paths||[];if(/^(?:\.\.?(?:\/|$)|\/|([A-Za-z]:)?[\\\/])/.test(x)){var res=path.resolve(y,x);if(x==="..")res+="/";if(/\/$/.test(x)&&res===y){loadAsDirectory(res,opts.package,onfile)}else loadAsFile(res,opts.package,onfile)}else loadNodeModules(x,y,function(err,n,pkg){if(err)cb(err);else if(n)cb(null,n,pkg);else if(core[x])return cb(null,x);else cb(new Error("Cannot find module '"+x+"' from '"+y+"'"))});function onfile(err,m,pkg){if(err)cb(err);else if(m)cb(null,m,pkg);else loadAsDirectory(res,function(err,d,pkg){if(err)cb(err);else if(d)cb(null,d,pkg);else cb(new Error("Cannot find module '"+x+"' from '"+y+"'"))})}function loadAsFile(x,pkg,cb){if(typeof pkg==="function"){cb=pkg;pkg=undefined}var exts=[""].concat(extensions);load(exts,x,pkg);function load(exts,x,pkg){if(exts.length===0)return cb(null,undefined,pkg);var file=x+exts[0];if(pkg)onpkg(null,pkg);else loadpkg(path.dirname(file),onpkg);function onpkg(err,pkg_,dir){pkg=pkg_;if(err)return cb(err);if(dir&&pkg&&opts.pathFilter){var rfile=path.relative(dir,file);var rel=rfile.slice(0,rfile.length-exts[0].length);var r=opts.pathFilter(pkg,x,rel);if(r)return load([""].concat(extensions.slice()),path.resolve(dir,r),pkg)}isFile(file,onex)}function onex(err,ex){if(err)cb(err);else if(!ex)load(exts.slice(1),x,pkg);else cb(null,file,pkg)}}}function loadpkg(dir,cb){if(dir===""||dir==="/")return cb(null);if(process.platform==="win32"&&/^\w:[\\\/]*$/.test(dir)){return cb(null)}if(/[\\\/]node_modules[\\\/]*$/.test(dir))return cb(null);var pkgfile=path.join(dir,"package.json");isFile(pkgfile,function(err,ex){if(!ex)return loadpkg(path.dirname(dir),cb);readFile(pkgfile,function(err,body){if(err)cb(err);try{var pkg=JSON.parse(body)}catch(err){}if(pkg&&opts.packageFilter){pkg=opts.packageFilter(pkg,pkgfile)}cb(null,pkg,dir)})})}function loadAsDirectory(x,fpkg,cb){if(typeof fpkg==="function"){
cb=fpkg;fpkg=opts.package}var pkgfile=path.join(x,"/package.json");isFile(pkgfile,function(err,ex){if(err)return cb(err);if(!ex)return loadAsFile(path.join(x,"/index"),fpkg,cb);readFile(pkgfile,function(err,body){if(err)return cb(err);try{var pkg=JSON.parse(body)}catch(err){}if(opts.packageFilter){pkg=opts.packageFilter(pkg,pkgfile)}if(pkg.main){if(pkg.main==="."||pkg.main==="./"){pkg.main="index"}loadAsFile(path.resolve(x,pkg.main),pkg,function(err,m,pkg){if(err)return cb(err);if(m)return cb(null,m,pkg);if(!pkg)return loadAsFile(path.join(x,"/index"),pkg,cb);var dir=path.resolve(x,pkg.main);loadAsDirectory(dir,pkg,function(err,n,pkg){if(err)return cb(err);if(n)return cb(null,n,pkg);loadAsFile(path.join(x,"/index"),pkg,cb)})});return}loadAsFile(path.join(x,"/index"),pkg,cb)})})}function loadNodeModules(x,start,cb){(function process(dirs){if(dirs.length===0)return cb(null,undefined);var dir=dirs[0];var file=path.join(dir,"/",x);loadAsFile(file,undefined,onfile);function onfile(err,m,pkg){if(err)return cb(err);if(m)return cb(null,m,pkg);loadAsDirectory(path.join(dir,"/",x),undefined,ondir)}function ondir(err,n,pkg){if(err)return cb(err);if(n)return cb(null,n,pkg);process(dirs.slice(1))}})(nodeModulesPaths(start,opts))}}}).call(this,require("_process"))},{"./caller.js":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/resolve/lib/caller.js","./core":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/resolve/lib/core.js","./node-modules-paths.js":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/resolve/lib/node-modules-paths.js",_process:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/process/browser.js",fs:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/browserify/lib/_empty.js",path:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/path-browserify/index.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/resolve/lib/caller.js":[function(require,module,exports){module.exports=function(){var origPrepareStackTrace=Error.prepareStackTrace;Error.prepareStackTrace=function(_,stack){return stack};var stack=(new Error).stack;Error.prepareStackTrace=origPrepareStackTrace;return stack[2].getFileName()}},{}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/resolve/lib/core.json":[function(require,module,exports){module.exports=["assert","buffer_ieee754","buffer","child_process","cluster","console","constants","crypto","_debugger","dgram","dns","domain","events","freelist","fs","http","https","_linklist","module","net","os","path","punycode","querystring","readline","repl","stream","string_decoder","sys","timers","tls","tty","url","util","vm","zlib"]},{}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/resolve/lib/core.js":[function(require,module,exports){module.exports=require("./core.json").reduce(function(acc,x){acc[x]=true;return acc},{})},{"./core.json":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/resolve/lib/core.json"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/resolve/lib/node-modules-paths.js":[function(require,module,exports){(function(process){var path=require("path");module.exports=function(start,opts){var modules=opts.moduleDirectory?[].concat(opts.moduleDirectory):["node_modules"];start=path.resolve(start);var prefix="/";if(/^([A-Za-z]:)/.test(start)){prefix=""}else if(/^\\\\/.test(start)){prefix="\\\\"}var splitRe=process.platform==="win32"?/[\/\\]/:/\/+/;var parts=start.split(splitRe);var dirs=[];for(var i=parts.length-1;i>=0;i--){if(modules.indexOf(parts[i])!==-1)continue;dirs=dirs.concat(modules.map(function(module_dir){return prefix+path.join(path.join.apply(path,parts.slice(0,i+1)),module_dir)}))}if(process.platform==="win32"){dirs[dirs.length-1]=dirs[dirs.length-1].replace(":",":\\")}return dirs.concat(opts.paths)}}).call(this,require("_process"))},{_process:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/process/browser.js",path:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/path-browserify/index.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/resolve/lib/sync.js":[function(require,module,exports){var core=require("./core");var fs=require("fs");var path=require("path");var caller=require("./caller.js");var nodeModulesPaths=require("./node-modules-paths.js");module.exports=function(x,opts){if(!opts)opts={};var isFile=opts.isFile||function(file){try{var stat=fs.statSync(file)}catch(err){if(err&&err.code==="ENOENT")return false}return stat.isFile()||stat.isFIFO()};var readFileSync=opts.readFileSync||fs.readFileSync;var extensions=opts.extensions||[".js"];var y=opts.basedir||path.dirname(caller());opts.paths=opts.paths||[];if(/^(?:\.\.?(?:\/|$)|\/|([A-Za-z]:)?[\\\/])/.test(x)){var res=path.resolve(y,x);if(x==="..")res+="/";var m=loadAsFileSync(res)||loadAsDirectorySync(res);if(m)return m}else{var n=loadNodeModulesSync(x,y);if(n)return n}if(core[x])return x;throw new Error("Cannot find module '"+x+"' from '"+y+"'");function loadAsFileSync(x){if(isFile(x)){return x}for(var i=0;i<extensions.length;i++){var file=x+extensions[i];if(isFile(file)){return file}}}function loadAsDirectorySync(x){var pkgfile=path.join(x,"/package.json");if(isFile(pkgfile)){var body=readFileSync(pkgfile,"utf8");try{var pkg=JSON.parse(body);if(opts.packageFilter){pkg=opts.packageFilter(pkg,x)}if(pkg.main){var m=loadAsFileSync(path.resolve(x,pkg.main));if(m)return m;var n=loadAsDirectorySync(path.resolve(x,pkg.main));if(n)return n}}catch(err){}}return loadAsFileSync(path.join(x,"/index"))}function loadNodeModulesSync(x,start){var dirs=nodeModulesPaths(start,opts);for(var i=0;i<dirs.length;i++){var dir=dirs[i];var m=loadAsFileSync(path.join(dir,"/",x));if(m)return m;var n=loadAsDirectorySync(path.join(dir,"/",x));if(n)return n}}}},{"./caller.js":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/resolve/lib/caller.js","./core":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/resolve/lib/core.js","./node-modules-paths.js":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/resolve/lib/node-modules-paths.js",fs:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/browserify/lib/_empty.js",path:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/path-browserify/index.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/ripemd160/lib/ripemd160.js":[function(require,module,exports){(function(Buffer){var zl=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13];var zr=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11];var sl=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6];var sr=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11];var hl=[0,1518500249,1859775393,2400959708,2840853838];var hr=[1352829926,1548603684,1836072691,2053994217,0];function bytesToWords(bytes){var words=[];for(var i=0,b=0;i<bytes.length;i++,b+=8){words[b>>>5]|=bytes[i]<<24-b%32}return words}function wordsToBytes(words){var bytes=[];for(var b=0;b<words.length*32;b+=8){bytes.push(words[b>>>5]>>>24-b%32&255)}return bytes}function processBlock(H,M,offset){for(var i=0;i<16;i++){var offset_i=offset+i;var M_offset_i=M[offset_i];M[offset_i]=(M_offset_i<<8|M_offset_i>>>24)&16711935|(M_offset_i<<24|M_offset_i>>>8)&4278255360}var al,bl,cl,dl,el;var ar,br,cr,dr,er;ar=al=H[0];br=bl=H[1];cr=cl=H[2];dr=dl=H[3];er=el=H[4];var t;for(i=0;i<80;i+=1){t=al+M[offset+zl[i]]|0;if(i<16){t+=f1(bl,cl,dl)+hl[0]}else if(i<32){t+=f2(bl,cl,dl)+hl[1]}else if(i<48){t+=f3(bl,cl,dl)+hl[2]}else if(i<64){t+=f4(bl,cl,dl)+hl[3]}else{t+=f5(bl,cl,dl)+hl[4]}t=t|0;t=rotl(t,sl[i]);t=t+el|0;al=el;el=dl;dl=rotl(cl,10);cl=bl;bl=t;t=ar+M[offset+zr[i]]|0;if(i<16){t+=f5(br,cr,dr)+hr[0]}else if(i<32){t+=f4(br,cr,dr)+hr[1]}else if(i<48){t+=f3(br,cr,dr)+hr[2]}else if(i<64){t+=f2(br,cr,dr)+hr[3]}else{t+=f1(br,cr,dr)+hr[4]}t=t|0;t=rotl(t,sr[i]);t=t+er|0;ar=er;er=dr;dr=rotl(cr,10);cr=br;br=t}t=H[1]+cl+dr|0;H[1]=H[2]+dl+er|0;H[2]=H[3]+el+ar|0;H[3]=H[4]+al+br|0;H[4]=H[0]+bl+cr|0;H[0]=t}function f1(x,y,z){return x^y^z}function f2(x,y,z){return x&y|~x&z}function f3(x,y,z){return(x|~y)^z}function f4(x,y,z){return x&z|y&~z}function f5(x,y,z){return x^(y|~z)}function rotl(x,n){return x<<n|x>>>32-n}function ripemd160(message){var H=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof message==="string"){message=new Buffer(message,"utf8")}var m=bytesToWords(message);var nBitsLeft=message.length*8;var nBitsTotal=message.length*8;m[nBitsLeft>>>5]|=128<<24-nBitsLeft%32;m[(nBitsLeft+64>>>9<<4)+14]=(nBitsTotal<<8|nBitsTotal>>>24)&16711935|(nBitsTotal<<24|nBitsTotal>>>8)&4278255360;for(var i=0;i<m.length;i+=16){processBlock(H,m,i)}for(i=0;i<5;i++){var H_i=H[i];H[i]=(H_i<<8|H_i>>>24)&16711935|(H_i<<24|H_i>>>8)&4278255360}var digestbytes=wordsToBytes(H);return new Buffer(digestbytes)}module.exports=ripemd160}).call(this,require("buffer").Buffer)},{buffer:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/buffer/index.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/sha.js/hash.js":[function(require,module,exports){(function(Buffer){function Hash(blockSize,finalSize){this._block=new Buffer(blockSize);this._finalSize=finalSize;this._blockSize=blockSize;this._len=0;this._s=0}Hash.prototype.update=function(data,enc){if(typeof data==="string"){enc=enc||"utf8";data=new Buffer(data,enc)}var l=this._len+=data.length;var s=this._s||0;var f=0;var buffer=this._block;while(s<l){var t=Math.min(data.length,f+this._blockSize-s%this._blockSize);var ch=t-f;for(var i=0;i<ch;i++){buffer[s%this._blockSize+i]=data[i+f]}s+=ch;f+=ch;if(s%this._blockSize===0){this._update(buffer)}}this._s=s;return this};Hash.prototype.digest=function(enc){var l=this._len*8;this._block[this._len%this._blockSize]=128;this._block.fill(0,this._len%this._blockSize+1);if(l%(this._blockSize*8)>=this._finalSize*8){this._update(this._block);this._block.fill(0)}this._block.writeInt32BE(l,this._blockSize-4);var hash=this._update(this._block)||this._hash();return enc?hash.toString(enc):hash};Hash.prototype._update=function(){throw new Error("_update must be implemented by subclass")};module.exports=Hash}).call(this,require("buffer").Buffer)},{buffer:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/buffer/index.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/sha.js/index.js":[function(require,module,exports){var exports=module.exports=function SHA(algorithm){algorithm=algorithm.toLowerCase();var Algorithm=exports[algorithm];if(!Algorithm)throw new Error(algorithm+" is not supported (we accept pull requests)");return new Algorithm};exports.sha=require("./sha");exports.sha1=require("./sha1");exports.sha224=require("./sha224");exports.sha256=require("./sha256");exports.sha384=require("./sha384");exports.sha512=require("./sha512")},{"./sha":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/sha.js/sha.js","./sha1":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/sha.js/sha1.js","./sha224":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/sha.js/sha224.js","./sha256":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/sha.js/sha256.js","./sha384":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/sha.js/sha384.js","./sha512":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/sha.js/sha512.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/sha.js/sha.js":[function(require,module,exports){(function(Buffer){var inherits=require("inherits");var Hash=require("./hash");var K=[1518500249,1859775393,2400959708|0,3395469782|0];var W=new Array(80);function Sha(){this.init();this._w=W;Hash.call(this,64,56)}inherits(Sha,Hash);Sha.prototype.init=function(){this._a=1732584193;this._b=4023233417;this._c=2562383102;this._d=271733878;this._e=3285377520;return this};function rotl5(num){return num<<5|num>>>27}function rotl30(num){return num<<30|num>>>2}function ft(s,b,c,d){if(s===0)return b&c|~b&d;if(s===2)return b&c|b&d|c&d;return b^c^d}Sha.prototype._update=function(M){var W=this._w;var a=this._a|0;var b=this._b|0;var c=this._c|0;var d=this._d|0;var e=this._e|0;for(var i=0;i<16;++i)W[i]=M.readInt32BE(i*4);for(;i<80;++i)W[i]=W[i-3]^W[i-8]^W[i-14]^W[i-16];for(var j=0;j<80;++j){var s=~~(j/20);var t=rotl5(a)+ft(s,b,c,d)+e+W[j]+K[s]|0;e=d;d=c;c=rotl30(b);b=a;a=t}this._a=a+this._a|0;this._b=b+this._b|0;this._c=c+this._c|0;this._d=d+this._d|0;this._e=e+this._e|0};Sha.prototype._hash=function(){var H=new Buffer(20);H.writeInt32BE(this._a|0,0);H.writeInt32BE(this._b|0,4);H.writeInt32BE(this._c|0,8);H.writeInt32BE(this._d|0,12);H.writeInt32BE(this._e|0,16);return H};module.exports=Sha}).call(this,require("buffer").Buffer)},{"./hash":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/sha.js/hash.js",buffer:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/buffer/index.js",inherits:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/inherits/inherits_browser.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/sha.js/sha1.js":[function(require,module,exports){(function(Buffer){var inherits=require("inherits");var Hash=require("./hash");var K=[1518500249,1859775393,2400959708|0,3395469782|0];var W=new Array(80);function Sha1(){this.init();this._w=W;Hash.call(this,64,56)}inherits(Sha1,Hash);Sha1.prototype.init=function(){this._a=1732584193;this._b=4023233417;this._c=2562383102;this._d=271733878;this._e=3285377520;return this};function rotl1(num){return num<<1|num>>>31}function rotl5(num){return num<<5|num>>>27}function rotl30(num){return num<<30|num>>>2}function ft(s,b,c,d){if(s===0)return b&c|~b&d;if(s===2)return b&c|b&d|c&d;return b^c^d}Sha1.prototype._update=function(M){var W=this._w;var a=this._a|0;var b=this._b|0;var c=this._c|0;var d=this._d|0;var e=this._e|0;for(var i=0;i<16;++i)W[i]=M.readInt32BE(i*4);for(;i<80;++i)W[i]=rotl1(W[i-3]^W[i-8]^W[i-14]^W[i-16]);for(var j=0;j<80;++j){var s=~~(j/20);var t=rotl5(a)+ft(s,b,c,d)+e+W[j]+K[s]|0;e=d;d=c;c=rotl30(b);b=a;a=t}this._a=a+this._a|0;this._b=b+this._b|0;this._c=c+this._c|0;this._d=d+this._d|0;this._e=e+this._e|0};Sha1.prototype._hash=function(){var H=new Buffer(20);H.writeInt32BE(this._a|0,0);H.writeInt32BE(this._b|0,4);H.writeInt32BE(this._c|0,8);H.writeInt32BE(this._d|0,12);H.writeInt32BE(this._e|0,16);return H};module.exports=Sha1}).call(this,require("buffer").Buffer)},{"./hash":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/sha.js/hash.js",buffer:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/buffer/index.js",inherits:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/inherits/inherits_browser.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/sha.js/sha224.js":[function(require,module,exports){(function(Buffer){var inherits=require("inherits");var Sha256=require("./sha256");var Hash=require("./hash");var W=new Array(64);function Sha224(){this.init();this._w=W;Hash.call(this,64,56)}inherits(Sha224,Sha256);Sha224.prototype.init=function(){this._a=3238371032;this._b=914150663;this._c=812702999;this._d=4144912697;this._e=4290775857;this._f=1750603025;this._g=1694076839;this._h=3204075428;return this};Sha224.prototype._hash=function(){var H=new Buffer(28);H.writeInt32BE(this._a,0);H.writeInt32BE(this._b,4);H.writeInt32BE(this._c,8);H.writeInt32BE(this._d,12);H.writeInt32BE(this._e,16);H.writeInt32BE(this._f,20);H.writeInt32BE(this._g,24);return H};module.exports=Sha224}).call(this,require("buffer").Buffer)},{"./hash":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/sha.js/hash.js","./sha256":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/sha.js/sha256.js",buffer:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/buffer/index.js",inherits:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/inherits/inherits_browser.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/sha.js/sha256.js":[function(require,module,exports){(function(Buffer){var inherits=require("inherits");var Hash=require("./hash");var K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];var W=new Array(64);function Sha256(){this.init();this._w=W;Hash.call(this,64,56)}inherits(Sha256,Hash);Sha256.prototype.init=function(){this._a=1779033703;this._b=3144134277;this._c=1013904242;this._d=2773480762;this._e=1359893119;this._f=2600822924;this._g=528734635;this._h=1541459225;return this};function ch(x,y,z){return z^x&(y^z)}function maj(x,y,z){return x&y|z&(x|y)}function sigma0(x){return(x>>>2|x<<30)^(x>>>13|x<<19)^(x>>>22|x<<10)}function sigma1(x){return(x>>>6|x<<26)^(x>>>11|x<<21)^(x>>>25|x<<7)}function gamma0(x){return(x>>>7|x<<25)^(x>>>18|x<<14)^x>>>3}function gamma1(x){return(x>>>17|x<<15)^(x>>>19|x<<13)^x>>>10}Sha256.prototype._update=function(M){var W=this._w;var a=this._a|0;var b=this._b|0;var c=this._c|0;var d=this._d|0;var e=this._e|0;var f=this._f|0;var g=this._g|0;var h=this._h|0;for(var i=0;i<16;++i)W[i]=M.readInt32BE(i*4);for(;i<64;++i)W[i]=gamma1(W[i-2])+W[i-7]+gamma0(W[i-15])+W[i-16]|0;for(var j=0;j<64;++j){var T1=h+sigma1(e)+ch(e,f,g)+K[j]+W[j]|0;var T2=sigma0(a)+maj(a,b,c)|0;h=g;g=f;f=e;e=d+T1|0;d=c;c=b;b=a;a=T1+T2|0}this._a=a+this._a|0;this._b=b+this._b|0;this._c=c+this._c|0;this._d=d+this._d|0;this._e=e+this._e|0;this._f=f+this._f|0;this._g=g+this._g|0;this._h=h+this._h|0};Sha256.prototype._hash=function(){var H=new Buffer(32);H.writeInt32BE(this._a,0);H.writeInt32BE(this._b,4);H.writeInt32BE(this._c,8);H.writeInt32BE(this._d,12);H.writeInt32BE(this._e,16);H.writeInt32BE(this._f,20);H.writeInt32BE(this._g,24);H.writeInt32BE(this._h,28);return H};module.exports=Sha256}).call(this,require("buffer").Buffer)},{"./hash":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/sha.js/hash.js",buffer:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/buffer/index.js",inherits:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/inherits/inherits_browser.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/sha.js/sha384.js":[function(require,module,exports){(function(Buffer){var inherits=require("inherits");var SHA512=require("./sha512");var Hash=require("./hash");var W=new Array(160);function Sha384(){this.init();this._w=W;Hash.call(this,128,112)}inherits(Sha384,SHA512);Sha384.prototype.init=function(){this._ah=3418070365;this._bh=1654270250;this._ch=2438529370;this._dh=355462360;this._eh=1731405415;this._fh=2394180231;this._gh=3675008525;this._hh=1203062813;this._al=3238371032;this._bl=914150663;this._cl=812702999;this._dl=4144912697;this._el=4290775857;this._fl=1750603025;this._gl=1694076839;this._hl=3204075428;return this};Sha384.prototype._hash=function(){var H=new Buffer(48);function writeInt64BE(h,l,offset){H.writeInt32BE(h,offset);H.writeInt32BE(l,offset+4)}writeInt64BE(this._ah,this._al,0);writeInt64BE(this._bh,this._bl,8);writeInt64BE(this._ch,this._cl,16);writeInt64BE(this._dh,this._dl,24);writeInt64BE(this._eh,this._el,32);writeInt64BE(this._fh,this._fl,40);return H};module.exports=Sha384}).call(this,require("buffer").Buffer)},{"./hash":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/sha.js/hash.js","./sha512":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/sha.js/sha512.js",buffer:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/buffer/index.js",inherits:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/inherits/inherits_browser.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/sha.js/sha512.js":[function(require,module,exports){(function(Buffer){var inherits=require("inherits");var Hash=require("./hash");var K=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];var W=new Array(160);function Sha512(){this.init();this._w=W;Hash.call(this,128,112)}inherits(Sha512,Hash);Sha512.prototype.init=function(){this._ah=1779033703;this._bh=3144134277;this._ch=1013904242;this._dh=2773480762;this._eh=1359893119;this._fh=2600822924;this._gh=528734635;this._hh=1541459225;this._al=4089235720;this._bl=2227873595;this._cl=4271175723;this._dl=1595750129;this._el=2917565137;this._fl=725511199;this._gl=4215389547;this._hl=327033209;return this};function Ch(x,y,z){return z^x&(y^z)}function maj(x,y,z){return x&y|z&(x|y)}function sigma0(x,xl){return(x>>>28|xl<<4)^(xl>>>2|x<<30)^(xl>>>7|x<<25)}function sigma1(x,xl){return(x>>>14|xl<<18)^(x>>>18|xl<<14)^(xl>>>9|x<<23)}function Gamma0(x,xl){return(x>>>1|xl<<31)^(x>>>8|xl<<24)^x>>>7}function Gamma0l(x,xl){return(x>>>1|xl<<31)^(x>>>8|xl<<24)^(x>>>7|xl<<25)}function Gamma1(x,xl){return(x>>>19|xl<<13)^(xl>>>29|x<<3)^x>>>6}function Gamma1l(x,xl){return(x>>>19|xl<<13)^(xl>>>29|x<<3)^(x>>>6|xl<<26)}function getCarry(a,b){return a>>>0<b>>>0?1:0}Sha512.prototype._update=function(M){var W=this._w;var ah=this._ah|0;var bh=this._bh|0;var ch=this._ch|0;var dh=this._dh|0;var eh=this._eh|0;var fh=this._fh|0;var gh=this._gh|0;var hh=this._hh|0;var al=this._al|0;var bl=this._bl|0;var cl=this._cl|0;var dl=this._dl|0;var el=this._el|0;var fl=this._fl|0;var gl=this._gl|0;var hl=this._hl|0;for(var i=0;i<32;i+=2){W[i]=M.readInt32BE(i*4);W[i+1]=M.readInt32BE(i*4+4)}for(;i<160;i+=2){var xh=W[i-15*2];var xl=W[i-15*2+1];var gamma0=Gamma0(xh,xl);var gamma0l=Gamma0l(xl,xh);xh=W[i-2*2];xl=W[i-2*2+1];var gamma1=Gamma1(xh,xl);var gamma1l=Gamma1l(xl,xh);var Wi7h=W[i-7*2];var Wi7l=W[i-7*2+1];var Wi16h=W[i-16*2];var Wi16l=W[i-16*2+1];var Wil=gamma0l+Wi7l|0;var Wih=gamma0+Wi7h+getCarry(Wil,gamma0l)|0;Wil=Wil+gamma1l|0;Wih=Wih+gamma1+getCarry(Wil,gamma1l)|0;Wil=Wil+Wi16l|0;Wih=Wih+Wi16h+getCarry(Wil,Wi16l)|0;W[i]=Wih;W[i+1]=Wil}for(var j=0;j<160;j+=2){Wih=W[j];Wil=W[j+1];var majh=maj(ah,bh,ch);var majl=maj(al,bl,cl);var sigma0h=sigma0(ah,al);var sigma0l=sigma0(al,ah);var sigma1h=sigma1(eh,el);var sigma1l=sigma1(el,eh);var Kih=K[j];var Kil=K[j+1];var chh=Ch(eh,fh,gh);var chl=Ch(el,fl,gl);var t1l=hl+sigma1l|0;var t1h=hh+sigma1h+getCarry(t1l,hl)|0;t1l=t1l+chl|0;t1h=t1h+chh+getCarry(t1l,chl)|0;t1l=t1l+Kil|0;t1h=t1h+Kih+getCarry(t1l,Kil)|0;t1l=t1l+Wil|0;t1h=t1h+Wih+getCarry(t1l,Wil)|0;var t2l=sigma0l+majl|0;var t2h=sigma0h+majh+getCarry(t2l,sigma0l)|0;hh=gh;hl=gl;gh=fh;gl=fl;fh=eh;fl=el;el=dl+t1l|0;eh=dh+t1h+getCarry(el,dl)|0;dh=ch;dl=cl;ch=bh;cl=bl;bh=ah;bl=al;al=t1l+t2l|0;ah=t1h+t2h+getCarry(al,t1l)|0}this._al=this._al+al|0;this._bl=this._bl+bl|0;this._cl=this._cl+cl|0;this._dl=this._dl+dl|0;this._el=this._el+el|0;this._fl=this._fl+fl|0;this._gl=this._gl+gl|0;this._hl=this._hl+hl|0;this._ah=this._ah+ah+getCarry(this._al,al)|0;this._bh=this._bh+bh+getCarry(this._bl,bl)|0;this._ch=this._ch+ch+getCarry(this._cl,cl)|0;this._dh=this._dh+dh+getCarry(this._dl,dl)|0;this._eh=this._eh+eh+getCarry(this._el,el)|0;this._fh=this._fh+fh+getCarry(this._fl,fl)|0;this._gh=this._gh+gh+getCarry(this._gl,gl)|0;this._hh=this._hh+hh+getCarry(this._hl,hl)|0};Sha512.prototype._hash=function(){var H=new Buffer(64);function writeInt64BE(h,l,offset){H.writeInt32BE(h,offset);H.writeInt32BE(l,offset+4)}writeInt64BE(this._ah,this._al,0);writeInt64BE(this._bh,this._bl,8);writeInt64BE(this._ch,this._cl,16);writeInt64BE(this._dh,this._dl,24);writeInt64BE(this._eh,this._el,32);writeInt64BE(this._fh,this._fl,40);writeInt64BE(this._gh,this._gl,48);writeInt64BE(this._hh,this._hl,56);return H};module.exports=Sha512}).call(this,require("buffer").Buffer)},{"./hash":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/sha.js/hash.js",buffer:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/buffer/index.js",inherits:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/inherits/inherits_browser.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/source-map/lib/source-map.js":[function(require,module,exports){exports.SourceMapGenerator=require("./source-map/source-map-generator").SourceMapGenerator;exports.SourceMapConsumer=require("./source-map/source-map-consumer").SourceMapConsumer;exports.SourceNode=require("./source-map/source-node").SourceNode},{"./source-map/source-map-consumer":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/source-map/lib/source-map/source-map-consumer.js","./source-map/source-map-generator":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/source-map/lib/source-map/source-map-generator.js","./source-map/source-node":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/source-map/lib/source-map/source-node.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/source-map/lib/source-map/array-set.js":[function(require,module,exports){if(typeof define!=="function"){var define=require("amdefine")(module,require)}define(function(require,exports,module){var util=require("./util");function ArraySet(){this._array=[];this._set={}}ArraySet.fromArray=function ArraySet_fromArray(aArray,aAllowDuplicates){var set=new ArraySet;for(var i=0,len=aArray.length;i<len;i++){set.add(aArray[i],aAllowDuplicates)}return set};ArraySet.prototype.size=function ArraySet_size(){return Object.getOwnPropertyNames(this._set).length};ArraySet.prototype.add=function ArraySet_add(aStr,aAllowDuplicates){var isDuplicate=this.has(aStr);var idx=this._array.length;if(!isDuplicate||aAllowDuplicates){this._array.push(aStr)}if(!isDuplicate){this._set[util.toSetString(aStr)]=idx}};ArraySet.prototype.has=function ArraySet_has(aStr){return Object.prototype.hasOwnProperty.call(this._set,util.toSetString(aStr))};ArraySet.prototype.indexOf=function ArraySet_indexOf(aStr){if(this.has(aStr)){return this._set[util.toSetString(aStr)]}throw new Error('"'+aStr+'" is not in the set.')};ArraySet.prototype.at=function ArraySet_at(aIdx){if(aIdx>=0&&aIdx<this._array.length){return this._array[aIdx]}throw new Error("No element indexed by "+aIdx)};ArraySet.prototype.toArray=function ArraySet_toArray(){return this._array.slice()};exports.ArraySet=ArraySet})},{"./util":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/source-map/lib/source-map/util.js",amdefine:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/amdefine/amdefine.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/source-map/lib/source-map/base64-vlq.js":[function(require,module,exports){if(typeof define!=="function"){var define=require("amdefine")(module,require)}define(function(require,exports,module){var base64=require("./base64");var VLQ_BASE_SHIFT=5;var VLQ_BASE=1<<VLQ_BASE_SHIFT;var VLQ_BASE_MASK=VLQ_BASE-1;var VLQ_CONTINUATION_BIT=VLQ_BASE;function toVLQSigned(aValue){return aValue<0?(-aValue<<1)+1:(aValue<<1)+0}function fromVLQSigned(aValue){var isNegative=(aValue&1)===1;var shifted=aValue>>1;return isNegative?-shifted:shifted}exports.encode=function base64VLQ_encode(aValue){var encoded="";var digit;var vlq=toVLQSigned(aValue);do{digit=vlq&VLQ_BASE_MASK;vlq>>>=VLQ_BASE_SHIFT;if(vlq>0){digit|=VLQ_CONTINUATION_BIT}encoded+=base64.encode(digit)}while(vlq>0);return encoded};exports.decode=function base64VLQ_decode(aStr,aIndex,aOutParam){var strLen=aStr.length;var result=0;var shift=0;var continuation,digit;do{if(aIndex>=strLen){throw new Error("Expected more digits in base 64 VLQ value.")}digit=base64.decode(aStr.charCodeAt(aIndex++));if(digit===-1){throw new Error("Invalid base64 digit: "+aStr.charAt(aIndex-1))}continuation=!!(digit&VLQ_CONTINUATION_BIT);digit&=VLQ_BASE_MASK;result=result+(digit<<shift);shift+=VLQ_BASE_SHIFT}while(continuation);aOutParam.value=fromVLQSigned(result);aOutParam.rest=aIndex}})},{"./base64":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/source-map/lib/source-map/base64.js",amdefine:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/amdefine/amdefine.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/source-map/lib/source-map/base64.js":[function(require,module,exports){if(typeof define!=="function"){var define=require("amdefine")(module,require)}define(function(require,exports,module){var intToCharMap="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");exports.encode=function(number){if(0<=number&&number<intToCharMap.length){return intToCharMap[number]}throw new TypeError("Must be between 0 and 63: "+aNumber)};exports.decode=function(charCode){var bigA=65;var bigZ=90;var littleA=97;var littleZ=122;var zero=48;var nine=57;var plus=43;var slash=47;var littleOffset=26;var numberOffset=52;if(bigA<=charCode&&charCode<=bigZ){return charCode-bigA}if(littleA<=charCode&&charCode<=littleZ){return charCode-littleA+littleOffset;
}if(zero<=charCode&&charCode<=nine){return charCode-zero+numberOffset}if(charCode==plus){return 62}if(charCode==slash){return 63}return-1}})},{amdefine:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/amdefine/amdefine.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/source-map/lib/source-map/binary-search.js":[function(require,module,exports){if(typeof define!=="function"){var define=require("amdefine")(module,require)}define(function(require,exports,module){exports.GREATEST_LOWER_BOUND=1;exports.LEAST_UPPER_BOUND=2;function recursiveSearch(aLow,aHigh,aNeedle,aHaystack,aCompare,aBias){var mid=Math.floor((aHigh-aLow)/2)+aLow;var cmp=aCompare(aNeedle,aHaystack[mid],true);if(cmp===0){return mid}else if(cmp>0){if(aHigh-mid>1){return recursiveSearch(mid,aHigh,aNeedle,aHaystack,aCompare,aBias)}if(aBias==exports.LEAST_UPPER_BOUND){return aHigh<aHaystack.length?aHigh:-1}else{return mid}}else{if(mid-aLow>1){return recursiveSearch(aLow,mid,aNeedle,aHaystack,aCompare,aBias)}if(aBias==exports.LEAST_UPPER_BOUND){return mid}else{return aLow<0?-1:aLow}}}exports.search=function search(aNeedle,aHaystack,aCompare,aBias){if(aHaystack.length===0){return-1}var index=recursiveSearch(-1,aHaystack.length,aNeedle,aHaystack,aCompare,aBias||exports.GREATEST_LOWER_BOUND);if(index<0){return-1}while(index-1>=0){if(aCompare(aHaystack[index],aHaystack[index-1],true)!==0){break}--index}return index}})},{amdefine:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/amdefine/amdefine.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/source-map/lib/source-map/mapping-list.js":[function(require,module,exports){if(typeof define!=="function"){var define=require("amdefine")(module,require)}define(function(require,exports,module){var util=require("./util");function generatedPositionAfter(mappingA,mappingB){var lineA=mappingA.generatedLine;var lineB=mappingB.generatedLine;var columnA=mappingA.generatedColumn;var columnB=mappingB.generatedColumn;return lineB>lineA||lineB==lineA&&columnB>=columnA||util.compareByGeneratedPositionsInflated(mappingA,mappingB)<=0}function MappingList(){this._array=[];this._sorted=true;this._last={generatedLine:-1,generatedColumn:0}}MappingList.prototype.unsortedForEach=function MappingList_forEach(aCallback,aThisArg){this._array.forEach(aCallback,aThisArg)};MappingList.prototype.add=function MappingList_add(aMapping){var mapping;if(generatedPositionAfter(this._last,aMapping)){this._last=aMapping;this._array.push(aMapping)}else{this._sorted=false;this._array.push(aMapping)}};MappingList.prototype.toArray=function MappingList_toArray(){if(!this._sorted){this._array.sort(util.compareByGeneratedPositionsInflated);this._sorted=true}return this._array};exports.MappingList=MappingList})},{"./util":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/source-map/lib/source-map/util.js",amdefine:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/amdefine/amdefine.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/source-map/lib/source-map/quick-sort.js":[function(require,module,exports){if(typeof define!=="function"){var define=require("amdefine")(module,require)}define(function(require,exports,module){function swap(ary,x,y){var temp=ary[x];ary[x]=ary[y];ary[y]=temp}function randomIntInRange(low,high){return Math.round(low+Math.random()*(high-low))}function doQuickSort(ary,comparator,p,r){if(p<r){var pivotIndex=randomIntInRange(p,r);var i=p-1;swap(ary,pivotIndex,r);var pivot=ary[r];for(var j=p;j<r;j++){if(comparator(ary[j],pivot)<=0){i+=1;swap(ary,i,j)}}swap(ary,i+1,j);var q=i+1;doQuickSort(ary,comparator,p,q-1);doQuickSort(ary,comparator,q+1,r)}}exports.quickSort=function(ary,comparator){doQuickSort(ary,comparator,0,ary.length-1)}})},{amdefine:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/amdefine/amdefine.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/source-map/lib/source-map/source-map-consumer.js":[function(require,module,exports){if(typeof define!=="function"){var define=require("amdefine")(module,require)}define(function(require,exports,module){var util=require("./util");var binarySearch=require("./binary-search");var ArraySet=require("./array-set").ArraySet;var base64VLQ=require("./base64-vlq");var quickSort=require("./quick-sort").quickSort;function SourceMapConsumer(aSourceMap){var sourceMap=aSourceMap;if(typeof aSourceMap==="string"){sourceMap=JSON.parse(aSourceMap.replace(/^\)\]\}'/,""))}return sourceMap.sections!=null?new IndexedSourceMapConsumer(sourceMap):new BasicSourceMapConsumer(sourceMap)}SourceMapConsumer.fromSourceMap=function(aSourceMap){return BasicSourceMapConsumer.fromSourceMap(aSourceMap)};SourceMapConsumer.prototype._version=3;SourceMapConsumer.prototype.__generatedMappings=null;Object.defineProperty(SourceMapConsumer.prototype,"_generatedMappings",{get:function(){if(!this.__generatedMappings){this._parseMappings(this._mappings,this.sourceRoot)}return this.__generatedMappings}});SourceMapConsumer.prototype.__originalMappings=null;Object.defineProperty(SourceMapConsumer.prototype,"_originalMappings",{get:function(){if(!this.__originalMappings){this._parseMappings(this._mappings,this.sourceRoot)}return this.__originalMappings}});SourceMapConsumer.prototype._charIsMappingSeparator=function SourceMapConsumer_charIsMappingSeparator(aStr,index){var c=aStr.charAt(index);return c===";"||c===","};SourceMapConsumer.prototype._parseMappings=function SourceMapConsumer_parseMappings(aStr,aSourceRoot){throw new Error("Subclasses must implement _parseMappings")};SourceMapConsumer.GENERATED_ORDER=1;SourceMapConsumer.ORIGINAL_ORDER=2;SourceMapConsumer.GREATEST_LOWER_BOUND=1;SourceMapConsumer.LEAST_UPPER_BOUND=2;SourceMapConsumer.prototype.eachMapping=function SourceMapConsumer_eachMapping(aCallback,aContext,aOrder){var context=aContext||null;var order=aOrder||SourceMapConsumer.GENERATED_ORDER;var mappings;switch(order){case SourceMapConsumer.GENERATED_ORDER:mappings=this._generatedMappings;break;case SourceMapConsumer.ORIGINAL_ORDER:mappings=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var sourceRoot=this.sourceRoot;mappings.map(function(mapping){var source=mapping.source===null?null:this._sources.at(mapping.source);if(source!=null&&sourceRoot!=null){source=util.join(sourceRoot,source)}return{source:source,generatedLine:mapping.generatedLine,generatedColumn:mapping.generatedColumn,originalLine:mapping.originalLine,originalColumn:mapping.originalColumn,name:mapping.name===null?null:this._names.at(mapping.name)}},this).forEach(aCallback,context)};SourceMapConsumer.prototype.allGeneratedPositionsFor=function SourceMapConsumer_allGeneratedPositionsFor(aArgs){var line=util.getArg(aArgs,"line");var needle={source:util.getArg(aArgs,"source"),originalLine:line,originalColumn:util.getArg(aArgs,"column",0)};if(this.sourceRoot!=null){needle.source=util.relative(this.sourceRoot,needle.source)}if(!this._sources.has(needle.source)){return[]}needle.source=this._sources.indexOf(needle.source);var mappings=[];var index=this._findMapping(needle,this._originalMappings,"originalLine","originalColumn",util.compareByOriginalPositions,binarySearch.LEAST_UPPER_BOUND);if(index>=0){var mapping=this._originalMappings[index];if(aArgs.column===undefined){var originalLine=mapping.originalLine;while(mapping&&mapping.originalLine===originalLine){mappings.push({line:util.getArg(mapping,"generatedLine",null),column:util.getArg(mapping,"generatedColumn",null),lastColumn:util.getArg(mapping,"lastGeneratedColumn",null)});mapping=this._originalMappings[++index]}}else{var originalColumn=mapping.originalColumn;while(mapping&&mapping.originalLine===line&&mapping.originalColumn==originalColumn){mappings.push({line:util.getArg(mapping,"generatedLine",null),column:util.getArg(mapping,"generatedColumn",null),lastColumn:util.getArg(mapping,"lastGeneratedColumn",null)});mapping=this._originalMappings[++index]}}}return mappings};exports.SourceMapConsumer=SourceMapConsumer;function BasicSourceMapConsumer(aSourceMap){var sourceMap=aSourceMap;if(typeof aSourceMap==="string"){sourceMap=JSON.parse(aSourceMap.replace(/^\)\]\}'/,""))}var version=util.getArg(sourceMap,"version");var sources=util.getArg(sourceMap,"sources");var names=util.getArg(sourceMap,"names",[]);var sourceRoot=util.getArg(sourceMap,"sourceRoot",null);var sourcesContent=util.getArg(sourceMap,"sourcesContent",null);var mappings=util.getArg(sourceMap,"mappings");var file=util.getArg(sourceMap,"file",null);if(version!=this._version){throw new Error("Unsupported version: "+version)}sources=sources.map(util.normalize);this._names=ArraySet.fromArray(names,true);this._sources=ArraySet.fromArray(sources,true);this.sourceRoot=sourceRoot;this.sourcesContent=sourcesContent;this._mappings=mappings;this.file=file}BasicSourceMapConsumer.prototype=Object.create(SourceMapConsumer.prototype);BasicSourceMapConsumer.prototype.consumer=SourceMapConsumer;BasicSourceMapConsumer.fromSourceMap=function SourceMapConsumer_fromSourceMap(aSourceMap){var smc=Object.create(BasicSourceMapConsumer.prototype);var names=smc._names=ArraySet.fromArray(aSourceMap._names.toArray(),true);var sources=smc._sources=ArraySet.fromArray(aSourceMap._sources.toArray(),true);smc.sourceRoot=aSourceMap._sourceRoot;smc.sourcesContent=aSourceMap._generateSourcesContent(smc._sources.toArray(),smc.sourceRoot);smc.file=aSourceMap._file;var generatedMappings=aSourceMap._mappings.toArray().slice();var destGeneratedMappings=smc.__generatedMappings=[];var destOriginalMappings=smc.__originalMappings=[];for(var i=0,length=generatedMappings.length;i<length;i++){var srcMapping=generatedMappings[i];var destMapping=new Mapping;destMapping.generatedLine=srcMapping.generatedLine;destMapping.generatedColumn=srcMapping.generatedColumn;if(srcMapping.source){destMapping.source=sources.indexOf(srcMapping.source);destMapping.originalLine=srcMapping.originalLine;destMapping.originalColumn=srcMapping.originalColumn;if(srcMapping.name){destMapping.name=names.indexOf(srcMapping.name)}destOriginalMappings.push(destMapping)}destGeneratedMappings.push(destMapping)}quickSort(smc.__originalMappings,util.compareByOriginalPositions);return smc};BasicSourceMapConsumer.prototype._version=3;Object.defineProperty(BasicSourceMapConsumer.prototype,"sources",{get:function(){return this._sources.toArray().map(function(s){return this.sourceRoot!=null?util.join(this.sourceRoot,s):s},this)}});function Mapping(){this.generatedLine=0;this.generatedColumn=0;this.source=null;this.originalLine=null;this.originalColumn=null;this.name=null}BasicSourceMapConsumer.prototype._parseMappings=function SourceMapConsumer_parseMappings(aStr,aSourceRoot){var generatedLine=1;var previousGeneratedColumn=0;var previousOriginalLine=0;var previousOriginalColumn=0;var previousSource=0;var previousName=0;var length=aStr.length;var index=0;var cachedSegments={};var temp={};var originalMappings=[];var generatedMappings=[];var mapping,str,segment,end,value;while(index<length){if(aStr.charAt(index)===";"){generatedLine++;index++;previousGeneratedColumn=0}else if(aStr.charAt(index)===","){index++}else{mapping=new Mapping;mapping.generatedLine=generatedLine;for(end=index;end<length;end++){if(this._charIsMappingSeparator(aStr,end)){break}}str=aStr.slice(index,end);segment=cachedSegments[str];if(segment){index+=str.length}else{segment=[];while(index<end){base64VLQ.decode(aStr,index,temp);value=temp.value;index=temp.rest;segment.push(value)}if(segment.length===2){throw new Error("Found a source, but no line and column")}if(segment.length===3){throw new Error("Found a source and line, but no column")}cachedSegments[str]=segment}mapping.generatedColumn=previousGeneratedColumn+segment[0];previousGeneratedColumn=mapping.generatedColumn;if(segment.length>1){mapping.source=previousSource+segment[1];previousSource+=segment[1];mapping.originalLine=previousOriginalLine+segment[2];previousOriginalLine=mapping.originalLine;mapping.originalLine+=1;mapping.originalColumn=previousOriginalColumn+segment[3];previousOriginalColumn=mapping.originalColumn;if(segment.length>4){mapping.name=previousName+segment[4];previousName+=segment[4]}}generatedMappings.push(mapping);if(typeof mapping.originalLine==="number"){originalMappings.push(mapping)}}}quickSort(generatedMappings,util.compareByGeneratedPositionsDeflated);this.__generatedMappings=generatedMappings;quickSort(originalMappings,util.compareByOriginalPositions);this.__originalMappings=originalMappings};BasicSourceMapConsumer.prototype._findMapping=function SourceMapConsumer_findMapping(aNeedle,aMappings,aLineName,aColumnName,aComparator,aBias){if(aNeedle[aLineName]<=0){throw new TypeError("Line must be greater than or equal to 1, got "+aNeedle[aLineName])}if(aNeedle[aColumnName]<0){throw new TypeError("Column must be greater than or equal to 0, got "+aNeedle[aColumnName])}return binarySearch.search(aNeedle,aMappings,aComparator,aBias)};BasicSourceMapConsumer.prototype.computeColumnSpans=function SourceMapConsumer_computeColumnSpans(){for(var index=0;index<this._generatedMappings.length;++index){var mapping=this._generatedMappings[index];if(index+1<this._generatedMappings.length){var nextMapping=this._generatedMappings[index+1];if(mapping.generatedLine===nextMapping.generatedLine){mapping.lastGeneratedColumn=nextMapping.generatedColumn-1;continue}}mapping.lastGeneratedColumn=Infinity}};BasicSourceMapConsumer.prototype.originalPositionFor=function SourceMapConsumer_originalPositionFor(aArgs){var needle={generatedLine:util.getArg(aArgs,"line"),generatedColumn:util.getArg(aArgs,"column")};var index=this._findMapping(needle,this._generatedMappings,"generatedLine","generatedColumn",util.compareByGeneratedPositionsDeflated,util.getArg(aArgs,"bias",SourceMapConsumer.GREATEST_LOWER_BOUND));if(index>=0){var mapping=this._generatedMappings[index];if(mapping.generatedLine===needle.generatedLine){var source=util.getArg(mapping,"source",null);if(source!==null){source=this._sources.at(source);if(this.sourceRoot!=null){source=util.join(this.sourceRoot,source)}}var name=util.getArg(mapping,"name",null);if(name!==null){name=this._names.at(name)}return{source:source,line:util.getArg(mapping,"originalLine",null),column:util.getArg(mapping,"originalColumn",null),name:name}}}return{source:null,line:null,column:null,name:null}};BasicSourceMapConsumer.prototype.hasContentsOfAllSources=function BasicSourceMapConsumer_hasContentsOfAllSources(){if(!this.sourcesContent){return false}return this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(sc){return sc==null})};BasicSourceMapConsumer.prototype.sourceContentFor=function SourceMapConsumer_sourceContentFor(aSource,nullOnMissing){if(!this.sourcesContent){return null}if(this.sourceRoot!=null){aSource=util.relative(this.sourceRoot,aSource)}if(this._sources.has(aSource)){return this.sourcesContent[this._sources.indexOf(aSource)]}var url;if(this.sourceRoot!=null&&(url=util.urlParse(this.sourceRoot))){var fileUriAbsPath=aSource.replace(/^file:\/\//,"");if(url.scheme=="file"&&this._sources.has(fileUriAbsPath)){return this.sourcesContent[this._sources.indexOf(fileUriAbsPath)]}if((!url.path||url.path=="/")&&this._sources.has("/"+aSource)){return this.sourcesContent[this._sources.indexOf("/"+aSource)]}}if(nullOnMissing){return null}else{throw new Error('"'+aSource+'" is not in the SourceMap.')}};BasicSourceMapConsumer.prototype.generatedPositionFor=function SourceMapConsumer_generatedPositionFor(aArgs){var source=util.getArg(aArgs,"source");if(this.sourceRoot!=null){source=util.relative(this.sourceRoot,source)}if(!this._sources.has(source)){return{line:null,column:null,lastColumn:null}}source=this._sources.indexOf(source);var needle={source:source,originalLine:util.getArg(aArgs,"line"),originalColumn:util.getArg(aArgs,"column")};var index=this._findMapping(needle,this._originalMappings,"originalLine","originalColumn",util.compareByOriginalPositions,util.getArg(aArgs,"bias",SourceMapConsumer.GREATEST_LOWER_BOUND));if(index>=0){var mapping=this._originalMappings[index];if(mapping.source===needle.source){return{line:util.getArg(mapping,"generatedLine",null),column:util.getArg(mapping,"generatedColumn",null),lastColumn:util.getArg(mapping,"lastGeneratedColumn",null)}}}return{line:null,column:null,lastColumn:null}};exports.BasicSourceMapConsumer=BasicSourceMapConsumer;function IndexedSourceMapConsumer(aSourceMap){var sourceMap=aSourceMap;if(typeof aSourceMap==="string"){sourceMap=JSON.parse(aSourceMap.replace(/^\)\]\}'/,""))}var version=util.getArg(sourceMap,"version");var sections=util.getArg(sourceMap,"sections");if(version!=this._version){throw new Error("Unsupported version: "+version)}this._sources=new ArraySet;this._names=new ArraySet;var lastOffset={line:-1,column:0};this._sections=sections.map(function(s){if(s.url){throw new Error("Support for url field in sections not implemented.")}var offset=util.getArg(s,"offset");var offsetLine=util.getArg(offset,"line");var offsetColumn=util.getArg(offset,"column");if(offsetLine<lastOffset.line||offsetLine===lastOffset.line&&offsetColumn<lastOffset.column){throw new Error("Section offsets must be ordered and non-overlapping.")}lastOffset=offset;return{generatedOffset:{generatedLine:offsetLine+1,generatedColumn:offsetColumn+1},consumer:new SourceMapConsumer(util.getArg(s,"map"))}})}IndexedSourceMapConsumer.prototype=Object.create(SourceMapConsumer.prototype);IndexedSourceMapConsumer.prototype.constructor=SourceMapConsumer;IndexedSourceMapConsumer.prototype._version=3;Object.defineProperty(IndexedSourceMapConsumer.prototype,"sources",{get:function(){var sources=[];for(var i=0;i<this._sections.length;i++){for(var j=0;j<this._sections[i].consumer.sources.length;j++){sources.push(this._sections[i].consumer.sources[j])}}return sources}});IndexedSourceMapConsumer.prototype.originalPositionFor=function IndexedSourceMapConsumer_originalPositionFor(aArgs){var needle={generatedLine:util.getArg(aArgs,"line"),generatedColumn:util.getArg(aArgs,"column")};var sectionIndex=binarySearch.search(needle,this._sections,function(needle,section){var cmp=needle.generatedLine-section.generatedOffset.generatedLine;if(cmp){return cmp}return needle.generatedColumn-section.generatedOffset.generatedColumn});var section=this._sections[sectionIndex];if(!section){return{source:null,line:null,column:null,name:null}}return section.consumer.originalPositionFor({line:needle.generatedLine-(section.generatedOffset.generatedLine-1),column:needle.generatedColumn-(section.generatedOffset.generatedLine===needle.generatedLine?section.generatedOffset.generatedColumn-1:0),bias:aArgs.bias})};IndexedSourceMapConsumer.prototype.hasContentsOfAllSources=function IndexedSourceMapConsumer_hasContentsOfAllSources(){return this._sections.every(function(s){return s.consumer.hasContentsOfAllSources()})};IndexedSourceMapConsumer.prototype.sourceContentFor=function IndexedSourceMapConsumer_sourceContentFor(aSource,nullOnMissing){for(var i=0;i<this._sections.length;i++){var section=this._sections[i];var content=section.consumer.sourceContentFor(aSource,true);if(content){return content}}if(nullOnMissing){return null}else{throw new Error('"'+aSource+'" is not in the SourceMap.')}};IndexedSourceMapConsumer.prototype.generatedPositionFor=function IndexedSourceMapConsumer_generatedPositionFor(aArgs){for(var i=0;i<this._sections.length;i++){var section=this._sections[i];if(section.consumer.sources.indexOf(util.getArg(aArgs,"source"))===-1){continue}var generatedPosition=section.consumer.generatedPositionFor(aArgs);if(generatedPosition){var ret={line:generatedPosition.line+(section.generatedOffset.generatedLine-1),column:generatedPosition.column+(section.generatedOffset.generatedLine===generatedPosition.line?section.generatedOffset.generatedColumn-1:0)};return ret}}return{line:null,column:null}};IndexedSourceMapConsumer.prototype._parseMappings=function IndexedSourceMapConsumer_parseMappings(aStr,aSourceRoot){this.__generatedMappings=[];this.__originalMappings=[];for(var i=0;i<this._sections.length;i++){var section=this._sections[i];var sectionMappings=section.consumer._generatedMappings;for(var j=0;j<sectionMappings.length;j++){var mapping=sectionMappings[i];var source=section.consumer._sources.at(mapping.source);if(section.consumer.sourceRoot!==null){source=util.join(section.consumer.sourceRoot,source)}this._sources.add(source);source=this._sources.indexOf(source);var name=section.consumer._names.at(mapping.name);this._names.add(name);name=this._names.indexOf(name);var adjustedMapping={source:source,generatedLine:mapping.generatedLine+(section.generatedOffset.generatedLine-1),generatedColumn:mapping.column+(section.generatedOffset.generatedLine===mapping.generatedLine)?section.generatedOffset.generatedColumn-1:0,originalLine:mapping.originalLine,originalColumn:mapping.originalColumn,name:name};this.__generatedMappings.push(adjustedMapping);if(typeof adjustedMapping.originalLine==="number"){this.__originalMappings.push(adjustedMapping)}}}quickSort(this.__generatedMappings,util.compareByGeneratedPositionsDeflated);quickSort(this.__originalMappings,util.compareByOriginalPositions)};exports.IndexedSourceMapConsumer=IndexedSourceMapConsumer})},{"./array-set":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/source-map/lib/source-map/array-set.js","./base64-vlq":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/source-map/lib/source-map/base64-vlq.js","./binary-search":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/source-map/lib/source-map/binary-search.js","./quick-sort":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/source-map/lib/source-map/quick-sort.js","./util":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/source-map/lib/source-map/util.js",amdefine:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/amdefine/amdefine.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/source-map/lib/source-map/source-map-generator.js":[function(require,module,exports){if(typeof define!=="function"){var define=require("amdefine")(module,require)}define(function(require,exports,module){var base64VLQ=require("./base64-vlq");var util=require("./util");var ArraySet=require("./array-set").ArraySet;var MappingList=require("./mapping-list").MappingList;function SourceMapGenerator(aArgs){if(!aArgs){aArgs={}}this._file=util.getArg(aArgs,"file",null);this._sourceRoot=util.getArg(aArgs,"sourceRoot",null);this._skipValidation=util.getArg(aArgs,"skipValidation",false);this._sources=new ArraySet;this._names=new ArraySet;this._mappings=new MappingList;this._sourcesContents=null}SourceMapGenerator.prototype._version=3;SourceMapGenerator.fromSourceMap=function SourceMapGenerator_fromSourceMap(aSourceMapConsumer){var sourceRoot=aSourceMapConsumer.sourceRoot;var generator=new SourceMapGenerator({file:aSourceMapConsumer.file,sourceRoot:sourceRoot});aSourceMapConsumer.eachMapping(function(mapping){var newMapping={generated:{line:mapping.generatedLine,column:mapping.generatedColumn}};if(mapping.source!=null){newMapping.source=mapping.source;if(sourceRoot!=null){newMapping.source=util.relative(sourceRoot,newMapping.source)}newMapping.original={line:mapping.originalLine,column:mapping.originalColumn};if(mapping.name!=null){newMapping.name=mapping.name}}generator.addMapping(newMapping)});aSourceMapConsumer.sources.forEach(function(sourceFile){var content=aSourceMapConsumer.sourceContentFor(sourceFile);if(content!=null){generator.setSourceContent(sourceFile,content)}});return generator};SourceMapGenerator.prototype.addMapping=function SourceMapGenerator_addMapping(aArgs){var generated=util.getArg(aArgs,"generated");var original=util.getArg(aArgs,"original",null);var source=util.getArg(aArgs,"source",null);var name=util.getArg(aArgs,"name",null);if(!this._skipValidation){this._validateMapping(generated,original,source,name)}if(source!=null&&!this._sources.has(source)){this._sources.add(source)}if(name!=null&&!this._names.has(name)){this._names.add(name)}this._mappings.add({generatedLine:generated.line,generatedColumn:generated.column,originalLine:original!=null&&original.line,originalColumn:original!=null&&original.column,source:source,name:name})};SourceMapGenerator.prototype.setSourceContent=function SourceMapGenerator_setSourceContent(aSourceFile,aSourceContent){var source=aSourceFile;if(this._sourceRoot!=null){source=util.relative(this._sourceRoot,source)}if(aSourceContent!=null){if(!this._sourcesContents){this._sourcesContents={}}this._sourcesContents[util.toSetString(source)]=aSourceContent}else if(this._sourcesContents){delete this._sourcesContents[util.toSetString(source)];if(Object.keys(this._sourcesContents).length===0){this._sourcesContents=null}}};SourceMapGenerator.prototype.applySourceMap=function SourceMapGenerator_applySourceMap(aSourceMapConsumer,aSourceFile,aSourceMapPath){var sourceFile=aSourceFile;if(aSourceFile==null){if(aSourceMapConsumer.file==null){throw new Error("SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, "+'or the source map\'s "file" property. Both were omitted.')}sourceFile=aSourceMapConsumer.file}var sourceRoot=this._sourceRoot;if(sourceRoot!=null){sourceFile=util.relative(sourceRoot,sourceFile)}var newSources=new ArraySet;var newNames=new ArraySet;this._mappings.unsortedForEach(function(mapping){if(mapping.source===sourceFile&&mapping.originalLine!=null){var original=aSourceMapConsumer.originalPositionFor({line:mapping.originalLine,column:mapping.originalColumn});if(original.source!=null){mapping.source=original.source;if(aSourceMapPath!=null){mapping.source=util.join(aSourceMapPath,mapping.source)}if(sourceRoot!=null){mapping.source=util.relative(sourceRoot,mapping.source)}mapping.originalLine=original.line;mapping.originalColumn=original.column;if(original.name!=null){mapping.name=original.name}}}var source=mapping.source;if(source!=null&&!newSources.has(source)){newSources.add(source)}var name=mapping.name;if(name!=null&&!newNames.has(name)){newNames.add(name)}},this);this._sources=newSources;this._names=newNames;aSourceMapConsumer.sources.forEach(function(sourceFile){var content=aSourceMapConsumer.sourceContentFor(sourceFile);if(content!=null){if(aSourceMapPath!=null){sourceFile=util.join(aSourceMapPath,sourceFile)}if(sourceRoot!=null){sourceFile=util.relative(sourceRoot,sourceFile)}this.setSourceContent(sourceFile,content)}},this)};SourceMapGenerator.prototype._validateMapping=function SourceMapGenerator_validateMapping(aGenerated,aOriginal,aSource,aName){if(aGenerated&&"line"in aGenerated&&"column"in aGenerated&&aGenerated.line>0&&aGenerated.column>=0&&!aOriginal&&!aSource&&!aName){return}else if(aGenerated&&"line"in aGenerated&&"column"in aGenerated&&aOriginal&&"line"in aOriginal&&"column"in aOriginal&&aGenerated.line>0&&aGenerated.column>=0&&aOriginal.line>0&&aOriginal.column>=0&&aSource){return}else{throw new Error("Invalid mapping: "+JSON.stringify({generated:aGenerated,source:aSource,original:aOriginal,name:aName}))}};SourceMapGenerator.prototype._serializeMappings=function SourceMapGenerator_serializeMappings(){var previousGeneratedColumn=0;var previousGeneratedLine=1;var previousOriginalColumn=0;var previousOriginalLine=0;var previousName=0;var previousSource=0;var result="";var mapping;var mappings=this._mappings.toArray();for(var i=0,len=mappings.length;i<len;i++){mapping=mappings[i];if(mapping.generatedLine!==previousGeneratedLine){previousGeneratedColumn=0;while(mapping.generatedLine!==previousGeneratedLine){result+=";";previousGeneratedLine++}}else{if(i>0){if(!util.compareByGeneratedPositionsInflated(mapping,mappings[i-1])){continue}result+=","}}result+=base64VLQ.encode(mapping.generatedColumn-previousGeneratedColumn);previousGeneratedColumn=mapping.generatedColumn;if(mapping.source!=null){result+=base64VLQ.encode(this._sources.indexOf(mapping.source)-previousSource);previousSource=this._sources.indexOf(mapping.source);result+=base64VLQ.encode(mapping.originalLine-1-previousOriginalLine);previousOriginalLine=mapping.originalLine-1;result+=base64VLQ.encode(mapping.originalColumn-previousOriginalColumn);previousOriginalColumn=mapping.originalColumn;if(mapping.name!=null){result+=base64VLQ.encode(this._names.indexOf(mapping.name)-previousName);previousName=this._names.indexOf(mapping.name)}}}return result};SourceMapGenerator.prototype._generateSourcesContent=function SourceMapGenerator_generateSourcesContent(aSources,aSourceRoot){return aSources.map(function(source){if(!this._sourcesContents){return null}if(aSourceRoot!=null){source=util.relative(aSourceRoot,source)}var key=util.toSetString(source);return Object.prototype.hasOwnProperty.call(this._sourcesContents,key)?this._sourcesContents[key]:null},this)};SourceMapGenerator.prototype.toJSON=function SourceMapGenerator_toJSON(){var map={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};if(this._file!=null){map.file=this._file}if(this._sourceRoot!=null){map.sourceRoot=this._sourceRoot}if(this._sourcesContents){map.sourcesContent=this._generateSourcesContent(map.sources,map.sourceRoot)}return map};SourceMapGenerator.prototype.toString=function SourceMapGenerator_toString(){return JSON.stringify(this.toJSON())};exports.SourceMapGenerator=SourceMapGenerator})},{"./array-set":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/source-map/lib/source-map/array-set.js","./base64-vlq":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/source-map/lib/source-map/base64-vlq.js","./mapping-list":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/source-map/lib/source-map/mapping-list.js","./util":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/source-map/lib/source-map/util.js",amdefine:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/amdefine/amdefine.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/source-map/lib/source-map/source-node.js":[function(require,module,exports){if(typeof define!=="function"){var define=require("amdefine")(module,require)}define(function(require,exports,module){var SourceMapGenerator=require("./source-map-generator").SourceMapGenerator;var util=require("./util");var REGEX_NEWLINE=/(\r?\n)/;var NEWLINE_CODE=10;var isSourceNode="$$$isSourceNode$$$";function SourceNode(aLine,aColumn,aSource,aChunks,aName){this.children=[];this.sourceContents={};this.line=aLine==null?null:aLine;this.column=aColumn==null?null:aColumn;this.source=aSource==null?null:aSource;this.name=aName==null?null:aName;this[isSourceNode]=true;if(aChunks!=null)this.add(aChunks)}SourceNode.fromStringWithSourceMap=function SourceNode_fromStringWithSourceMap(aGeneratedCode,aSourceMapConsumer,aRelativePath){var node=new SourceNode;var remainingLines=aGeneratedCode.split(REGEX_NEWLINE);var shiftNextLine=function(){var lineContents=remainingLines.shift();var newLine=remainingLines.shift()||"";return lineContents+newLine};var lastGeneratedLine=1,lastGeneratedColumn=0;var lastMapping=null;aSourceMapConsumer.eachMapping(function(mapping){if(lastMapping!==null){if(lastGeneratedLine<mapping.generatedLine){var code="";addMappingWithCode(lastMapping,shiftNextLine());lastGeneratedLine++;lastGeneratedColumn=0}else{var nextLine=remainingLines[0];var code=nextLine.substr(0,mapping.generatedColumn-lastGeneratedColumn);remainingLines[0]=nextLine.substr(mapping.generatedColumn-lastGeneratedColumn);lastGeneratedColumn=mapping.generatedColumn;addMappingWithCode(lastMapping,code);lastMapping=mapping;return}}while(lastGeneratedLine<mapping.generatedLine){node.add(shiftNextLine());lastGeneratedLine++}if(lastGeneratedColumn<mapping.generatedColumn){var nextLine=remainingLines[0];
node.add(nextLine.substr(0,mapping.generatedColumn));remainingLines[0]=nextLine.substr(mapping.generatedColumn);lastGeneratedColumn=mapping.generatedColumn}lastMapping=mapping},this);if(remainingLines.length>0){if(lastMapping){addMappingWithCode(lastMapping,shiftNextLine())}node.add(remainingLines.join(""))}aSourceMapConsumer.sources.forEach(function(sourceFile){var content=aSourceMapConsumer.sourceContentFor(sourceFile);if(content!=null){if(aRelativePath!=null){sourceFile=util.join(aRelativePath,sourceFile)}node.setSourceContent(sourceFile,content)}});return node;function addMappingWithCode(mapping,code){if(mapping===null||mapping.source===undefined){node.add(code)}else{var source=aRelativePath?util.join(aRelativePath,mapping.source):mapping.source;node.add(new SourceNode(mapping.originalLine,mapping.originalColumn,source,code,mapping.name))}}};SourceNode.prototype.add=function SourceNode_add(aChunk){if(Array.isArray(aChunk)){aChunk.forEach(function(chunk){this.add(chunk)},this)}else if(aChunk[isSourceNode]||typeof aChunk==="string"){if(aChunk){this.children.push(aChunk)}}else{throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+aChunk)}return this};SourceNode.prototype.prepend=function SourceNode_prepend(aChunk){if(Array.isArray(aChunk)){for(var i=aChunk.length-1;i>=0;i--){this.prepend(aChunk[i])}}else if(aChunk[isSourceNode]||typeof aChunk==="string"){this.children.unshift(aChunk)}else{throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+aChunk)}return this};SourceNode.prototype.walk=function SourceNode_walk(aFn){var chunk;for(var i=0,len=this.children.length;i<len;i++){chunk=this.children[i];if(chunk[isSourceNode]){chunk.walk(aFn)}else{if(chunk!==""){aFn(chunk,{source:this.source,line:this.line,column:this.column,name:this.name})}}}};SourceNode.prototype.join=function SourceNode_join(aSep){var newChildren;var i;var len=this.children.length;if(len>0){newChildren=[];for(i=0;i<len-1;i++){newChildren.push(this.children[i]);newChildren.push(aSep)}newChildren.push(this.children[i]);this.children=newChildren}return this};SourceNode.prototype.replaceRight=function SourceNode_replaceRight(aPattern,aReplacement){var lastChild=this.children[this.children.length-1];if(lastChild[isSourceNode]){lastChild.replaceRight(aPattern,aReplacement)}else if(typeof lastChild==="string"){this.children[this.children.length-1]=lastChild.replace(aPattern,aReplacement)}else{this.children.push("".replace(aPattern,aReplacement))}return this};SourceNode.prototype.setSourceContent=function SourceNode_setSourceContent(aSourceFile,aSourceContent){this.sourceContents[util.toSetString(aSourceFile)]=aSourceContent};SourceNode.prototype.walkSourceContents=function SourceNode_walkSourceContents(aFn){for(var i=0,len=this.children.length;i<len;i++){if(this.children[i][isSourceNode]){this.children[i].walkSourceContents(aFn)}}var sources=Object.keys(this.sourceContents);for(var i=0,len=sources.length;i<len;i++){aFn(util.fromSetString(sources[i]),this.sourceContents[sources[i]])}};SourceNode.prototype.toString=function SourceNode_toString(){var str="";this.walk(function(chunk){str+=chunk});return str};SourceNode.prototype.toStringWithSourceMap=function SourceNode_toStringWithSourceMap(aArgs){var generated={code:"",line:1,column:0};var map=new SourceMapGenerator(aArgs);var sourceMappingActive=false;var lastOriginalSource=null;var lastOriginalLine=null;var lastOriginalColumn=null;var lastOriginalName=null;this.walk(function(chunk,original){generated.code+=chunk;if(original.source!==null&&original.line!==null&&original.column!==null){if(lastOriginalSource!==original.source||lastOriginalLine!==original.line||lastOriginalColumn!==original.column||lastOriginalName!==original.name){map.addMapping({source:original.source,original:{line:original.line,column:original.column},generated:{line:generated.line,column:generated.column},name:original.name})}lastOriginalSource=original.source;lastOriginalLine=original.line;lastOriginalColumn=original.column;lastOriginalName=original.name;sourceMappingActive=true}else if(sourceMappingActive){map.addMapping({generated:{line:generated.line,column:generated.column}});lastOriginalSource=null;sourceMappingActive=false}for(var idx=0,length=chunk.length;idx<length;idx++){if(chunk.charCodeAt(idx)===NEWLINE_CODE){generated.line++;generated.column=0;if(idx+1===length){lastOriginalSource=null;sourceMappingActive=false}else if(sourceMappingActive){map.addMapping({source:original.source,original:{line:original.line,column:original.column},generated:{line:generated.line,column:generated.column},name:original.name})}}else{generated.column++}}});this.walkSourceContents(function(sourceFile,sourceContent){map.setSourceContent(sourceFile,sourceContent)});return{code:generated.code,map:map}};exports.SourceNode=SourceNode})},{"./source-map-generator":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/source-map/lib/source-map/source-map-generator.js","./util":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/source-map/lib/source-map/util.js",amdefine:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/amdefine/amdefine.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/source-map/lib/source-map/util.js":[function(require,module,exports){if(typeof define!=="function"){var define=require("amdefine")(module,require)}define(function(require,exports,module){function getArg(aArgs,aName,aDefaultValue){if(aName in aArgs){return aArgs[aName]}else if(arguments.length===3){return aDefaultValue}else{throw new Error('"'+aName+'" is a required argument.')}}exports.getArg=getArg;var urlRegexp=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.]*)(?::(\d+))?(\S*)$/;var dataUrlRegexp=/^data:.+\,.+$/;function urlParse(aUrl){var match=aUrl.match(urlRegexp);if(!match){return null}return{scheme:match[1],auth:match[2],host:match[3],port:match[4],path:match[5]}}exports.urlParse=urlParse;function urlGenerate(aParsedUrl){var url="";if(aParsedUrl.scheme){url+=aParsedUrl.scheme+":"}url+="//";if(aParsedUrl.auth){url+=aParsedUrl.auth+"@"}if(aParsedUrl.host){url+=aParsedUrl.host}if(aParsedUrl.port){url+=":"+aParsedUrl.port}if(aParsedUrl.path){url+=aParsedUrl.path}return url}exports.urlGenerate=urlGenerate;function normalize(aPath){var path=aPath;var url=urlParse(aPath);if(url){if(!url.path){return aPath}path=url.path}var isAbsolute=path.charAt(0)==="/";var parts=path.split(/\/+/);for(var part,up=0,i=parts.length-1;i>=0;i--){part=parts[i];if(part==="."){parts.splice(i,1)}else if(part===".."){up++}else if(up>0){if(part===""){parts.splice(i+1,up);up=0}else{parts.splice(i,2);up--}}}path=parts.join("/");if(path===""){path=isAbsolute?"/":"."}if(url){url.path=path;return urlGenerate(url)}return path}exports.normalize=normalize;function join(aRoot,aPath){if(aRoot===""){aRoot="."}if(aPath===""){aPath="."}var aPathUrl=urlParse(aPath);var aRootUrl=urlParse(aRoot);if(aRootUrl){aRoot=aRootUrl.path||"/"}if(aPathUrl&&!aPathUrl.scheme){if(aRootUrl){aPathUrl.scheme=aRootUrl.scheme}return urlGenerate(aPathUrl)}if(aPathUrl||aPath.match(dataUrlRegexp)){return aPath}if(aRootUrl&&!aRootUrl.host&&!aRootUrl.path){aRootUrl.host=aPath;return urlGenerate(aRootUrl)}var joined=aPath.charAt(0)==="/"?aPath:normalize(aRoot.replace(/\/+$/,"")+"/"+aPath);if(aRootUrl){aRootUrl.path=joined;return urlGenerate(aRootUrl)}return joined}exports.join=join;function relative(aRoot,aPath){if(aRoot===""){aRoot="."}aRoot=aRoot.replace(/\/$/,"");var level=0;while(aPath.indexOf(aRoot+"/")!==0){var index=aRoot.lastIndexOf("/");if(index<0){return aPath}aRoot=aRoot.slice(0,index);if(aRoot.match(/^([^\/]+:\/)?\/*$/)){return aPath}++level}return Array(level+1).join("../")+aPath.substr(aRoot.length+1)}exports.relative=relative;function toSetString(aStr){return"$"+aStr}exports.toSetString=toSetString;function fromSetString(aStr){return aStr.substr(1)}exports.fromSetString=fromSetString;function compareByOriginalPositions(mappingA,mappingB,onlyCompareOriginal){var cmp=mappingA.source-mappingB.source;if(cmp!==0){return cmp}cmp=mappingA.originalLine-mappingB.originalLine;if(cmp!==0){return cmp}cmp=mappingA.originalColumn-mappingB.originalColumn;if(cmp!==0||onlyCompareOriginal){return cmp}cmp=mappingA.generatedColumn-mappingB.generatedColumn;if(cmp!==0){return cmp}cmp=mappingA.generatedLine-mappingB.generatedLine;if(cmp!==0){return cmp}return mappingA.name-mappingB.name}exports.compareByOriginalPositions=compareByOriginalPositions;function compareByGeneratedPositionsDeflated(mappingA,mappingB,onlyCompareGenerated){var cmp=mappingA.generatedLine-mappingB.generatedLine;if(cmp!==0){return cmp}cmp=mappingA.generatedColumn-mappingB.generatedColumn;if(cmp!==0||onlyCompareGenerated){return cmp}cmp=mappingA.source-mappingB.source;if(cmp!==0){return cmp}cmp=mappingA.originalLine-mappingB.originalLine;if(cmp!==0){return cmp}cmp=mappingA.originalColumn-mappingB.originalColumn;if(cmp!==0){return cmp}return mappingA.name-mappingB.name}exports.compareByGeneratedPositionsDeflated=compareByGeneratedPositionsDeflated;function strcmp(aStr1,aStr2){if(aStr1===aStr2){return 0}if(aStr1>aStr2){return 1}return-1}function compareByGeneratedPositionsInflated(mappingA,mappingB){var cmp=mappingA.generatedLine-mappingB.generatedLine;if(cmp!==0){return cmp}cmp=mappingA.generatedColumn-mappingB.generatedColumn;if(cmp!==0){return cmp}cmp=strcmp(mappingA.source,mappingB.source);if(cmp!==0){return cmp}cmp=mappingA.originalLine-mappingB.originalLine;if(cmp!==0){return cmp}cmp=mappingA.originalColumn-mappingB.originalColumn;if(cmp!==0){return cmp}return strcmp(mappingA.name,mappingB.name)}exports.compareByGeneratedPositionsInflated=compareByGeneratedPositionsInflated})},{amdefine:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/amdefine/amdefine.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/stack-trace/lib/stack-trace.js":[function(require,module,exports){exports.get=function(belowFn){var oldLimit=Error.stackTraceLimit;Error.stackTraceLimit=Infinity;var dummyObject={};var v8Handler=Error.prepareStackTrace;Error.prepareStackTrace=function(dummyObject,v8StackTrace){return v8StackTrace};Error.captureStackTrace(dummyObject,belowFn||exports.get);var v8StackTrace=dummyObject.stack;Error.prepareStackTrace=v8Handler;Error.stackTraceLimit=oldLimit;return v8StackTrace};exports.parse=function(err){if(!err.stack){return[]}var self=this;var lines=err.stack.split("\n").slice(1);return lines.map(function(line){if(line.match(/^\s*[-]{4,}$/)){return self._createParsedCallSite({fileName:line,lineNumber:null,functionName:null,typeName:null,methodName:null,columnNumber:null,native:null})}var lineMatch=line.match(/at (?:(.+)\s+)?\(?(?:(.+?):(\d+):(\d+)|([^)]+))\)?/);if(!lineMatch){return}var object=null;var method=null;var functionName=null;var typeName=null;var methodName=null;var isNative=lineMatch[5]==="native";if(lineMatch[1]){var methodMatch=lineMatch[1].match(/([^\.]+)(?:\.(.+))?/);object=methodMatch[1];method=methodMatch[2];functionName=lineMatch[1];typeName="Object"}if(method){typeName=object;methodName=method}if(method==="<anonymous>"){methodName=null;functionName=""}var properties={fileName:lineMatch[2]||null,lineNumber:parseInt(lineMatch[3],10)||null,functionName:functionName,typeName:typeName,methodName:methodName,columnNumber:parseInt(lineMatch[4],10)||null,native:isNative};return self._createParsedCallSite(properties)}).filter(function(callSite){return!!callSite})};exports._createParsedCallSite=function(properties){var methods={};for(var property in properties){var prefix="get";if(property==="native"){prefix="is"}var method=prefix+property.substr(0,1).toUpperCase()+property.substr(1);(function(property){methods[method]=function(){return properties[property]}})(property)}var callSite=Object.create(methods);for(var property in properties){callSite[property]=properties[property]}return callSite}},{}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/stream-browserify/index.js":[function(require,module,exports){module.exports=Stream;var EE=require("events").EventEmitter;var inherits=require("inherits");inherits(Stream,EE);Stream.Readable=require("readable-stream/readable.js");Stream.Writable=require("readable-stream/writable.js");Stream.Duplex=require("readable-stream/duplex.js");Stream.Transform=require("readable-stream/transform.js");Stream.PassThrough=require("readable-stream/passthrough.js");Stream.Stream=Stream;function Stream(){EE.call(this)}Stream.prototype.pipe=function(dest,options){var source=this;function ondata(chunk){if(dest.writable){if(false===dest.write(chunk)&&source.pause){source.pause()}}}source.on("data",ondata);function ondrain(){if(source.readable&&source.resume){source.resume()}}dest.on("drain",ondrain);if(!dest._isStdio&&(!options||options.end!==false)){source.on("end",onend);source.on("close",onclose)}var didOnEnd=false;function onend(){if(didOnEnd)return;didOnEnd=true;dest.end()}function onclose(){if(didOnEnd)return;didOnEnd=true;if(typeof dest.destroy==="function")dest.destroy()}function onerror(er){cleanup();if(EE.listenerCount(this,"error")===0){throw er}}source.on("error",onerror);dest.on("error",onerror);function cleanup(){source.removeListener("data",ondata);dest.removeListener("drain",ondrain);source.removeListener("end",onend);source.removeListener("close",onclose);source.removeListener("error",onerror);dest.removeListener("error",onerror);source.removeListener("end",cleanup);source.removeListener("close",cleanup);dest.removeListener("close",cleanup)}source.on("end",cleanup);source.on("close",cleanup);dest.on("close",cleanup);dest.emit("pipe",source);return dest}},{events:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/events/events.js",inherits:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/inherits/inherits_browser.js","readable-stream/duplex.js":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/readable-stream/duplex.js","readable-stream/passthrough.js":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/readable-stream/passthrough.js","readable-stream/readable.js":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/readable-stream/readable.js","readable-stream/transform.js":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/readable-stream/transform.js","readable-stream/writable.js":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/readable-stream/writable.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/stream-http/index.js":[function(require,module,exports){(function(global){var ClientRequest=require("./lib/request");var extend=require("xtend");var statusCodes=require("builtin-status-codes");var url=require("url");var http=exports;http.request=function(opts,cb){if(typeof opts==="string")opts=url.parse(opts);else opts=extend(opts);var defaultProtocol=global.location.protocol.search(/^https?:$/)===-1?"http:":"";var protocol=opts.protocol||defaultProtocol;var host=opts.hostname||opts.host;var port=opts.port;var path=opts.path||"/";if(host&&host.indexOf(":")!==-1)host="["+host+"]";opts.url=(host?protocol+"//"+host:"")+(port?":"+port:"")+path;opts.method=(opts.method||"GET").toUpperCase();opts.headers=opts.headers||{};var req=new ClientRequest(opts);if(cb)req.on("response",cb);return req};http.get=function get(opts,cb){var req=http.request(opts,cb);req.end();return req};http.Agent=function(){};http.Agent.defaultMaxSockets=4;http.STATUS_CODES=statusCodes;http.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./lib/request":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/stream-http/lib/request.js","builtin-status-codes":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/builtin-status-codes/browser.js",url:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/url/url.js",xtend:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/xtend/immutable.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/stream-http/lib/capability.js":[function(require,module,exports){(function(global){exports.fetch=isFunction(global.fetch)&&isFunction(global.ReadableByteStream);exports.blobConstructor=false;try{new Blob([new ArrayBuffer(1)]);exports.blobConstructor=true}catch(e){}var xhr=new global.XMLHttpRequest;xhr.open("GET",global.location.host?"/":"https://example.com");function checkTypeSupport(type){try{xhr.responseType=type;return xhr.responseType===type}catch(e){}return false}var haveArrayBuffer=typeof global.ArrayBuffer!=="undefined";var haveSlice=haveArrayBuffer&&isFunction(global.ArrayBuffer.prototype.slice);exports.arraybuffer=haveArrayBuffer&&checkTypeSupport("arraybuffer");exports.msstream=!exports.fetch&&haveSlice&&checkTypeSupport("ms-stream");exports.mozchunkedarraybuffer=!exports.fetch&&haveArrayBuffer&&checkTypeSupport("moz-chunked-arraybuffer");exports.overrideMimeType=isFunction(xhr.overrideMimeType);exports.vbArray=isFunction(global.VBArray);function isFunction(value){return typeof value==="function"}xhr=null}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/stream-http/lib/request.js":[function(require,module,exports){(function(process,global,Buffer){var capability=require("./capability");var inherits=require("inherits");var response=require("./response");var stream=require("readable-stream");var toArrayBuffer=require("to-arraybuffer");var IncomingMessage=response.IncomingMessage;var rStates=response.readyStates;function decideMode(preferBinary){if(capability.fetch){return"fetch"}else if(capability.mozchunkedarraybuffer){return"moz-chunked-arraybuffer"}else if(capability.msstream){return"ms-stream"}else if(capability.arraybuffer&&preferBinary){return"arraybuffer"}else if(capability.vbArray&&preferBinary){return"text:vbarray"}else{return"text"}}var ClientRequest=module.exports=function(opts){var self=this;stream.Writable.call(self);self._opts=opts;self._body=[];self._headers={};if(opts.auth)self.setHeader("Authorization","Basic "+new Buffer(opts.auth).toString("base64"));Object.keys(opts.headers).forEach(function(name){self.setHeader(name,opts.headers[name])});var preferBinary;if(opts.mode==="prefer-streaming"){preferBinary=false}else if(opts.mode==="allow-wrong-content-type"){preferBinary=!capability.overrideMimeType}else if(!opts.mode||opts.mode==="default"||opts.mode==="prefer-fast"){preferBinary=true}else{throw new Error("Invalid value for opts.mode")}self._mode=decideMode(preferBinary);self.on("finish",function(){self._onFinish()})};inherits(ClientRequest,stream.Writable);ClientRequest.prototype.setHeader=function(name,value){var self=this;var lowerName=name.toLowerCase();if(unsafeHeaders.indexOf(lowerName)!==-1)return;self._headers[lowerName]={name:name,value:value}};ClientRequest.prototype.getHeader=function(name){var self=this;return self._headers[name.toLowerCase()].value};ClientRequest.prototype.removeHeader=function(name){var self=this;delete self._headers[name.toLowerCase()]};ClientRequest.prototype._onFinish=function(){var self=this;if(self._destroyed)return;var opts=self._opts;var headersObj=self._headers;var body;if(opts.method==="POST"||opts.method==="PUT"||opts.method==="PATCH"){if(capability.blobConstructor){body=new global.Blob(self._body.map(function(buffer){return toArrayBuffer(buffer)}),{type:(headersObj["content-type"]||{}).value||""})}else{body=Buffer.concat(self._body).toString()}}if(self._mode==="fetch"){var headers=Object.keys(headersObj).map(function(name){return[headersObj[name].name,headersObj[name].value]});global.fetch(self._opts.url,{method:self._opts.method,headers:headers,body:body,mode:"cors",credentials:opts.withCredentials?"include":"same-origin"}).then(function(response){self._fetchResponse=response;self._connect()},function(reason){self.emit("error",reason)})}else{var xhr=self._xhr=new global.XMLHttpRequest;try{xhr.open(self._opts.method,self._opts.url,true)}catch(err){process.nextTick(function(){self.emit("error",err)});return}if("responseType"in xhr)xhr.responseType=self._mode.split(":")[0];if("withCredentials"in xhr)xhr.withCredentials=!!opts.withCredentials;if(self._mode==="text"&&"overrideMimeType"in xhr)xhr.overrideMimeType("text/plain; charset=x-user-defined");Object.keys(headersObj).forEach(function(name){xhr.setRequestHeader(headersObj[name].name,headersObj[name].value)});self._response=null;xhr.onreadystatechange=function(){switch(xhr.readyState){case rStates.LOADING:case rStates.DONE:self._onXHRProgress();break}};if(self._mode==="moz-chunked-arraybuffer"){xhr.onprogress=function(){self._onXHRProgress()}}xhr.onerror=function(){if(self._destroyed)return;self.emit("error",new Error("XHR error"))};try{xhr.send(body)}catch(err){process.nextTick(function(){self.emit("error",err)});return}}};function statusValid(xhr){try{var status=xhr.status;return status!==null&&status!==0}catch(e){return false}}ClientRequest.prototype._onXHRProgress=function(){var self=this;if(!statusValid(self._xhr)||self._destroyed)return;if(!self._response)self._connect();self._response._onXHRProgress()};ClientRequest.prototype._connect=function(){var self=this;if(self._destroyed)return;self._response=new IncomingMessage(self._xhr,self._fetchResponse,self._mode);self.emit("response",self._response)};ClientRequest.prototype._write=function(chunk,encoding,cb){var self=this;self._body.push(chunk);cb()};ClientRequest.prototype.abort=ClientRequest.prototype.destroy=function(){var self=this;self._destroyed=true;if(self._response)self._response._destroyed=true;if(self._xhr)self._xhr.abort()};ClientRequest.prototype.end=function(data,encoding,cb){var self=this;if(typeof data==="function"){cb=data;data=undefined}stream.Writable.prototype.end.call(self,data,encoding,cb)};ClientRequest.prototype.flushHeaders=function(){};ClientRequest.prototype.setTimeout=function(){};ClientRequest.prototype.setNoDelay=function(){};ClientRequest.prototype.setSocketKeepAlive=function(){};var unsafeHeaders=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","user-agent","via"]}).call(this,require("_process"),typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{},require("buffer").Buffer)},{"./capability":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/stream-http/lib/capability.js","./response":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/stream-http/lib/response.js",_process:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/process/browser.js",buffer:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/buffer/index.js",inherits:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/inherits/inherits_browser.js","readable-stream":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/readable-stream/readable.js","to-arraybuffer":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/to-arraybuffer/index.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/stream-http/lib/response.js":[function(require,module,exports){(function(process,global,Buffer){var capability=require("./capability");var inherits=require("inherits");var stream=require("readable-stream");var rStates=exports.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4};var IncomingMessage=exports.IncomingMessage=function(xhr,response,mode){var self=this;stream.Readable.call(self);self._mode=mode;self.headers={};self.rawHeaders=[];self.trailers={};self.rawTrailers=[];self.on("end",function(){process.nextTick(function(){self.emit("close")})});if(mode==="fetch"){self._fetchResponse=response;self.url=response.url;self.statusCode=response.status;self.statusMessage=response.statusText;for(var header,_i,_it=response.headers[Symbol.iterator]();header=(_i=_it.next()).value,!_i.done;){self.headers[header[0].toLowerCase()]=header[1];self.rawHeaders.push(header[0],header[1])}var reader=response.body.getReader();function read(){reader.read().then(function(result){if(self._destroyed)return;if(result.done){self.push(null);return}self.push(new Buffer(result.value));read()})}read()}else{self._xhr=xhr;self._pos=0;self.url=xhr.responseURL;self.statusCode=xhr.status;self.statusMessage=xhr.statusText;var headers=xhr.getAllResponseHeaders().split(/\r?\n/);headers.forEach(function(header){var matches=header.match(/^([^:]+):\s*(.*)/);if(matches){var key=matches[1].toLowerCase();if(key==="set-cookie"){if(self.headers[key]===undefined){self.headers[key]=[]}self.headers[key].push(matches[2])}else if(self.headers[key]!==undefined){self.headers[key]+=", "+matches[2]}else{self.headers[key]=matches[2]}self.rawHeaders.push(matches[1],matches[2])}});self._charset="x-user-defined";if(!capability.overrideMimeType){var mimeType=self.rawHeaders["mime-type"];if(mimeType){var charsetMatch=mimeType.match(/;\s*charset=([^;])(;|$)/);if(charsetMatch){self._charset=charsetMatch[1].toLowerCase()}}if(!self._charset)self._charset="utf-8"}}};inherits(IncomingMessage,stream.Readable);IncomingMessage.prototype._read=function(){};IncomingMessage.prototype._onXHRProgress=function(){var self=this;var xhr=self._xhr;var response=null;switch(self._mode){case"text:vbarray":if(xhr.readyState!==rStates.DONE)break;try{response=new global.VBArray(xhr.responseBody).toArray()}catch(e){}if(response!==null){self.push(new Buffer(response));break}case"text":try{response=xhr.responseText}catch(e){self._mode="text:vbarray";break}if(response.length>self._pos){var newData=response.substr(self._pos);if(self._charset==="x-user-defined"){var buffer=new Buffer(newData.length);for(var i=0;i<newData.length;i++)buffer[i]=newData.charCodeAt(i)&255;self.push(buffer)}else{self.push(newData,self._charset)}self._pos=response.length}break;case"arraybuffer":if(xhr.readyState!==rStates.DONE)break;response=xhr.response;self.push(new Buffer(new Uint8Array(response)));break;case"moz-chunked-arraybuffer":response=xhr.response;if(xhr.readyState!==rStates.LOADING||!response)break;self.push(new Buffer(new Uint8Array(response)));break;case"ms-stream":response=xhr.response;if(xhr.readyState!==rStates.LOADING)break;var reader=new global.MSStreamReader;reader.onprogress=function(){if(reader.result.byteLength>self._pos){self.push(new Buffer(new Uint8Array(reader.result.slice(self._pos))));self._pos=reader.result.byteLength}};reader.onload=function(){self.push(null)};reader.readAsArrayBuffer(response);break}if(self._xhr.readyState===rStates.DONE&&self._mode!=="ms-stream"){self.push(null)}}}).call(this,require("_process"),typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{},require("buffer").Buffer)},{"./capability":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/stream-http/lib/capability.js",_process:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/process/browser.js",buffer:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/buffer/index.js",inherits:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/inherits/inherits_browser.js","readable-stream":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/readable-stream/readable.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/string_decoder/index.js":[function(require,module,exports){var Buffer=require("buffer").Buffer;var isBufferEncoding=Buffer.isEncoding||function(encoding){switch(encoding&&encoding.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return true;default:return false}};function assertEncoding(encoding){if(encoding&&!isBufferEncoding(encoding)){throw new Error("Unknown encoding: "+encoding)}}var StringDecoder=exports.StringDecoder=function(encoding){this.encoding=(encoding||"utf8").toLowerCase().replace(/[-_]/,"");assertEncoding(encoding);switch(this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2;this.detectIncompleteChar=utf16DetectIncompleteChar;break;case"base64":this.surrogateSize=3;this.detectIncompleteChar=base64DetectIncompleteChar;break;default:this.write=passThroughWrite;return}this.charBuffer=new Buffer(6);this.charReceived=0;this.charLength=0};StringDecoder.prototype.write=function(buffer){var charStr="";while(this.charLength){var available=buffer.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:buffer.length;buffer.copy(this.charBuffer,this.charReceived,0,available);this.charReceived+=available;if(this.charReceived<this.charLength){return""}buffer=buffer.slice(available,buffer.length);charStr=this.charBuffer.slice(0,this.charLength).toString(this.encoding);var charCode=charStr.charCodeAt(charStr.length-1);if(charCode>=55296&&charCode<=56319){this.charLength+=this.surrogateSize;charStr="";continue}this.charReceived=this.charLength=0;if(buffer.length===0){return charStr}break}this.detectIncompleteChar(buffer);var end=buffer.length;if(this.charLength){buffer.copy(this.charBuffer,0,buffer.length-this.charReceived,end);end-=this.charReceived}charStr+=buffer.toString(this.encoding,0,end);var end=charStr.length-1;var charCode=charStr.charCodeAt(end);if(charCode>=55296&&charCode<=56319){var size=this.surrogateSize;this.charLength+=size;this.charReceived+=size;this.charBuffer.copy(this.charBuffer,size,0,size);buffer.copy(this.charBuffer,0,0,size);return charStr.substring(0,end)}return charStr};StringDecoder.prototype.detectIncompleteChar=function(buffer){var i=buffer.length>=3?3:buffer.length;for(;i>0;i--){var c=buffer[buffer.length-i];if(i==1&&c>>5==6){this.charLength=2;break}if(i<=2&&c>>4==14){this.charLength=3;break}if(i<=3&&c>>3==30){this.charLength=4;break}}this.charReceived=i};StringDecoder.prototype.end=function(buffer){var res="";if(buffer&&buffer.length)res=this.write(buffer);if(this.charReceived){var cr=this.charReceived;var buf=this.charBuffer;var enc=this.encoding;res+=buf.slice(0,cr).toString(enc)}return res};function passThroughWrite(buffer){return buffer.toString(this.encoding)}function utf16DetectIncompleteChar(buffer){this.charReceived=buffer.length%2;this.charLength=this.charReceived?2:0}function base64DetectIncompleteChar(buffer){this.charReceived=buffer.length%3;this.charLength=this.charReceived?3:0}},{buffer:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/buffer/index.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/to-arraybuffer/index.js":[function(require,module,exports){var Buffer=require("buffer").Buffer;module.exports=function(buf){if(buf instanceof Uint8Array){if(buf.byteOffset===0&&buf.byteLength===buf.buffer.byteLength){return buf.buffer}else if(typeof buf.buffer.slice==="function"){return buf.buffer.slice(buf.byteOffset,buf.byteOffset+buf.byteLength)}}if(Buffer.isBuffer(buf)){var arrayCopy=new Uint8Array(buf.length);var len=buf.length;for(var i=0;i<len;i++){arrayCopy[i]=buf[i]}return arrayCopy.buffer}else{throw new Error("Argument must be a Buffer")}}},{buffer:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/buffer/index.js"
}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/token-stream/index.js":[function(require,module,exports){"use strict";module.exports=TokenStream;function TokenStream(tokens){if(!Array.isArray(tokens)){throw new TypeError("tokens must be passed to TokenStream as an array.")}this._tokens=tokens}TokenStream.prototype.lookahead=function(index){if(this._tokens.length<=index){throw new Error("Cannot read past the end of a stream")}return this._tokens[index]};TokenStream.prototype.peek=function(){if(this._tokens.length===0){throw new Error("Cannot read past the end of a stream")}return this._tokens[0]};TokenStream.prototype.advance=function(){if(this._tokens.length===0){throw new Error("Cannot read past the end of a stream")}return this._tokens.shift()};TokenStream.prototype.defer=function(token){this._tokens.unshift(token)}},{}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/uglify-js/node_modules/source-map/lib/array-set.js":[function(require,module,exports){var util=require("./util");var has=Object.prototype.hasOwnProperty;function ArraySet(){this._array=[];this._set=Object.create(null)}ArraySet.fromArray=function ArraySet_fromArray(aArray,aAllowDuplicates){var set=new ArraySet;for(var i=0,len=aArray.length;i<len;i++){set.add(aArray[i],aAllowDuplicates)}return set};ArraySet.prototype.size=function ArraySet_size(){return Object.getOwnPropertyNames(this._set).length};ArraySet.prototype.add=function ArraySet_add(aStr,aAllowDuplicates){var sStr=util.toSetString(aStr);var isDuplicate=has.call(this._set,sStr);var idx=this._array.length;if(!isDuplicate||aAllowDuplicates){this._array.push(aStr)}if(!isDuplicate){this._set[sStr]=idx}};ArraySet.prototype.has=function ArraySet_has(aStr){var sStr=util.toSetString(aStr);return has.call(this._set,sStr)};ArraySet.prototype.indexOf=function ArraySet_indexOf(aStr){var sStr=util.toSetString(aStr);if(has.call(this._set,sStr)){return this._set[sStr]}throw new Error('"'+aStr+'" is not in the set.')};ArraySet.prototype.at=function ArraySet_at(aIdx){if(aIdx>=0&&aIdx<this._array.length){return this._array[aIdx]}throw new Error("No element indexed by "+aIdx)};ArraySet.prototype.toArray=function ArraySet_toArray(){return this._array.slice()};exports.ArraySet=ArraySet},{"./util":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/uglify-js/node_modules/source-map/lib/util.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/uglify-js/node_modules/source-map/lib/base64-vlq.js":[function(require,module,exports){var base64=require("./base64");var VLQ_BASE_SHIFT=5;var VLQ_BASE=1<<VLQ_BASE_SHIFT;var VLQ_BASE_MASK=VLQ_BASE-1;var VLQ_CONTINUATION_BIT=VLQ_BASE;function toVLQSigned(aValue){return aValue<0?(-aValue<<1)+1:(aValue<<1)+0}function fromVLQSigned(aValue){var isNegative=(aValue&1)===1;var shifted=aValue>>1;return isNegative?-shifted:shifted}exports.encode=function base64VLQ_encode(aValue){var encoded="";var digit;var vlq=toVLQSigned(aValue);do{digit=vlq&VLQ_BASE_MASK;vlq>>>=VLQ_BASE_SHIFT;if(vlq>0){digit|=VLQ_CONTINUATION_BIT}encoded+=base64.encode(digit)}while(vlq>0);return encoded};exports.decode=function base64VLQ_decode(aStr,aIndex,aOutParam){var strLen=aStr.length;var result=0;var shift=0;var continuation,digit;do{if(aIndex>=strLen){throw new Error("Expected more digits in base 64 VLQ value.")}digit=base64.decode(aStr.charCodeAt(aIndex++));if(digit===-1){throw new Error("Invalid base64 digit: "+aStr.charAt(aIndex-1))}continuation=!!(digit&VLQ_CONTINUATION_BIT);digit&=VLQ_BASE_MASK;result=result+(digit<<shift);shift+=VLQ_BASE_SHIFT}while(continuation);aOutParam.value=fromVLQSigned(result);aOutParam.rest=aIndex}},{"./base64":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/uglify-js/node_modules/source-map/lib/base64.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/uglify-js/node_modules/source-map/lib/base64.js":[function(require,module,exports){var intToCharMap="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");exports.encode=function(number){if(0<=number&&number<intToCharMap.length){return intToCharMap[number]}throw new TypeError("Must be between 0 and 63: "+number)};exports.decode=function(charCode){var bigA=65;var bigZ=90;var littleA=97;var littleZ=122;var zero=48;var nine=57;var plus=43;var slash=47;var littleOffset=26;var numberOffset=52;if(bigA<=charCode&&charCode<=bigZ){return charCode-bigA}if(littleA<=charCode&&charCode<=littleZ){return charCode-littleA+littleOffset}if(zero<=charCode&&charCode<=nine){return charCode-zero+numberOffset}if(charCode==plus){return 62}if(charCode==slash){return 63}return-1}},{}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/uglify-js/node_modules/source-map/lib/binary-search.js":[function(require,module,exports){exports.GREATEST_LOWER_BOUND=1;exports.LEAST_UPPER_BOUND=2;function recursiveSearch(aLow,aHigh,aNeedle,aHaystack,aCompare,aBias){var mid=Math.floor((aHigh-aLow)/2)+aLow;var cmp=aCompare(aNeedle,aHaystack[mid],true);if(cmp===0){return mid}else if(cmp>0){if(aHigh-mid>1){return recursiveSearch(mid,aHigh,aNeedle,aHaystack,aCompare,aBias)}if(aBias==exports.LEAST_UPPER_BOUND){return aHigh<aHaystack.length?aHigh:-1}else{return mid}}else{if(mid-aLow>1){return recursiveSearch(aLow,mid,aNeedle,aHaystack,aCompare,aBias)}if(aBias==exports.LEAST_UPPER_BOUND){return mid}else{return aLow<0?-1:aLow}}}exports.search=function search(aNeedle,aHaystack,aCompare,aBias){if(aHaystack.length===0){return-1}var index=recursiveSearch(-1,aHaystack.length,aNeedle,aHaystack,aCompare,aBias||exports.GREATEST_LOWER_BOUND);if(index<0){return-1}while(index-1>=0){if(aCompare(aHaystack[index],aHaystack[index-1],true)!==0){break}--index}return index}},{}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/uglify-js/node_modules/source-map/lib/mapping-list.js":[function(require,module,exports){var util=require("./util");function generatedPositionAfter(mappingA,mappingB){var lineA=mappingA.generatedLine;var lineB=mappingB.generatedLine;var columnA=mappingA.generatedColumn;var columnB=mappingB.generatedColumn;return lineB>lineA||lineB==lineA&&columnB>=columnA||util.compareByGeneratedPositionsInflated(mappingA,mappingB)<=0}function MappingList(){this._array=[];this._sorted=true;this._last={generatedLine:-1,generatedColumn:0}}MappingList.prototype.unsortedForEach=function MappingList_forEach(aCallback,aThisArg){this._array.forEach(aCallback,aThisArg)};MappingList.prototype.add=function MappingList_add(aMapping){if(generatedPositionAfter(this._last,aMapping)){this._last=aMapping;this._array.push(aMapping)}else{this._sorted=false;this._array.push(aMapping)}};MappingList.prototype.toArray=function MappingList_toArray(){if(!this._sorted){this._array.sort(util.compareByGeneratedPositionsInflated);this._sorted=true}return this._array};exports.MappingList=MappingList},{"./util":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/uglify-js/node_modules/source-map/lib/util.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/uglify-js/node_modules/source-map/lib/quick-sort.js":[function(require,module,exports){function swap(ary,x,y){var temp=ary[x];ary[x]=ary[y];ary[y]=temp}function randomIntInRange(low,high){return Math.round(low+Math.random()*(high-low))}function doQuickSort(ary,comparator,p,r){if(p<r){var pivotIndex=randomIntInRange(p,r);var i=p-1;swap(ary,pivotIndex,r);var pivot=ary[r];for(var j=p;j<r;j++){if(comparator(ary[j],pivot)<=0){i+=1;swap(ary,i,j)}}swap(ary,i+1,j);var q=i+1;doQuickSort(ary,comparator,p,q-1);doQuickSort(ary,comparator,q+1,r)}}exports.quickSort=function(ary,comparator){doQuickSort(ary,comparator,0,ary.length-1)}},{}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/uglify-js/node_modules/source-map/lib/source-map-consumer.js":[function(require,module,exports){var util=require("./util");var binarySearch=require("./binary-search");var ArraySet=require("./array-set").ArraySet;var base64VLQ=require("./base64-vlq");var quickSort=require("./quick-sort").quickSort;function SourceMapConsumer(aSourceMap){var sourceMap=aSourceMap;if(typeof aSourceMap==="string"){sourceMap=JSON.parse(aSourceMap.replace(/^\)\]\}'/,""))}return sourceMap.sections!=null?new IndexedSourceMapConsumer(sourceMap):new BasicSourceMapConsumer(sourceMap)}SourceMapConsumer.fromSourceMap=function(aSourceMap){return BasicSourceMapConsumer.fromSourceMap(aSourceMap)};SourceMapConsumer.prototype._version=3;SourceMapConsumer.prototype.__generatedMappings=null;Object.defineProperty(SourceMapConsumer.prototype,"_generatedMappings",{get:function(){if(!this.__generatedMappings){this._parseMappings(this._mappings,this.sourceRoot)}return this.__generatedMappings}});SourceMapConsumer.prototype.__originalMappings=null;Object.defineProperty(SourceMapConsumer.prototype,"_originalMappings",{get:function(){if(!this.__originalMappings){this._parseMappings(this._mappings,this.sourceRoot)}return this.__originalMappings}});SourceMapConsumer.prototype._charIsMappingSeparator=function SourceMapConsumer_charIsMappingSeparator(aStr,index){var c=aStr.charAt(index);return c===";"||c===","};SourceMapConsumer.prototype._parseMappings=function SourceMapConsumer_parseMappings(aStr,aSourceRoot){throw new Error("Subclasses must implement _parseMappings")};SourceMapConsumer.GENERATED_ORDER=1;SourceMapConsumer.ORIGINAL_ORDER=2;SourceMapConsumer.GREATEST_LOWER_BOUND=1;SourceMapConsumer.LEAST_UPPER_BOUND=2;SourceMapConsumer.prototype.eachMapping=function SourceMapConsumer_eachMapping(aCallback,aContext,aOrder){var context=aContext||null;var order=aOrder||SourceMapConsumer.GENERATED_ORDER;var mappings;switch(order){case SourceMapConsumer.GENERATED_ORDER:mappings=this._generatedMappings;break;case SourceMapConsumer.ORIGINAL_ORDER:mappings=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var sourceRoot=this.sourceRoot;mappings.map(function(mapping){var source=mapping.source===null?null:this._sources.at(mapping.source);if(source!=null&&sourceRoot!=null){source=util.join(sourceRoot,source)}return{source:source,generatedLine:mapping.generatedLine,generatedColumn:mapping.generatedColumn,originalLine:mapping.originalLine,originalColumn:mapping.originalColumn,name:mapping.name===null?null:this._names.at(mapping.name)}},this).forEach(aCallback,context)};SourceMapConsumer.prototype.allGeneratedPositionsFor=function SourceMapConsumer_allGeneratedPositionsFor(aArgs){var line=util.getArg(aArgs,"line");var needle={source:util.getArg(aArgs,"source"),originalLine:line,originalColumn:util.getArg(aArgs,"column",0)};if(this.sourceRoot!=null){needle.source=util.relative(this.sourceRoot,needle.source)}if(!this._sources.has(needle.source)){return[]}needle.source=this._sources.indexOf(needle.source);var mappings=[];var index=this._findMapping(needle,this._originalMappings,"originalLine","originalColumn",util.compareByOriginalPositions,binarySearch.LEAST_UPPER_BOUND);if(index>=0){var mapping=this._originalMappings[index];if(aArgs.column===undefined){var originalLine=mapping.originalLine;while(mapping&&mapping.originalLine===originalLine){mappings.push({line:util.getArg(mapping,"generatedLine",null),column:util.getArg(mapping,"generatedColumn",null),lastColumn:util.getArg(mapping,"lastGeneratedColumn",null)});mapping=this._originalMappings[++index]}}else{var originalColumn=mapping.originalColumn;while(mapping&&mapping.originalLine===line&&mapping.originalColumn==originalColumn){mappings.push({line:util.getArg(mapping,"generatedLine",null),column:util.getArg(mapping,"generatedColumn",null),lastColumn:util.getArg(mapping,"lastGeneratedColumn",null)});mapping=this._originalMappings[++index]}}}return mappings};exports.SourceMapConsumer=SourceMapConsumer;function BasicSourceMapConsumer(aSourceMap){var sourceMap=aSourceMap;if(typeof aSourceMap==="string"){sourceMap=JSON.parse(aSourceMap.replace(/^\)\]\}'/,""))}var version=util.getArg(sourceMap,"version");var sources=util.getArg(sourceMap,"sources");var names=util.getArg(sourceMap,"names",[]);var sourceRoot=util.getArg(sourceMap,"sourceRoot",null);var sourcesContent=util.getArg(sourceMap,"sourcesContent",null);var mappings=util.getArg(sourceMap,"mappings");var file=util.getArg(sourceMap,"file",null);if(version!=this._version){throw new Error("Unsupported version: "+version)}sources=sources.map(String).map(util.normalize).map(function(source){return sourceRoot&&util.isAbsolute(sourceRoot)&&util.isAbsolute(source)?util.relative(sourceRoot,source):source});this._names=ArraySet.fromArray(names.map(String),true);this._sources=ArraySet.fromArray(sources,true);this.sourceRoot=sourceRoot;this.sourcesContent=sourcesContent;this._mappings=mappings;this.file=file}BasicSourceMapConsumer.prototype=Object.create(SourceMapConsumer.prototype);BasicSourceMapConsumer.prototype.consumer=SourceMapConsumer;BasicSourceMapConsumer.fromSourceMap=function SourceMapConsumer_fromSourceMap(aSourceMap){var smc=Object.create(BasicSourceMapConsumer.prototype);var names=smc._names=ArraySet.fromArray(aSourceMap._names.toArray(),true);var sources=smc._sources=ArraySet.fromArray(aSourceMap._sources.toArray(),true);smc.sourceRoot=aSourceMap._sourceRoot;smc.sourcesContent=aSourceMap._generateSourcesContent(smc._sources.toArray(),smc.sourceRoot);smc.file=aSourceMap._file;var generatedMappings=aSourceMap._mappings.toArray().slice();var destGeneratedMappings=smc.__generatedMappings=[];var destOriginalMappings=smc.__originalMappings=[];for(var i=0,length=generatedMappings.length;i<length;i++){var srcMapping=generatedMappings[i];var destMapping=new Mapping;destMapping.generatedLine=srcMapping.generatedLine;destMapping.generatedColumn=srcMapping.generatedColumn;if(srcMapping.source){destMapping.source=sources.indexOf(srcMapping.source);destMapping.originalLine=srcMapping.originalLine;destMapping.originalColumn=srcMapping.originalColumn;if(srcMapping.name){destMapping.name=names.indexOf(srcMapping.name)}destOriginalMappings.push(destMapping)}destGeneratedMappings.push(destMapping)}quickSort(smc.__originalMappings,util.compareByOriginalPositions);return smc};BasicSourceMapConsumer.prototype._version=3;Object.defineProperty(BasicSourceMapConsumer.prototype,"sources",{get:function(){return this._sources.toArray().map(function(s){return this.sourceRoot!=null?util.join(this.sourceRoot,s):s},this)}});function Mapping(){this.generatedLine=0;this.generatedColumn=0;this.source=null;this.originalLine=null;this.originalColumn=null;this.name=null}BasicSourceMapConsumer.prototype._parseMappings=function SourceMapConsumer_parseMappings(aStr,aSourceRoot){var generatedLine=1;var previousGeneratedColumn=0;var previousOriginalLine=0;var previousOriginalColumn=0;var previousSource=0;var previousName=0;var length=aStr.length;var index=0;var cachedSegments={};var temp={};var originalMappings=[];var generatedMappings=[];var mapping,str,segment,end,value;while(index<length){if(aStr.charAt(index)===";"){generatedLine++;index++;previousGeneratedColumn=0}else if(aStr.charAt(index)===","){index++}else{mapping=new Mapping;mapping.generatedLine=generatedLine;for(end=index;end<length;end++){if(this._charIsMappingSeparator(aStr,end)){break}}str=aStr.slice(index,end);segment=cachedSegments[str];if(segment){index+=str.length}else{segment=[];while(index<end){base64VLQ.decode(aStr,index,temp);value=temp.value;index=temp.rest;segment.push(value)}if(segment.length===2){throw new Error("Found a source, but no line and column")}if(segment.length===3){throw new Error("Found a source and line, but no column")}cachedSegments[str]=segment}mapping.generatedColumn=previousGeneratedColumn+segment[0];previousGeneratedColumn=mapping.generatedColumn;if(segment.length>1){mapping.source=previousSource+segment[1];previousSource+=segment[1];mapping.originalLine=previousOriginalLine+segment[2];previousOriginalLine=mapping.originalLine;mapping.originalLine+=1;mapping.originalColumn=previousOriginalColumn+segment[3];previousOriginalColumn=mapping.originalColumn;if(segment.length>4){mapping.name=previousName+segment[4];previousName+=segment[4]}}generatedMappings.push(mapping);if(typeof mapping.originalLine==="number"){originalMappings.push(mapping)}}}quickSort(generatedMappings,util.compareByGeneratedPositionsDeflated);this.__generatedMappings=generatedMappings;quickSort(originalMappings,util.compareByOriginalPositions);this.__originalMappings=originalMappings};BasicSourceMapConsumer.prototype._findMapping=function SourceMapConsumer_findMapping(aNeedle,aMappings,aLineName,aColumnName,aComparator,aBias){if(aNeedle[aLineName]<=0){throw new TypeError("Line must be greater than or equal to 1, got "+aNeedle[aLineName])}if(aNeedle[aColumnName]<0){throw new TypeError("Column must be greater than or equal to 0, got "+aNeedle[aColumnName])}return binarySearch.search(aNeedle,aMappings,aComparator,aBias)};BasicSourceMapConsumer.prototype.computeColumnSpans=function SourceMapConsumer_computeColumnSpans(){for(var index=0;index<this._generatedMappings.length;++index){var mapping=this._generatedMappings[index];if(index+1<this._generatedMappings.length){var nextMapping=this._generatedMappings[index+1];if(mapping.generatedLine===nextMapping.generatedLine){mapping.lastGeneratedColumn=nextMapping.generatedColumn-1;continue}}mapping.lastGeneratedColumn=Infinity}};BasicSourceMapConsumer.prototype.originalPositionFor=function SourceMapConsumer_originalPositionFor(aArgs){var needle={generatedLine:util.getArg(aArgs,"line"),generatedColumn:util.getArg(aArgs,"column")};var index=this._findMapping(needle,this._generatedMappings,"generatedLine","generatedColumn",util.compareByGeneratedPositionsDeflated,util.getArg(aArgs,"bias",SourceMapConsumer.GREATEST_LOWER_BOUND));if(index>=0){var mapping=this._generatedMappings[index];if(mapping.generatedLine===needle.generatedLine){var source=util.getArg(mapping,"source",null);if(source!==null){source=this._sources.at(source);if(this.sourceRoot!=null){source=util.join(this.sourceRoot,source)}}var name=util.getArg(mapping,"name",null);if(name!==null){name=this._names.at(name)}return{source:source,line:util.getArg(mapping,"originalLine",null),column:util.getArg(mapping,"originalColumn",null),name:name}}}return{source:null,line:null,column:null,name:null}};BasicSourceMapConsumer.prototype.hasContentsOfAllSources=function BasicSourceMapConsumer_hasContentsOfAllSources(){if(!this.sourcesContent){return false}return this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(sc){return sc==null})};BasicSourceMapConsumer.prototype.sourceContentFor=function SourceMapConsumer_sourceContentFor(aSource,nullOnMissing){if(!this.sourcesContent){return null}if(this.sourceRoot!=null){aSource=util.relative(this.sourceRoot,aSource)}if(this._sources.has(aSource)){return this.sourcesContent[this._sources.indexOf(aSource)]}var url;if(this.sourceRoot!=null&&(url=util.urlParse(this.sourceRoot))){var fileUriAbsPath=aSource.replace(/^file:\/\//,"");if(url.scheme=="file"&&this._sources.has(fileUriAbsPath)){return this.sourcesContent[this._sources.indexOf(fileUriAbsPath)]}if((!url.path||url.path=="/")&&this._sources.has("/"+aSource)){return this.sourcesContent[this._sources.indexOf("/"+aSource)]}}if(nullOnMissing){return null}else{throw new Error('"'+aSource+'" is not in the SourceMap.')}};BasicSourceMapConsumer.prototype.generatedPositionFor=function SourceMapConsumer_generatedPositionFor(aArgs){var source=util.getArg(aArgs,"source");if(this.sourceRoot!=null){source=util.relative(this.sourceRoot,source)}if(!this._sources.has(source)){return{line:null,column:null,lastColumn:null}}source=this._sources.indexOf(source);var needle={source:source,originalLine:util.getArg(aArgs,"line"),originalColumn:util.getArg(aArgs,"column")};var index=this._findMapping(needle,this._originalMappings,"originalLine","originalColumn",util.compareByOriginalPositions,util.getArg(aArgs,"bias",SourceMapConsumer.GREATEST_LOWER_BOUND));if(index>=0){var mapping=this._originalMappings[index];if(mapping.source===needle.source){return{line:util.getArg(mapping,"generatedLine",null),column:util.getArg(mapping,"generatedColumn",null),lastColumn:util.getArg(mapping,"lastGeneratedColumn",null)}}}return{line:null,column:null,lastColumn:null}};exports.BasicSourceMapConsumer=BasicSourceMapConsumer;function IndexedSourceMapConsumer(aSourceMap){var sourceMap=aSourceMap;if(typeof aSourceMap==="string"){sourceMap=JSON.parse(aSourceMap.replace(/^\)\]\}'/,""))}var version=util.getArg(sourceMap,"version");var sections=util.getArg(sourceMap,"sections");if(version!=this._version){throw new Error("Unsupported version: "+version)}this._sources=new ArraySet;this._names=new ArraySet;var lastOffset={line:-1,column:0};this._sections=sections.map(function(s){if(s.url){throw new Error("Support for url field in sections not implemented.")}var offset=util.getArg(s,"offset");var offsetLine=util.getArg(offset,"line");var offsetColumn=util.getArg(offset,"column");if(offsetLine<lastOffset.line||offsetLine===lastOffset.line&&offsetColumn<lastOffset.column){throw new Error("Section offsets must be ordered and non-overlapping.")}lastOffset=offset;return{generatedOffset:{generatedLine:offsetLine+1,generatedColumn:offsetColumn+1},consumer:new SourceMapConsumer(util.getArg(s,"map"))}})}IndexedSourceMapConsumer.prototype=Object.create(SourceMapConsumer.prototype);IndexedSourceMapConsumer.prototype.constructor=SourceMapConsumer;IndexedSourceMapConsumer.prototype._version=3;Object.defineProperty(IndexedSourceMapConsumer.prototype,"sources",{get:function(){var sources=[];for(var i=0;i<this._sections.length;i++){for(var j=0;j<this._sections[i].consumer.sources.length;j++){sources.push(this._sections[i].consumer.sources[j])}}return sources}});IndexedSourceMapConsumer.prototype.originalPositionFor=function IndexedSourceMapConsumer_originalPositionFor(aArgs){var needle={generatedLine:util.getArg(aArgs,"line"),generatedColumn:util.getArg(aArgs,"column")};var sectionIndex=binarySearch.search(needle,this._sections,function(needle,section){var cmp=needle.generatedLine-section.generatedOffset.generatedLine;if(cmp){return cmp}return needle.generatedColumn-section.generatedOffset.generatedColumn});var section=this._sections[sectionIndex];if(!section){return{source:null,line:null,column:null,name:null}}return section.consumer.originalPositionFor({line:needle.generatedLine-(section.generatedOffset.generatedLine-1),column:needle.generatedColumn-(section.generatedOffset.generatedLine===needle.generatedLine?section.generatedOffset.generatedColumn-1:0),bias:aArgs.bias})};IndexedSourceMapConsumer.prototype.hasContentsOfAllSources=function IndexedSourceMapConsumer_hasContentsOfAllSources(){return this._sections.every(function(s){return s.consumer.hasContentsOfAllSources()})};IndexedSourceMapConsumer.prototype.sourceContentFor=function IndexedSourceMapConsumer_sourceContentFor(aSource,nullOnMissing){for(var i=0;i<this._sections.length;i++){var section=this._sections[i];var content=section.consumer.sourceContentFor(aSource,true);if(content){return content}}if(nullOnMissing){return null}else{throw new Error('"'+aSource+'" is not in the SourceMap.')}};IndexedSourceMapConsumer.prototype.generatedPositionFor=function IndexedSourceMapConsumer_generatedPositionFor(aArgs){for(var i=0;i<this._sections.length;i++){var section=this._sections[i];if(section.consumer.sources.indexOf(util.getArg(aArgs,"source"))===-1){continue}var generatedPosition=section.consumer.generatedPositionFor(aArgs);if(generatedPosition){var ret={line:generatedPosition.line+(section.generatedOffset.generatedLine-1),column:generatedPosition.column+(section.generatedOffset.generatedLine===generatedPosition.line?section.generatedOffset.generatedColumn-1:0)};return ret}}return{line:null,column:null}};IndexedSourceMapConsumer.prototype._parseMappings=function IndexedSourceMapConsumer_parseMappings(aStr,aSourceRoot){this.__generatedMappings=[];this.__originalMappings=[];for(var i=0;i<this._sections.length;i++){var section=this._sections[i];var sectionMappings=section.consumer._generatedMappings;for(var j=0;j<sectionMappings.length;j++){var mapping=sectionMappings[j];var source=section.consumer._sources.at(mapping.source);if(section.consumer.sourceRoot!==null){source=util.join(section.consumer.sourceRoot,source)}this._sources.add(source);source=this._sources.indexOf(source);var name=section.consumer._names.at(mapping.name);this._names.add(name);name=this._names.indexOf(name);var adjustedMapping={source:source,generatedLine:mapping.generatedLine+(section.generatedOffset.generatedLine-1),generatedColumn:mapping.generatedColumn+(section.generatedOffset.generatedLine===mapping.generatedLine?section.generatedOffset.generatedColumn-1:0),originalLine:mapping.originalLine,originalColumn:mapping.originalColumn,name:name};this.__generatedMappings.push(adjustedMapping);if(typeof adjustedMapping.originalLine==="number"){this.__originalMappings.push(adjustedMapping)}}}quickSort(this.__generatedMappings,util.compareByGeneratedPositionsDeflated);quickSort(this.__originalMappings,util.compareByOriginalPositions)};exports.IndexedSourceMapConsumer=IndexedSourceMapConsumer},{"./array-set":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/uglify-js/node_modules/source-map/lib/array-set.js","./base64-vlq":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/uglify-js/node_modules/source-map/lib/base64-vlq.js","./binary-search":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/uglify-js/node_modules/source-map/lib/binary-search.js","./quick-sort":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/uglify-js/node_modules/source-map/lib/quick-sort.js","./util":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/uglify-js/node_modules/source-map/lib/util.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/uglify-js/node_modules/source-map/lib/source-map-generator.js":[function(require,module,exports){var base64VLQ=require("./base64-vlq");var util=require("./util");var ArraySet=require("./array-set").ArraySet;var MappingList=require("./mapping-list").MappingList;function SourceMapGenerator(aArgs){if(!aArgs){aArgs={}}this._file=util.getArg(aArgs,"file",null);this._sourceRoot=util.getArg(aArgs,"sourceRoot",null);this._skipValidation=util.getArg(aArgs,"skipValidation",false);this._sources=new ArraySet;this._names=new ArraySet;this._mappings=new MappingList;this._sourcesContents=null}SourceMapGenerator.prototype._version=3;SourceMapGenerator.fromSourceMap=function SourceMapGenerator_fromSourceMap(aSourceMapConsumer){var sourceRoot=aSourceMapConsumer.sourceRoot;var generator=new SourceMapGenerator({file:aSourceMapConsumer.file,sourceRoot:sourceRoot});aSourceMapConsumer.eachMapping(function(mapping){var newMapping={generated:{line:mapping.generatedLine,column:mapping.generatedColumn}};if(mapping.source!=null){newMapping.source=mapping.source;if(sourceRoot!=null){newMapping.source=util.relative(sourceRoot,newMapping.source)}newMapping.original={line:mapping.originalLine,column:mapping.originalColumn};if(mapping.name!=null){newMapping.name=mapping.name}}generator.addMapping(newMapping)});aSourceMapConsumer.sources.forEach(function(sourceFile){var content=aSourceMapConsumer.sourceContentFor(sourceFile);if(content!=null){generator.setSourceContent(sourceFile,content)}});return generator};SourceMapGenerator.prototype.addMapping=function SourceMapGenerator_addMapping(aArgs){var generated=util.getArg(aArgs,"generated");var original=util.getArg(aArgs,"original",null);var source=util.getArg(aArgs,"source",null);var name=util.getArg(aArgs,"name",null);if(!this._skipValidation){this._validateMapping(generated,original,source,name)}if(source!=null){source=String(source);if(!this._sources.has(source)){this._sources.add(source)}}if(name!=null){name=String(name);if(!this._names.has(name)){this._names.add(name)}}this._mappings.add({generatedLine:generated.line,generatedColumn:generated.column,originalLine:original!=null&&original.line,originalColumn:original!=null&&original.column,source:source,name:name})};SourceMapGenerator.prototype.setSourceContent=function SourceMapGenerator_setSourceContent(aSourceFile,aSourceContent){var source=aSourceFile;if(this._sourceRoot!=null){source=util.relative(this._sourceRoot,source)}if(aSourceContent!=null){if(!this._sourcesContents){this._sourcesContents=Object.create(null)}this._sourcesContents[util.toSetString(source)]=aSourceContent}else if(this._sourcesContents){delete this._sourcesContents[util.toSetString(source)];if(Object.keys(this._sourcesContents).length===0){this._sourcesContents=null}}};SourceMapGenerator.prototype.applySourceMap=function SourceMapGenerator_applySourceMap(aSourceMapConsumer,aSourceFile,aSourceMapPath){var sourceFile=aSourceFile;if(aSourceFile==null){if(aSourceMapConsumer.file==null){throw new Error("SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, "+'or the source map\'s "file" property. Both were omitted.')}sourceFile=aSourceMapConsumer.file}var sourceRoot=this._sourceRoot;if(sourceRoot!=null){sourceFile=util.relative(sourceRoot,sourceFile)}var newSources=new ArraySet;var newNames=new ArraySet;this._mappings.unsortedForEach(function(mapping){if(mapping.source===sourceFile&&mapping.originalLine!=null){var original=aSourceMapConsumer.originalPositionFor({line:mapping.originalLine,column:mapping.originalColumn});if(original.source!=null){mapping.source=original.source;if(aSourceMapPath!=null){mapping.source=util.join(aSourceMapPath,mapping.source)}if(sourceRoot!=null){mapping.source=util.relative(sourceRoot,mapping.source)}mapping.originalLine=original.line;mapping.originalColumn=original.column;if(original.name!=null){mapping.name=original.name}}}var source=mapping.source;if(source!=null&&!newSources.has(source)){newSources.add(source)}var name=mapping.name;if(name!=null&&!newNames.has(name)){newNames.add(name)}},this);this._sources=newSources;this._names=newNames;aSourceMapConsumer.sources.forEach(function(sourceFile){var content=aSourceMapConsumer.sourceContentFor(sourceFile);if(content!=null){if(aSourceMapPath!=null){sourceFile=util.join(aSourceMapPath,sourceFile)}if(sourceRoot!=null){sourceFile=util.relative(sourceRoot,sourceFile)}this.setSourceContent(sourceFile,content)}},this)};SourceMapGenerator.prototype._validateMapping=function SourceMapGenerator_validateMapping(aGenerated,aOriginal,aSource,aName){if(aGenerated&&"line"in aGenerated&&"column"in aGenerated&&aGenerated.line>0&&aGenerated.column>=0&&!aOriginal&&!aSource&&!aName){return}else if(aGenerated&&"line"in aGenerated&&"column"in aGenerated&&aOriginal&&"line"in aOriginal&&"column"in aOriginal&&aGenerated.line>0&&aGenerated.column>=0&&aOriginal.line>0&&aOriginal.column>=0&&aSource){return}else{throw new Error("Invalid mapping: "+JSON.stringify({generated:aGenerated,source:aSource,original:aOriginal,name:aName}))}};SourceMapGenerator.prototype._serializeMappings=function SourceMapGenerator_serializeMappings(){var previousGeneratedColumn=0;var previousGeneratedLine=1;var previousOriginalColumn=0;var previousOriginalLine=0;var previousName=0;var previousSource=0;var result="";var next;var mapping;var nameIdx;var sourceIdx;var mappings=this._mappings.toArray();for(var i=0,len=mappings.length;i<len;i++){mapping=mappings[i];next="";if(mapping.generatedLine!==previousGeneratedLine){previousGeneratedColumn=0;while(mapping.generatedLine!==previousGeneratedLine){next+=";";previousGeneratedLine++}}else{if(i>0){if(!util.compareByGeneratedPositionsInflated(mapping,mappings[i-1])){continue}next+=","}}next+=base64VLQ.encode(mapping.generatedColumn-previousGeneratedColumn);previousGeneratedColumn=mapping.generatedColumn;if(mapping.source!=null){sourceIdx=this._sources.indexOf(mapping.source);next+=base64VLQ.encode(sourceIdx-previousSource);previousSource=sourceIdx;
next+=base64VLQ.encode(mapping.originalLine-1-previousOriginalLine);previousOriginalLine=mapping.originalLine-1;next+=base64VLQ.encode(mapping.originalColumn-previousOriginalColumn);previousOriginalColumn=mapping.originalColumn;if(mapping.name!=null){nameIdx=this._names.indexOf(mapping.name);next+=base64VLQ.encode(nameIdx-previousName);previousName=nameIdx}}result+=next}return result};SourceMapGenerator.prototype._generateSourcesContent=function SourceMapGenerator_generateSourcesContent(aSources,aSourceRoot){return aSources.map(function(source){if(!this._sourcesContents){return null}if(aSourceRoot!=null){source=util.relative(aSourceRoot,source)}var key=util.toSetString(source);return Object.prototype.hasOwnProperty.call(this._sourcesContents,key)?this._sourcesContents[key]:null},this)};SourceMapGenerator.prototype.toJSON=function SourceMapGenerator_toJSON(){var map={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};if(this._file!=null){map.file=this._file}if(this._sourceRoot!=null){map.sourceRoot=this._sourceRoot}if(this._sourcesContents){map.sourcesContent=this._generateSourcesContent(map.sources,map.sourceRoot)}return map};SourceMapGenerator.prototype.toString=function SourceMapGenerator_toString(){return JSON.stringify(this.toJSON())};exports.SourceMapGenerator=SourceMapGenerator},{"./array-set":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/uglify-js/node_modules/source-map/lib/array-set.js","./base64-vlq":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/uglify-js/node_modules/source-map/lib/base64-vlq.js","./mapping-list":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/uglify-js/node_modules/source-map/lib/mapping-list.js","./util":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/uglify-js/node_modules/source-map/lib/util.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/uglify-js/node_modules/source-map/lib/source-node.js":[function(require,module,exports){var SourceMapGenerator=require("./source-map-generator").SourceMapGenerator;var util=require("./util");var REGEX_NEWLINE=/(\r?\n)/;var NEWLINE_CODE=10;var isSourceNode="$$$isSourceNode$$$";function SourceNode(aLine,aColumn,aSource,aChunks,aName){this.children=[];this.sourceContents={};this.line=aLine==null?null:aLine;this.column=aColumn==null?null:aColumn;this.source=aSource==null?null:aSource;this.name=aName==null?null:aName;this[isSourceNode]=true;if(aChunks!=null)this.add(aChunks)}SourceNode.fromStringWithSourceMap=function SourceNode_fromStringWithSourceMap(aGeneratedCode,aSourceMapConsumer,aRelativePath){var node=new SourceNode;var remainingLines=aGeneratedCode.split(REGEX_NEWLINE);var shiftNextLine=function(){var lineContents=remainingLines.shift();var newLine=remainingLines.shift()||"";return lineContents+newLine};var lastGeneratedLine=1,lastGeneratedColumn=0;var lastMapping=null;aSourceMapConsumer.eachMapping(function(mapping){if(lastMapping!==null){if(lastGeneratedLine<mapping.generatedLine){addMappingWithCode(lastMapping,shiftNextLine());lastGeneratedLine++;lastGeneratedColumn=0}else{var nextLine=remainingLines[0];var code=nextLine.substr(0,mapping.generatedColumn-lastGeneratedColumn);remainingLines[0]=nextLine.substr(mapping.generatedColumn-lastGeneratedColumn);lastGeneratedColumn=mapping.generatedColumn;addMappingWithCode(lastMapping,code);lastMapping=mapping;return}}while(lastGeneratedLine<mapping.generatedLine){node.add(shiftNextLine());lastGeneratedLine++}if(lastGeneratedColumn<mapping.generatedColumn){var nextLine=remainingLines[0];node.add(nextLine.substr(0,mapping.generatedColumn));remainingLines[0]=nextLine.substr(mapping.generatedColumn);lastGeneratedColumn=mapping.generatedColumn}lastMapping=mapping},this);if(remainingLines.length>0){if(lastMapping){addMappingWithCode(lastMapping,shiftNextLine())}node.add(remainingLines.join(""))}aSourceMapConsumer.sources.forEach(function(sourceFile){var content=aSourceMapConsumer.sourceContentFor(sourceFile);if(content!=null){if(aRelativePath!=null){sourceFile=util.join(aRelativePath,sourceFile)}node.setSourceContent(sourceFile,content)}});return node;function addMappingWithCode(mapping,code){if(mapping===null||mapping.source===undefined){node.add(code)}else{var source=aRelativePath?util.join(aRelativePath,mapping.source):mapping.source;node.add(new SourceNode(mapping.originalLine,mapping.originalColumn,source,code,mapping.name))}}};SourceNode.prototype.add=function SourceNode_add(aChunk){if(Array.isArray(aChunk)){aChunk.forEach(function(chunk){this.add(chunk)},this)}else if(aChunk[isSourceNode]||typeof aChunk==="string"){if(aChunk){this.children.push(aChunk)}}else{throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+aChunk)}return this};SourceNode.prototype.prepend=function SourceNode_prepend(aChunk){if(Array.isArray(aChunk)){for(var i=aChunk.length-1;i>=0;i--){this.prepend(aChunk[i])}}else if(aChunk[isSourceNode]||typeof aChunk==="string"){this.children.unshift(aChunk)}else{throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+aChunk)}return this};SourceNode.prototype.walk=function SourceNode_walk(aFn){var chunk;for(var i=0,len=this.children.length;i<len;i++){chunk=this.children[i];if(chunk[isSourceNode]){chunk.walk(aFn)}else{if(chunk!==""){aFn(chunk,{source:this.source,line:this.line,column:this.column,name:this.name})}}}};SourceNode.prototype.join=function SourceNode_join(aSep){var newChildren;var i;var len=this.children.length;if(len>0){newChildren=[];for(i=0;i<len-1;i++){newChildren.push(this.children[i]);newChildren.push(aSep)}newChildren.push(this.children[i]);this.children=newChildren}return this};SourceNode.prototype.replaceRight=function SourceNode_replaceRight(aPattern,aReplacement){var lastChild=this.children[this.children.length-1];if(lastChild[isSourceNode]){lastChild.replaceRight(aPattern,aReplacement)}else if(typeof lastChild==="string"){this.children[this.children.length-1]=lastChild.replace(aPattern,aReplacement)}else{this.children.push("".replace(aPattern,aReplacement))}return this};SourceNode.prototype.setSourceContent=function SourceNode_setSourceContent(aSourceFile,aSourceContent){this.sourceContents[util.toSetString(aSourceFile)]=aSourceContent};SourceNode.prototype.walkSourceContents=function SourceNode_walkSourceContents(aFn){for(var i=0,len=this.children.length;i<len;i++){if(this.children[i][isSourceNode]){this.children[i].walkSourceContents(aFn)}}var sources=Object.keys(this.sourceContents);for(var i=0,len=sources.length;i<len;i++){aFn(util.fromSetString(sources[i]),this.sourceContents[sources[i]])}};SourceNode.prototype.toString=function SourceNode_toString(){var str="";this.walk(function(chunk){str+=chunk});return str};SourceNode.prototype.toStringWithSourceMap=function SourceNode_toStringWithSourceMap(aArgs){var generated={code:"",line:1,column:0};var map=new SourceMapGenerator(aArgs);var sourceMappingActive=false;var lastOriginalSource=null;var lastOriginalLine=null;var lastOriginalColumn=null;var lastOriginalName=null;this.walk(function(chunk,original){generated.code+=chunk;if(original.source!==null&&original.line!==null&&original.column!==null){if(lastOriginalSource!==original.source||lastOriginalLine!==original.line||lastOriginalColumn!==original.column||lastOriginalName!==original.name){map.addMapping({source:original.source,original:{line:original.line,column:original.column},generated:{line:generated.line,column:generated.column},name:original.name})}lastOriginalSource=original.source;lastOriginalLine=original.line;lastOriginalColumn=original.column;lastOriginalName=original.name;sourceMappingActive=true}else if(sourceMappingActive){map.addMapping({generated:{line:generated.line,column:generated.column}});lastOriginalSource=null;sourceMappingActive=false}for(var idx=0,length=chunk.length;idx<length;idx++){if(chunk.charCodeAt(idx)===NEWLINE_CODE){generated.line++;generated.column=0;if(idx+1===length){lastOriginalSource=null;sourceMappingActive=false}else if(sourceMappingActive){map.addMapping({source:original.source,original:{line:original.line,column:original.column},generated:{line:generated.line,column:generated.column},name:original.name})}}else{generated.column++}}});this.walkSourceContents(function(sourceFile,sourceContent){map.setSourceContent(sourceFile,sourceContent)});return{code:generated.code,map:map}};exports.SourceNode=SourceNode},{"./source-map-generator":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/uglify-js/node_modules/source-map/lib/source-map-generator.js","./util":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/uglify-js/node_modules/source-map/lib/util.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/uglify-js/node_modules/source-map/lib/util.js":[function(require,module,exports){function getArg(aArgs,aName,aDefaultValue){if(aName in aArgs){return aArgs[aName]}else if(arguments.length===3){return aDefaultValue}else{throw new Error('"'+aName+'" is a required argument.')}}exports.getArg=getArg;var urlRegexp=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.]*)(?::(\d+))?(\S*)$/;var dataUrlRegexp=/^data:.+\,.+$/;function urlParse(aUrl){var match=aUrl.match(urlRegexp);if(!match){return null}return{scheme:match[1],auth:match[2],host:match[3],port:match[4],path:match[5]}}exports.urlParse=urlParse;function urlGenerate(aParsedUrl){var url="";if(aParsedUrl.scheme){url+=aParsedUrl.scheme+":"}url+="//";if(aParsedUrl.auth){url+=aParsedUrl.auth+"@"}if(aParsedUrl.host){url+=aParsedUrl.host}if(aParsedUrl.port){url+=":"+aParsedUrl.port}if(aParsedUrl.path){url+=aParsedUrl.path}return url}exports.urlGenerate=urlGenerate;function normalize(aPath){var path=aPath;var url=urlParse(aPath);if(url){if(!url.path){return aPath}path=url.path}var isAbsolute=exports.isAbsolute(path);var parts=path.split(/\/+/);for(var part,up=0,i=parts.length-1;i>=0;i--){part=parts[i];if(part==="."){parts.splice(i,1)}else if(part===".."){up++}else if(up>0){if(part===""){parts.splice(i+1,up);up=0}else{parts.splice(i,2);up--}}}path=parts.join("/");if(path===""){path=isAbsolute?"/":"."}if(url){url.path=path;return urlGenerate(url)}return path}exports.normalize=normalize;function join(aRoot,aPath){if(aRoot===""){aRoot="."}if(aPath===""){aPath="."}var aPathUrl=urlParse(aPath);var aRootUrl=urlParse(aRoot);if(aRootUrl){aRoot=aRootUrl.path||"/"}if(aPathUrl&&!aPathUrl.scheme){if(aRootUrl){aPathUrl.scheme=aRootUrl.scheme}return urlGenerate(aPathUrl)}if(aPathUrl||aPath.match(dataUrlRegexp)){return aPath}if(aRootUrl&&!aRootUrl.host&&!aRootUrl.path){aRootUrl.host=aPath;return urlGenerate(aRootUrl)}var joined=aPath.charAt(0)==="/"?aPath:normalize(aRoot.replace(/\/+$/,"")+"/"+aPath);if(aRootUrl){aRootUrl.path=joined;return urlGenerate(aRootUrl)}return joined}exports.join=join;exports.isAbsolute=function(aPath){return aPath.charAt(0)==="/"||!!aPath.match(urlRegexp)};function relative(aRoot,aPath){if(aRoot===""){aRoot="."}aRoot=aRoot.replace(/\/$/,"");var level=0;while(aPath.indexOf(aRoot+"/")!==0){var index=aRoot.lastIndexOf("/");if(index<0){return aPath}aRoot=aRoot.slice(0,index);if(aRoot.match(/^([^\/]+:\/)?\/*$/)){return aPath}++level}return Array(level+1).join("../")+aPath.substr(aRoot.length+1)}exports.relative=relative;var supportsNullProto=function(){var obj=Object.create(null);return!("__proto__"in obj)}();function identity(s){return s}function toSetString(aStr){if(isProtoString(aStr)){return"$"+aStr}return aStr}exports.toSetString=supportsNullProto?identity:toSetString;function fromSetString(aStr){if(isProtoString(aStr)){return aStr.slice(1)}return aStr}exports.fromSetString=supportsNullProto?identity:fromSetString;function isProtoString(s){if(!s){return false}var length=s.length;if(length<9){return false}if(s.charCodeAt(length-1)!==95||s.charCodeAt(length-2)!==95||s.charCodeAt(length-3)!==111||s.charCodeAt(length-4)!==116||s.charCodeAt(length-5)!==111||s.charCodeAt(length-6)!==114||s.charCodeAt(length-7)!==112||s.charCodeAt(length-8)!==95||s.charCodeAt(length-9)!==95){return false}for(var i=length-10;i>=0;i--){if(s.charCodeAt(i)!==36){return false}}return true}function compareByOriginalPositions(mappingA,mappingB,onlyCompareOriginal){var cmp=mappingA.source-mappingB.source;if(cmp!==0){return cmp}cmp=mappingA.originalLine-mappingB.originalLine;if(cmp!==0){return cmp}cmp=mappingA.originalColumn-mappingB.originalColumn;if(cmp!==0||onlyCompareOriginal){return cmp}cmp=mappingA.generatedColumn-mappingB.generatedColumn;if(cmp!==0){return cmp}cmp=mappingA.generatedLine-mappingB.generatedLine;if(cmp!==0){return cmp}return mappingA.name-mappingB.name}exports.compareByOriginalPositions=compareByOriginalPositions;function compareByGeneratedPositionsDeflated(mappingA,mappingB,onlyCompareGenerated){var cmp=mappingA.generatedLine-mappingB.generatedLine;if(cmp!==0){return cmp}cmp=mappingA.generatedColumn-mappingB.generatedColumn;if(cmp!==0||onlyCompareGenerated){return cmp}cmp=mappingA.source-mappingB.source;if(cmp!==0){return cmp}cmp=mappingA.originalLine-mappingB.originalLine;if(cmp!==0){return cmp}cmp=mappingA.originalColumn-mappingB.originalColumn;if(cmp!==0){return cmp}return mappingA.name-mappingB.name}exports.compareByGeneratedPositionsDeflated=compareByGeneratedPositionsDeflated;function strcmp(aStr1,aStr2){if(aStr1===aStr2){return 0}if(aStr1>aStr2){return 1}return-1}function compareByGeneratedPositionsInflated(mappingA,mappingB){var cmp=mappingA.generatedLine-mappingB.generatedLine;if(cmp!==0){return cmp}cmp=mappingA.generatedColumn-mappingB.generatedColumn;if(cmp!==0){return cmp}cmp=strcmp(mappingA.source,mappingB.source);if(cmp!==0){return cmp}cmp=mappingA.originalLine-mappingB.originalLine;if(cmp!==0){return cmp}cmp=mappingA.originalColumn-mappingB.originalColumn;if(cmp!==0){return cmp}return strcmp(mappingA.name,mappingB.name)}exports.compareByGeneratedPositionsInflated=compareByGeneratedPositionsInflated},{}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/uglify-js/node_modules/source-map/source-map.js":[function(require,module,exports){exports.SourceMapGenerator=require("./lib/source-map-generator").SourceMapGenerator;exports.SourceMapConsumer=require("./lib/source-map-consumer").SourceMapConsumer;exports.SourceNode=require("./lib/source-node").SourceNode},{"./lib/source-map-consumer":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/uglify-js/node_modules/source-map/lib/source-map-consumer.js","./lib/source-map-generator":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/uglify-js/node_modules/source-map/lib/source-map-generator.js","./lib/source-node":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/uglify-js/node_modules/source-map/lib/source-node.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/uglify-js/tools/node.js":[function(require,module,exports){var sys=require("util");var MOZ_SourceMap=require("source-map");var UglifyJS=exports;"use strict";function array_to_hash(a){var ret=Object.create(null);for(var i=0;i<a.length;++i)ret[a[i]]=true;return ret}function slice(a,start){return Array.prototype.slice.call(a,start||0)}function characters(str){return str.split("")}function member(name,array){return array.indexOf(name)>=0}function find_if(func,array){for(var i=0,n=array.length;i<n;++i){if(func(array[i]))return array[i]}}function repeat_string(str,i){if(i<=0)return"";if(i==1)return str;var d=repeat_string(str,i>>1);d+=d;if(i&1)d+=str;return d}function DefaultsError(msg,defs){Error.call(this,msg);this.msg=msg;this.defs=defs}DefaultsError.prototype=Object.create(Error.prototype);DefaultsError.prototype.constructor=DefaultsError;DefaultsError.croak=function(msg,defs){throw new DefaultsError(msg,defs)};function defaults(args,defs,croak){if(args===true)args={};var ret=args||{};if(croak)for(var i in ret)if(HOP(ret,i)&&!HOP(defs,i))DefaultsError.croak("`"+i+"` is not a supported option",defs);for(var i in defs)if(HOP(defs,i)){ret[i]=args&&HOP(args,i)?args[i]:defs[i]}return ret}function merge(obj,ext){var count=0;for(var i in ext)if(HOP(ext,i)){obj[i]=ext[i];count++}return count}function noop(){}var MAP=function(){function MAP(a,f,backwards){var ret=[],top=[],i;function doit(){var val=f(a[i],i);var is_last=val instanceof Last;if(is_last)val=val.v;if(val instanceof AtTop){val=val.v;if(val instanceof Splice){top.push.apply(top,backwards?val.v.slice().reverse():val.v)}else{top.push(val)}}else if(val!==skip){if(val instanceof Splice){ret.push.apply(ret,backwards?val.v.slice().reverse():val.v)}else{ret.push(val)}}return is_last}if(a instanceof Array){if(backwards){for(i=a.length;--i>=0;)if(doit())break;ret.reverse();top.reverse()}else{for(i=0;i<a.length;++i)if(doit())break}}else{for(i in a)if(HOP(a,i))if(doit())break}return top.concat(ret)}MAP.at_top=function(val){return new AtTop(val)};MAP.splice=function(val){return new Splice(val)};MAP.last=function(val){return new Last(val)};var skip=MAP.skip={};function AtTop(val){this.v=val}function Splice(val){this.v=val}function Last(val){this.v=val}return MAP}();function push_uniq(array,el){if(array.indexOf(el)<0)array.push(el)}function string_template(text,props){return text.replace(/\{(.+?)\}/g,function(str,p){return props[p]})}function remove(array,el){for(var i=array.length;--i>=0;){if(array[i]===el)array.splice(i,1)}}function mergeSort(array,cmp){if(array.length<2)return array.slice();function merge(a,b){var r=[],ai=0,bi=0,i=0;while(ai<a.length&&bi<b.length){cmp(a[ai],b[bi])<=0?r[i++]=a[ai++]:r[i++]=b[bi++]}if(ai<a.length)r.push.apply(r,a.slice(ai));if(bi<b.length)r.push.apply(r,b.slice(bi));return r}function _ms(a){if(a.length<=1)return a;var m=Math.floor(a.length/2),left=a.slice(0,m),right=a.slice(m);left=_ms(left);right=_ms(right);return merge(left,right)}return _ms(array)}function set_difference(a,b){return a.filter(function(el){return b.indexOf(el)<0})}function set_intersection(a,b){return a.filter(function(el){return b.indexOf(el)>=0})}function makePredicate(words){if(!(words instanceof Array))words=words.split(" ");var f="",cats=[];out:for(var i=0;i<words.length;++i){for(var j=0;j<cats.length;++j)if(cats[j][0].length==words[i].length){cats[j].push(words[i]);continue out}cats.push([words[i]])}function quote(word){return JSON.stringify(word).replace(/[\u2028\u2029]/g,function(s){switch(s){case"\u2028":return"\\u2028";case"\u2029":return"\\u2029"}return s})}function compareTo(arr){if(arr.length==1)return f+="return str === "+quote(arr[0])+";";f+="switch(str){";for(var i=0;i<arr.length;++i)f+="case "+quote(arr[i])+":";f+="return true}return false;"}if(cats.length>3){cats.sort(function(a,b){return b.length-a.length});f+="switch(str.length){";for(var i=0;i<cats.length;++i){var cat=cats[i];f+="case "+cat[0].length+":";compareTo(cat)}f+="}"}else{compareTo(words)}return new Function("str",f)}function all(array,predicate){for(var i=array.length;--i>=0;)if(!predicate(array[i]))return false;return true}function Dictionary(){this._values=Object.create(null);this._size=0}Dictionary.prototype={set:function(key,val){if(!this.has(key))++this._size;this._values["$"+key]=val;return this},add:function(key,val){if(this.has(key)){this.get(key).push(val)}else{this.set(key,[val])}return this},get:function(key){return this._values["$"+key]},del:function(key){if(this.has(key)){--this._size;delete this._values["$"+key]}return this},has:function(key){return"$"+key in this._values},each:function(f){for(var i in this._values)f(this._values[i],i.substr(1))},size:function(){return this._size},map:function(f){var ret=[];for(var i in this._values)ret.push(f(this._values[i],i.substr(1)));return ret},toObject:function(){return this._values}};Dictionary.fromObject=function(obj){var dict=new Dictionary;dict._size=merge(dict._values,obj);return dict};function HOP(obj,prop){return Object.prototype.hasOwnProperty.call(obj,prop)}"use strict";function DEFNODE(type,props,methods,base){if(arguments.length<4)base=AST_Node;if(!props)props=[];else props=props.split(/\s+/);var self_props=props;if(base&&base.PROPS)props=props.concat(base.PROPS);var code="return function AST_"+type+"(props){ if (props) { ";for(var i=props.length;--i>=0;){code+="this."+props[i]+" = props."+props[i]+";"}var proto=base&&new base;if(proto&&proto.initialize||methods&&methods.initialize)code+="this.initialize();";code+="}}";var ctor=new Function(code)();if(proto){ctor.prototype=proto;ctor.BASE=base}if(base)base.SUBCLASSES.push(ctor);ctor.prototype.CTOR=ctor;ctor.PROPS=props||null;ctor.SELF_PROPS=self_props;ctor.SUBCLASSES=[];if(type){ctor.prototype.TYPE=ctor.TYPE=type}if(methods)for(i in methods)if(HOP(methods,i)){if(/^\$/.test(i)){ctor[i.substr(1)]=methods[i]}else{ctor.prototype[i]=methods[i]}}ctor.DEFMETHOD=function(name,method){this.prototype[name]=method};exports["AST_"+type]=ctor;return ctor}var AST_Token=DEFNODE("Token","type value line col pos endline endcol endpos nlb comments_before file raw",{},null);var AST_Node=DEFNODE("Node","start end",{clone:function(){return new this.CTOR(this)},$documentation:"Base class of all AST nodes",$propdoc:{start:"[AST_Token] The first token of this node",end:"[AST_Token] The last token of this node"},_walk:function(visitor){return visitor._visit(this)},walk:function(visitor){return this._walk(visitor)}},null);AST_Node.warn_function=null;AST_Node.warn=function(txt,props){if(AST_Node.warn_function)AST_Node.warn_function(string_template(txt,props))};var AST_Statement=DEFNODE("Statement",null,{$documentation:"Base class of all statements"});var AST_Debugger=DEFNODE("Debugger",null,{$documentation:"Represents a debugger statement"},AST_Statement);var AST_Directive=DEFNODE("Directive","value scope quote",{$documentation:'Represents a directive, like "use strict";',$propdoc:{value:"[string] The value of this directive as a plain string (it's not an AST_String!)",scope:"[AST_Scope/S] The scope that this directive affects",quote:"[string] the original quote character"}},AST_Statement);var AST_SimpleStatement=DEFNODE("SimpleStatement","body",{$documentation:"A statement consisting of an expression, i.e. a = 1 + 2",$propdoc:{body:"[AST_Node] an expression node (should not be instanceof AST_Statement)"},_walk:function(visitor){return visitor._visit(this,function(){this.body._walk(visitor)})}},AST_Statement);function walk_body(node,visitor){if(node.body instanceof AST_Statement){node.body._walk(visitor)}else node.body.forEach(function(stat){stat._walk(visitor)})}var AST_Block=DEFNODE("Block","body",{$documentation:"A body of statements (usually bracketed)",$propdoc:{body:"[AST_Statement*] an array of statements"},_walk:function(visitor){return visitor._visit(this,function(){walk_body(this,visitor)})}},AST_Statement);var AST_BlockStatement=DEFNODE("BlockStatement",null,{$documentation:"A block statement"},AST_Block);var AST_EmptyStatement=DEFNODE("EmptyStatement",null,{$documentation:"The empty statement (empty block or simply a semicolon)",_walk:function(visitor){return visitor._visit(this)}},AST_Statement);var AST_StatementWithBody=DEFNODE("StatementWithBody","body",{$documentation:"Base class for all statements that contain one nested body: `For`, `ForIn`, `Do`, `While`, `With`",$propdoc:{body:"[AST_Statement] the body; this should always be present, even if it's an AST_EmptyStatement"},_walk:function(visitor){return visitor._visit(this,function(){this.body._walk(visitor)})}},AST_Statement);var AST_LabeledStatement=DEFNODE("LabeledStatement","label",{$documentation:"Statement with a label",$propdoc:{label:"[AST_Label] a label definition"},_walk:function(visitor){return visitor._visit(this,function(){this.label._walk(visitor);this.body._walk(visitor)})}},AST_StatementWithBody);var AST_IterationStatement=DEFNODE("IterationStatement",null,{$documentation:"Internal class.  All loops inherit from it."},AST_StatementWithBody);var AST_DWLoop=DEFNODE("DWLoop","condition",{$documentation:"Base class for do/while statements",$propdoc:{condition:"[AST_Node] the loop condition.  Should not be instanceof AST_Statement"}},AST_IterationStatement);var AST_Do=DEFNODE("Do",null,{$documentation:"A `do` statement",_walk:function(visitor){return visitor._visit(this,function(){this.body._walk(visitor);this.condition._walk(visitor)})}},AST_DWLoop);var AST_While=DEFNODE("While",null,{$documentation:"A `while` statement",_walk:function(visitor){return visitor._visit(this,function(){this.condition._walk(visitor);this.body._walk(visitor)})}},AST_DWLoop);var AST_For=DEFNODE("For","init condition step",{$documentation:"A `for` statement",$propdoc:{init:"[AST_Node?] the `for` initialization code, or null if empty",condition:"[AST_Node?] the `for` termination clause, or null if empty",step:"[AST_Node?] the `for` update clause, or null if empty"},_walk:function(visitor){return visitor._visit(this,function(){if(this.init)this.init._walk(visitor);if(this.condition)this.condition._walk(visitor);if(this.step)this.step._walk(visitor);this.body._walk(visitor)})}},AST_IterationStatement);var AST_ForIn=DEFNODE("ForIn","init name object",{$documentation:"A `for ... in` statement",$propdoc:{init:"[AST_Node] the `for/in` initialization code",name:"[AST_SymbolRef?] the loop variable, only if `init` is AST_Var",object:"[AST_Node] the object that we're looping through"},_walk:function(visitor){return visitor._visit(this,function(){this.init._walk(visitor);this.object._walk(visitor);this.body._walk(visitor)})}},AST_IterationStatement);var AST_With=DEFNODE("With","expression",{$documentation:"A `with` statement",$propdoc:{expression:"[AST_Node] the `with` expression"},_walk:function(visitor){return visitor._visit(this,function(){this.expression._walk(visitor);this.body._walk(visitor)})}},AST_StatementWithBody);var AST_Scope=DEFNODE("Scope","directives variables functions uses_with uses_eval parent_scope enclosed cname",{$documentation:"Base class for all statements introducing a lexical scope",$propdoc:{directives:"[string*/S] an array of directives declared in this scope",variables:"[Object/S] a map of name -> SymbolDef for all variables/functions defined in this scope",functions:"[Object/S] like `variables`, but only lists function declarations",uses_with:"[boolean/S] tells whether this scope uses the `with` statement",uses_eval:"[boolean/S] tells whether this scope contains a direct call to the global `eval`",parent_scope:"[AST_Scope?/S] link to the parent scope",enclosed:"[SymbolDef*/S] a list of all symbol definitions that are accessed from this scope or any subscopes",cname:"[integer/S] current index for mangling variables (used internally by the mangler)"}},AST_Block);var AST_Toplevel=DEFNODE("Toplevel","globals",{$documentation:"The toplevel scope",$propdoc:{globals:"[Object/S] a map of name -> SymbolDef for all undeclared names"},wrap_enclose:function(arg_parameter_pairs){var self=this;var args=[];var parameters=[];arg_parameter_pairs.forEach(function(pair){var splitAt=pair.lastIndexOf(":");args.push(pair.substr(0,splitAt));parameters.push(pair.substr(splitAt+1))});var wrapped_tl="(function("+parameters.join(",")+"){ '$ORIG'; })("+args.join(",")+")";wrapped_tl=parse(wrapped_tl);wrapped_tl=wrapped_tl.transform(new TreeTransformer(function before(node){if(node instanceof AST_Directive&&node.value=="$ORIG"){return MAP.splice(self.body)}}));return wrapped_tl},wrap_commonjs:function(name,export_all){var self=this;var to_export=[];if(export_all){self.figure_out_scope();self.walk(new TreeWalker(function(node){if(node instanceof AST_SymbolDeclaration&&node.definition().global){if(!find_if(function(n){return n.name==node.name},to_export))to_export.push(node)}}))}var wrapped_tl="(function(exports, global){ '$ORIG'; '$EXPORTS'; global['"+name+"'] = exports; }({}, (function(){return this}())))";wrapped_tl=parse(wrapped_tl);wrapped_tl=wrapped_tl.transform(new TreeTransformer(function before(node){if(node instanceof AST_Directive){switch(node.value){case"$ORIG":return MAP.splice(self.body);case"$EXPORTS":var body=[];to_export.forEach(function(sym){body.push(new AST_SimpleStatement({body:new AST_Assign({left:new AST_Sub({expression:new AST_SymbolRef({name:"exports"}),property:new AST_String({value:sym.name})}),operator:"=",right:new AST_SymbolRef(sym)})}))});return MAP.splice(body)}}}));return wrapped_tl}},AST_Scope);var AST_Lambda=DEFNODE("Lambda","name argnames uses_arguments",{$documentation:"Base class for functions",$propdoc:{name:"[AST_SymbolDeclaration?] the name of this function",argnames:"[AST_SymbolFunarg*] array of function arguments",uses_arguments:"[boolean/S] tells whether this function accesses the arguments array"},_walk:function(visitor){return visitor._visit(this,function(){if(this.name)this.name._walk(visitor);this.argnames.forEach(function(arg){arg._walk(visitor)});walk_body(this,visitor)})}},AST_Scope);var AST_Accessor=DEFNODE("Accessor",null,{$documentation:"A setter/getter function.  The `name` property is always null."},AST_Lambda);var AST_Function=DEFNODE("Function",null,{$documentation:"A function expression"},AST_Lambda);var AST_Defun=DEFNODE("Defun",null,{$documentation:"A function definition"},AST_Lambda);var AST_Jump=DEFNODE("Jump",null,{$documentation:"Base class for “jumps” (for now that's `return`, `throw`, `break` and `continue`)"},AST_Statement);var AST_Exit=DEFNODE("Exit","value",{$documentation:"Base class for “exits” (`return` and `throw`)",$propdoc:{value:"[AST_Node?] the value returned or thrown by this statement; could be null for AST_Return"},_walk:function(visitor){return visitor._visit(this,this.value&&function(){this.value._walk(visitor)})}},AST_Jump);var AST_Return=DEFNODE("Return",null,{$documentation:"A `return` statement"},AST_Exit);var AST_Throw=DEFNODE("Throw",null,{$documentation:"A `throw` statement"},AST_Exit);var AST_LoopControl=DEFNODE("LoopControl","label",{$documentation:"Base class for loop control statements (`break` and `continue`)",$propdoc:{label:"[AST_LabelRef?] the label, or null if none"},_walk:function(visitor){return visitor._visit(this,this.label&&function(){this.label._walk(visitor)})}},AST_Jump);var AST_Break=DEFNODE("Break",null,{$documentation:"A `break` statement"},AST_LoopControl);var AST_Continue=DEFNODE("Continue",null,{$documentation:"A `continue` statement"},AST_LoopControl);var AST_If=DEFNODE("If","condition alternative",{$documentation:"A `if` statement",$propdoc:{condition:"[AST_Node] the `if` condition",alternative:"[AST_Statement?] the `else` part, or null if not present"},_walk:function(visitor){return visitor._visit(this,function(){this.condition._walk(visitor);this.body._walk(visitor);if(this.alternative)this.alternative._walk(visitor)})}},AST_StatementWithBody);var AST_Switch=DEFNODE("Switch","expression",{$documentation:"A `switch` statement",$propdoc:{expression:"[AST_Node] the `switch` “discriminant”"},_walk:function(visitor){return visitor._visit(this,function(){this.expression._walk(visitor);walk_body(this,visitor)})}},AST_Block);var AST_SwitchBranch=DEFNODE("SwitchBranch",null,{$documentation:"Base class for `switch` branches"},AST_Block);var AST_Default=DEFNODE("Default",null,{$documentation:"A `default` switch branch"},AST_SwitchBranch);var AST_Case=DEFNODE("Case","expression",{$documentation:"A `case` switch branch",$propdoc:{expression:"[AST_Node] the `case` expression"},_walk:function(visitor){return visitor._visit(this,function(){this.expression._walk(visitor);walk_body(this,visitor)})}},AST_SwitchBranch);var AST_Try=DEFNODE("Try","bcatch bfinally",{$documentation:"A `try` statement",$propdoc:{bcatch:"[AST_Catch?] the catch block, or null if not present",bfinally:"[AST_Finally?] the finally block, or null if not present"},_walk:function(visitor){return visitor._visit(this,function(){walk_body(this,visitor);if(this.bcatch)this.bcatch._walk(visitor);if(this.bfinally)this.bfinally._walk(visitor)})}},AST_Block);var AST_Catch=DEFNODE("Catch","argname",{
$documentation:"A `catch` node; only makes sense as part of a `try` statement",$propdoc:{argname:"[AST_SymbolCatch] symbol for the exception"},_walk:function(visitor){return visitor._visit(this,function(){this.argname._walk(visitor);walk_body(this,visitor)})}},AST_Block);var AST_Finally=DEFNODE("Finally",null,{$documentation:"A `finally` node; only makes sense as part of a `try` statement"},AST_Block);var AST_Definitions=DEFNODE("Definitions","definitions",{$documentation:"Base class for `var` or `const` nodes (variable declarations/initializations)",$propdoc:{definitions:"[AST_VarDef*] array of variable definitions"},_walk:function(visitor){return visitor._visit(this,function(){this.definitions.forEach(function(def){def._walk(visitor)})})}},AST_Statement);var AST_Var=DEFNODE("Var",null,{$documentation:"A `var` statement"},AST_Definitions);var AST_Const=DEFNODE("Const",null,{$documentation:"A `const` statement"},AST_Definitions);var AST_VarDef=DEFNODE("VarDef","name value",{$documentation:"A variable declaration; only appears in a AST_Definitions node",$propdoc:{name:"[AST_SymbolVar|AST_SymbolConst] name of the variable",value:"[AST_Node?] initializer, or null of there's no initializer"},_walk:function(visitor){return visitor._visit(this,function(){this.name._walk(visitor);if(this.value)this.value._walk(visitor)})}});var AST_Call=DEFNODE("Call","expression args",{$documentation:"A function call expression",$propdoc:{expression:"[AST_Node] expression to invoke as function",args:"[AST_Node*] array of arguments"},_walk:function(visitor){return visitor._visit(this,function(){this.expression._walk(visitor);this.args.forEach(function(arg){arg._walk(visitor)})})}});var AST_New=DEFNODE("New",null,{$documentation:"An object instantiation.  Derives from a function call since it has exactly the same properties"},AST_Call);var AST_Seq=DEFNODE("Seq","car cdr",{$documentation:"A sequence expression (two comma-separated expressions)",$propdoc:{car:"[AST_Node] first element in sequence",cdr:"[AST_Node] second element in sequence"},$cons:function(x,y){var seq=new AST_Seq(x);seq.car=x;seq.cdr=y;return seq},$from_array:function(array){if(array.length==0)return null;if(array.length==1)return array[0].clone();var list=null;for(var i=array.length;--i>=0;){list=AST_Seq.cons(array[i],list)}var p=list;while(p){if(p.cdr&&!p.cdr.cdr){p.cdr=p.cdr.car;break}p=p.cdr}return list},to_array:function(){var p=this,a=[];while(p){a.push(p.car);if(p.cdr&&!(p.cdr instanceof AST_Seq)){a.push(p.cdr);break}p=p.cdr}return a},add:function(node){var p=this;while(p){if(!(p.cdr instanceof AST_Seq)){var cell=AST_Seq.cons(p.cdr,node);return p.cdr=cell}p=p.cdr}},len:function(){if(this.cdr instanceof AST_Seq){return this.cdr.len()+1}else{return 2}},_walk:function(visitor){return visitor._visit(this,function(){this.car._walk(visitor);if(this.cdr)this.cdr._walk(visitor)})}});var AST_PropAccess=DEFNODE("PropAccess","expression property",{$documentation:'Base class for property access expressions, i.e. `a.foo` or `a["foo"]`',$propdoc:{expression:"[AST_Node] the “container” expression",property:"[AST_Node|string] the property to access.  For AST_Dot this is always a plain string, while for AST_Sub it's an arbitrary AST_Node"}});var AST_Dot=DEFNODE("Dot",null,{$documentation:"A dotted property access expression",_walk:function(visitor){return visitor._visit(this,function(){this.expression._walk(visitor)})}},AST_PropAccess);var AST_Sub=DEFNODE("Sub",null,{$documentation:'Index-style property access, i.e. `a["foo"]`',_walk:function(visitor){return visitor._visit(this,function(){this.expression._walk(visitor);this.property._walk(visitor)})}},AST_PropAccess);var AST_Unary=DEFNODE("Unary","operator expression",{$documentation:"Base class for unary expressions",$propdoc:{operator:"[string] the operator",expression:"[AST_Node] expression that this unary operator applies to"},_walk:function(visitor){return visitor._visit(this,function(){this.expression._walk(visitor)})}});var AST_UnaryPrefix=DEFNODE("UnaryPrefix",null,{$documentation:"Unary prefix expression, i.e. `typeof i` or `++i`"},AST_Unary);var AST_UnaryPostfix=DEFNODE("UnaryPostfix",null,{$documentation:"Unary postfix expression, i.e. `i++`"},AST_Unary);var AST_Binary=DEFNODE("Binary","left operator right",{$documentation:"Binary expression, i.e. `a + b`",$propdoc:{left:"[AST_Node] left-hand side expression",operator:"[string] the operator",right:"[AST_Node] right-hand side expression"},_walk:function(visitor){return visitor._visit(this,function(){this.left._walk(visitor);this.right._walk(visitor)})}});var AST_Conditional=DEFNODE("Conditional","condition consequent alternative",{$documentation:"Conditional expression using the ternary operator, i.e. `a ? b : c`",$propdoc:{condition:"[AST_Node]",consequent:"[AST_Node]",alternative:"[AST_Node]"},_walk:function(visitor){return visitor._visit(this,function(){this.condition._walk(visitor);this.consequent._walk(visitor);this.alternative._walk(visitor)})}});var AST_Assign=DEFNODE("Assign",null,{$documentation:"An assignment expression — `a = b + 5`"},AST_Binary);var AST_Array=DEFNODE("Array","elements",{$documentation:"An array literal",$propdoc:{elements:"[AST_Node*] array of elements"},_walk:function(visitor){return visitor._visit(this,function(){this.elements.forEach(function(el){el._walk(visitor)})})}});var AST_Object=DEFNODE("Object","properties",{$documentation:"An object literal",$propdoc:{properties:"[AST_ObjectProperty*] array of properties"},_walk:function(visitor){return visitor._visit(this,function(){this.properties.forEach(function(prop){prop._walk(visitor)})})}});var AST_ObjectProperty=DEFNODE("ObjectProperty","key value",{$documentation:"Base class for literal object properties",$propdoc:{key:"[string] the property name converted to a string for ObjectKeyVal.  For setters and getters this is an arbitrary AST_Node.",value:"[AST_Node] property value.  For setters and getters this is an AST_Function."},_walk:function(visitor){return visitor._visit(this,function(){this.value._walk(visitor)})}});var AST_ObjectKeyVal=DEFNODE("ObjectKeyVal","quote",{$documentation:"A key: value object property",$propdoc:{quote:"[string] the original quote character"}},AST_ObjectProperty);var AST_ObjectSetter=DEFNODE("ObjectSetter",null,{$documentation:"An object setter property"},AST_ObjectProperty);var AST_ObjectGetter=DEFNODE("ObjectGetter",null,{$documentation:"An object getter property"},AST_ObjectProperty);var AST_Symbol=DEFNODE("Symbol","scope name thedef",{$propdoc:{name:"[string] name of this symbol",scope:"[AST_Scope/S] the current scope (not necessarily the definition scope)",thedef:"[SymbolDef/S] the definition of this symbol"},$documentation:"Base class for all symbols"});var AST_SymbolAccessor=DEFNODE("SymbolAccessor",null,{$documentation:"The name of a property accessor (setter/getter function)"},AST_Symbol);var AST_SymbolDeclaration=DEFNODE("SymbolDeclaration","init",{$documentation:"A declaration symbol (symbol in var/const, function name or argument, symbol in catch)",$propdoc:{init:"[AST_Node*/S] array of initializers for this declaration."}},AST_Symbol);var AST_SymbolVar=DEFNODE("SymbolVar",null,{$documentation:"Symbol defining a variable"},AST_SymbolDeclaration);var AST_SymbolConst=DEFNODE("SymbolConst",null,{$documentation:"A constant declaration"},AST_SymbolDeclaration);var AST_SymbolFunarg=DEFNODE("SymbolFunarg",null,{$documentation:"Symbol naming a function argument"},AST_SymbolVar);var AST_SymbolDefun=DEFNODE("SymbolDefun",null,{$documentation:"Symbol defining a function"},AST_SymbolDeclaration);var AST_SymbolLambda=DEFNODE("SymbolLambda",null,{$documentation:"Symbol naming a function expression"},AST_SymbolDeclaration);var AST_SymbolCatch=DEFNODE("SymbolCatch",null,{$documentation:"Symbol naming the exception in catch"},AST_SymbolDeclaration);var AST_Label=DEFNODE("Label","references",{$documentation:"Symbol naming a label (declaration)",$propdoc:{references:"[AST_LoopControl*] a list of nodes referring to this label"},initialize:function(){this.references=[];this.thedef=this}},AST_Symbol);var AST_SymbolRef=DEFNODE("SymbolRef",null,{$documentation:"Reference to some symbol (not definition/declaration)"},AST_Symbol);var AST_LabelRef=DEFNODE("LabelRef",null,{$documentation:"Reference to a label symbol"},AST_Symbol);var AST_This=DEFNODE("This",null,{$documentation:"The `this` symbol"},AST_Symbol);var AST_Constant=DEFNODE("Constant",null,{$documentation:"Base class for all constants",getValue:function(){return this.value}});var AST_String=DEFNODE("String","value quote",{$documentation:"A string literal",$propdoc:{value:"[string] the contents of this string",quote:"[string] the original quote character"}},AST_Constant);var AST_Number=DEFNODE("Number","value literal",{$documentation:"A number literal",$propdoc:{value:"[number] the numeric value",literal:"[string] numeric value as string (optional)"}},AST_Constant);var AST_RegExp=DEFNODE("RegExp","value",{$documentation:"A regexp literal",$propdoc:{value:"[RegExp] the actual regexp"}},AST_Constant);var AST_Atom=DEFNODE("Atom",null,{$documentation:"Base class for atoms"},AST_Constant);var AST_Null=DEFNODE("Null",null,{$documentation:"The `null` atom",value:null},AST_Atom);var AST_NaN=DEFNODE("NaN",null,{$documentation:"The impossible value",value:0/0},AST_Atom);var AST_Undefined=DEFNODE("Undefined",null,{$documentation:"The `undefined` value",value:function(){}()},AST_Atom);var AST_Hole=DEFNODE("Hole",null,{$documentation:"A hole in an array",value:function(){}()},AST_Atom);var AST_Infinity=DEFNODE("Infinity",null,{$documentation:"The `Infinity` value",value:1/0},AST_Atom);var AST_Boolean=DEFNODE("Boolean",null,{$documentation:"Base class for booleans"},AST_Atom);var AST_False=DEFNODE("False",null,{$documentation:"The `false` atom",value:false},AST_Boolean);var AST_True=DEFNODE("True",null,{$documentation:"The `true` atom",value:true},AST_Boolean);function TreeWalker(callback){this.visit=callback;this.stack=[];this.directives=Object.create(null)}TreeWalker.prototype={_visit:function(node,descend){this.push(node);var ret=this.visit(node,descend?function(){descend.call(node)}:noop);if(!ret&&descend){descend.call(node)}this.pop(node);return ret},parent:function(n){return this.stack[this.stack.length-2-(n||0)]},push:function(node){if(node instanceof AST_Lambda){this.directives=Object.create(this.directives)}else if(node instanceof AST_Directive){this.directives[node.value]=this.directives[node.value]?"up":true}this.stack.push(node)},pop:function(node){this.stack.pop();if(node instanceof AST_Lambda){this.directives=Object.getPrototypeOf(this.directives)}},self:function(){return this.stack[this.stack.length-1]},find_parent:function(type){var stack=this.stack;for(var i=stack.length;--i>=0;){var x=stack[i];if(x instanceof type)return x}},has_directive:function(type){var dir=this.directives[type];if(dir)return dir;var node=this.stack[this.stack.length-1];if(node instanceof AST_Scope){for(var i=0;i<node.body.length;++i){var st=node.body[i];if(!(st instanceof AST_Directive))break;if(st.value==type)return true}}},in_boolean_context:function(){var stack=this.stack;var i=stack.length,self=stack[--i];while(i>0){var p=stack[--i];if(p instanceof AST_If&&p.condition===self||p instanceof AST_Conditional&&p.condition===self||p instanceof AST_DWLoop&&p.condition===self||p instanceof AST_For&&p.condition===self||p instanceof AST_UnaryPrefix&&p.operator=="!"&&p.expression===self){return true}if(!(p instanceof AST_Binary&&(p.operator=="&&"||p.operator=="||")))return false;self=p}},loopcontrol_target:function(label){var stack=this.stack;if(label)for(var i=stack.length;--i>=0;){var x=stack[i];if(x instanceof AST_LabeledStatement&&x.label.name==label.name){return x.body}}else for(var i=stack.length;--i>=0;){var x=stack[i];if(x instanceof AST_Switch||x instanceof AST_IterationStatement)return x}}};"use strict";var KEYWORDS="break case catch const continue debugger default delete do else finally for function if in instanceof new return switch throw try typeof var void while with";var KEYWORDS_ATOM="false null true";var RESERVED_WORDS="abstract boolean byte char class double enum export extends final float goto implements import int interface let long native package private protected public short static super synchronized this throws transient volatile yield"+" "+KEYWORDS_ATOM+" "+KEYWORDS;var KEYWORDS_BEFORE_EXPRESSION="return new delete throw else case";KEYWORDS=makePredicate(KEYWORDS);RESERVED_WORDS=makePredicate(RESERVED_WORDS);KEYWORDS_BEFORE_EXPRESSION=makePredicate(KEYWORDS_BEFORE_EXPRESSION);KEYWORDS_ATOM=makePredicate(KEYWORDS_ATOM);var OPERATOR_CHARS=makePredicate(characters("+-*&%=<>!?|~^"));var RE_HEX_NUMBER=/^0x[0-9a-f]+$/i;var RE_OCT_NUMBER=/^0[0-7]+$/;var OPERATORS=makePredicate(["in","instanceof","typeof","new","void","delete","++","--","+","-","!","~","&","|","^","*","/","%",">>","<<",">>>","<",">","<=",">=","==","===","!=","!==","?","=","+=","-=","/=","*=","%=",">>=","<<=",">>>=","|=","^=","&=","&&","||"]);var WHITESPACE_CHARS=makePredicate(characters("  \n\r\t\f\v​           \u2028\u2029  　\ufeff"));var NEWLINE_CHARS=makePredicate(characters("\n\r\u2028\u2029"));var PUNC_BEFORE_EXPRESSION=makePredicate(characters("[{(,.;:"));var PUNC_CHARS=makePredicate(characters("[]{}(),;:"));var REGEXP_MODIFIERS=makePredicate(characters("gmsiy"));var UNICODE={letter:new RegExp("[\\u0041-\\u005A\\u0061-\\u007A\\u00AA\\u00B5\\u00BA\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),digit:new RegExp("[\\u0030-\\u0039\\u0660-\\u0669\\u06F0-\\u06F9\\u07C0-\\u07C9\\u0966-\\u096F\\u09E6-\\u09EF\\u0A66-\\u0A6F\\u0AE6-\\u0AEF\\u0B66-\\u0B6F\\u0BE6-\\u0BEF\\u0C66-\\u0C6F\\u0CE6-\\u0CEF\\u0D66-\\u0D6F\\u0DE6-\\u0DEF\\u0E50-\\u0E59\\u0ED0-\\u0ED9\\u0F20-\\u0F29\\u1040-\\u1049\\u1090-\\u1099\\u17E0-\\u17E9\\u1810-\\u1819\\u1946-\\u194F\\u19D0-\\u19D9\\u1A80-\\u1A89\\u1A90-\\u1A99\\u1B50-\\u1B59\\u1BB0-\\u1BB9\\u1C40-\\u1C49\\u1C50-\\u1C59\\uA620-\\uA629\\uA8D0-\\uA8D9\\uA900-\\uA909\\uA9D0-\\uA9D9\\uA9F0-\\uA9F9\\uAA50-\\uAA59\\uABF0-\\uABF9\\uFF10-\\uFF19]"),non_spacing_mark:new RegExp("[\\u0300-\\u036F\\u0483-\\u0487\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u0610-\\u061A\\u064B-\\u065E\\u0670\\u06D6-\\u06DC\\u06DF-\\u06E4\\u06E7\\u06E8\\u06EA-\\u06ED\\u0711\\u0730-\\u074A\\u07A6-\\u07B0\\u07EB-\\u07F3\\u0816-\\u0819\\u081B-\\u0823\\u0825-\\u0827\\u0829-\\u082D\\u0900-\\u0902\\u093C\\u0941-\\u0948\\u094D\\u0951-\\u0955\\u0962\\u0963\\u0981\\u09BC\\u09C1-\\u09C4\\u09CD\\u09E2\\u09E3\\u0A01\\u0A02\\u0A3C\\u0A41\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A70\\u0A71\\u0A75\\u0A81\\u0A82\\u0ABC\\u0AC1-\\u0AC5\\u0AC7\\u0AC8\\u0ACD\\u0AE2\\u0AE3\\u0B01\\u0B3C\\u0B3F\\u0B41-\\u0B44\\u0B4D\\u0B56\\u0B62\\u0B63\\u0B82\\u0BC0\\u0BCD\\u0C3E-\\u0C40\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C62\\u0C63\\u0CBC\\u0CBF\\u0CC6\\u0CCC\\u0CCD\\u0CE2\\u0CE3\\u0D41-\\u0D44\\u0D4D\\u0D62\\u0D63\\u0DCA\\u0DD2-\\u0DD4\\u0DD6\\u0E31\\u0E34-\\u0E3A\\u0E47-\\u0E4E\\u0EB1\\u0EB4-\\u0EB9\\u0EBB\\u0EBC\\u0EC8-\\u0ECD\\u0F18\\u0F19\\u0F35\\u0F37\\u0F39\\u0F71-\\u0F7E\\u0F80-\\u0F84\\u0F86\\u0F87\\u0F90-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u102D-\\u1030\\u1032-\\u1037\\u1039\\u103A\\u103D\\u103E\\u1058\\u1059\\u105E-\\u1060\\u1071-\\u1074\\u1082\\u1085\\u1086\\u108D\\u109D\\u135F\\u1712-\\u1714\\u1732-\\u1734\\u1752\\u1753\\u1772\\u1773\\u17B7-\\u17BD\\u17C6\\u17C9-\\u17D3\\u17DD\\u180B-\\u180D\\u18A9\\u1920-\\u1922\\u1927\\u1928\\u1932\\u1939-\\u193B\\u1A17\\u1A18\\u1A56\\u1A58-\\u1A5E\\u1A60\\u1A62\\u1A65-\\u1A6C\\u1A73-\\u1A7C\\u1A7F\\u1B00-\\u1B03\\u1B34\\u1B36-\\u1B3A\\u1B3C\\u1B42\\u1B6B-\\u1B73\\u1B80\\u1B81\\u1BA2-\\u1BA5\\u1BA8\\u1BA9\\u1C2C-\\u1C33\\u1C36\\u1C37\\u1CD0-\\u1CD2\\u1CD4-\\u1CE0\\u1CE2-\\u1CE8\\u1CED\\u1DC0-\\u1DE6\\u1DFD-\\u1DFF\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2CEF-\\u2CF1\\u2DE0-\\u2DFF\\u302A-\\u302F\\u3099\\u309A\\uA66F\\uA67C\\uA67D\\uA6F0\\uA6F1\\uA802\\uA806\\uA80B\\uA825\\uA826\\uA8C4\\uA8E0-\\uA8F1\\uA926-\\uA92D\\uA947-\\uA951\\uA980-\\uA982\\uA9B3\\uA9B6-\\uA9B9\\uA9BC\\uAA29-\\uAA2E\\uAA31\\uAA32\\uAA35\\uAA36\\uAA43\\uAA4C\\uAAB0\\uAAB2-\\uAAB4\\uAAB7\\uAAB8\\uAABE\\uAABF\\uAAC1\\uABE5\\uABE8\\uABED\\uFB1E\\uFE00-\\uFE0F\\uFE20-\\uFE26]"),space_combining_mark:new RegExp("[\\u0903\\u093E-\\u0940\\u0949-\\u094C\\u094E\\u0982\\u0983\\u09BE-\\u09C0\\u09C7\\u09C8\\u09CB\\u09CC\\u09D7\\u0A03\\u0A3E-\\u0A40\\u0A83\\u0ABE-\\u0AC0\\u0AC9\\u0ACB\\u0ACC\\u0B02\\u0B03\\u0B3E\\u0B40\\u0B47\\u0B48\\u0B4B\\u0B4C\\u0B57\\u0BBE\\u0BBF\\u0BC1\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCC\\u0BD7\\u0C01-\\u0C03\\u0C41-\\u0C44\\u0C82\\u0C83\\u0CBE\\u0CC0-\\u0CC4\\u0CC7\\u0CC8\\u0CCA\\u0CCB\\u0CD5\\u0CD6\\u0D02\\u0D03\\u0D3E-\\u0D40\\u0D46-\\u0D48\\u0D4A-\\u0D4C\\u0D57\\u0D82\\u0D83\\u0DCF-\\u0DD1\\u0DD8-\\u0DDF\\u0DF2\\u0DF3\\u0F3E\\u0F3F\\u0F7F\\u102B\\u102C\\u1031\\u1038\\u103B\\u103C\\u1056\\u1057\\u1062-\\u1064\\u1067-\\u106D\\u1083\\u1084\\u1087-\\u108C\\u108F\\u109A-\\u109C\\u17B6\\u17BE-\\u17C5\\u17C7\\u17C8\\u1923-\\u1926\\u1929-\\u192B\\u1930\\u1931\\u1933-\\u1938\\u19B0-\\u19C0\\u19C8\\u19C9\\u1A19-\\u1A1B\\u1A55\\u1A57\\u1A61\\u1A63\\u1A64\\u1A6D-\\u1A72\\u1B04\\u1B35\\u1B3B\\u1B3D-\\u1B41\\u1B43\\u1B44\\u1B82\\u1BA1\\u1BA6\\u1BA7\\u1BAA\\u1C24-\\u1C2B\\u1C34\\u1C35\\u1CE1\\u1CF2\\uA823\\uA824\\uA827\\uA880\\uA881\\uA8B4-\\uA8C3\\uA952\\uA953\\uA983\\uA9B4\\uA9B5\\uA9BA\\uA9BB\\uA9BD-\\uA9C0\\uAA2F\\uAA30\\uAA33\\uAA34\\uAA4D\\uAA7B\\uABE3\\uABE4\\uABE6\\uABE7\\uABE9\\uABEA\\uABEC]"),connector_punctuation:new RegExp("[\\u005F\\u203F\\u2040\\u2054\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFF3F]")};function is_letter(code){return code>=97&&code<=122||code>=65&&code<=90||code>=170&&UNICODE.letter.test(String.fromCharCode(code))}function is_digit(code){return code>=48&&code<=57}function is_alphanumeric_char(code){return is_digit(code)||is_letter(code)}function is_unicode_digit(code){return UNICODE.digit.test(String.fromCharCode(code))}function is_unicode_combining_mark(ch){return UNICODE.non_spacing_mark.test(ch)||UNICODE.space_combining_mark.test(ch)}function is_unicode_connector_punctuation(ch){return UNICODE.connector_punctuation.test(ch)}function is_identifier(name){return!RESERVED_WORDS(name)&&/^[a-z_$][a-z0-9_$]*$/i.test(name)}function is_identifier_start(code){return code==36||code==95||is_letter(code)}function is_identifier_char(ch){var code=ch.charCodeAt(0);return is_identifier_start(code)||is_digit(code)||code==8204||code==8205||is_unicode_combining_mark(ch)||is_unicode_connector_punctuation(ch)||is_unicode_digit(code)}function is_identifier_string(str){return/^[a-z_$][a-z0-9_$]*$/i.test(str)}function parse_js_number(num){if(RE_HEX_NUMBER.test(num)){return parseInt(num.substr(2),16)}else if(RE_OCT_NUMBER.test(num)){return parseInt(num.substr(1),8)}else{var val=parseFloat(num);if(val==num)return val}}function JS_Parse_Error(message,filename,line,col,pos){this.message=message;this.filename=filename;this.line=line;this.col=col;this.pos=pos;this.stack=(new Error).stack}JS_Parse_Error.prototype.toString=function(){return this.message+" (line: "+this.line+", col: "+this.col+", pos: "+this.pos+")"+"\n\n"+this.stack};function js_error(message,filename,line,col,pos){throw new JS_Parse_Error(message,filename,line,col,pos)}function is_token(token,type,val){return token.type==type&&(val==null||token.value==val)}var EX_EOF={};function tokenizer($TEXT,filename,html5_comments,shebang){var S={text:$TEXT,filename:filename,pos:0,tokpos:0,line:1,tokline:0,col:0,tokcol:0,newline_before:false,regex_allowed:false,comments_before:[],directives:{},directive_stack:[]};function peek(){return S.text.charAt(S.pos)}function next(signal_eof,in_string){var ch=S.text.charAt(S.pos++);if(signal_eof&&!ch)throw EX_EOF;if(NEWLINE_CHARS(ch)){S.newline_before=S.newline_before||!in_string;++S.line;S.col=0;if(!in_string&&ch=="\r"&&peek()=="\n"){++S.pos;ch="\n"}}else{++S.col}return ch}function forward(i){while(i-- >0)next()}function looking_at(str){return S.text.substr(S.pos,str.length)==str}function find_eol(){var text=S.text;for(var i=S.pos,n=S.text.length;i<n;++i){var ch=text[i];if(NEWLINE_CHARS(ch))return i}return-1}function find(what,signal_eof){var pos=S.text.indexOf(what,S.pos);if(signal_eof&&pos==-1)throw EX_EOF;return pos}function start_token(){S.tokline=S.line;S.tokcol=S.col;S.tokpos=S.pos}var prev_was_dot=false;function token(type,value,is_comment){S.regex_allowed=type=="operator"&&!UNARY_POSTFIX(value)||type=="keyword"&&KEYWORDS_BEFORE_EXPRESSION(value)||type=="punc"&&PUNC_BEFORE_EXPRESSION(value);prev_was_dot=type=="punc"&&value==".";var ret={type:type,value:value,line:S.tokline,col:S.tokcol,pos:S.tokpos,endline:S.line,endcol:S.col,endpos:S.pos,nlb:S.newline_before,file:filename};if(/^(?:num|string|regexp)$/i.test(type)){ret.raw=$TEXT.substring(ret.pos,ret.endpos)}if(!is_comment){ret.comments_before=S.comments_before;S.comments_before=[];for(var i=0,len=ret.comments_before.length;i<len;i++){ret.nlb=ret.nlb||ret.comments_before[i].nlb}}S.newline_before=false;return new AST_Token(ret)}function skip_whitespace(){while(WHITESPACE_CHARS(peek()))next()}function read_while(pred){var ret="",ch,i=0;while((ch=peek())&&pred(ch,i++))ret+=next();return ret}function parse_error(err){js_error(err,filename,S.tokline,S.tokcol,S.tokpos)}function read_num(prefix){var has_e=false,after_e=false,has_x=false,has_dot=prefix==".";var num=read_while(function(ch,i){var code=ch.charCodeAt(0);switch(code){case 120:case 88:return has_x?false:has_x=true;case 101:case 69:return has_x?true:has_e?false:has_e=after_e=true;case 45:return after_e||i==0&&!prefix;case 43:return after_e;case after_e=false,46:return!has_dot&&!has_x&&!has_e?has_dot=true:false}return is_alphanumeric_char(code)});if(prefix)num=prefix+num;var valid=parse_js_number(num);if(!isNaN(valid)){return token("num",valid)}else{parse_error("SyntaxError: Invalid syntax: "+num)}}function read_escaped_char(in_string){var ch=next(true,in_string);switch(ch.charCodeAt(0)){case 110:return"\n";case 114:return"\r";case 116:return"\t";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 120:return String.fromCharCode(hex_bytes(2));case 117:return String.fromCharCode(hex_bytes(4));case 10:return"";case 13:if(peek()=="\n"){next(true,in_string);return""}}if(ch>="0"&&ch<="7")return read_octal_escape_sequence(ch);return ch}function read_octal_escape_sequence(ch){var p=peek();if(p>="0"&&p<="7"){ch+=next(true);if(ch[0]<="3"&&(p=peek())>="0"&&p<="7")ch+=next(true)}if(ch==="0")return"\0";if(ch.length>0&&next_token.has_directive("use strict"))parse_error("SyntaxError: Octal literals are not allowed in strict mode");return String.fromCharCode(parseInt(ch,8))}function hex_bytes(n){var num=0;for(;n>0;--n){var digit=parseInt(next(true),16);if(isNaN(digit))parse_error("SyntaxError: Invalid hex-character pattern in string");num=num<<4|digit}return num}var read_string=with_eof_error("SyntaxError: Unterminated string constant",function(quote_char){var quote=next(),ret="";for(;;){var ch=next(true,true);if(ch=="\\")ch=read_escaped_char(true);else if(NEWLINE_CHARS(ch))parse_error("SyntaxError: Unterminated string constant");else if(ch==quote)break;ret+=ch}var tok=token("string",ret);tok.quote=quote_char;return tok});function skip_line_comment(type){var regex_allowed=S.regex_allowed;var i=find_eol(),ret;if(i==-1){ret=S.text.substr(S.pos);S.pos=S.text.length}else{ret=S.text.substring(S.pos,i);S.pos=i}S.col=S.tokcol+(S.pos-S.tokpos);S.comments_before.push(token(type,ret,true));S.regex_allowed=regex_allowed;return next_token}var skip_multiline_comment=with_eof_error("SyntaxError: Unterminated multiline comment",function(){var regex_allowed=S.regex_allowed;var i=find("*/",true);var text=S.text.substring(S.pos,i).replace(/\r\n|\r|\u2028|\u2029/g,"\n");forward(text.length+2);S.comments_before.push(token("comment2",text,true));S.regex_allowed=regex_allowed;return next_token});function read_name(){var backslash=false,name="",ch,escaped=false,hex;while((ch=peek())!=null){if(!backslash){if(ch=="\\")escaped=backslash=true,next();else if(is_identifier_char(ch))name+=next();else break}else{if(ch!="u")parse_error("SyntaxError: Expecting UnicodeEscapeSequence -- uXXXX");ch=read_escaped_char();if(!is_identifier_char(ch))parse_error("SyntaxError: Unicode char: "+ch.charCodeAt(0)+" is not valid in identifier");name+=ch;backslash=false}}if(KEYWORDS(name)&&escaped){hex=name.charCodeAt(0).toString(16).toUpperCase();name="\\u"+"0000".substr(hex.length)+hex+name.slice(1)}return name}var read_regexp=with_eof_error("SyntaxError: Unterminated regular expression",function(regexp){var prev_backslash=false,ch,in_class=false;while(ch=next(true))if(NEWLINE_CHARS(ch)){parse_error("SyntaxError: Unexpected line terminator")}else if(prev_backslash){regexp+="\\"+ch;prev_backslash=false}else if(ch=="["){in_class=true;regexp+=ch}else if(ch=="]"&&in_class){in_class=false;regexp+=ch}else if(ch=="/"&&!in_class){break}else if(ch=="\\"){prev_backslash=true}else{regexp+=ch}var mods=read_name();try{return token("regexp",new RegExp(regexp,mods))}catch(e){parse_error(e.message)}});function read_operator(prefix){function grow(op){if(!peek())return op;var bigger=op+peek();if(OPERATORS(bigger)){next();return grow(bigger)}else{return op}}return token("operator",grow(prefix||next()))}function handle_slash(){next();switch(peek()){case"/":next();return skip_line_comment("comment1");case"*":next();return skip_multiline_comment()}return S.regex_allowed?read_regexp(""):read_operator("/")}function handle_dot(){next();return is_digit(peek().charCodeAt(0))?read_num("."):token("punc",".")}function read_word(){var word=read_name();if(prev_was_dot)return token("name",word);return KEYWORDS_ATOM(word)?token("atom",word):!KEYWORDS(word)?token("name",word):OPERATORS(word)?token("operator",word):token("keyword",word)}function with_eof_error(eof_error,cont){return function(x){try{return cont(x)}catch(ex){if(ex===EX_EOF)parse_error(eof_error);else throw ex}}}function next_token(force_regexp){if(force_regexp!=null)return read_regexp(force_regexp);for(;;){skip_whitespace();start_token();if(html5_comments){if(looking_at("<!--")){forward(4);skip_line_comment("comment3");continue}if(looking_at("-->")&&S.newline_before){forward(3);skip_line_comment("comment4");continue}}var ch=peek();if(!ch)return token("eof");var code=ch.charCodeAt(0);switch(code){case 34:case 39:return read_string(ch);case 46:return handle_dot();case 47:{var tok=handle_slash();if(tok===next_token)continue;return tok}}if(is_digit(code))return read_num();if(PUNC_CHARS(ch))return token("punc",next());if(OPERATOR_CHARS(ch))return read_operator();if(code==92||is_identifier_start(code))return read_word();if(shebang){if(S.pos==0&&looking_at("#!")){forward(2);skip_line_comment("comment5");continue}}break}parse_error("SyntaxError: Unexpected character '"+ch+"'")}next_token.context=function(nc){if(nc)S=nc;return S};next_token.add_directive=function(directive){S.directive_stack[S.directive_stack.length-1].push(directive);if(S.directives[directive]===undefined){S.directives[directive]=1}else{S.directives[directive]++}};next_token.push_directives_stack=function(){S.directive_stack.push([]);
};next_token.pop_directives_stack=function(){var directives=S.directive_stack[S.directive_stack.length-1];for(var i=0;i<directives.length;i++){S.directives[directives[i]]--}S.directive_stack.pop()};next_token.has_directive=function(directive){return S.directives[directive]!==undefined&&S.directives[directive]>0};return next_token}var UNARY_PREFIX=makePredicate(["typeof","void","delete","--","++","!","~","-","+"]);var UNARY_POSTFIX=makePredicate(["--","++"]);var ASSIGNMENT=makePredicate(["=","+=","-=","/=","*=","%=",">>=","<<=",">>>=","|=","^=","&="]);var PRECEDENCE=function(a,ret){for(var i=0;i<a.length;++i){var b=a[i];for(var j=0;j<b.length;++j){ret[b[j]]=i+1}}return ret}([["||"],["&&"],["|"],["^"],["&"],["==","===","!=","!=="],["<",">","<=",">=","in","instanceof"],[">>","<<",">>>"],["+","-"],["*","/","%"]],{});var STATEMENTS_WITH_LABELS=array_to_hash(["fo"+"r","do","while","switch"]);var ATOMIC_START_TOKEN=array_to_hash(["atom","num","string","regexp","name"]);function parse($TEXT,options){options=defaults(options,{strict:false,filename:null,toplevel:null,expression:false,html5_comments:true,bare_returns:false,shebang:true});var S={input:typeof $TEXT=="string"?tokenizer($TEXT,options.filename,options.html5_comments,options.shebang):$TEXT,token:null,prev:null,peeked:null,in_function:0,in_directives:true,in_loop:0,labels:[]};S.token=next();function is(type,value){return is_token(S.token,type,value)}function peek(){return S.peeked||(S.peeked=S.input())}function next(){S.prev=S.token;if(S.peeked){S.token=S.peeked;S.peeked=null}else{S.token=S.input()}S.in_directives=S.in_directives&&(S.token.type=="string"||is("punc",";"));return S.token}function prev(){return S.prev}function croak(msg,line,col,pos){var ctx=S.input.context();js_error(msg,ctx.filename,line!=null?line:ctx.tokline,col!=null?col:ctx.tokcol,pos!=null?pos:ctx.tokpos)}function token_error(token,msg){croak(msg,token.line,token.col)}function unexpected(token){if(token==null)token=S.token;token_error(token,"SyntaxError: Unexpected token: "+token.type+" ("+token.value+")")}function expect_token(type,val){if(is(type,val)){return next()}token_error(S.token,"SyntaxError: Unexpected token "+S.token.type+" «"+S.token.value+"»"+", expected "+type+" «"+val+"»")}function expect(punc){return expect_token("punc",punc)}function can_insert_semicolon(){return!options.strict&&(S.token.nlb||is("eof")||is("punc","}"))}function semicolon(optional){if(is("punc",";"))next();else if(!optional&&!can_insert_semicolon())unexpected()}function parenthesised(){expect("(");var exp=expression(true);expect(")");return exp}function embed_tokens(parser){return function(){var start=S.token;var expr=parser();var end=prev();expr.start=start;expr.end=end;return expr}}function handle_regexp(){if(is("operator","/")||is("operator","/=")){S.peeked=null;S.token=S.input(S.token.value.substr(1))}}var statement=embed_tokens(function(){var tmp;handle_regexp();switch(S.token.type){case"string":var dir=false;if(S.in_directives===true){if((is_token(peek(),"punc",";")||peek().nlb)&&S.token.raw.indexOf("\\")===-1){S.input.add_directive(S.token.value)}else{S.in_directives=false}}var dir=S.in_directives,stat=simple_statement();if(dir){return new AST_Directive({start:stat.body.start,end:stat.body.end,quote:stat.body.quote,value:stat.body.value})}return stat;case"num":case"regexp":case"operator":case"atom":return simple_statement();case"name":return is_token(peek(),"punc",":")?labeled_statement():simple_statement();case"punc":switch(S.token.value){case"{":return new AST_BlockStatement({start:S.token,body:block_(),end:prev()});case"[":case"(":return simple_statement();case";":S.in_directives=false;next();return new AST_EmptyStatement;default:unexpected()}case"keyword":switch(tmp=S.token.value,next(),tmp){case"break":return break_cont(AST_Break);case"continue":return break_cont(AST_Continue);case"debugger":semicolon();return new AST_Debugger;case"do":return new AST_Do({body:in_loop(statement),condition:(expect_token("keyword","while"),tmp=parenthesised(),semicolon(true),tmp)});case"while":return new AST_While({condition:parenthesised(),body:in_loop(statement)});case"fo"+"r":return for_();case"function":return function_(AST_Defun);case"if":return if_();case"return":if(S.in_function==0&&!options.bare_returns)croak("SyntaxError: 'return' outside of function");return new AST_Return({value:is("punc",";")?(next(),null):can_insert_semicolon()?null:(tmp=expression(true),semicolon(),tmp)});case"switch":return new AST_Switch({expression:parenthesised(),body:in_loop(switch_body_)});case"throw":if(S.token.nlb)croak("SyntaxError: Illegal newline after 'throw'");return new AST_Throw({value:(tmp=expression(true),semicolon(),tmp)});case"try":return try_();case"var":return tmp=var_(),semicolon(),tmp;case"const":return tmp=const_(),semicolon(),tmp;case"with":if(S.input.has_directive("use strict")){croak("SyntaxError: Strict mode may not include a with statement")}return new AST_With({expression:parenthesised(),body:statement()});default:unexpected()}}});function labeled_statement(){var label=as_symbol(AST_Label);if(find_if(function(l){return l.name==label.name},S.labels)){croak("SyntaxError: Label "+label.name+" defined twice")}expect(":");S.labels.push(label);var stat=statement();S.labels.pop();if(!(stat instanceof AST_IterationStatement)){label.references.forEach(function(ref){if(ref instanceof AST_Continue){ref=ref.label.start;croak("SyntaxError: Continue label `"+label.name+"` refers to non-IterationStatement.",ref.line,ref.col,ref.pos)}})}return new AST_LabeledStatement({body:stat,label:label})}function simple_statement(tmp){return new AST_SimpleStatement({body:(tmp=expression(true),semicolon(),tmp)})}function break_cont(type){var label=null,ldef;if(!can_insert_semicolon()){label=as_symbol(AST_LabelRef,true)}if(label!=null){ldef=find_if(function(l){return l.name==label.name},S.labels);if(!ldef)croak("SyntaxError: Undefined label "+label.name);label.thedef=ldef}else if(S.in_loop==0)croak("SyntaxError: "+type.TYPE+" not inside a loop or switch");semicolon();var stat=new type({label:label});if(ldef)ldef.references.push(stat);return stat}function for_(){expect("(");var init=null;if(!is("punc",";")){init=is("keyword","var")?(next(),var_(true)):expression(true,true);if(is("operator","in")){if(init instanceof AST_Var&&init.definitions.length>1)croak("SyntaxError: Only one variable declaration allowed in for..in loop");next();return for_in(init)}}return regular_for(init)}function regular_for(init){expect(";");var test=is("punc",";")?null:expression(true);expect(";");var step=is("punc",")")?null:expression(true);expect(")");return new AST_For({init:init,condition:test,step:step,body:in_loop(statement)})}function for_in(init){var lhs=init instanceof AST_Var?init.definitions[0].name:null;var obj=expression(true);expect(")");return new AST_ForIn({init:init,name:lhs,object:obj,body:in_loop(statement)})}var function_=function(ctor){var in_statement=ctor===AST_Defun;var name=is("name")?as_symbol(in_statement?AST_SymbolDefun:AST_SymbolLambda):null;if(in_statement&&!name)unexpected();expect("(");return new ctor({name:name,argnames:function(first,a){while(!is("punc",")")){if(first)first=false;else expect(",");a.push(as_symbol(AST_SymbolFunarg))}next();return a}(true,[]),body:function(loop,labels){++S.in_function;S.in_directives=true;S.input.push_directives_stack();S.in_loop=0;S.labels=[];var a=block_();S.input.pop_directives_stack();--S.in_function;S.in_loop=loop;S.labels=labels;return a}(S.in_loop,S.labels)})};function if_(){var cond=parenthesised(),body=statement(),belse=null;if(is("keyword","else")){next();belse=statement()}return new AST_If({condition:cond,body:body,alternative:belse})}function block_(){expect("{");var a=[];while(!is("punc","}")){if(is("eof"))unexpected();a.push(statement())}next();return a}function switch_body_(){expect("{");var a=[],cur=null,branch=null,tmp;while(!is("punc","}")){if(is("eof"))unexpected();if(is("keyword","case")){if(branch)branch.end=prev();cur=[];branch=new AST_Case({start:(tmp=S.token,next(),tmp),expression:expression(true),body:cur});a.push(branch);expect(":")}else if(is("keyword","default")){if(branch)branch.end=prev();cur=[];branch=new AST_Default({start:(tmp=S.token,next(),expect(":"),tmp),body:cur});a.push(branch)}else{if(!cur)unexpected();cur.push(statement())}}if(branch)branch.end=prev();next();return a}function try_(){var body=block_(),bcatch=null,bfinally=null;if(is("keyword","catch")){var start=S.token;next();expect("(");var name=as_symbol(AST_SymbolCatch);expect(")");bcatch=new AST_Catch({start:start,argname:name,body:block_(),end:prev()})}if(is("keyword","finally")){var start=S.token;next();bfinally=new AST_Finally({start:start,body:block_(),end:prev()})}if(!bcatch&&!bfinally)croak("SyntaxError: Missing catch/finally blocks");return new AST_Try({body:body,bcatch:bcatch,bfinally:bfinally})}function vardefs(no_in,in_const){var a=[];for(;;){a.push(new AST_VarDef({start:S.token,name:as_symbol(in_const?AST_SymbolConst:AST_SymbolVar),value:is("operator","=")?(next(),expression(false,no_in)):null,end:prev()}));if(!is("punc",","))break;next()}return a}var var_=function(no_in){return new AST_Var({start:prev(),definitions:vardefs(no_in,false),end:prev()})};var const_=function(){return new AST_Const({start:prev(),definitions:vardefs(false,true),end:prev()})};var new_=function(allow_calls){var start=S.token;expect_token("operator","new");var newexp=expr_atom(false),args;if(is("punc","(")){next();args=expr_list(")")}else{args=[]}return subscripts(new AST_New({start:start,expression:newexp,args:args,end:prev()}),allow_calls)};function as_atom_node(){var tok=S.token,ret;switch(tok.type){case"name":case"keyword":ret=_make_symbol(AST_SymbolRef);break;case"num":ret=new AST_Number({start:tok,end:tok,value:tok.value});break;case"string":ret=new AST_String({start:tok,end:tok,value:tok.value,quote:tok.quote});break;case"regexp":ret=new AST_RegExp({start:tok,end:tok,value:tok.value});break;case"atom":switch(tok.value){case"false":ret=new AST_False({start:tok,end:tok});break;case"true":ret=new AST_True({start:tok,end:tok});break;case"null":ret=new AST_Null({start:tok,end:tok});break}break;case"operator":if(!is_identifier_string(tok.value)){croak("SyntaxError: Invalid getter/setter name: "+tok.value,tok.line,tok.col,tok.pos)}ret=_make_symbol(AST_SymbolRef);break}next();return ret}var expr_atom=function(allow_calls){if(is("operator","new")){return new_(allow_calls)}var start=S.token;if(is("punc")){switch(start.value){case"(":next();var ex=expression(true);ex.start=start;ex.end=S.token;expect(")");return subscripts(ex,allow_calls);case"[":return subscripts(array_(),allow_calls);case"{":return subscripts(object_(),allow_calls)}unexpected()}if(is("keyword","function")){next();var func=function_(AST_Function);func.start=start;func.end=prev();return subscripts(func,allow_calls)}if(ATOMIC_START_TOKEN[S.token.type]){return subscripts(as_atom_node(),allow_calls)}unexpected()};function expr_list(closing,allow_trailing_comma,allow_empty){var first=true,a=[];while(!is("punc",closing)){if(first)first=false;else expect(",");if(allow_trailing_comma&&is("punc",closing))break;if(is("punc",",")&&allow_empty){a.push(new AST_Hole({start:S.token,end:S.token}))}else{a.push(expression(false))}}next();return a}var array_=embed_tokens(function(){expect("[");return new AST_Array({elements:expr_list("]",!options.strict,true)})});var object_=embed_tokens(function(){expect("{");var first=true,a=[];while(!is("punc","}")){if(first)first=false;else expect(",");if(!options.strict&&is("punc","}"))break;var start=S.token;var type=start.type;var name=as_property_name();if(type=="name"&&!is("punc",":")){if(name=="get"){a.push(new AST_ObjectGetter({start:start,key:as_atom_node(),value:function_(AST_Accessor),end:prev()}));continue}if(name=="set"){a.push(new AST_ObjectSetter({start:start,key:as_atom_node(),value:function_(AST_Accessor),end:prev()}));continue}}expect(":");a.push(new AST_ObjectKeyVal({start:start,quote:start.quote,key:name,value:expression(false),end:prev()}))}next();return new AST_Object({properties:a})});function as_property_name(){var tmp=S.token;next();switch(tmp.type){case"num":case"string":case"name":case"operator":case"keyword":case"atom":return tmp.value;default:unexpected()}}function as_name(){var tmp=S.token;next();switch(tmp.type){case"name":case"operator":case"keyword":case"atom":return tmp.value;default:unexpected()}}function _make_symbol(type){var name=S.token.value;return new(name=="this"?AST_This:type)({name:String(name),start:S.token,end:S.token})}function as_symbol(type,noerror){if(!is("name")){if(!noerror)croak("SyntaxError: Name expected");return null}var sym=_make_symbol(type);next();return sym}var subscripts=function(expr,allow_calls){var start=expr.start;if(is("punc",".")){next();return subscripts(new AST_Dot({start:start,expression:expr,property:as_name(),end:prev()}),allow_calls)}if(is("punc","[")){next();var prop=expression(true);expect("]");return subscripts(new AST_Sub({start:start,expression:expr,property:prop,end:prev()}),allow_calls)}if(allow_calls&&is("punc","(")){next();return subscripts(new AST_Call({start:start,expression:expr,args:expr_list(")"),end:prev()}),true)}return expr};var maybe_unary=function(allow_calls){var start=S.token;if(is("operator")&&UNARY_PREFIX(start.value)){next();handle_regexp();var ex=make_unary(AST_UnaryPrefix,start.value,maybe_unary(allow_calls));ex.start=start;ex.end=prev();return ex}var val=expr_atom(allow_calls);while(is("operator")&&UNARY_POSTFIX(S.token.value)&&!S.token.nlb){val=make_unary(AST_UnaryPostfix,S.token.value,val);val.start=start;val.end=S.token;next()}return val};function make_unary(ctor,op,expr){if((op=="++"||op=="--")&&!is_assignable(expr))croak("SyntaxError: Invalid use of "+op+" operator");return new ctor({operator:op,expression:expr})}var expr_op=function(left,min_prec,no_in){var op=is("operator")?S.token.value:null;if(op=="in"&&no_in)op=null;var prec=op!=null?PRECEDENCE[op]:null;if(prec!=null&&prec>min_prec){next();var right=expr_op(maybe_unary(true),prec,no_in);return expr_op(new AST_Binary({start:left.start,left:left,operator:op,right:right,end:right.end}),min_prec,no_in)}return left};function expr_ops(no_in){return expr_op(maybe_unary(true),0,no_in)}var maybe_conditional=function(no_in){var start=S.token;var expr=expr_ops(no_in);if(is("operator","?")){next();var yes=expression(false);expect(":");return new AST_Conditional({start:start,condition:expr,consequent:yes,alternative:expression(false,no_in),end:prev()})}return expr};function is_assignable(expr){if(!options.strict)return true;if(expr instanceof AST_This)return false;return expr instanceof AST_PropAccess||expr instanceof AST_Symbol}var maybe_assign=function(no_in){var start=S.token;var left=maybe_conditional(no_in),val=S.token.value;if(is("operator")&&ASSIGNMENT(val)){if(is_assignable(left)){next();return new AST_Assign({start:start,left:left,operator:val,right:maybe_assign(no_in),end:prev()})}croak("SyntaxError: Invalid assignment")}return left};var expression=function(commas,no_in){var start=S.token;var expr=maybe_assign(no_in);if(commas&&is("punc",",")){next();return new AST_Seq({start:start,car:expr,cdr:expression(true,no_in),end:peek()})}return expr};function in_loop(cont){++S.in_loop;var ret=cont();--S.in_loop;return ret}if(options.expression){return expression(true)}return function(){var start=S.token;var body=[];S.input.push_directives_stack();while(!is("eof"))body.push(statement());S.input.pop_directives_stack();var end=prev();var toplevel=options.toplevel;if(toplevel){toplevel.body=toplevel.body.concat(body);toplevel.end=end}else{toplevel=new AST_Toplevel({start:start,body:body,end:end})}return toplevel}()}"use strict";function TreeTransformer(before,after){TreeWalker.call(this);this.before=before;this.after=after}TreeTransformer.prototype=new TreeWalker;(function(undefined){function _(node,descend){node.DEFMETHOD("transform",function(tw,in_list){var x,y;tw.push(this);if(tw.before)x=tw.before(this,descend,in_list);if(x===undefined){if(!tw.after){x=this;descend(x,tw)}else{tw.stack[tw.stack.length-1]=x=this;descend(x,tw);y=tw.after(x,in_list);if(y!==undefined)x=y}}tw.pop(this);return x})}function do_list(list,tw){return MAP(list,function(node){return node.transform(tw,true)})}_(AST_Node,noop);_(AST_LabeledStatement,function(self,tw){self.label=self.label.transform(tw);self.body=self.body.transform(tw)});_(AST_SimpleStatement,function(self,tw){self.body=self.body.transform(tw)});_(AST_Block,function(self,tw){self.body=do_list(self.body,tw)});_(AST_DWLoop,function(self,tw){self.condition=self.condition.transform(tw);self.body=self.body.transform(tw)});_(AST_For,function(self,tw){if(self.init)self.init=self.init.transform(tw);if(self.condition)self.condition=self.condition.transform(tw);if(self.step)self.step=self.step.transform(tw);self.body=self.body.transform(tw)});_(AST_ForIn,function(self,tw){self.init=self.init.transform(tw);self.object=self.object.transform(tw);self.body=self.body.transform(tw)});_(AST_With,function(self,tw){self.expression=self.expression.transform(tw);self.body=self.body.transform(tw)});_(AST_Exit,function(self,tw){if(self.value)self.value=self.value.transform(tw)});_(AST_LoopControl,function(self,tw){if(self.label)self.label=self.label.transform(tw)});_(AST_If,function(self,tw){self.condition=self.condition.transform(tw);self.body=self.body.transform(tw);if(self.alternative)self.alternative=self.alternative.transform(tw)});_(AST_Switch,function(self,tw){self.expression=self.expression.transform(tw);self.body=do_list(self.body,tw)});_(AST_Case,function(self,tw){self.expression=self.expression.transform(tw);self.body=do_list(self.body,tw)});_(AST_Try,function(self,tw){self.body=do_list(self.body,tw);if(self.bcatch)self.bcatch=self.bcatch.transform(tw);if(self.bfinally)self.bfinally=self.bfinally.transform(tw)});_(AST_Catch,function(self,tw){self.argname=self.argname.transform(tw);self.body=do_list(self.body,tw)});_(AST_Definitions,function(self,tw){self.definitions=do_list(self.definitions,tw)});_(AST_VarDef,function(self,tw){self.name=self.name.transform(tw);if(self.value)self.value=self.value.transform(tw)});_(AST_Lambda,function(self,tw){if(self.name)self.name=self.name.transform(tw);self.argnames=do_list(self.argnames,tw);self.body=do_list(self.body,tw)});_(AST_Call,function(self,tw){self.expression=self.expression.transform(tw);self.args=do_list(self.args,tw)});_(AST_Seq,function(self,tw){self.car=self.car.transform(tw);self.cdr=self.cdr.transform(tw)});_(AST_Dot,function(self,tw){self.expression=self.expression.transform(tw)});_(AST_Sub,function(self,tw){self.expression=self.expression.transform(tw);self.property=self.property.transform(tw)});_(AST_Unary,function(self,tw){self.expression=self.expression.transform(tw)});_(AST_Binary,function(self,tw){self.left=self.left.transform(tw);self.right=self.right.transform(tw)});_(AST_Conditional,function(self,tw){self.condition=self.condition.transform(tw);self.consequent=self.consequent.transform(tw);self.alternative=self.alternative.transform(tw)});_(AST_Array,function(self,tw){self.elements=do_list(self.elements,tw)});_(AST_Object,function(self,tw){self.properties=do_list(self.properties,tw)});_(AST_ObjectProperty,function(self,tw){self.value=self.value.transform(tw)})})();"use strict";function SymbolDef(scope,index,orig){this.name=orig.name;this.orig=[orig];this.scope=scope;this.references=[];this.global=false;this.mangled_name=null;this.undeclared=false;this.constant=false;this.index=index;this.id=SymbolDef.next_id++}SymbolDef.next_id=1;SymbolDef.prototype={unmangleable:function(options){if(!options)options={};return this.global&&!options.toplevel||this.undeclared||!options.eval&&(this.scope.uses_eval||this.scope.uses_with)||options.keep_fnames&&(this.orig[0]instanceof AST_SymbolLambda||this.orig[0]instanceof AST_SymbolDefun)},mangle:function(options){var cache=options.cache&&options.cache.props;if(this.global&&cache&&cache.has(this.name)){this.mangled_name=cache.get(this.name)}else if(!this.mangled_name&&!this.unmangleable(options)){var s=this.scope;if(!options.screw_ie8&&this.orig[0]instanceof AST_SymbolLambda)s=s.parent_scope;this.mangled_name=s.next_mangled(options,this);if(this.global&&cache){cache.set(this.name,this.mangled_name)}}}};AST_Toplevel.DEFMETHOD("figure_out_scope",function(options){options=defaults(options,{screw_ie8:true,cache:null});var self=this;var scope=self.parent_scope=null;var labels=new Dictionary;var defun=null;var last_var_had_const_pragma=false;var nesting=0;var tw=new TreeWalker(function(node,descend){if(options.screw_ie8&&node instanceof AST_Catch){var save_scope=scope;scope=new AST_Scope(node);scope.init_scope_vars(nesting);scope.parent_scope=save_scope;descend();scope=save_scope;return true}if(node instanceof AST_Scope){node.init_scope_vars(nesting);var save_scope=node.parent_scope=scope;var save_defun=defun;var save_labels=labels;defun=scope=node;labels=new Dictionary;++nesting;descend();--nesting;scope=save_scope;defun=save_defun;labels=save_labels;return true}if(node instanceof AST_LabeledStatement){var l=node.label;if(labels.has(l.name)){throw new Error(string_template("Label {name} defined twice",l))}labels.set(l.name,l);descend();labels.del(l.name);return true}if(node instanceof AST_With){for(var s=scope;s;s=s.parent_scope)s.uses_with=true;return}if(node instanceof AST_Symbol){node.scope=scope}if(node instanceof AST_Label){node.thedef=node;node.references=[]}if(node instanceof AST_SymbolLambda){defun.def_function(node)}else if(node instanceof AST_SymbolDefun){(node.scope=defun.parent_scope).def_function(node)}else if(node instanceof AST_Var){last_var_had_const_pragma=node.has_const_pragma()}else if(node instanceof AST_SymbolVar||node instanceof AST_SymbolConst){var def=defun.def_variable(node);def.constant=node instanceof AST_SymbolConst||last_var_had_const_pragma;def.init=tw.parent().value}else if(node instanceof AST_SymbolCatch){(options.screw_ie8?scope:defun).def_variable(node)}else if(node instanceof AST_LabelRef){var sym=labels.get(node.name);if(!sym)throw new Error(string_template("Undefined label {name} [{line},{col}]",{name:node.name,line:node.start.line,col:node.start.col}));node.thedef=sym}});self.walk(tw);var func=null;var globals=self.globals=new Dictionary;var tw=new TreeWalker(function(node,descend){if(node instanceof AST_Lambda){var prev_func=func;func=node;descend();func=prev_func;return true}if(node instanceof AST_LoopControl&&node.label){node.label.thedef.references.push(node);return true}if(node instanceof AST_SymbolRef){var name=node.name;if(name=="eval"&&tw.parent()instanceof AST_Call){for(var s=node.scope;s&&!s.uses_eval;s=s.parent_scope){s.uses_eval=true}}var sym=node.scope.find_variable(name);if(!sym){var g;if(globals.has(name)){g=globals.get(name)}else{g=new SymbolDef(self,globals.size(),node);g.undeclared=true;g.global=true;globals.set(name,g)}node.thedef=g;if(func&&name=="arguments"){func.uses_arguments=true}}else{node.thedef=sym}node.reference();return true}});self.walk(tw);if(options.cache){this.cname=options.cache.cname}});AST_Scope.DEFMETHOD("init_scope_vars",function(nesting){this.variables=new Dictionary;this.functions=new Dictionary;this.uses_with=false;this.uses_eval=false;this.parent_scope=null;this.enclosed=[];this.cname=-1;this.nesting=nesting});AST_Lambda.DEFMETHOD("init_scope_vars",function(){AST_Scope.prototype.init_scope_vars.apply(this,arguments);this.uses_arguments=false;var symbol=new AST_VarDef({name:"arguments",start:this.start,end:this.end});var def=new SymbolDef(this,this.variables.size(),symbol);this.variables.set(symbol.name,def)});AST_SymbolRef.DEFMETHOD("reference",function(){var def=this.definition();def.references.push(this);var s=this.scope;while(s){push_uniq(s.enclosed,def);if(s===def.scope)break;s=s.parent_scope}this.frame=this.scope.nesting-def.scope.nesting});AST_Scope.DEFMETHOD("find_variable",function(name){if(name instanceof AST_Symbol)name=name.name;return this.variables.get(name)||this.parent_scope&&this.parent_scope.find_variable(name)});AST_Scope.DEFMETHOD("def_function",function(symbol){this.functions.set(symbol.name,this.def_variable(symbol))});AST_Scope.DEFMETHOD("def_variable",function(symbol){var def;if(!this.variables.has(symbol.name)){def=new SymbolDef(this,this.variables.size(),symbol);this.variables.set(symbol.name,def);def.global=!this.parent_scope}else{def=this.variables.get(symbol.name);def.orig.push(symbol)}return symbol.thedef=def});AST_Scope.DEFMETHOD("next_mangled",function(options){var ext=this.enclosed;out:while(true){var m=base54(++this.cname);if(!is_identifier(m))continue;if(options.except.indexOf(m)>=0)continue;for(var i=ext.length;--i>=0;){var sym=ext[i];var name=sym.mangled_name||sym.unmangleable(options)&&sym.name;if(m==name)continue out}return m}});AST_Function.DEFMETHOD("next_mangled",function(options,def){var tricky_def=def.orig[0]instanceof AST_SymbolFunarg&&this.name&&this.name.definition();while(true){var name=AST_Lambda.prototype.next_mangled.call(this,options,def);if(!(tricky_def&&tricky_def.mangled_name==name))return name}});AST_Scope.DEFMETHOD("references",function(sym){if(sym instanceof AST_Symbol)sym=sym.definition();return this.enclosed.indexOf(sym)<0?null:sym});AST_Symbol.DEFMETHOD("unmangleable",function(options){return this.definition().unmangleable(options)});AST_SymbolAccessor.DEFMETHOD("unmangleable",function(){return true});AST_Label.DEFMETHOD("unmangleable",function(){return false});AST_Symbol.DEFMETHOD("unreferenced",function(){return this.definition().references.length==0&&!(this.scope.uses_eval||this.scope.uses_with)});AST_Symbol.DEFMETHOD("undeclared",function(){return this.definition().undeclared});AST_LabelRef.DEFMETHOD("undeclared",function(){return false});AST_Label.DEFMETHOD("undeclared",function(){return false});AST_Symbol.DEFMETHOD("definition",function(){return this.thedef});AST_Symbol.DEFMETHOD("global",function(){return this.definition().global});AST_Var.DEFMETHOD("has_const_pragma",function(){var comments_before=this.start&&this.start.comments_before;var lastComment=comments_before&&comments_before[comments_before.length-1];return lastComment&&/@const\b/.test(lastComment.value)});AST_Toplevel.DEFMETHOD("_default_mangler_options",function(options){return defaults(options,{except:[],eval:false,sort:false,toplevel:false,screw_ie8:true,keep_fnames:false})});AST_Toplevel.DEFMETHOD("mangle_names",function(options){options=this._default_mangler_options(options);options.except.push("arguments");var lname=-1;var to_mangle=[];if(options.cache){this.globals.each(function(symbol){if(options.except.indexOf(symbol.name)<0){to_mangle.push(symbol)}})}var tw=new TreeWalker(function(node,descend){if(node instanceof AST_LabeledStatement){var save_nesting=lname;descend();lname=save_nesting;return true}if(node instanceof AST_Scope){var p=tw.parent(),a=[];node.variables.each(function(symbol){if(options.except.indexOf(symbol.name)<0){a.push(symbol)}});to_mangle.push.apply(to_mangle,a);return}if(node instanceof AST_Label){var name;do name=base54(++lname);while(!is_identifier(name));node.mangled_name=name;return true}if(options.screw_ie8&&node instanceof AST_SymbolCatch){to_mangle.push(node.definition());return}});this.walk(tw);to_mangle.forEach(function(def){def.mangle(options)});if(options.cache){options.cache.cname=this.cname}});AST_Toplevel.DEFMETHOD("compute_char_frequency",function(options){options=this._default_mangler_options(options);var tw=new TreeWalker(function(node){if(node instanceof AST_Constant)base54.consider(node.print_to_string());else if(node instanceof AST_Return)base54.consider("return");else if(node instanceof AST_Throw)base54.consider("throw");else if(node instanceof AST_Continue)base54.consider("continue");else if(node instanceof AST_Break)base54.consider("break");else if(node instanceof AST_Debugger)base54.consider("debugger");else if(node instanceof AST_Directive)base54.consider(node.value);else if(node instanceof AST_While)base54.consider("while");else if(node instanceof AST_Do)base54.consider("do while");else if(node instanceof AST_If){base54.consider("if");if(node.alternative)base54.consider("else")}else if(node instanceof AST_Var)base54.consider("var");else if(node instanceof AST_Const)base54.consider("const");else if(node instanceof AST_Lambda)base54.consider("function");else if(node instanceof AST_For)base54.consider("fo"+"r");else if(node instanceof AST_ForIn)base54.consider("for in");else if(node instanceof AST_Switch)base54.consider("switch");else if(node instanceof AST_Case)base54.consider("case");else if(node instanceof AST_Default)base54.consider("default");else if(node instanceof AST_With)base54.consider("with");else if(node instanceof AST_ObjectSetter)base54.consider("set"+node.key);else if(node instanceof AST_ObjectGetter)base54.consider("get"+node.key);else if(node instanceof AST_ObjectKeyVal)base54.consider(node.key);else if(node instanceof AST_New)base54.consider("new");else if(node instanceof AST_This)base54.consider("this");else if(node instanceof AST_Try)base54.consider("try");else if(node instanceof AST_Catch)base54.consider("catch");else if(node instanceof AST_Finally)base54.consider("finally");else if(node instanceof AST_Symbol&&node.unmangleable(options))base54.consider(node.name);else if(node instanceof AST_Unary||node instanceof AST_Binary)base54.consider(node.operator);else if(node instanceof AST_Dot)base54.consider(node.property)});this.walk(tw);base54.sort()});var base54=function(){var string="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ$_0123456789";var chars,frequency;function reset(){frequency=Object.create(null);chars=string.split("").map(function(ch){return ch.charCodeAt(0)});chars.forEach(function(ch){frequency[ch]=0})}base54.consider=function(str){for(var i=str.length;--i>=0;){var code=str.charCodeAt(i);if(code in frequency)++frequency[code]}};base54.sort=function(){chars=mergeSort(chars,function(a,b){if(is_digit(a)&&!is_digit(b))return 1;if(is_digit(b)&&!is_digit(a))return-1;return frequency[b]-frequency[a]})};base54.reset=reset;reset();base54.get=function(){return chars};base54.freq=function(){return frequency};function base54(num){var ret="",base=54;num++;do{num--;ret+=String.fromCharCode(chars[num%base]);num=Math.floor(num/base);base=64}while(num>0);return ret}return base54}();AST_Toplevel.DEFMETHOD("scope_warnings",function(options){options=defaults(options,{undeclared:false,unreferenced:true,assign_to_global:true,func_arguments:true,nested_defuns:true,eval:true});var tw=new TreeWalker(function(node){if(options.undeclared&&node instanceof AST_SymbolRef&&node.undeclared()){AST_Node.warn("Undeclared symbol: {name} [{file}:{line},{col}]",{name:node.name,file:node.start.file,line:node.start.line,col:node.start.col})}if(options.assign_to_global){var sym=null;if(node instanceof AST_Assign&&node.left instanceof AST_SymbolRef)sym=node.left;else if(node instanceof AST_ForIn&&node.init instanceof AST_SymbolRef)sym=node.init;if(sym&&(sym.undeclared()||sym.global()&&sym.scope!==sym.definition().scope)){AST_Node.warn("{msg}: {name} [{file}:{line},{col}]",{msg:sym.undeclared()?"Accidental global?":"Assignment to global",name:sym.name,file:sym.start.file,line:sym.start.line,col:sym.start.col})}}if(options.eval&&node instanceof AST_SymbolRef&&node.undeclared()&&node.name=="eval"){AST_Node.warn("Eval is used [{file}:{line},{col}]",node.start)}if(options.unreferenced&&(node instanceof AST_SymbolDeclaration||node instanceof AST_Label)&&!(node instanceof AST_SymbolCatch)&&node.unreferenced()){AST_Node.warn("{type} {name} is declared but not referenced [{file}:{line},{col}]",{type:node instanceof AST_Label?"Label":"Symbol",name:node.name,file:node.start.file,line:node.start.line,col:node.start.col})}if(options.func_arguments&&node instanceof AST_Lambda&&node.uses_arguments){AST_Node.warn("arguments used in function {name} [{file}:{line},{col}]",{name:node.name?node.name.name:"anonymous",file:node.start.file,
line:node.start.line,col:node.start.col})}if(options.nested_defuns&&node instanceof AST_Defun&&!(tw.parent()instanceof AST_Scope)){AST_Node.warn('Function {name} declared in nested statement "{type}" [{file}:{line},{col}]',{name:node.name.name,type:tw.parent().TYPE,file:node.start.file,line:node.start.line,col:node.start.col})}});this.walk(tw)});"use strict";var EXPECT_DIRECTIVE=/^$|[;{][\s\n]*$/;function OutputStream(options){options=defaults(options,{indent_start:0,indent_level:4,quote_keys:false,space_colon:true,ascii_only:false,unescape_regexps:false,inline_script:false,width:80,max_line_len:32e3,beautify:false,source_map:null,bracketize:false,semicolons:true,comments:false,shebang:true,preserve_line:false,screw_ie8:true,preamble:null,quote_style:0,keep_quoted_props:false},true);var indentation=0;var current_col=0;var current_line=1;var current_pos=0;var OUTPUT="";function to_ascii(str,identifier){return str.replace(/[\u0000-\u001f\u007f-\uffff]/g,function(ch){var code=ch.charCodeAt(0).toString(16);if(code.length<=2&&!identifier){while(code.length<2)code="0"+code;return"\\x"+code}else{while(code.length<4)code="0"+code;return"\\u"+code}})}function make_string(str,quote){var dq=0,sq=0;str=str.replace(/[\\\b\f\n\r\v\t\x22\x27\u2028\u2029\0\ufeff]/g,function(s,i){switch(s){case'"':++dq;return'"';case"'":++sq;return"'";case"\\":return"\\\\";case"\n":return"\\n";case"\r":return"\\r";case"\t":return"\\t";case"\b":return"\\b";case"\f":return"\\f";case"\v":return options.screw_ie8?"\\v":"\\x0B";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";case"\ufeff":return"\\ufeff";case"\0":return/[0-7]/.test(str.charAt(i+1))?"\\x00":"\\0"}return s});function quote_single(){return"'"+str.replace(/\x27/g,"\\'")+"'"}function quote_double(){return'"'+str.replace(/\x22/g,'\\"')+'"'}if(options.ascii_only)str=to_ascii(str);switch(options.quote_style){case 1:return quote_single();case 2:return quote_double();case 3:return quote=="'"?quote_single():quote_double();default:return dq>sq?quote_single():quote_double()}}function encode_string(str,quote){var ret=make_string(str,quote);if(options.inline_script){ret=ret.replace(/<\x2fscript([>\/\t\n\f\r ])/gi,"<\\/script$1");ret=ret.replace(/\x3c!--/g,"\\x3c!--");ret=ret.replace(/--\x3e/g,"--\\x3e")}return ret}function make_name(name){name=name.toString();if(options.ascii_only)name=to_ascii(name,true);return name}function make_indent(back){return repeat_string(" ",options.indent_start+indentation-back*options.indent_level)}var might_need_space=false;var might_need_semicolon=false;var last=null;function last_char(){return last.charAt(last.length-1)}function maybe_newline(){if(options.max_line_len&&current_col>options.max_line_len)print("\n")}var requireSemicolonChars=makePredicate("( [ + * / - , .");function print(str){str=String(str);var ch=str.charAt(0);if(might_need_semicolon){might_need_semicolon=false;if((!ch||";}".indexOf(ch)<0)&&!/[;]$/.test(last)){if(options.semicolons||requireSemicolonChars(ch)){OUTPUT+=";";current_col++;current_pos++}else{OUTPUT+="\n";current_pos++;current_line++;current_col=0;if(/^\s+$/.test(str)){might_need_semicolon=true}}if(!options.beautify)might_need_space=false}}if(!options.beautify&&options.preserve_line&&stack[stack.length-1]){var target_line=stack[stack.length-1].start.line;while(current_line<target_line){OUTPUT+="\n";current_pos++;current_line++;current_col=0;might_need_space=false}}if(might_need_space){var prev=last_char();if(is_identifier_char(prev)&&(is_identifier_char(ch)||ch=="\\")||/^[\+\-\/]$/.test(ch)&&ch==prev){OUTPUT+=" ";current_col++;current_pos++}might_need_space=false}var a=str.split(/\r?\n/),n=a.length-1;current_line+=n;if(n==0){current_col+=a[n].length}else{current_col=a[n].length}current_pos+=str.length;last=str;OUTPUT+=str}var space=options.beautify?function(){print(" ")}:function(){might_need_space=true};var indent=options.beautify?function(half){if(options.beautify){print(make_indent(half?.5:0))}}:noop;var with_indent=options.beautify?function(col,cont){if(col===true)col=next_indent();var save_indentation=indentation;indentation=col;var ret=cont();indentation=save_indentation;return ret}:function(col,cont){return cont()};var newline=options.beautify?function(){print("\n")}:maybe_newline;var semicolon=options.beautify?function(){print(";")}:function(){might_need_semicolon=true};function force_semicolon(){might_need_semicolon=false;print(";")}function next_indent(){return indentation+options.indent_level}function with_block(cont){var ret;print("{");newline();with_indent(next_indent(),function(){ret=cont()});indent();print("}");return ret}function with_parens(cont){print("(");var ret=cont();print(")");return ret}function with_square(cont){print("[");var ret=cont();print("]");return ret}function comma(){print(",");space()}function colon(){print(":");if(options.space_colon)space()}var add_mapping=options.source_map?function(token,name){try{if(token)options.source_map.add(token.file||"?",current_line,current_col,token.line,token.col,!name&&token.type=="name"?token.value:name)}catch(ex){AST_Node.warn("Couldn't figure out mapping for {file}:{line},{col} → {cline},{ccol} [{name}]",{file:token.file,line:token.line,col:token.col,cline:current_line,ccol:current_col,name:name||""})}}:noop;function get(){return OUTPUT}if(options.preamble){print(options.preamble.replace(/\r\n?|[\n\u2028\u2029]|\s*$/g,"\n"))}var stack=[];return{get:get,toString:get,indent:indent,indentation:function(){return indentation},current_width:function(){return current_col-indentation},should_break:function(){return options.width&&this.current_width()>=options.width},newline:newline,print:print,space:space,comma:comma,colon:colon,last:function(){return last},semicolon:semicolon,force_semicolon:force_semicolon,to_ascii:to_ascii,print_name:function(name){print(make_name(name))},print_string:function(str,quote,escape_directive){var encoded=encode_string(str,quote);if(escape_directive===true&&encoded.indexOf("\\")===-1){if(!EXPECT_DIRECTIVE.test(OUTPUT)){force_semicolon()}force_semicolon()}print(encoded)},encode_string:encode_string,next_indent:next_indent,with_indent:with_indent,with_block:with_block,with_parens:with_parens,with_square:with_square,add_mapping:add_mapping,option:function(opt){return options[opt]},line:function(){return current_line},col:function(){return current_col},pos:function(){return current_pos},push_node:function(node){stack.push(node)},pop_node:function(){return stack.pop()},stack:function(){return stack},parent:function(n){return stack[stack.length-2-(n||0)]}}}(function(){function DEFPRINT(nodetype,generator){nodetype.DEFMETHOD("_codegen",generator)}var use_asm=false;var in_directive=false;AST_Node.DEFMETHOD("print",function(stream,force_parens){var self=this,generator=self._codegen,prev_use_asm=use_asm;if(self instanceof AST_Directive&&self.value=="use asm"&&stream.parent()instanceof AST_Scope){use_asm=true}function doit(){self.add_comments(stream);self.add_source_map(stream);generator(self,stream)}stream.push_node(self);if(force_parens||self.needs_parens(stream)){stream.with_parens(doit)}else{doit()}stream.pop_node();if(self instanceof AST_Scope){use_asm=prev_use_asm}});AST_Node.DEFMETHOD("print_to_string",function(options){var s=OutputStream(options);if(!options)s._readonly=true;this.print(s);return s.get()});AST_Node.DEFMETHOD("add_comments",function(output){if(output._readonly)return;var c=output.option("comments"),self=this;var start=self.start;if(start&&!start._comments_dumped){start._comments_dumped=true;var comments=start.comments_before||[];if(self instanceof AST_Exit&&self.value){self.value.walk(new TreeWalker(function(node){if(node.start&&node.start.comments_before){comments=comments.concat(node.start.comments_before);node.start.comments_before=[]}if(node instanceof AST_Function||node instanceof AST_Array||node instanceof AST_Object){return true}}))}if(!c){comments=comments.filter(function(comment){return comment.type=="comment5"})}else if(c.test){comments=comments.filter(function(comment){return comment.type=="comment5"||c.test(comment.value)})}else if(typeof c=="function"){comments=comments.filter(function(comment){return comment.type=="comment5"||c(self,comment)})}if(!output.option("beautify")&&comments.length>0&&/comment[134]/.test(comments[0].type)&&output.col()!==0&&comments[0].nlb){output.print("\n")}comments.forEach(function(c){if(/comment[134]/.test(c.type)){output.print("//"+c.value+"\n");output.indent()}else if(c.type=="comment2"){output.print("/*"+c.value+"*/");if(start.nlb){output.print("\n");output.indent()}else{output.space()}}else if(output.pos()===0&&c.type=="comment5"&&output.option("shebang")){output.print("#!"+c.value+"\n");output.indent()}})}});function PARENS(nodetype,func){if(Array.isArray(nodetype)){nodetype.forEach(function(nodetype){PARENS(nodetype,func)})}else{nodetype.DEFMETHOD("needs_parens",func)}}PARENS(AST_Node,function(){return false});PARENS(AST_Function,function(output){return first_in_statement(output)});PARENS(AST_Object,function(output){return first_in_statement(output)});PARENS([AST_Unary,AST_Undefined],function(output){var p=output.parent();return p instanceof AST_PropAccess&&p.expression===this||p instanceof AST_New});PARENS(AST_Seq,function(output){var p=output.parent();return p instanceof AST_Call||p instanceof AST_Unary||p instanceof AST_Binary||p instanceof AST_VarDef||p instanceof AST_PropAccess||p instanceof AST_Array||p instanceof AST_ObjectProperty||p instanceof AST_Conditional});PARENS(AST_Binary,function(output){var p=output.parent();if(p instanceof AST_Call&&p.expression===this)return true;if(p instanceof AST_Unary)return true;if(p instanceof AST_PropAccess&&p.expression===this)return true;if(p instanceof AST_Binary){var po=p.operator,pp=PRECEDENCE[po];var so=this.operator,sp=PRECEDENCE[so];if(pp>sp||pp==sp&&this===p.right){return true}}});PARENS(AST_PropAccess,function(output){var p=output.parent();if(p instanceof AST_New&&p.expression===this){try{this.walk(new TreeWalker(function(node){if(node instanceof AST_Call)throw p}))}catch(ex){if(ex!==p)throw ex;return true}}});PARENS(AST_Call,function(output){var p=output.parent(),p1;if(p instanceof AST_New&&p.expression===this)return true;return this.expression instanceof AST_Function&&p instanceof AST_PropAccess&&p.expression===this&&(p1=output.parent(1))instanceof AST_Assign&&p1.left===p});PARENS(AST_New,function(output){var p=output.parent();if(!need_constructor_parens(this,output)&&(p instanceof AST_PropAccess||p instanceof AST_Call&&p.expression===this))return true});PARENS(AST_Number,function(output){var p=output.parent();if(p instanceof AST_PropAccess&&p.expression===this){var value=this.getValue();if(value<0||/^0/.test(make_num(value))){return true}}});PARENS([AST_Assign,AST_Conditional],function(output){var p=output.parent();if(p instanceof AST_Unary)return true;if(p instanceof AST_Binary&&!(p instanceof AST_Assign))return true;if(p instanceof AST_Call&&p.expression===this)return true;if(p instanceof AST_Conditional&&p.condition===this)return true;if(p instanceof AST_PropAccess&&p.expression===this)return true});DEFPRINT(AST_Directive,function(self,output){output.print_string(self.value,self.quote);output.semicolon()});DEFPRINT(AST_Debugger,function(self,output){output.print("debugger");output.semicolon()});function display_body(body,is_toplevel,output,allow_directives){var last=body.length-1;in_directive=allow_directives;body.forEach(function(stmt,i){if(in_directive===true&&!(stmt instanceof AST_Directive||stmt instanceof AST_EmptyStatement||stmt instanceof AST_SimpleStatement&&stmt.body instanceof AST_String)){in_directive=false}if(!(stmt instanceof AST_EmptyStatement)){output.indent();stmt.print(output);if(!(i==last&&is_toplevel)){output.newline();if(is_toplevel)output.newline()}}if(in_directive===true&&stmt instanceof AST_SimpleStatement&&stmt.body instanceof AST_String){in_directive=false}});in_directive=false}AST_StatementWithBody.DEFMETHOD("_do_print_body",function(output){force_statement(this.body,output)});DEFPRINT(AST_Statement,function(self,output){self.body.print(output);output.semicolon()});DEFPRINT(AST_Toplevel,function(self,output){display_body(self.body,true,output,true);output.print("")});DEFPRINT(AST_LabeledStatement,function(self,output){self.label.print(output);output.colon();self.body.print(output)});DEFPRINT(AST_SimpleStatement,function(self,output){self.body.print(output);output.semicolon()});function print_bracketed(body,output,allow_directives){if(body.length>0)output.with_block(function(){display_body(body,false,output,allow_directives)});else output.print("{}")}DEFPRINT(AST_BlockStatement,function(self,output){print_bracketed(self.body,output)});DEFPRINT(AST_EmptyStatement,function(self,output){output.semicolon()});DEFPRINT(AST_Do,function(self,output){output.print("do");output.space();self._do_print_body(output);output.space();output.print("while");output.space();output.with_parens(function(){self.condition.print(output)});output.semicolon()});DEFPRINT(AST_While,function(self,output){output.print("while");output.space();output.with_parens(function(){self.condition.print(output)});output.space();self._do_print_body(output)});DEFPRINT(AST_For,function(self,output){output.print("fo"+"r");output.space();output.with_parens(function(){if(self.init&&!(self.init instanceof AST_EmptyStatement)){if(self.init instanceof AST_Definitions){self.init.print(output)}else{parenthesize_for_noin(self.init,output,true)}output.print(";");output.space()}else{output.print(";")}if(self.condition){self.condition.print(output);output.print(";");output.space()}else{output.print(";")}if(self.step){self.step.print(output)}});output.space();self._do_print_body(output)});DEFPRINT(AST_ForIn,function(self,output){output.print("fo"+"r");output.space();output.with_parens(function(){self.init.print(output);output.space();output.print("in");output.space();self.object.print(output)});output.space();self._do_print_body(output)});DEFPRINT(AST_With,function(self,output){output.print("with");output.space();output.with_parens(function(){self.expression.print(output)});output.space();self._do_print_body(output)});AST_Lambda.DEFMETHOD("_do_print",function(output,nokeyword){var self=this;if(!nokeyword){output.print("function")}if(self.name){output.space();self.name.print(output)}output.with_parens(function(){self.argnames.forEach(function(arg,i){if(i)output.comma();arg.print(output)})});output.space();print_bracketed(self.body,output,true)});DEFPRINT(AST_Lambda,function(self,output){self._do_print(output)});AST_Exit.DEFMETHOD("_do_print",function(output,kind){output.print(kind);if(this.value){output.space();this.value.print(output)}output.semicolon()});DEFPRINT(AST_Return,function(self,output){self._do_print(output,"return")});DEFPRINT(AST_Throw,function(self,output){self._do_print(output,"throw")});AST_LoopControl.DEFMETHOD("_do_print",function(output,kind){output.print(kind);if(this.label){output.space();this.label.print(output)}output.semicolon()});DEFPRINT(AST_Break,function(self,output){self._do_print(output,"break")});DEFPRINT(AST_Continue,function(self,output){self._do_print(output,"continue")});function make_then(self,output){if(output.option("bracketize")){make_block(self.body,output);return}if(!self.body)return output.force_semicolon();if(self.body instanceof AST_Do){make_block(self.body,output);return}var b=self.body;while(true){if(b instanceof AST_If){if(!b.alternative){make_block(self.body,output);return}b=b.alternative}else if(b instanceof AST_StatementWithBody){b=b.body}else break}force_statement(self.body,output)}DEFPRINT(AST_If,function(self,output){output.print("if");output.space();output.with_parens(function(){self.condition.print(output)});output.space();if(self.alternative){make_then(self,output);output.space();output.print("else");output.space();force_statement(self.alternative,output)}else{self._do_print_body(output)}});DEFPRINT(AST_Switch,function(self,output){output.print("switch");output.space();output.with_parens(function(){self.expression.print(output)});output.space();if(self.body.length>0)output.with_block(function(){self.body.forEach(function(stmt,i){if(i)output.newline();output.indent(true);stmt.print(output)})});else output.print("{}")});AST_SwitchBranch.DEFMETHOD("_do_print_body",function(output){if(this.body.length>0){output.newline();this.body.forEach(function(stmt){output.indent();stmt.print(output);output.newline()})}});DEFPRINT(AST_Default,function(self,output){output.print("default:");self._do_print_body(output)});DEFPRINT(AST_Case,function(self,output){output.print("case");output.space();self.expression.print(output);output.print(":");self._do_print_body(output)});DEFPRINT(AST_Try,function(self,output){output.print("try");output.space();print_bracketed(self.body,output);if(self.bcatch){output.space();self.bcatch.print(output)}if(self.bfinally){output.space();self.bfinally.print(output)}});DEFPRINT(AST_Catch,function(self,output){output.print("catch");output.space();output.with_parens(function(){self.argname.print(output)});output.space();print_bracketed(self.body,output)});DEFPRINT(AST_Finally,function(self,output){output.print("finally");output.space();print_bracketed(self.body,output)});AST_Definitions.DEFMETHOD("_do_print",function(output,kind){output.print(kind);output.space();this.definitions.forEach(function(def,i){if(i)output.comma();def.print(output)});var p=output.parent();var in_for=p instanceof AST_For||p instanceof AST_ForIn;var avoid_semicolon=in_for&&p.init===this;if(!avoid_semicolon)output.semicolon()});DEFPRINT(AST_Var,function(self,output){self._do_print(output,"var")});DEFPRINT(AST_Const,function(self,output){self._do_print(output,"const")});function parenthesize_for_noin(node,output,noin){if(!noin)node.print(output);else try{node.walk(new TreeWalker(function(node){if(node instanceof AST_Binary&&node.operator=="in")throw output}));node.print(output)}catch(ex){if(ex!==output)throw ex;node.print(output,true)}}DEFPRINT(AST_VarDef,function(self,output){self.name.print(output);if(self.value){output.space();output.print("=");output.space();var p=output.parent(1);var noin=p instanceof AST_For||p instanceof AST_ForIn;parenthesize_for_noin(self.value,output,noin)}});DEFPRINT(AST_Call,function(self,output){self.expression.print(output);if(self instanceof AST_New&&!need_constructor_parens(self,output))return;output.with_parens(function(){self.args.forEach(function(expr,i){if(i)output.comma();expr.print(output)})})});DEFPRINT(AST_New,function(self,output){output.print("new");output.space();AST_Call.prototype._codegen(self,output)});AST_Seq.DEFMETHOD("_do_print",function(output){this.car.print(output);if(this.cdr){output.comma();if(output.should_break()){output.newline();output.indent()}this.cdr.print(output)}});DEFPRINT(AST_Seq,function(self,output){self._do_print(output)});DEFPRINT(AST_Dot,function(self,output){var expr=self.expression;expr.print(output);if(expr instanceof AST_Number&&expr.getValue()>=0){if(!/[xa-f.)]/i.test(output.last())){output.print(".")}}output.print(".");output.add_mapping(self.end);output.print_name(self.property)});DEFPRINT(AST_Sub,function(self,output){self.expression.print(output);output.print("[");self.property.print(output);output.print("]")});DEFPRINT(AST_UnaryPrefix,function(self,output){var op=self.operator;output.print(op);if(/^[a-z]/i.test(op)||/[+-]$/.test(op)&&self.expression instanceof AST_UnaryPrefix&&/^[+-]/.test(self.expression.operator)){output.space()}self.expression.print(output)});DEFPRINT(AST_UnaryPostfix,function(self,output){self.expression.print(output);output.print(self.operator)});DEFPRINT(AST_Binary,function(self,output){var op=self.operator;self.left.print(output);if(op[0]==">"&&self.left instanceof AST_UnaryPostfix&&self.left.operator=="--"){output.print(" ")}else{output.space()}output.print(op);if((op=="<"||op=="<<")&&self.right instanceof AST_UnaryPrefix&&self.right.operator=="!"&&self.right.expression instanceof AST_UnaryPrefix&&self.right.expression.operator=="--"){output.print(" ")}else{output.space()}self.right.print(output)});DEFPRINT(AST_Conditional,function(self,output){self.condition.print(output);output.space();output.print("?");output.space();self.consequent.print(output);output.space();output.colon();self.alternative.print(output)});DEFPRINT(AST_Array,function(self,output){output.with_square(function(){var a=self.elements,len=a.length;if(len>0)output.space();a.forEach(function(exp,i){if(i)output.comma();exp.print(output);if(i===len-1&&exp instanceof AST_Hole)output.comma()});if(len>0)output.space()})});DEFPRINT(AST_Object,function(self,output){if(self.properties.length>0)output.with_block(function(){self.properties.forEach(function(prop,i){if(i){output.print(",");output.newline()}output.indent();prop.print(output)});output.newline()});else output.print("{}")});DEFPRINT(AST_ObjectKeyVal,function(self,output){var key=self.key;var quote=self.quote;if(output.option("quote_keys")){output.print_string(key+"")}else if((typeof key=="number"||!output.option("beautify")&&+key+""==key)&&parseFloat(key)>=0){output.print(make_num(key))}else if(RESERVED_WORDS(key)?output.option("screw_ie8"):is_identifier_string(key)){if(quote&&output.option("keep_quoted_props")){output.print_string(key,quote)}else{output.print_name(key)}}else{output.print_string(key,quote)}output.colon();self.value.print(output)});DEFPRINT(AST_ObjectSetter,function(self,output){output.print("set");output.space();self.key.print(output);self.value._do_print(output,true)});DEFPRINT(AST_ObjectGetter,function(self,output){output.print("get");output.space();self.key.print(output);self.value._do_print(output,true)});DEFPRINT(AST_Symbol,function(self,output){var def=self.definition();output.print_name(def?def.mangled_name||def.name:self.name)});DEFPRINT(AST_Undefined,function(self,output){output.print("void 0")});DEFPRINT(AST_Hole,noop);DEFPRINT(AST_Infinity,function(self,output){output.print("Infinity")});DEFPRINT(AST_NaN,function(self,output){output.print("NaN")});DEFPRINT(AST_This,function(self,output){output.print("this")});DEFPRINT(AST_Constant,function(self,output){output.print(self.getValue())});DEFPRINT(AST_String,function(self,output){output.print_string(self.getValue(),self.quote,in_directive)});DEFPRINT(AST_Number,function(self,output){if(use_asm&&self.start&&self.start.raw!=null){output.print(self.start.raw)}else{output.print(make_num(self.getValue()))}});function regexp_safe_literal(code){return[92,47,46,43,42,63,40,41,91,93,123,125,36,94,58,124,33,10,13,0,65279,8232,8233].indexOf(code)<0}DEFPRINT(AST_RegExp,function(self,output){var str=self.getValue().toString();if(output.option("ascii_only")){str=output.to_ascii(str)}else if(output.option("unescape_regexps")){str=str.split("\\\\").map(function(str){return str.replace(/\\u[0-9a-fA-F]{4}|\\x[0-9a-fA-F]{2}/g,function(s){var code=parseInt(s.substr(2),16);return regexp_safe_literal(code)?String.fromCharCode(code):s})}).join("\\\\")}output.print(str);var p=output.parent();if(p instanceof AST_Binary&&/^in/.test(p.operator)&&p.left===self)output.print(" ")});function force_statement(stat,output){if(output.option("bracketize")){if(!stat||stat instanceof AST_EmptyStatement)output.print("{}");else if(stat instanceof AST_BlockStatement)stat.print(output);else output.with_block(function(){output.indent();stat.print(output);output.newline()})}else{if(!stat||stat instanceof AST_EmptyStatement)output.force_semicolon();else stat.print(output)}}function first_in_statement(output){var a=output.stack(),i=a.length,node=a[--i],p=a[--i];while(i>0){if(p instanceof AST_Statement&&p.body===node)return true;if(p instanceof AST_Seq&&p.car===node||p instanceof AST_Call&&p.expression===node&&!(p instanceof AST_New)||p instanceof AST_Dot&&p.expression===node||p instanceof AST_Sub&&p.expression===node||p instanceof AST_Conditional&&p.condition===node||p instanceof AST_Binary&&p.left===node||p instanceof AST_UnaryPostfix&&p.expression===node){node=p;p=a[--i]}else{return false}}}function need_constructor_parens(self,output){if(self.args.length>0)return true;return output.option("beautify")}function best_of(a){var best=a[0],len=best.length;for(var i=1;i<a.length;++i){if(a[i].length<len){best=a[i];len=best.length}}return best}function make_num(num){var str=num.toString(10),a=[str.replace(/^0\./,".").replace("e+","e")],m;if(Math.floor(num)===num){if(num>=0){a.push("0x"+num.toString(16).toLowerCase(),"0"+num.toString(8))}else{a.push("-0x"+(-num).toString(16).toLowerCase(),"-0"+(-num).toString(8))}if(m=/^(.*?)(0+)$/.exec(num)){a.push(m[1]+"e"+m[2].length)}}else if(m=/^0?\.(0+)(.*)$/.exec(num)){a.push(m[2]+"e-"+(m[1].length+m[2].length),str.substr(str.indexOf(".")))}return best_of(a)}function make_block(stmt,output){if(stmt instanceof AST_BlockStatement){stmt.print(output);return}output.with_block(function(){output.indent();stmt.print(output);output.newline()})}function DEFMAP(nodetype,generator){nodetype.DEFMETHOD("add_source_map",function(stream){generator(this,stream)})}DEFMAP(AST_Node,noop);function basic_sourcemap_gen(self,output){output.add_mapping(self.start)}DEFMAP(AST_Directive,basic_sourcemap_gen);DEFMAP(AST_Debugger,basic_sourcemap_gen);DEFMAP(AST_Symbol,basic_sourcemap_gen);DEFMAP(AST_Jump,basic_sourcemap_gen);DEFMAP(AST_StatementWithBody,basic_sourcemap_gen);DEFMAP(AST_LabeledStatement,noop);DEFMAP(AST_Lambda,basic_sourcemap_gen);DEFMAP(AST_Switch,basic_sourcemap_gen);DEFMAP(AST_SwitchBranch,basic_sourcemap_gen);DEFMAP(AST_BlockStatement,basic_sourcemap_gen);DEFMAP(AST_Toplevel,noop);DEFMAP(AST_New,basic_sourcemap_gen);DEFMAP(AST_Try,basic_sourcemap_gen);DEFMAP(AST_Catch,basic_sourcemap_gen);DEFMAP(AST_Finally,basic_sourcemap_gen);DEFMAP(AST_Definitions,basic_sourcemap_gen);DEFMAP(AST_Constant,basic_sourcemap_gen);DEFMAP(AST_ObjectSetter,function(self,output){output.add_mapping(self.start,self.key.name)});DEFMAP(AST_ObjectGetter,function(self,output){output.add_mapping(self.start,self.key.name)});DEFMAP(AST_ObjectProperty,function(self,output){output.add_mapping(self.start,self.key)})})();"use strict";function Compressor(options,false_by_default){if(!(this instanceof Compressor))return new Compressor(options,false_by_default);TreeTransformer.call(this,this.before,this.after);this.options=defaults(options,{sequences:!false_by_default,properties:!false_by_default,dead_code:!false_by_default,drop_debugger:!false_by_default,unsafe:false,unsafe_comps:false,conditionals:!false_by_default,comparisons:!false_by_default,evaluate:!false_by_default,booleans:!false_by_default,loops:!false_by_default,unused:!false_by_default,hoist_funs:!false_by_default,keep_fargs:true,keep_fnames:false,hoist_vars:false,if_return:!false_by_default,join_vars:!false_by_default,collapse_vars:false,cascade:!false_by_default,side_effects:!false_by_default,pure_getters:false,pure_funcs:null,negate_iife:!false_by_default,screw_ie8:true,drop_console:false,angular:false,warnings:true,global_defs:{},passes:1},true);var sequences=this.options["sequences"];this.sequences_limit=sequences==1?200:sequences|0;this.warnings_produced={}}Compressor.prototype=new TreeTransformer;merge(Compressor.prototype,{option:function(key){return this.options[key]},compress:function(node){var passes=+this.options.passes||1;for(var pass=0;pass<passes&&pass<3;++pass){if(pass>0)node.clear_opt_flags();node=node.transform(this)}return node},warn:function(text,props){if(this.options.warnings){var message=string_template(text,props);if(!(message in this.warnings_produced)){this.warnings_produced[message]=true;AST_Node.warn.apply(AST_Node,arguments)}}},clear_warnings:function(){this.warnings_produced={}},before:function(node,descend,in_list){if(node._squeezed)return node;var was_scope=false;if(node instanceof AST_Scope){node=node.hoist_declarations(this);was_scope=true}descend(node,this);node=node.optimize(this);if(was_scope&&node instanceof AST_Scope){node.drop_unused(this);descend(node,this)}node._squeezed=true;return node}});(function(){function OPT(node,optimizer){node.DEFMETHOD("optimize",function(compressor){var self=this;if(self._optimized)return self;if(compressor.has_directive("use asm"))return self;var opt=optimizer(self,compressor);opt._optimized=true;if(opt===self)return opt;return opt.transform(compressor)})}OPT(AST_Node,function(self,compressor){return self});AST_Node.DEFMETHOD("equivalent_to",function(node){return this.print_to_string()==node.print_to_string()});AST_Node.DEFMETHOD("clear_opt_flags",function(){this.walk(new TreeWalker(function(node){if(!(node instanceof AST_Directive||node instanceof AST_Constant)){node._squeezed=false;node._optimized=false}}))});function make_node(ctor,orig,props){if(!props)props={};if(orig){if(!props.start)props.start=orig.start;if(!props.end)props.end=orig.end}return new ctor(props)}function make_node_from_constant(compressor,val,orig){if(val instanceof AST_Node)return val.transform(compressor);switch(typeof val){case"string":return make_node(AST_String,orig,{value:val}).optimize(compressor);case"number":if(isNaN(val)){return make_node(AST_NaN,orig)}if(1/val<0){return make_node(AST_UnaryPrefix,orig,{operator:"-",expression:make_node(AST_Number,orig,{value:-val})})}return make_node(AST_Number,orig,{value:val}).optimize(compressor);case"boolean":return make_node(val?AST_True:AST_False,orig).optimize(compressor);case"undefined":return make_node(AST_Undefined,orig).optimize(compressor);default:if(val===null){return make_node(AST_Null,orig,{value:null}).optimize(compressor)}if(val instanceof RegExp){return make_node(AST_RegExp,orig,{value:val}).optimize(compressor)}throw new Error(string_template("Can't handle constant of type: {type}",{type:typeof val}))}}function maintain_this_binding(parent,orig,val){if(parent instanceof AST_Call&&parent.expression===orig){if(val instanceof AST_PropAccess||val instanceof AST_SymbolRef&&val.name==="eval"){return make_node(AST_Seq,orig,{car:make_node(AST_Number,orig,{value:0}),cdr:val})}}return val}function as_statement_array(thing){if(thing===null)return[];if(thing instanceof AST_BlockStatement)return thing.body;if(thing instanceof AST_EmptyStatement)return[];if(thing instanceof AST_Statement)return[thing];throw new Error("Can't convert thing to statement array")}function is_empty(thing){if(thing===null)return true;if(thing instanceof AST_EmptyStatement)return true;if(thing instanceof AST_BlockStatement)return thing.body.length==0;return false}function loop_body(x){if(x instanceof AST_Switch)return x;if(x instanceof AST_For||x instanceof AST_ForIn||x instanceof AST_DWLoop){return x.body instanceof AST_BlockStatement?x.body:x}return x}function tighten_body(statements,compressor){var CHANGED,max_iter=10;do{CHANGED=false;if(compressor.option("angular")){statements=process_for_angular(statements)}statements=eliminate_spurious_blocks(statements);if(compressor.option("dead_code")){statements=eliminate_dead_code(statements,compressor)}if(compressor.option("if_return")){statements=handle_if_return(statements,compressor)}if(compressor.sequences_limit>0){statements=sequencesize(statements,compressor)}if(compressor.option("join_vars")){statements=join_consecutive_vars(statements,compressor)}if(compressor.option("collapse_vars")){statements=collapse_single_use_vars(statements,compressor)}}while(CHANGED&&max_iter-- >0);if(compressor.option("negate_iife")){negate_iifes(statements,compressor)}return statements;function collapse_single_use_vars(statements,compressor){var self=compressor.self();var var_defs_removed=false;for(var stat_index=statements.length;--stat_index>=0;){var stat=statements[stat_index];if(stat instanceof AST_Definitions)continue;[stat,stat.body,stat.alternative,stat.bcatch,stat.bfinally].forEach(function(node){node&&node.body&&collapse_single_use_vars(node.body,compressor)});if(stat_index<=0)break;var prev_stat_index=stat_index-1;var prev_stat=statements[prev_stat_index];if(!(prev_stat instanceof AST_Definitions))continue;var var_defs=prev_stat.definitions;if(var_defs==null)continue;var var_names_seen={};var side_effects_encountered=false;
var lvalues_encountered=false;var lvalues={};for(var var_defs_index=var_defs.length;--var_defs_index>=0;){var var_decl=var_defs[var_defs_index];if(var_decl.value==null)break;var var_name=var_decl.name.name;if(!var_name||!var_name.length)break;if(var_name in var_names_seen)break;var_names_seen[var_name]=true;var def=self.find_variable&&self.find_variable(var_name);if(!def||!def.references||def.references.length!==1||var_name=="arguments"){side_effects_encountered=true;continue}var ref=def.references[0];if(ref.scope.uses_eval||ref.scope.uses_with)break;if(!(var_decl.value instanceof AST_RegExp)&&var_decl.value.is_constant(compressor)){var ctt=new TreeTransformer(function(node){if(node===ref)return replace_var(node,ctt.parent(),true)});stat.transform(ctt);continue}if(side_effects_encountered|=lvalues_encountered)continue;if(ref.scope!==self){side_effects_encountered|=var_decl.value.has_side_effects(compressor);continue}var tw=new TreeWalker(function(node){if(node instanceof AST_SymbolRef&&is_lvalue(node,tw.parent())){lvalues[node.name]=lvalues_encountered=true}});var_decl.value.walk(tw);var unwind=false;var tt=new TreeTransformer(function preorder(node){if(unwind)return node;var parent=tt.parent();if(node instanceof AST_Lambda||node instanceof AST_Try||node instanceof AST_With||node instanceof AST_Case||node instanceof AST_IterationStatement||parent instanceof AST_If&&node!==parent.condition||parent instanceof AST_Conditional&&node!==parent.condition||parent instanceof AST_Binary&&(parent.operator=="&&"||parent.operator=="||")&&node===parent.right||parent instanceof AST_Switch&&node!==parent.expression){return side_effects_encountered=unwind=true,node}},function postorder(node){if(unwind)return node;if(node===ref)return unwind=true,replace_var(node,tt.parent(),false);if(side_effects_encountered|=node.has_side_effects(compressor))return unwind=true,node;if(lvalues_encountered&&node instanceof AST_SymbolRef&&node.name in lvalues){side_effects_encountered=true;return unwind=true,node}});stat.transform(tt)}}if(var_defs_removed)for(var i=statements.length;--i>=0;){if(statements.length>1&&statements[i]instanceof AST_EmptyStatement)statements.splice(i,1)}return statements;function is_lvalue(node,parent){return node instanceof AST_SymbolRef&&(parent instanceof AST_Assign&&node===parent.left||parent instanceof AST_Unary&&parent.expression===node&&(parent.operator=="++"||parent.operator=="--"))}function replace_var(node,parent,is_constant){if(is_lvalue(node,parent))return node;var value=maintain_this_binding(parent,node,var_decl.value);var_decl.value=null;var_defs.splice(var_defs_index,1);if(var_defs.length===0){statements[prev_stat_index]=make_node(AST_EmptyStatement,self);var_defs_removed=true}stat.clear_opt_flags();compressor.warn("Replacing "+(is_constant?"constant":"variable")+" "+var_name+" [{file}:{line},{col}]",node.start);CHANGED=true;return value}}function process_for_angular(statements){function has_inject(comment){return/@ngInject/.test(comment.value)}function make_arguments_names_list(func){return func.argnames.map(function(sym){return make_node(AST_String,sym,{value:sym.name})})}function make_array(orig,elements){return make_node(AST_Array,orig,{elements:elements})}function make_injector(func,name){return make_node(AST_SimpleStatement,func,{body:make_node(AST_Assign,func,{operator:"=",left:make_node(AST_Dot,name,{expression:make_node(AST_SymbolRef,name,name),property:"$inject"}),right:make_array(func,make_arguments_names_list(func))})})}function check_expression(body){if(body&&body.args){body.args.forEach(function(argument,index,array){var comments=argument.start.comments_before;if(argument instanceof AST_Lambda&&comments.length&&has_inject(comments[0])){array[index]=make_array(argument,make_arguments_names_list(argument).concat(argument))}});if(body.expression&&body.expression.expression){check_expression(body.expression.expression)}}}return statements.reduce(function(a,stat){a.push(stat);if(stat.body&&stat.body.args){check_expression(stat.body)}else{var token=stat.start;var comments=token.comments_before;if(comments&&comments.length>0){var last=comments.pop();if(has_inject(last)){if(stat instanceof AST_Defun){a.push(make_injector(stat,stat.name))}else if(stat instanceof AST_Definitions){stat.definitions.forEach(function(def){if(def.value&&def.value instanceof AST_Lambda){a.push(make_injector(def.value,def.name))}})}else{compressor.warn("Unknown statement marked with @ngInject [{file}:{line},{col}]",token)}}}}return a},[])}function eliminate_spurious_blocks(statements){var seen_dirs=[];return statements.reduce(function(a,stat){if(stat instanceof AST_BlockStatement){CHANGED=true;a.push.apply(a,eliminate_spurious_blocks(stat.body))}else if(stat instanceof AST_EmptyStatement){CHANGED=true}else if(stat instanceof AST_Directive){if(seen_dirs.indexOf(stat.value)<0){a.push(stat);seen_dirs.push(stat.value)}else{CHANGED=true}}else{a.push(stat)}return a},[])}function handle_if_return(statements,compressor){var self=compressor.self();var multiple_if_returns=has_multiple_if_returns(statements);var in_lambda=self instanceof AST_Lambda;var ret=[];loop:for(var i=statements.length;--i>=0;){var stat=statements[i];switch(true){case in_lambda&&stat instanceof AST_Return&&!stat.value&&ret.length==0:CHANGED=true;continue loop;case stat instanceof AST_If:if(stat.body instanceof AST_Return){if((in_lambda&&ret.length==0||ret[0]instanceof AST_Return&&!ret[0].value)&&!stat.body.value&&!stat.alternative){CHANGED=true;var cond=make_node(AST_SimpleStatement,stat.condition,{body:stat.condition});ret.unshift(cond);continue loop}if(ret[0]instanceof AST_Return&&stat.body.value&&ret[0].value&&!stat.alternative){CHANGED=true;stat=stat.clone();stat.alternative=ret[0];ret[0]=stat.transform(compressor);continue loop}if(multiple_if_returns&&(ret.length==0||ret[0]instanceof AST_Return)&&stat.body.value&&!stat.alternative&&in_lambda){CHANGED=true;stat=stat.clone();stat.alternative=ret[0]||make_node(AST_Return,stat,{value:make_node(AST_Undefined,stat)});ret[0]=stat.transform(compressor);continue loop}if(!stat.body.value&&in_lambda){CHANGED=true;stat=stat.clone();stat.condition=stat.condition.negate(compressor);var body=as_statement_array(stat.alternative).concat(ret);var funs=extract_functions_from_statement_array(body);stat.body=make_node(AST_BlockStatement,stat,{body:body});stat.alternative=null;ret=funs.concat([stat.transform(compressor)]);continue loop}if(compressor.option("sequences")&&ret.length==1&&in_lambda&&ret[0]instanceof AST_SimpleStatement&&(!stat.alternative||stat.alternative instanceof AST_SimpleStatement)){CHANGED=true;ret.push(make_node(AST_Return,ret[0],{value:make_node(AST_Undefined,ret[0])}).transform(compressor));ret=as_statement_array(stat.alternative).concat(ret);ret.unshift(stat);continue loop}}var ab=aborts(stat.body);var lct=ab instanceof AST_LoopControl?compressor.loopcontrol_target(ab.label):null;if(ab&&(ab instanceof AST_Return&&!ab.value&&in_lambda||ab instanceof AST_Continue&&self===loop_body(lct)||ab instanceof AST_Break&&lct instanceof AST_BlockStatement&&self===lct)){if(ab.label){remove(ab.label.thedef.references,ab)}CHANGED=true;var body=as_statement_array(stat.body).slice(0,-1);stat=stat.clone();stat.condition=stat.condition.negate(compressor);stat.body=make_node(AST_BlockStatement,stat,{body:as_statement_array(stat.alternative).concat(ret)});stat.alternative=make_node(AST_BlockStatement,stat,{body:body});ret=[stat.transform(compressor)];continue loop}var ab=aborts(stat.alternative);var lct=ab instanceof AST_LoopControl?compressor.loopcontrol_target(ab.label):null;if(ab&&(ab instanceof AST_Return&&!ab.value&&in_lambda||ab instanceof AST_Continue&&self===loop_body(lct)||ab instanceof AST_Break&&lct instanceof AST_BlockStatement&&self===lct)){if(ab.label){remove(ab.label.thedef.references,ab)}CHANGED=true;stat=stat.clone();stat.body=make_node(AST_BlockStatement,stat.body,{body:as_statement_array(stat.body).concat(ret)});stat.alternative=make_node(AST_BlockStatement,stat.alternative,{body:as_statement_array(stat.alternative).slice(0,-1)});ret=[stat.transform(compressor)];continue loop}ret.unshift(stat);break;default:ret.unshift(stat);break}}return ret;function has_multiple_if_returns(statements){var n=0;for(var i=statements.length;--i>=0;){var stat=statements[i];if(stat instanceof AST_If&&stat.body instanceof AST_Return){if(++n>1)return true}}return false}}function eliminate_dead_code(statements,compressor){var has_quit=false;var orig=statements.length;var self=compressor.self();statements=statements.reduce(function(a,stat){if(has_quit){extract_declarations_from_unreachable_code(compressor,stat,a)}else{if(stat instanceof AST_LoopControl){var lct=compressor.loopcontrol_target(stat.label);if(stat instanceof AST_Break&&lct instanceof AST_BlockStatement&&loop_body(lct)===self||stat instanceof AST_Continue&&loop_body(lct)===self){if(stat.label){remove(stat.label.thedef.references,stat)}}else{a.push(stat)}}else{a.push(stat)}if(aborts(stat))has_quit=true}return a},[]);CHANGED=statements.length!=orig;return statements}function sequencesize(statements,compressor){if(statements.length<2)return statements;var seq=[],ret=[];function push_seq(){seq=AST_Seq.from_array(seq);if(seq)ret.push(make_node(AST_SimpleStatement,seq,{body:seq}));seq=[]}statements.forEach(function(stat){if(stat instanceof AST_SimpleStatement&&seqLength(seq)<compressor.sequences_limit){seq.push(stat.body)}else{push_seq();ret.push(stat)}});push_seq();ret=sequencesize_2(ret,compressor);CHANGED=ret.length!=statements.length;return ret}function seqLength(a){for(var len=0,i=0;i<a.length;++i){var stat=a[i];if(stat instanceof AST_Seq){len+=stat.len()}else{len++}}return len}function sequencesize_2(statements,compressor){function cons_seq(right){ret.pop();var left=prev.body;if(left instanceof AST_Seq){left.add(right)}else{left=AST_Seq.cons(left,right)}return left.transform(compressor)}var ret=[],prev=null;statements.forEach(function(stat){if(prev){if(stat instanceof AST_For){var opera={};try{prev.body.walk(new TreeWalker(function(node){if(node instanceof AST_Binary&&node.operator=="in")throw opera}));if(stat.init&&!(stat.init instanceof AST_Definitions)){stat.init=cons_seq(stat.init)}else if(!stat.init){stat.init=prev.body;ret.pop()}}catch(ex){if(ex!==opera)throw ex}}else if(stat instanceof AST_If){stat.condition=cons_seq(stat.condition)}else if(stat instanceof AST_With){stat.expression=cons_seq(stat.expression)}else if(stat instanceof AST_Exit&&stat.value){stat.value=cons_seq(stat.value)}else if(stat instanceof AST_Exit){stat.value=cons_seq(make_node(AST_Undefined,stat))}else if(stat instanceof AST_Switch){stat.expression=cons_seq(stat.expression)}}ret.push(stat);prev=stat instanceof AST_SimpleStatement?stat:null});return ret}function join_consecutive_vars(statements,compressor){var prev=null;return statements.reduce(function(a,stat){if(stat instanceof AST_Definitions&&prev&&prev.TYPE==stat.TYPE){prev.definitions=prev.definitions.concat(stat.definitions);CHANGED=true}else if(stat instanceof AST_For&&prev instanceof AST_Definitions&&(!stat.init||stat.init.TYPE==prev.TYPE)){CHANGED=true;a.pop();if(stat.init){stat.init.definitions=prev.definitions.concat(stat.init.definitions)}else{stat.init=prev}a.push(stat);prev=stat}else{prev=stat;a.push(stat)}return a},[])}function negate_iifes(statements,compressor){statements.forEach(function(stat){if(stat instanceof AST_SimpleStatement){stat.body=function transform(thing){return thing.transform(new TreeTransformer(function(node){if(node instanceof AST_New){return node}if(node instanceof AST_Call&&node.expression instanceof AST_Function){return make_node(AST_UnaryPrefix,node,{operator:"!",expression:node})}else if(node instanceof AST_Call){node.expression=transform(node.expression)}else if(node instanceof AST_Seq){node.car=transform(node.car)}else if(node instanceof AST_Conditional){var expr=transform(node.condition);if(expr!==node.condition){node.condition=expr;var tmp=node.consequent;node.consequent=node.alternative;node.alternative=tmp}}return node}))}(stat.body)}})}}function extract_functions_from_statement_array(statements){var funs=[];for(var i=statements.length-1;i>=0;--i){var stat=statements[i];if(stat instanceof AST_Defun){statements.splice(i,1);funs.unshift(stat)}}return funs}function extract_declarations_from_unreachable_code(compressor,stat,target){if(!(stat instanceof AST_Defun)){compressor.warn("Dropping unreachable code [{file}:{line},{col}]",stat.start)}stat.walk(new TreeWalker(function(node){if(node instanceof AST_Definitions){compressor.warn("Declarations in unreachable code! [{file}:{line},{col}]",node.start);node.remove_initializers();target.push(node);return true}if(node instanceof AST_Defun){target.push(node);return true}if(node instanceof AST_Scope){return true}}))}(function(def){var unary_bool=["!","delete"];var binary_bool=["in","instanceof","==","!=","===","!==","<","<=",">=",">"];def(AST_Node,function(){return false});def(AST_UnaryPrefix,function(){return member(this.operator,unary_bool)});def(AST_Binary,function(){return member(this.operator,binary_bool)||(this.operator=="&&"||this.operator=="||")&&this.left.is_boolean()&&this.right.is_boolean()});def(AST_Conditional,function(){return this.consequent.is_boolean()&&this.alternative.is_boolean()});def(AST_Assign,function(){return this.operator=="="&&this.right.is_boolean()});def(AST_Seq,function(){return this.cdr.is_boolean()});def(AST_True,function(){return true});def(AST_False,function(){return true})})(function(node,func){node.DEFMETHOD("is_boolean",func)});(function(def){def(AST_Node,function(){return false});def(AST_String,function(){return true});def(AST_UnaryPrefix,function(){return this.operator=="typeof"});def(AST_Binary,function(compressor){return this.operator=="+"&&(this.left.is_string(compressor)||this.right.is_string(compressor))});def(AST_Assign,function(compressor){return(this.operator=="="||this.operator=="+=")&&this.right.is_string(compressor)});def(AST_Seq,function(compressor){return this.cdr.is_string(compressor)});def(AST_Conditional,function(compressor){return this.consequent.is_string(compressor)&&this.alternative.is_string(compressor)});def(AST_Call,function(compressor){return compressor.option("unsafe")&&this.expression instanceof AST_SymbolRef&&this.expression.name=="String"&&this.expression.undeclared()})})(function(node,func){node.DEFMETHOD("is_string",func)});function best_of(ast1,ast2){return ast1.print_to_string().length>ast2.print_to_string().length?ast2:ast1}(function(def){AST_Node.DEFMETHOD("evaluate",function(compressor){if(!compressor.option("evaluate"))return[this];try{var val=this._eval(compressor);return[best_of(make_node_from_constant(compressor,val,this),this),val]}catch(ex){if(ex!==def)throw ex;return[this]}});AST_Node.DEFMETHOD("is_constant",function(compressor){return this instanceof AST_Constant||this instanceof AST_UnaryPrefix&&this.operator=="!"&&this.expression instanceof AST_Constant||this.evaluate(compressor).length>1});AST_Node.DEFMETHOD("constant_value",function(compressor){if(this instanceof AST_Constant)return this.value;if(this instanceof AST_UnaryPrefix&&this.operator=="!"&&this.expression instanceof AST_Constant){return!this.expression.value}var result=this.evaluate(compressor);if(result.length>1){return result[1]}return undefined});def(AST_Statement,function(){throw new Error(string_template("Cannot evaluate a statement [{file}:{line},{col}]",this.start))});def(AST_Function,function(){throw def});function ev(node,compressor){if(!compressor)throw new Error("Compressor must be passed");return node._eval(compressor)}def(AST_Node,function(){throw def});def(AST_Constant,function(){return this.getValue()});def(AST_UnaryPrefix,function(compressor){var e=this.expression;switch(this.operator){case"!":return!ev(e,compressor);case"typeof":if(e instanceof AST_Function)return typeof function(){};e=ev(e,compressor);if(e instanceof RegExp)throw def;return typeof e;case"void":return void ev(e,compressor);case"~":return~ev(e,compressor);case"-":return-ev(e,compressor);case"+":return+ev(e,compressor)}throw def});def(AST_Binary,function(c){var left=this.left,right=this.right,result;switch(this.operator){case"&&":result=ev(left,c)&&ev(right,c);break;case"||":result=ev(left,c)||ev(right,c);break;case"|":result=ev(left,c)|ev(right,c);break;case"&":result=ev(left,c)&ev(right,c);break;case"^":result=ev(left,c)^ev(right,c);break;case"+":result=ev(left,c)+ev(right,c);break;case"*":result=ev(left,c)*ev(right,c);break;case"/":result=ev(left,c)/ev(right,c);break;case"%":result=ev(left,c)%ev(right,c);break;case"-":result=ev(left,c)-ev(right,c);break;case"<<":result=ev(left,c)<<ev(right,c);break;case">>":result=ev(left,c)>>ev(right,c);break;case">>>":result=ev(left,c)>>>ev(right,c);break;case"==":result=ev(left,c)==ev(right,c);break;case"===":result=ev(left,c)===ev(right,c);break;case"!=":result=ev(left,c)!=ev(right,c);break;case"!==":result=ev(left,c)!==ev(right,c);break;case"<":result=ev(left,c)<ev(right,c);break;case"<=":result=ev(left,c)<=ev(right,c);break;case">":result=ev(left,c)>ev(right,c);break;case">=":result=ev(left,c)>=ev(right,c);break;default:throw def}if(isNaN(result)&&c.find_parent(AST_With)){throw def}return result});def(AST_Conditional,function(compressor){return ev(this.condition,compressor)?ev(this.consequent,compressor):ev(this.alternative,compressor)});def(AST_SymbolRef,function(compressor){if(this._evaluating)throw def;this._evaluating=true;try{var d=this.definition();if(d&&d.constant&&d.init){return ev(d.init,compressor)}}finally{this._evaluating=false}throw def});def(AST_Dot,function(compressor){if(compressor.option("unsafe")&&this.property=="length"){var str=ev(this.expression,compressor);if(typeof str=="string")return str.length}throw def})})(function(node,func){node.DEFMETHOD("_eval",func)});(function(def){function basic_negation(exp){return make_node(AST_UnaryPrefix,exp,{operator:"!",expression:exp})}def(AST_Node,function(){return basic_negation(this)});def(AST_Statement,function(){throw new Error("Cannot negate a statement")});def(AST_Function,function(){return basic_negation(this)});def(AST_UnaryPrefix,function(){if(this.operator=="!")return this.expression;return basic_negation(this)});def(AST_Seq,function(compressor){var self=this.clone();self.cdr=self.cdr.negate(compressor);return self});def(AST_Conditional,function(compressor){var self=this.clone();self.consequent=self.consequent.negate(compressor);self.alternative=self.alternative.negate(compressor);return best_of(basic_negation(this),self)});def(AST_Binary,function(compressor){var self=this.clone(),op=this.operator;if(compressor.option("unsafe_comps")){switch(op){case"<=":self.operator=">";return self;case"<":self.operator=">=";return self;case">=":self.operator="<";return self;case">":self.operator="<=";return self}}switch(op){case"==":self.operator="!=";return self;case"!=":self.operator="==";return self;case"===":self.operator="!==";return self;case"!==":self.operator="===";return self;case"&&":self.operator="||";self.left=self.left.negate(compressor);self.right=self.right.negate(compressor);return best_of(basic_negation(this),self);case"||":self.operator="&&";self.left=self.left.negate(compressor);self.right=self.right.negate(compressor);return best_of(basic_negation(this),self)}return basic_negation(this)})})(function(node,func){node.DEFMETHOD("negate",function(compressor){return func.call(this,compressor)})});(function(def){def(AST_Node,function(compressor){return true});def(AST_EmptyStatement,function(compressor){return false});def(AST_Constant,function(compressor){return false});def(AST_This,function(compressor){return false});def(AST_Call,function(compressor){var pure=compressor.option("pure_funcs");if(!pure)return true;if(typeof pure=="function")return pure(this);return pure.indexOf(this.expression.print_to_string())<0});def(AST_Block,function(compressor){for(var i=this.body.length;--i>=0;){if(this.body[i].has_side_effects(compressor))return true}return false});def(AST_SimpleStatement,function(compressor){return this.body.has_side_effects(compressor)});def(AST_Defun,function(compressor){return true});def(AST_Function,function(compressor){return false});def(AST_Binary,function(compressor){return this.left.has_side_effects(compressor)||this.right.has_side_effects(compressor)});def(AST_Assign,function(compressor){return true});def(AST_Conditional,function(compressor){return this.condition.has_side_effects(compressor)||this.consequent.has_side_effects(compressor)||this.alternative.has_side_effects(compressor)});def(AST_Unary,function(compressor){return this.operator=="delete"||this.operator=="++"||this.operator=="--"||this.expression.has_side_effects(compressor)});def(AST_SymbolRef,function(compressor){return this.global()&&this.undeclared()});def(AST_Object,function(compressor){for(var i=this.properties.length;--i>=0;)if(this.properties[i].has_side_effects(compressor))return true;return false});def(AST_ObjectProperty,function(compressor){return this.value.has_side_effects(compressor)});def(AST_Array,function(compressor){for(var i=this.elements.length;--i>=0;)if(this.elements[i].has_side_effects(compressor))return true;return false});def(AST_Dot,function(compressor){if(!compressor.option("pure_getters"))return true;return this.expression.has_side_effects(compressor)});def(AST_Sub,function(compressor){if(!compressor.option("pure_getters"))return true;return this.expression.has_side_effects(compressor)||this.property.has_side_effects(compressor)});def(AST_PropAccess,function(compressor){return!compressor.option("pure_getters")});def(AST_Seq,function(compressor){return this.car.has_side_effects(compressor)||this.cdr.has_side_effects(compressor)})})(function(node,func){node.DEFMETHOD("has_side_effects",func)});function aborts(thing){return thing&&thing.aborts()}(function(def){def(AST_Statement,function(){return null});def(AST_Jump,function(){return this});function block_aborts(){var n=this.body.length;return n>0&&aborts(this.body[n-1])}def(AST_BlockStatement,block_aborts);def(AST_SwitchBranch,block_aborts);def(AST_If,function(){return this.alternative&&aborts(this.body)&&aborts(this.alternative)&&this})})(function(node,func){node.DEFMETHOD("aborts",func)});OPT(AST_Directive,function(self,compressor){if(compressor.has_directive(self.value)==="up"){return make_node(AST_EmptyStatement,self)}return self});OPT(AST_Debugger,function(self,compressor){if(compressor.option("drop_debugger"))return make_node(AST_EmptyStatement,self);return self});OPT(AST_LabeledStatement,function(self,compressor){if(self.body instanceof AST_Break&&compressor.loopcontrol_target(self.body.label)===self.body){return make_node(AST_EmptyStatement,self)}return self.label.references.length==0?self.body:self});OPT(AST_Block,function(self,compressor){self.body=tighten_body(self.body,compressor);return self});OPT(AST_BlockStatement,function(self,compressor){self.body=tighten_body(self.body,compressor);switch(self.body.length){case 1:return self.body[0];case 0:return make_node(AST_EmptyStatement,self)}return self});AST_Scope.DEFMETHOD("drop_unused",function(compressor){var self=this;if(compressor.has_directive("use asm"))return self;if(compressor.option("unused")&&!(self instanceof AST_Toplevel)&&!self.uses_eval&&!self.uses_with){var in_use=[];var in_use_ids={};var initializations=new Dictionary;var scope=this;var tw=new TreeWalker(function(node,descend){if(node!==self){if(node instanceof AST_Defun){initializations.add(node.name.name,node);return true}if(node instanceof AST_Definitions&&scope===self){node.definitions.forEach(function(def){if(def.value){initializations.add(def.name.name,def.value);if(def.value.has_side_effects(compressor)){def.value.walk(tw)}}});return true}if(node instanceof AST_SymbolRef){var node_def=node.definition();if(!(node_def.id in in_use_ids)){in_use_ids[node_def.id]=true;in_use.push(node_def)}return true}if(node instanceof AST_Scope){var save_scope=scope;scope=node;descend();scope=save_scope;return true}}});self.walk(tw);for(var i=0;i<in_use.length;++i){in_use[i].orig.forEach(function(decl){var init=initializations.get(decl.name);if(init)init.forEach(function(init){var tw=new TreeWalker(function(node){if(node instanceof AST_SymbolRef){var node_def=node.definition();if(!(node_def.id in in_use_ids)){in_use_ids[node_def.id]=true;in_use.push(node_def)}}});init.walk(tw)})})}var tt=new TreeTransformer(function before(node,descend,in_list){if(node instanceof AST_Lambda&&!(node instanceof AST_Accessor)){if(!compressor.option("keep_fargs")){for(var a=node.argnames,i=a.length;--i>=0;){var sym=a[i];if(sym.unreferenced()){a.pop();compressor.warn("Dropping unused function argument {name} [{file}:{line},{col}]",{name:sym.name,file:sym.start.file,line:sym.start.line,col:sym.start.col})}else break}}}if(node instanceof AST_Defun&&node!==self){if(!(node.name.definition().id in in_use_ids)){compressor.warn("Dropping unused function {name} [{file}:{line},{col}]",{name:node.name.name,file:node.name.start.file,line:node.name.start.line,col:node.name.start.col});return make_node(AST_EmptyStatement,node)}return node}if(node instanceof AST_Definitions&&!(tt.parent()instanceof AST_ForIn)){var def=node.definitions.filter(function(def){if(def.name.definition().id in in_use_ids)return true;var w={name:def.name.name,file:def.name.start.file,line:def.name.start.line,col:def.name.start.col};if(def.value&&def.value.has_side_effects(compressor)){def._unused_side_effects=true;compressor.warn("Side effects in initialization of unused variable {name} [{file}:{line},{col}]",w);return true}compressor.warn("Dropping unused variable {name} [{file}:{line},{col}]",w);return false});def=mergeSort(def,function(a,b){if(!a.value&&b.value)return-1;if(!b.value&&a.value)return 1;return 0});var side_effects=[];for(var i=0;i<def.length;){var x=def[i];if(x._unused_side_effects){side_effects.push(x.value);def.splice(i,1)}else{if(side_effects.length>0){side_effects.push(x.value);x.value=AST_Seq.from_array(side_effects);side_effects=[]}++i}}if(side_effects.length>0){side_effects=make_node(AST_BlockStatement,node,{body:[make_node(AST_SimpleStatement,node,{body:AST_Seq.from_array(side_effects)})]})}else{side_effects=null}if(def.length==0&&!side_effects){return make_node(AST_EmptyStatement,node)}if(def.length==0){return in_list?MAP.splice(side_effects.body):side_effects}node.definitions=def;if(side_effects){side_effects.body.unshift(node);return in_list?MAP.splice(side_effects.body):side_effects}return node}if(node instanceof AST_For){descend(node,this);if(node.init instanceof AST_BlockStatement){var body=node.init.body.slice(0,-1);node.init=node.init.body.slice(-1)[0].body;body.push(node);return in_list?MAP.splice(body):make_node(AST_BlockStatement,node,{body:body})}}if(node instanceof AST_Scope&&node!==self)return node});self.transform(tt)}});AST_Scope.DEFMETHOD("hoist_declarations",function(compressor){var self=this;if(compressor.has_directive("use asm"))return self;var hoist_funs=compressor.option("hoist_funs");var hoist_vars=compressor.option("hoist_vars");if(hoist_funs||hoist_vars){var dirs=[];var hoisted=[];var vars=new Dictionary,vars_found=0,var_decl=0;self.walk(new TreeWalker(function(node){if(node instanceof AST_Scope&&node!==self)return true;if(node instanceof AST_Var){++var_decl;return true}}));hoist_vars=hoist_vars&&var_decl>1;var tt=new TreeTransformer(function before(node){if(node!==self){if(node instanceof AST_Directive){dirs.push(node);return make_node(AST_EmptyStatement,node)}if(node instanceof AST_Defun&&hoist_funs){hoisted.push(node);return make_node(AST_EmptyStatement,node)}if(node instanceof AST_Var&&hoist_vars){node.definitions.forEach(function(def){vars.set(def.name.name,def);++vars_found});var seq=node.to_assignments();var p=tt.parent();if(p instanceof AST_ForIn&&p.init===node){if(seq==null){var def=node.definitions[0].name;return make_node(AST_SymbolRef,def,def)}return seq}if(p instanceof AST_For&&p.init===node){return seq}if(!seq)return make_node(AST_EmptyStatement,node);return make_node(AST_SimpleStatement,node,{body:seq})}if(node instanceof AST_Scope)return node}});self=self.transform(tt);if(vars_found>0){var defs=[];vars.each(function(def,name){if(self instanceof AST_Lambda&&find_if(function(x){return x.name==def.name.name},self.argnames)){vars.del(name)}else{def=def.clone();def.value=null;defs.push(def);vars.set(name,def)}});if(defs.length>0){for(var i=0;i<self.body.length;){if(self.body[i]instanceof AST_SimpleStatement){var expr=self.body[i].body,sym,assign;if(expr instanceof AST_Assign&&expr.operator=="="&&(sym=expr.left)instanceof AST_Symbol&&vars.has(sym.name)){var def=vars.get(sym.name);if(def.value)break;def.value=expr.right;remove(defs,def);defs.push(def);self.body.splice(i,1);continue}if(expr instanceof AST_Seq&&(assign=expr.car)instanceof AST_Assign&&assign.operator=="="&&(sym=assign.left)instanceof AST_Symbol&&vars.has(sym.name)){var def=vars.get(sym.name);if(def.value)break;def.value=assign.right;remove(defs,def);defs.push(def);self.body[i].body=expr.cdr;continue}}if(self.body[i]instanceof AST_EmptyStatement){self.body.splice(i,1);continue}if(self.body[i]instanceof AST_BlockStatement){var tmp=[i,1].concat(self.body[i].body);self.body.splice.apply(self.body,tmp);continue}break}defs=make_node(AST_Var,self,{definitions:defs});hoisted.push(defs)}}self.body=dirs.concat(hoisted,self.body)}return self});OPT(AST_SimpleStatement,function(self,compressor){if(compressor.option("side_effects")){if(!self.body.has_side_effects(compressor)){compressor.warn("Dropping side-effect-free statement [{file}:{line},{col}]",self.start);return make_node(AST_EmptyStatement,self)}}return self});OPT(AST_DWLoop,function(self,compressor){var cond=self.condition.evaluate(compressor);self.condition=cond[0];if(!compressor.option("loops"))return self;if(cond.length>1){if(cond[1]){return make_node(AST_For,self,{body:self.body})}else if(self instanceof AST_While){if(compressor.option("dead_code")){var a=[];extract_declarations_from_unreachable_code(compressor,self.body,a);return make_node(AST_BlockStatement,self,{body:a})}}}return self});function if_break_in_loop(self,compressor){function drop_it(rest){rest=as_statement_array(rest);if(self.body instanceof AST_BlockStatement){self.body=self.body.clone();self.body.body=rest.concat(self.body.body.slice(1));self.body=self.body.transform(compressor)}else{self.body=make_node(AST_BlockStatement,self.body,{body:rest}).transform(compressor)}if_break_in_loop(self,compressor)}var first=self.body instanceof AST_BlockStatement?self.body.body[0]:self.body;if(first instanceof AST_If){if(first.body instanceof AST_Break&&compressor.loopcontrol_target(first.body.label)===self){if(self.condition){self.condition=make_node(AST_Binary,self.condition,{left:self.condition,operator:"&&",right:first.condition.negate(compressor)})}else{self.condition=first.condition.negate(compressor)}drop_it(first.alternative)}else if(first.alternative instanceof AST_Break&&compressor.loopcontrol_target(first.alternative.label)===self){if(self.condition){self.condition=make_node(AST_Binary,self.condition,{left:self.condition,operator:"&&",right:first.condition})}else{self.condition=first.condition}drop_it(first.body)}}}OPT(AST_While,function(self,compressor){if(!compressor.option("loops"))return self;self=AST_DWLoop.prototype.optimize.call(self,compressor);if(self instanceof AST_While){if_break_in_loop(self,compressor);self=make_node(AST_For,self,self).transform(compressor)}return self});OPT(AST_For,function(self,compressor){var cond=self.condition;if(cond){cond=cond.evaluate(compressor);self.condition=cond[0]}if(!compressor.option("loops"))return self;if(cond){if(cond.length>1&&!cond[1]){if(compressor.option("dead_code")){var a=[];if(self.init instanceof AST_Statement){a.push(self.init)}else if(self.init){a.push(make_node(AST_SimpleStatement,self.init,{body:self.init}))}extract_declarations_from_unreachable_code(compressor,self.body,a);return make_node(AST_BlockStatement,self,{
body:a})}}}if_break_in_loop(self,compressor);return self});OPT(AST_If,function(self,compressor){if(!compressor.option("conditionals"))return self;var cond=self.condition.evaluate(compressor);self.condition=cond[0];if(cond.length>1){if(cond[1]){compressor.warn("Condition always true [{file}:{line},{col}]",self.condition.start);if(compressor.option("dead_code")){var a=[];if(self.alternative){extract_declarations_from_unreachable_code(compressor,self.alternative,a)}a.push(self.body);return make_node(AST_BlockStatement,self,{body:a}).transform(compressor)}}else{compressor.warn("Condition always false [{file}:{line},{col}]",self.condition.start);if(compressor.option("dead_code")){var a=[];extract_declarations_from_unreachable_code(compressor,self.body,a);if(self.alternative)a.push(self.alternative);return make_node(AST_BlockStatement,self,{body:a}).transform(compressor)}}}if(is_empty(self.alternative))self.alternative=null;var negated=self.condition.negate(compressor);var self_condition_length=self.condition.print_to_string().length;var negated_length=negated.print_to_string().length;var negated_is_best=negated_length<self_condition_length;if(self.alternative&&negated_is_best){negated_is_best=false;self.condition=negated;var tmp=self.body;self.body=self.alternative||make_node(AST_EmptyStatement);self.alternative=tmp}if(is_empty(self.body)&&is_empty(self.alternative)){return make_node(AST_SimpleStatement,self.condition,{body:self.condition}).transform(compressor)}if(self.body instanceof AST_SimpleStatement&&self.alternative instanceof AST_SimpleStatement){return make_node(AST_SimpleStatement,self,{body:make_node(AST_Conditional,self,{condition:self.condition,consequent:self.body.body,alternative:self.alternative.body})}).transform(compressor)}if(is_empty(self.alternative)&&self.body instanceof AST_SimpleStatement){if(self_condition_length===negated_length&&!negated_is_best&&self.condition instanceof AST_Binary&&self.condition.operator=="||"){negated_is_best=true}if(negated_is_best)return make_node(AST_SimpleStatement,self,{body:make_node(AST_Binary,self,{operator:"||",left:negated,right:self.body.body})}).transform(compressor);return make_node(AST_SimpleStatement,self,{body:make_node(AST_Binary,self,{operator:"&&",left:self.condition,right:self.body.body})}).transform(compressor)}if(self.body instanceof AST_EmptyStatement&&self.alternative&&self.alternative instanceof AST_SimpleStatement){return make_node(AST_SimpleStatement,self,{body:make_node(AST_Binary,self,{operator:"||",left:self.condition,right:self.alternative.body})}).transform(compressor)}if(self.body instanceof AST_Exit&&self.alternative instanceof AST_Exit&&self.body.TYPE==self.alternative.TYPE){return make_node(self.body.CTOR,self,{value:make_node(AST_Conditional,self,{condition:self.condition,consequent:self.body.value||make_node(AST_Undefined,self.body).optimize(compressor),alternative:self.alternative.value||make_node(AST_Undefined,self.alternative).optimize(compressor)})}).transform(compressor)}if(self.body instanceof AST_If&&!self.body.alternative&&!self.alternative){self.condition=make_node(AST_Binary,self.condition,{operator:"&&",left:self.condition,right:self.body.condition}).transform(compressor);self.body=self.body.body}if(aborts(self.body)){if(self.alternative){var alt=self.alternative;self.alternative=null;return make_node(AST_BlockStatement,self,{body:[self,alt]}).transform(compressor)}}if(aborts(self.alternative)){var body=self.body;self.body=self.alternative;self.condition=negated_is_best?negated:self.condition.negate(compressor);self.alternative=null;return make_node(AST_BlockStatement,self,{body:[self,body]}).transform(compressor)}return self});OPT(AST_Switch,function(self,compressor){if(self.body.length==0&&compressor.option("conditionals")){return make_node(AST_SimpleStatement,self,{body:self.expression}).transform(compressor)}for(;;){var last_branch=self.body[self.body.length-1];if(last_branch){var stat=last_branch.body[last_branch.body.length-1];if(stat instanceof AST_Break&&loop_body(compressor.loopcontrol_target(stat.label))===self)last_branch.body.pop();if(last_branch instanceof AST_Default&&last_branch.body.length==0){self.body.pop();continue}}break}var exp=self.expression.evaluate(compressor);out:if(exp.length==2)try{self.expression=exp[0];if(!compressor.option("dead_code"))break out;var value=exp[1];var in_if=false;var in_block=false;var started=false;var stopped=false;var ruined=false;var tt=new TreeTransformer(function(node,descend,in_list){if(node instanceof AST_Lambda||node instanceof AST_SimpleStatement){return node}else if(node instanceof AST_Switch&&node===self){node=node.clone();descend(node,this);return ruined?node:make_node(AST_BlockStatement,node,{body:node.body.reduce(function(a,branch){return a.concat(branch.body)},[])}).transform(compressor)}else if(node instanceof AST_If||node instanceof AST_Try){var save=in_if;in_if=!in_block;descend(node,this);in_if=save;return node}else if(node instanceof AST_StatementWithBody||node instanceof AST_Switch){var save=in_block;in_block=true;descend(node,this);in_block=save;return node}else if(node instanceof AST_Break&&this.loopcontrol_target(node.label)===self){if(in_if){ruined=true;return node}if(in_block)return node;stopped=true;return in_list?MAP.skip:make_node(AST_EmptyStatement,node)}else if(node instanceof AST_SwitchBranch&&this.parent()===self){if(stopped)return MAP.skip;if(node instanceof AST_Case){var exp=node.expression.evaluate(compressor);if(exp.length<2){throw self}if(exp[1]===value||started){started=true;if(aborts(node))stopped=true;descend(node,this);return node}return MAP.skip}descend(node,this);return node}});tt.stack=compressor.stack.slice();self=self.transform(tt)}catch(ex){if(ex!==self)throw ex}return self});OPT(AST_Case,function(self,compressor){self.body=tighten_body(self.body,compressor);return self});OPT(AST_Try,function(self,compressor){self.body=tighten_body(self.body,compressor);return self});AST_Definitions.DEFMETHOD("remove_initializers",function(){this.definitions.forEach(function(def){def.value=null})});AST_Definitions.DEFMETHOD("to_assignments",function(){var assignments=this.definitions.reduce(function(a,def){if(def.value){var name=make_node(AST_SymbolRef,def.name,def.name);a.push(make_node(AST_Assign,def,{operator:"=",left:name,right:def.value}))}return a},[]);if(assignments.length==0)return null;return AST_Seq.from_array(assignments)});OPT(AST_Definitions,function(self,compressor){if(self.definitions.length==0)return make_node(AST_EmptyStatement,self);return self});OPT(AST_Function,function(self,compressor){self=AST_Lambda.prototype.optimize.call(self,compressor);if(compressor.option("unused")&&!compressor.option("keep_fnames")){if(self.name&&self.name.unreferenced()){self.name=null}}return self});OPT(AST_Call,function(self,compressor){if(compressor.option("unsafe")){var exp=self.expression;if(exp instanceof AST_SymbolRef&&exp.undeclared()){switch(exp.name){case"Array":if(self.args.length!=1){return make_node(AST_Array,self,{elements:self.args}).transform(compressor)}break;case"Object":if(self.args.length==0){return make_node(AST_Object,self,{properties:[]})}break;case"String":if(self.args.length==0)return make_node(AST_String,self,{value:""});if(self.args.length<=1)return make_node(AST_Binary,self,{left:self.args[0],operator:"+",right:make_node(AST_String,self,{value:""})}).transform(compressor);break;case"Number":if(self.args.length==0)return make_node(AST_Number,self,{value:0});if(self.args.length==1)return make_node(AST_UnaryPrefix,self,{expression:self.args[0],operator:"+"}).transform(compressor);case"Boolean":if(self.args.length==0)return make_node(AST_False,self);if(self.args.length==1)return make_node(AST_UnaryPrefix,self,{expression:make_node(AST_UnaryPrefix,null,{expression:self.args[0],operator:"!"}),operator:"!"}).transform(compressor);break;case"Function":if(self.args.length==0)return make_node(AST_Function,self,{argnames:[],body:[]});if(all(self.args,function(x){return x instanceof AST_String})){try{var code="(function("+self.args.slice(0,-1).map(function(arg){return arg.value}).join(",")+"){"+self.args[self.args.length-1].value+"})()";var ast=parse(code);ast.figure_out_scope({screw_ie8:compressor.option("screw_ie8")});var comp=new Compressor(compressor.options);ast=ast.transform(comp);ast.figure_out_scope({screw_ie8:compressor.option("screw_ie8")});ast.mangle_names();var fun;try{ast.walk(new TreeWalker(function(node){if(node instanceof AST_Lambda){fun=node;throw ast}}))}catch(ex){if(ex!==ast)throw ex}if(!fun)return self;var args=fun.argnames.map(function(arg,i){return make_node(AST_String,self.args[i],{value:arg.print_to_string()})});var code=OutputStream();AST_BlockStatement.prototype._codegen.call(fun,fun,code);code=code.toString().replace(/^\{|\}$/g,"");args.push(make_node(AST_String,self.args[self.args.length-1],{value:code}));self.args=args;return self}catch(ex){if(ex instanceof JS_Parse_Error){compressor.warn("Error parsing code passed to new Function [{file}:{line},{col}]",self.args[self.args.length-1].start);compressor.warn(ex.toString())}else{console.log(ex);throw ex}}}break}}else if(exp instanceof AST_Dot&&exp.property=="toString"&&self.args.length==0){return make_node(AST_Binary,self,{left:make_node(AST_String,self,{value:""}),operator:"+",right:exp.expression}).transform(compressor)}else if(exp instanceof AST_Dot&&exp.expression instanceof AST_Array&&exp.property=="join")EXIT:{var separator=self.args.length==0?",":self.args[0].evaluate(compressor)[1];if(separator==null)break EXIT;var elements=exp.expression.elements.reduce(function(a,el){el=el.evaluate(compressor);if(a.length==0||el.length==1){a.push(el)}else{var last=a[a.length-1];if(last.length==2){var val=""+last[1]+separator+el[1];a[a.length-1]=[make_node_from_constant(compressor,val,last[0]),val]}else{a.push(el)}}return a},[]);if(elements.length==0)return make_node(AST_String,self,{value:""});if(elements.length==1)return elements[0][0];if(separator==""){var first;if(elements[0][0]instanceof AST_String||elements[1][0]instanceof AST_String){first=elements.shift()[0]}else{first=make_node(AST_String,self,{value:""})}return elements.reduce(function(prev,el){return make_node(AST_Binary,el[0],{operator:"+",left:prev,right:el[0]})},first).transform(compressor)}var node=self.clone();node.expression=node.expression.clone();node.expression.expression=node.expression.expression.clone();node.expression.expression.elements=elements.map(function(el){return el[0]});return best_of(self,node)}}if(compressor.option("side_effects")){if(self.expression instanceof AST_Function&&self.args.length==0&&!AST_Block.prototype.has_side_effects.call(self.expression,compressor)){return make_node(AST_Undefined,self).transform(compressor)}}if(compressor.option("drop_console")){if(self.expression instanceof AST_PropAccess){var name=self.expression.expression;while(name.expression){name=name.expression}if(name instanceof AST_SymbolRef&&name.name=="console"&&name.undeclared()){return make_node(AST_Undefined,self).transform(compressor)}}}return self.evaluate(compressor)[0]});OPT(AST_New,function(self,compressor){if(compressor.option("unsafe")){var exp=self.expression;if(exp instanceof AST_SymbolRef&&exp.undeclared()){switch(exp.name){case"Object":case"RegExp":case"Function":case"Error":case"Array":return make_node(AST_Call,self,self).transform(compressor)}}}return self});OPT(AST_Seq,function(self,compressor){if(!compressor.option("side_effects"))return self;if(!self.car.has_side_effects(compressor)){return maintain_this_binding(compressor.parent(),self,self.cdr)}if(compressor.option("cascade")){if(self.car instanceof AST_Assign&&!self.car.left.has_side_effects(compressor)){if(self.car.left.equivalent_to(self.cdr)){return self.car}if(self.cdr instanceof AST_Call&&self.cdr.expression.equivalent_to(self.car.left)){self.cdr.expression=self.car;return self.cdr}}if(!self.car.has_side_effects(compressor)&&!self.cdr.has_side_effects(compressor)&&self.car.equivalent_to(self.cdr)){return self.car}}if(self.cdr instanceof AST_UnaryPrefix&&self.cdr.operator=="void"&&!self.cdr.expression.has_side_effects(compressor)){self.cdr.expression=self.car;return self.cdr}if(self.cdr instanceof AST_Undefined){return make_node(AST_UnaryPrefix,self,{operator:"void",expression:self.car})}return self});AST_Unary.DEFMETHOD("lift_sequences",function(compressor){if(compressor.option("sequences")){if(this.expression instanceof AST_Seq){var seq=this.expression;var x=seq.to_array();this.expression=x.pop();x.push(this);seq=AST_Seq.from_array(x).transform(compressor);return seq}}return this});OPT(AST_UnaryPostfix,function(self,compressor){return self.lift_sequences(compressor)});OPT(AST_UnaryPrefix,function(self,compressor){self=self.lift_sequences(compressor);var e=self.expression;if(compressor.option("booleans")&&compressor.in_boolean_context()){switch(self.operator){case"!":if(e instanceof AST_UnaryPrefix&&e.operator=="!"){return e.expression}break;case"typeof":compressor.warn("Boolean expression always true [{file}:{line},{col}]",self.start);return make_node(AST_True,self)}if(e instanceof AST_Binary&&self.operator=="!"){self=best_of(self,e.negate(compressor))}}return self.evaluate(compressor)[0]});function has_side_effects_or_prop_access(node,compressor){var save_pure_getters=compressor.option("pure_getters");compressor.options.pure_getters=false;var ret=node.has_side_effects(compressor);compressor.options.pure_getters=save_pure_getters;return ret}AST_Binary.DEFMETHOD("lift_sequences",function(compressor){if(compressor.option("sequences")){if(this.left instanceof AST_Seq){var seq=this.left;var x=seq.to_array();this.left=x.pop();x.push(this);seq=AST_Seq.from_array(x).transform(compressor);return seq}if(this.right instanceof AST_Seq&&this instanceof AST_Assign&&!has_side_effects_or_prop_access(this.left,compressor)){var seq=this.right;var x=seq.to_array();this.right=x.pop();x.push(this);seq=AST_Seq.from_array(x).transform(compressor);return seq}}return this});var commutativeOperators=makePredicate("== === != !== * & | ^");OPT(AST_Binary,function(self,compressor){function reverse(op,force){if(force||!(self.left.has_side_effects(compressor)||self.right.has_side_effects(compressor))){if(op)self.operator=op;var tmp=self.left;self.left=self.right;self.right=tmp}}if(commutativeOperators(self.operator)){if(self.right instanceof AST_Constant&&!(self.left instanceof AST_Constant)){if(!(self.left instanceof AST_Binary&&PRECEDENCE[self.left.operator]>=PRECEDENCE[self.operator])){reverse(null,true)}}if(/^[!=]==?$/.test(self.operator)){if(self.left instanceof AST_SymbolRef&&self.right instanceof AST_Conditional){if(self.right.consequent instanceof AST_SymbolRef&&self.right.consequent.definition()===self.left.definition()){if(/^==/.test(self.operator))return self.right.condition;if(/^!=/.test(self.operator))return self.right.condition.negate(compressor)}if(self.right.alternative instanceof AST_SymbolRef&&self.right.alternative.definition()===self.left.definition()){if(/^==/.test(self.operator))return self.right.condition.negate(compressor);if(/^!=/.test(self.operator))return self.right.condition}}if(self.right instanceof AST_SymbolRef&&self.left instanceof AST_Conditional){if(self.left.consequent instanceof AST_SymbolRef&&self.left.consequent.definition()===self.right.definition()){if(/^==/.test(self.operator))return self.left.condition;if(/^!=/.test(self.operator))return self.left.condition.negate(compressor)}if(self.left.alternative instanceof AST_SymbolRef&&self.left.alternative.definition()===self.right.definition()){if(/^==/.test(self.operator))return self.left.condition.negate(compressor);if(/^!=/.test(self.operator))return self.left.condition}}}}self=self.lift_sequences(compressor);if(compressor.option("comparisons"))switch(self.operator){case"===":case"!==":if(self.left.is_string(compressor)&&self.right.is_string(compressor)||self.left.is_boolean()&&self.right.is_boolean()){self.operator=self.operator.substr(0,2)}case"==":case"!=":if(self.left instanceof AST_String&&self.left.value=="undefined"&&self.right instanceof AST_UnaryPrefix&&self.right.operator=="typeof"&&compressor.option("unsafe")){if(!(self.right.expression instanceof AST_SymbolRef)||!self.right.expression.undeclared()){self.right=self.right.expression;self.left=make_node(AST_Undefined,self.left).optimize(compressor);if(self.operator.length==2)self.operator+="="}}break}if(compressor.option("conditionals")){if(self.operator=="&&"){var ll=self.left.evaluate(compressor);if(ll.length>1){if(ll[1]){compressor.warn("Condition left of && always true [{file}:{line},{col}]",self.start);return maintain_this_binding(compressor.parent(),self,self.right.evaluate(compressor)[0])}else{compressor.warn("Condition left of && always false [{file}:{line},{col}]",self.start);return maintain_this_binding(compressor.parent(),self,ll[0])}}}else if(self.operator=="||"){var ll=self.left.evaluate(compressor);if(ll.length>1){if(ll[1]){compressor.warn("Condition left of || always true [{file}:{line},{col}]",self.start);return maintain_this_binding(compressor.parent(),self,ll[0])}else{compressor.warn("Condition left of || always false [{file}:{line},{col}]",self.start);return maintain_this_binding(compressor.parent(),self,self.right.evaluate(compressor)[0])}}}}if(compressor.option("booleans")&&compressor.in_boolean_context())switch(self.operator){case"&&":var ll=self.left.evaluate(compressor);var rr=self.right.evaluate(compressor);if(ll.length>1&&!ll[1]||rr.length>1&&!rr[1]){compressor.warn("Boolean && always false [{file}:{line},{col}]",self.start);if(self.left.has_side_effects(compressor)){return make_node(AST_Seq,self,{car:self.left,cdr:make_node(AST_False)}).optimize(compressor)}return make_node(AST_False,self)}if(ll.length>1&&ll[1]){return rr[0]}if(rr.length>1&&rr[1]){return ll[0]}break;case"||":var ll=self.left.evaluate(compressor);var rr=self.right.evaluate(compressor);if(ll.length>1&&ll[1]||rr.length>1&&rr[1]){compressor.warn("Boolean || always true [{file}:{line},{col}]",self.start);if(self.left.has_side_effects(compressor)){return make_node(AST_Seq,self,{car:self.left,cdr:make_node(AST_True)}).optimize(compressor)}return make_node(AST_True,self)}if(ll.length>1&&!ll[1]){return rr[0]}if(rr.length>1&&!rr[1]){return ll[0]}break;case"+":var ll=self.left.evaluate(compressor);var rr=self.right.evaluate(compressor);if(ll.length>1&&ll[0]instanceof AST_String&&ll[1]||rr.length>1&&rr[0]instanceof AST_String&&rr[1]){compressor.warn("+ in boolean context always true [{file}:{line},{col}]",self.start);return make_node(AST_True,self)}break}if(compressor.option("comparisons")&&self.is_boolean()){if(!(compressor.parent()instanceof AST_Binary)||compressor.parent()instanceof AST_Assign){var negated=make_node(AST_UnaryPrefix,self,{operator:"!",expression:self.negate(compressor)});self=best_of(self,negated)}if(compressor.option("unsafe_comps")){switch(self.operator){case"<":reverse(">");break;case"<=":reverse(">=");break}}}if(self.operator=="+"&&self.right instanceof AST_String&&self.right.getValue()===""&&self.left instanceof AST_Binary&&self.left.operator=="+"&&self.left.is_string(compressor)){return self.left}if(compressor.option("evaluate")){if(self.operator=="+"){if(self.left instanceof AST_Constant&&self.right instanceof AST_Binary&&self.right.operator=="+"&&self.right.left instanceof AST_Constant&&self.right.is_string(compressor)){self=make_node(AST_Binary,self,{operator:"+",left:make_node(AST_String,null,{value:""+self.left.getValue()+self.right.left.getValue(),start:self.left.start,end:self.right.left.end}),right:self.right.right})}if(self.right instanceof AST_Constant&&self.left instanceof AST_Binary&&self.left.operator=="+"&&self.left.right instanceof AST_Constant&&self.left.is_string(compressor)){self=make_node(AST_Binary,self,{operator:"+",left:self.left.left,right:make_node(AST_String,null,{value:""+self.left.right.getValue()+self.right.getValue(),start:self.left.right.start,end:self.right.end})})}if(self.left instanceof AST_Binary&&self.left.operator=="+"&&self.left.is_string(compressor)&&self.left.right instanceof AST_Constant&&self.right instanceof AST_Binary&&self.right.operator=="+"&&self.right.left instanceof AST_Constant&&self.right.is_string(compressor)){self=make_node(AST_Binary,self,{operator:"+",left:make_node(AST_Binary,self.left,{operator:"+",left:self.left.left,right:make_node(AST_String,null,{value:""+self.left.right.getValue()+self.right.left.getValue(),start:self.left.right.start,end:self.right.left.end})}),right:self.right.right})}}}if(self.right instanceof AST_Binary&&self.right.operator==self.operator&&(self.operator=="&&"||self.operator=="||")){self.left=make_node(AST_Binary,self.left,{operator:self.operator,left:self.left,right:self.right.left});self.right=self.right.right;return self.transform(compressor)}return self.evaluate(compressor)[0]});OPT(AST_SymbolRef,function(self,compressor){function isLHS(symbol,parent){return parent instanceof AST_Binary&&parent.operator==="="&&parent.left===symbol}if(self.undeclared()&&!isLHS(self,compressor.parent())){var defines=compressor.option("global_defs");if(defines&&HOP(defines,self.name)){return make_node_from_constant(compressor,defines[self.name],self)}if(!self.scope.uses_with||!compressor.find_parent(AST_With)){switch(self.name){case"undefined":return make_node(AST_Undefined,self);case"NaN":return make_node(AST_NaN,self).transform(compressor);case"Infinity":return make_node(AST_Infinity,self).transform(compressor)}}}return self});OPT(AST_Infinity,function(self,compressor){return make_node(AST_Binary,self,{operator:"/",left:make_node(AST_Number,self,{value:1}),right:make_node(AST_Number,self,{value:0})})});OPT(AST_Undefined,function(self,compressor){if(compressor.option("unsafe")){var scope=compressor.find_parent(AST_Scope);var undef=scope.find_variable("undefined");if(undef){var ref=make_node(AST_SymbolRef,self,{name:"undefined",scope:scope,thedef:undef});ref.reference();return ref}}return self});var ASSIGN_OPS=["+","-","/","*","%",">>","<<",">>>","|","^","&"];OPT(AST_Assign,function(self,compressor){self=self.lift_sequences(compressor);if(self.operator=="="&&self.left instanceof AST_SymbolRef&&self.right instanceof AST_Binary&&self.right.left instanceof AST_SymbolRef&&self.right.left.name==self.left.name&&member(self.right.operator,ASSIGN_OPS)){self.operator=self.right.operator+"=";self.right=self.right.right}return self});OPT(AST_Conditional,function(self,compressor){if(!compressor.option("conditionals"))return self;if(self.condition instanceof AST_Seq){var car=self.condition.car;self.condition=self.condition.cdr;return AST_Seq.cons(car,self)}var cond=self.condition.evaluate(compressor);if(cond.length>1){if(cond[1]){compressor.warn("Condition always true [{file}:{line},{col}]",self.start);return maintain_this_binding(compressor.parent(),self,self.consequent)}else{compressor.warn("Condition always false [{file}:{line},{col}]",self.start);return maintain_this_binding(compressor.parent(),self,self.alternative)}}var negated=cond[0].negate(compressor);if(best_of(cond[0],negated)===negated){self=make_node(AST_Conditional,self,{condition:negated,consequent:self.alternative,alternative:self.consequent})}var consequent=self.consequent;var alternative=self.alternative;if(consequent instanceof AST_Assign&&alternative instanceof AST_Assign&&consequent.operator==alternative.operator&&consequent.left.equivalent_to(alternative.left)&&!consequent.left.has_side_effects(compressor)){return make_node(AST_Assign,self,{operator:consequent.operator,left:consequent.left,right:make_node(AST_Conditional,self,{condition:self.condition,consequent:consequent.right,alternative:alternative.right})})}if(consequent instanceof AST_Call&&alternative.TYPE===consequent.TYPE&&consequent.args.length==alternative.args.length&&!consequent.expression.has_side_effects(compressor)&&consequent.expression.equivalent_to(alternative.expression)){if(consequent.args.length==0){return make_node(AST_Seq,self,{car:self.condition,cdr:consequent})}if(consequent.args.length==1){consequent.args[0]=make_node(AST_Conditional,self,{condition:self.condition,consequent:consequent.args[0],alternative:alternative.args[0]});return consequent}}if(consequent instanceof AST_Conditional&&consequent.alternative.equivalent_to(alternative)){return make_node(AST_Conditional,self,{condition:make_node(AST_Binary,self,{left:self.condition,operator:"&&",right:consequent.condition}),consequent:consequent.consequent,alternative:alternative})}if(consequent.is_constant(compressor)&&alternative.is_constant(compressor)&&consequent.equivalent_to(alternative)){var consequent_value=consequent.constant_value(compressor);if(self.condition.has_side_effects(compressor)){return AST_Seq.from_array([self.condition,make_node_from_constant(compressor,consequent_value,self)])}else{return make_node_from_constant(compressor,consequent_value,self)}}if(is_true(self.consequent)){if(is_false(self.alternative)){return booleanize(self.condition)}return make_node(AST_Binary,self,{operator:"||",left:booleanize(self.condition),right:self.alternative})}if(is_false(self.consequent)){if(is_true(self.alternative)){return booleanize(self.condition.negate(compressor))}return make_node(AST_Binary,self,{operator:"&&",left:booleanize(self.condition.negate(compressor)),right:self.alternative})}if(is_true(self.alternative)){return make_node(AST_Binary,self,{operator:"||",left:booleanize(self.condition.negate(compressor)),right:self.consequent})}if(is_false(self.alternative)){return make_node(AST_Binary,self,{operator:"&&",left:booleanize(self.condition),right:self.consequent})}return self;function booleanize(node){if(node.is_boolean())return node;return make_node(AST_UnaryPrefix,node,{operator:"!",expression:node.negate(compressor)})}function is_true(node){return node instanceof AST_True||node instanceof AST_UnaryPrefix&&node.operator=="!"&&node.expression instanceof AST_Constant&&!node.expression.value}function is_false(node){return node instanceof AST_False||node instanceof AST_UnaryPrefix&&node.operator=="!"&&node.expression instanceof AST_Constant&&!!node.expression.value}});OPT(AST_Boolean,function(self,compressor){if(compressor.option("booleans")){var p=compressor.parent();if(p instanceof AST_Binary&&(p.operator=="=="||p.operator=="!=")){compressor.warn("Non-strict equality against boolean: {operator} {value} [{file}:{line},{col}]",{operator:p.operator,value:self.value,file:p.start.file,line:p.start.line,col:p.start.col});return make_node(AST_Number,self,{value:+self.value})}return make_node(AST_UnaryPrefix,self,{operator:"!",expression:make_node(AST_Number,self,{value:1-self.value})})}return self});OPT(AST_Sub,function(self,compressor){var prop=self.property;if(prop instanceof AST_String&&compressor.option("properties")){prop=prop.getValue();if(RESERVED_WORDS(prop)?compressor.option("screw_ie8"):is_identifier_string(prop)){return make_node(AST_Dot,self,{expression:self.expression,property:prop}).optimize(compressor)}var v=parseFloat(prop);if(!isNaN(v)&&v.toString()==prop){self.property=make_node(AST_Number,self.property,{value:v})}}return self});OPT(AST_Dot,function(self,compressor){var prop=self.property;if(RESERVED_WORDS(prop)&&!compressor.option("screw_ie8")){return make_node(AST_Sub,self,{expression:self.expression,property:make_node(AST_String,self,{value:prop})}).optimize(compressor)}return self.evaluate(compressor)[0]});function literals_in_boolean_context(self,compressor){if(compressor.option("booleans")&&compressor.in_boolean_context()&&!self.has_side_effects(compressor)){return make_node(AST_True,self)}return self}OPT(AST_Array,literals_in_boolean_context);OPT(AST_Object,literals_in_boolean_context);OPT(AST_RegExp,literals_in_boolean_context);OPT(AST_Return,function(self,compressor){if(self.value instanceof AST_Undefined){self.value=null}return self})})();"use strict";function SourceMap(options){options=defaults(options,{file:null,root:null,orig:null,orig_line_diff:0,dest_line_diff:0});var generator=new MOZ_SourceMap.SourceMapGenerator({file:options.file,sourceRoot:options.root});var orig_map=options.orig&&new MOZ_SourceMap.SourceMapConsumer(options.orig);function add(source,gen_line,gen_col,orig_line,orig_col,name){if(orig_map){var info=orig_map.originalPositionFor({line:orig_line,column:orig_col});if(info.source===null){return}source=info.source;orig_line=info.line;orig_col=info.column;name=info.name||name}generator.addMapping({generated:{line:gen_line+options.dest_line_diff,column:gen_col},original:{line:orig_line+options.orig_line_diff,column:orig_col},source:source,name:name})}return{add:add,get:function(){return generator},toString:function(){return JSON.stringify(generator.toJSON())}}}"use strict";(function(){var normalize_directives=function(body){var in_directive=true;for(var i=0;i<body.length;i++){if(in_directive&&body[i]instanceof AST_Statement&&body[i].body instanceof AST_String){body[i]=new AST_Directive({start:body[i].start,end:body[i].end,value:body[i].body.value})}else if(in_directive&&!(body[i]instanceof AST_Statement&&body[i].body instanceof AST_String)){in_directive=false}}return body};var MOZ_TO_ME={Program:function(M){return new AST_Toplevel({start:my_start_token(M),end:my_end_token(M),body:normalize_directives(M.body.map(from_moz))})},FunctionDeclaration:function(M){return new AST_Defun({start:my_start_token(M),end:my_end_token(M),name:from_moz(M.id),argnames:M.params.map(from_moz),body:normalize_directives(from_moz(M.body).body)})},FunctionExpression:function(M){return new AST_Function({start:my_start_token(M),end:my_end_token(M),name:from_moz(M.id),argnames:M.params.map(from_moz),body:normalize_directives(from_moz(M.body).body)})},ExpressionStatement:function(M){return new AST_SimpleStatement({start:my_start_token(M),end:my_end_token(M),body:from_moz(M.expression)})},TryStatement:function(M){var handlers=M.handlers||[M.handler];if(handlers.length>1||M.guardedHandlers&&M.guardedHandlers.length){throw new Error("Multiple catch clauses are not supported.")}return new AST_Try({start:my_start_token(M),end:my_end_token(M),body:from_moz(M.block).body,bcatch:from_moz(handlers[0]),bfinally:M.finalizer?new AST_Finally(from_moz(M.finalizer)):null})},Property:function(M){var key=M.key;var name=key.type=="Identifier"?key.name:key.value;var args={start:my_start_token(key),end:my_end_token(M.value),key:name,value:from_moz(M.value)};switch(M.kind){case"init":return new AST_ObjectKeyVal(args);case"set":args.value.name=from_moz(key);return new AST_ObjectSetter(args);case"get":args.value.name=from_moz(key);return new AST_ObjectGetter(args)}},ArrayExpression:function(M){return new AST_Array({start:my_start_token(M),end:my_end_token(M),elements:M.elements.map(function(elem){return elem===null?new AST_Hole:from_moz(elem)})})},ObjectExpression:function(M){return new AST_Object({start:my_start_token(M),end:my_end_token(M),properties:M.properties.map(function(prop){prop.type="Property";return from_moz(prop)})})},SequenceExpression:function(M){return AST_Seq.from_array(M.expressions.map(from_moz))},MemberExpression:function(M){return new(M.computed?AST_Sub:AST_Dot)({start:my_start_token(M),end:my_end_token(M),property:M.computed?from_moz(M.property):M.property.name,expression:from_moz(M.object)})},SwitchCase:function(M){return new(M.test?AST_Case:AST_Default)({start:my_start_token(M),end:my_end_token(M),expression:from_moz(M.test),body:M.consequent.map(from_moz)})},VariableDeclaration:function(M){return new(M.kind==="const"?AST_Const:AST_Var)({start:my_start_token(M),end:my_end_token(M),definitions:M.declarations.map(from_moz)})},Literal:function(M){var val=M.value,args={start:my_start_token(M),end:my_end_token(M)};if(val===null)return new AST_Null(args);switch(typeof val){case"string":args.value=val;return new AST_String(args);case"number":args.value=val;return new AST_Number(args);case"boolean":return new(val?AST_True:AST_False)(args);default:var rx=M.regex;if(rx&&rx.pattern){args.value=new RegExp(rx.pattern,rx.flags).toString();
}else{args.value=M.regex&&M.raw?M.raw:val}return new AST_RegExp(args)}},Identifier:function(M){var p=FROM_MOZ_STACK[FROM_MOZ_STACK.length-2];return new(p.type=="LabeledStatement"?AST_Label:p.type=="VariableDeclarator"&&p.id===M?p.kind=="const"?AST_SymbolConst:AST_SymbolVar:p.type=="FunctionExpression"?p.id===M?AST_SymbolLambda:AST_SymbolFunarg:p.type=="FunctionDeclaration"?p.id===M?AST_SymbolDefun:AST_SymbolFunarg:p.type=="CatchClause"?AST_SymbolCatch:p.type=="BreakStatement"||p.type=="ContinueStatement"?AST_LabelRef:AST_SymbolRef)({start:my_start_token(M),end:my_end_token(M),name:M.name})}};MOZ_TO_ME.UpdateExpression=MOZ_TO_ME.UnaryExpression=function To_Moz_Unary(M){var prefix="prefix"in M?M.prefix:M.type=="UnaryExpression"?true:false;return new(prefix?AST_UnaryPrefix:AST_UnaryPostfix)({start:my_start_token(M),end:my_end_token(M),operator:M.operator,expression:from_moz(M.argument)})};map("EmptyStatement",AST_EmptyStatement);map("BlockStatement",AST_BlockStatement,"body@body");map("IfStatement",AST_If,"test>condition, consequent>body, alternate>alternative");map("LabeledStatement",AST_LabeledStatement,"label>label, body>body");map("BreakStatement",AST_Break,"label>label");map("ContinueStatement",AST_Continue,"label>label");map("WithStatement",AST_With,"object>expression, body>body");map("SwitchStatement",AST_Switch,"discriminant>expression, cases@body");map("ReturnStatement",AST_Return,"argument>value");map("ThrowStatement",AST_Throw,"argument>value");map("WhileStatement",AST_While,"test>condition, body>body");map("DoWhileStatement",AST_Do,"test>condition, body>body");map("ForStatement",AST_For,"init>init, test>condition, update>step, body>body");map("ForInStatement",AST_ForIn,"left>init, right>object, body>body");map("DebuggerStatement",AST_Debugger);map("VariableDeclarator",AST_VarDef,"id>name, init>value");map("CatchClause",AST_Catch,"param>argname, body%body");map("ThisExpression",AST_This);map("BinaryExpression",AST_Binary,"operator=operator, left>left, right>right");map("LogicalExpression",AST_Binary,"operator=operator, left>left, right>right");map("AssignmentExpression",AST_Assign,"operator=operator, left>left, right>right");map("ConditionalExpression",AST_Conditional,"test>condition, consequent>consequent, alternate>alternative");map("NewExpression",AST_New,"callee>expression, arguments@args");map("CallExpression",AST_Call,"callee>expression, arguments@args");def_to_moz(AST_Toplevel,function To_Moz_Program(M){return{type:"Program",body:M.body.map(to_moz)}});def_to_moz(AST_Defun,function To_Moz_FunctionDeclaration(M){return{type:"FunctionDeclaration",id:to_moz(M.name),params:M.argnames.map(to_moz),body:to_moz_block(M)}});def_to_moz(AST_Function,function To_Moz_FunctionExpression(M){return{type:"FunctionExpression",id:to_moz(M.name),params:M.argnames.map(to_moz),body:to_moz_block(M)}});def_to_moz(AST_Directive,function To_Moz_Directive(M){return{type:"ExpressionStatement",expression:{type:"Literal",value:M.value}}});def_to_moz(AST_SimpleStatement,function To_Moz_ExpressionStatement(M){return{type:"ExpressionStatement",expression:to_moz(M.body)}});def_to_moz(AST_SwitchBranch,function To_Moz_SwitchCase(M){return{type:"SwitchCase",test:to_moz(M.expression),consequent:M.body.map(to_moz)}});def_to_moz(AST_Try,function To_Moz_TryStatement(M){return{type:"TryStatement",block:to_moz_block(M),handler:to_moz(M.bcatch),guardedHandlers:[],finalizer:to_moz(M.bfinally)}});def_to_moz(AST_Catch,function To_Moz_CatchClause(M){return{type:"CatchClause",param:to_moz(M.argname),guard:null,body:to_moz_block(M)}});def_to_moz(AST_Definitions,function To_Moz_VariableDeclaration(M){return{type:"VariableDeclaration",kind:M instanceof AST_Const?"const":"var",declarations:M.definitions.map(to_moz)}});def_to_moz(AST_Seq,function To_Moz_SequenceExpression(M){return{type:"SequenceExpression",expressions:M.to_array().map(to_moz)}});def_to_moz(AST_PropAccess,function To_Moz_MemberExpression(M){var isComputed=M instanceof AST_Sub;return{type:"MemberExpression",object:to_moz(M.expression),computed:isComputed,property:isComputed?to_moz(M.property):{type:"Identifier",name:M.property}}});def_to_moz(AST_Unary,function To_Moz_Unary(M){return{type:M.operator=="++"||M.operator=="--"?"UpdateExpression":"UnaryExpression",operator:M.operator,prefix:M instanceof AST_UnaryPrefix,argument:to_moz(M.expression)}});def_to_moz(AST_Binary,function To_Moz_BinaryExpression(M){return{type:M.operator=="&&"||M.operator=="||"?"LogicalExpression":"BinaryExpression",left:to_moz(M.left),operator:M.operator,right:to_moz(M.right)}});def_to_moz(AST_Array,function To_Moz_ArrayExpression(M){return{type:"ArrayExpression",elements:M.elements.map(to_moz)}});def_to_moz(AST_Object,function To_Moz_ObjectExpression(M){return{type:"ObjectExpression",properties:M.properties.map(to_moz)}});def_to_moz(AST_ObjectProperty,function To_Moz_Property(M){var key=is_identifier(M.key)?{type:"Identifier",name:M.key}:{type:"Literal",value:M.key};var kind;if(M instanceof AST_ObjectKeyVal){kind="init"}else if(M instanceof AST_ObjectGetter){kind="get"}else if(M instanceof AST_ObjectSetter){kind="set"}return{type:"Property",kind:kind,key:key,value:to_moz(M.value)}});def_to_moz(AST_Symbol,function To_Moz_Identifier(M){var def=M.definition();return{type:"Identifier",name:def?def.mangled_name||def.name:M.name}});def_to_moz(AST_RegExp,function To_Moz_RegExpLiteral(M){var value=M.value;return{type:"Literal",value:value,raw:value.toString(),regex:{pattern:value.source,flags:value.toString().match(/[gimuy]*$/)[0]}}});def_to_moz(AST_Constant,function To_Moz_Literal(M){var value=M.value;if(typeof value==="number"&&(value<0||value===0&&1/value<0)){return{type:"UnaryExpression",operator:"-",prefix:true,argument:{type:"Literal",value:-value,raw:M.start.raw}}}return{type:"Literal",value:value,raw:M.start.raw}});def_to_moz(AST_Atom,function To_Moz_Atom(M){return{type:"Identifier",name:String(M.value)}});AST_Boolean.DEFMETHOD("to_mozilla_ast",AST_Constant.prototype.to_mozilla_ast);AST_Null.DEFMETHOD("to_mozilla_ast",AST_Constant.prototype.to_mozilla_ast);AST_Hole.DEFMETHOD("to_mozilla_ast",function To_Moz_ArrayHole(){return null});AST_Block.DEFMETHOD("to_mozilla_ast",AST_BlockStatement.prototype.to_mozilla_ast);AST_Lambda.DEFMETHOD("to_mozilla_ast",AST_Function.prototype.to_mozilla_ast);function raw_token(moznode){if(moznode.type=="Literal"){return moznode.raw!=null?moznode.raw:moznode.value+""}}function my_start_token(moznode){var loc=moznode.loc,start=loc&&loc.start;var range=moznode.range;return new AST_Token({file:loc&&loc.source,line:start&&start.line,col:start&&start.column,pos:range?range[0]:moznode.start,endline:start&&start.line,endcol:start&&start.column,endpos:range?range[0]:moznode.start,raw:raw_token(moznode)})}function my_end_token(moznode){var loc=moznode.loc,end=loc&&loc.end;var range=moznode.range;return new AST_Token({file:loc&&loc.source,line:end&&end.line,col:end&&end.column,pos:range?range[1]:moznode.end,endline:end&&end.line,endcol:end&&end.column,endpos:range?range[1]:moznode.end,raw:raw_token(moznode)})}function map(moztype,mytype,propmap){var moz_to_me="function From_Moz_"+moztype+"(M){\n";moz_to_me+="return new U2."+mytype.name+"({\n"+"start: my_start_token(M),\n"+"end: my_end_token(M)";var me_to_moz="function To_Moz_"+moztype+"(M){\n";me_to_moz+="return {\n"+"type: "+JSON.stringify(moztype);if(propmap)propmap.split(/\s*,\s*/).forEach(function(prop){var m=/([a-z0-9$_]+)(=|@|>|%)([a-z0-9$_]+)/i.exec(prop);if(!m)throw new Error("Can't understand property map: "+prop);var moz=m[1],how=m[2],my=m[3];moz_to_me+=",\n"+my+": ";me_to_moz+=",\n"+moz+": ";switch(how){case"@":moz_to_me+="M."+moz+".map(from_moz)";me_to_moz+="M."+my+".map(to_moz)";break;case">":moz_to_me+="from_moz(M."+moz+")";me_to_moz+="to_moz(M."+my+")";break;case"=":moz_to_me+="M."+moz;me_to_moz+="M."+my;break;case"%":moz_to_me+="from_moz(M."+moz+").body";me_to_moz+="to_moz_block(M)";break;default:throw new Error("Can't understand operator in propmap: "+prop)}});moz_to_me+="\n})\n}";me_to_moz+="\n}\n}";moz_to_me=new Function("U2","my_start_token","my_end_token","from_moz","return("+moz_to_me+")")(exports,my_start_token,my_end_token,from_moz);me_to_moz=new Function("to_moz","to_moz_block","return("+me_to_moz+")")(to_moz,to_moz_block);MOZ_TO_ME[moztype]=moz_to_me;def_to_moz(mytype,me_to_moz)}var FROM_MOZ_STACK=null;function from_moz(node){FROM_MOZ_STACK.push(node);var ret=node!=null?MOZ_TO_ME[node.type](node):null;FROM_MOZ_STACK.pop();return ret}AST_Node.from_mozilla_ast=function(node){var save_stack=FROM_MOZ_STACK;FROM_MOZ_STACK=[];var ast=from_moz(node);FROM_MOZ_STACK=save_stack;return ast};function set_moz_loc(mynode,moznode,myparent){var start=mynode.start;var end=mynode.end;if(start.pos!=null&&end.endpos!=null){moznode.range=[start.pos,end.endpos]}if(start.line){moznode.loc={start:{line:start.line,column:start.col},end:end.endline?{line:end.endline,column:end.endcol}:null};if(start.file){moznode.loc.source=start.file}}return moznode}function def_to_moz(mytype,handler){mytype.DEFMETHOD("to_mozilla_ast",function(){return set_moz_loc(this,handler(this))})}function to_moz(node){return node!=null?node.to_mozilla_ast():null}function to_moz_block(node){return{type:"BlockStatement",body:node.body.map(to_moz)}}})();"use strict";function find_builtins(){var a=[];[Object,Array,Function,Number,String,Boolean,Error,Math,Date,RegExp].forEach(function(ctor){Object.getOwnPropertyNames(ctor).map(add);if(ctor.prototype){Object.getOwnPropertyNames(ctor.prototype).map(add)}});function add(name){push_uniq(a,name)}return a}function mangle_properties(ast,options){options=defaults(options,{reserved:null,cache:null,only_cache:false,regex:null,ignore_quoted:false});var reserved=options.reserved;if(reserved==null)reserved=find_builtins();var cache=options.cache;if(cache==null){cache={cname:-1,props:new Dictionary}}var regex=options.regex;var ignore_quoted=options.ignore_quoted;var names_to_mangle=[];var unmangleable=[];ast.walk(new TreeWalker(function(node){if(node instanceof AST_ObjectKeyVal){if(!(ignore_quoted&&node.quote))add(node.key)}else if(node instanceof AST_ObjectProperty){add(node.key.name)}else if(node instanceof AST_Dot){if(this.parent()instanceof AST_Assign){add(node.property)}}else if(node instanceof AST_Sub){if(this.parent()instanceof AST_Assign){if(!ignore_quoted)addStrings(node.property)}}}));return ast.transform(new TreeTransformer(function(node){if(node instanceof AST_ObjectKeyVal){if(!(ignore_quoted&&node.quote))node.key=mangle(node.key)}else if(node instanceof AST_ObjectProperty){node.key.name=mangle(node.key.name)}else if(node instanceof AST_Dot){node.property=mangle(node.property)}else if(node instanceof AST_Sub){if(!ignore_quoted)node.property=mangleStrings(node.property)}}));function can_mangle(name){if(unmangleable.indexOf(name)>=0)return false;if(reserved.indexOf(name)>=0)return false;if(options.only_cache){return cache.props.has(name)}if(/^[0-9.]+$/.test(name))return false;return true}function should_mangle(name){if(regex&&!regex.test(name))return false;if(reserved.indexOf(name)>=0)return false;return cache.props.has(name)||names_to_mangle.indexOf(name)>=0}function add(name){if(can_mangle(name))push_uniq(names_to_mangle,name);if(!should_mangle(name)){push_uniq(unmangleable,name)}}function mangle(name){if(!should_mangle(name)){return name}var mangled=cache.props.get(name);if(!mangled){do{mangled=base54(++cache.cname)}while(!can_mangle(mangled));cache.props.set(name,mangled)}return mangled}function addStrings(node){var out={};try{(function walk(node){node.walk(new TreeWalker(function(node){if(node instanceof AST_Seq){walk(node.cdr);return true}if(node instanceof AST_String){add(node.value);return true}if(node instanceof AST_Conditional){walk(node.consequent);walk(node.alternative);return true}throw out}))})(node)}catch(ex){if(ex!==out)throw ex}}function mangleStrings(node){return node.transform(new TreeTransformer(function(node){if(node instanceof AST_Seq){node.cdr=mangleStrings(node.cdr)}else if(node instanceof AST_String){node.value=mangle(node.value)}else if(node instanceof AST_Conditional){node.consequent=mangleStrings(node.consequent);node.alternative=mangleStrings(node.alternative)}return node}))}}exports["Compressor"]=Compressor;exports["DefaultsError"]=DefaultsError;exports["Dictionary"]=Dictionary;exports["JS_Parse_Error"]=JS_Parse_Error;exports["MAP"]=MAP;exports["OutputStream"]=OutputStream;exports["SourceMap"]=SourceMap;exports["TreeTransformer"]=TreeTransformer;exports["TreeWalker"]=TreeWalker;exports["base54"]=base54;exports["defaults"]=defaults;exports["mangle_properties"]=mangle_properties;exports["merge"]=merge;exports["parse"]=parse;exports["push_uniq"]=push_uniq;exports["string_template"]=string_template;exports["tokenizer"]=tokenizer;exports["is_identifier"]=is_identifier;exports["SymbolDef"]=SymbolDef;if(typeof DEBUG!=="undefined"&&DEBUG){exports["EXPECT_DIRECTIVE"]=EXPECT_DIRECTIVE}exports.sys=sys;exports.MOZ_SourceMap=MOZ_SourceMap;exports.UglifyJS=UglifyJS;exports.array_to_hash=array_to_hash;exports.slice=slice;exports.characters=characters;exports.member=member;exports.find_if=find_if;exports.repeat_string=repeat_string;exports.DefaultsError=DefaultsError;exports.defaults=defaults;exports.merge=merge;exports.noop=noop;exports.MAP=MAP;exports.push_uniq=push_uniq;exports.string_template=string_template;exports.remove=remove;exports.mergeSort=mergeSort;exports.set_difference=set_difference;exports.set_intersection=set_intersection;exports.makePredicate=makePredicate;exports.all=all;exports.Dictionary=Dictionary;exports.HOP=HOP;exports.DEFNODE=DEFNODE;exports.AST_Token=AST_Token;exports.AST_Node=AST_Node;exports.AST_Statement=AST_Statement;exports.AST_Debugger=AST_Debugger;exports.AST_Directive=AST_Directive;exports.AST_SimpleStatement=AST_SimpleStatement;exports.walk_body=walk_body;exports.AST_Block=AST_Block;exports.AST_BlockStatement=AST_BlockStatement;exports.AST_EmptyStatement=AST_EmptyStatement;exports.AST_StatementWithBody=AST_StatementWithBody;exports.AST_LabeledStatement=AST_LabeledStatement;exports.AST_IterationStatement=AST_IterationStatement;exports.AST_DWLoop=AST_DWLoop;exports.AST_Do=AST_Do;exports.AST_While=AST_While;exports.AST_For=AST_For;exports.AST_ForIn=AST_ForIn;exports.AST_With=AST_With;exports.AST_Scope=AST_Scope;exports.AST_Toplevel=AST_Toplevel;exports.AST_Lambda=AST_Lambda;exports.AST_Accessor=AST_Accessor;exports.AST_Function=AST_Function;exports.AST_Defun=AST_Defun;exports.AST_Jump=AST_Jump;exports.AST_Exit=AST_Exit;exports.AST_Return=AST_Return;exports.AST_Throw=AST_Throw;exports.AST_LoopControl=AST_LoopControl;exports.AST_Break=AST_Break;exports.AST_Continue=AST_Continue;exports.AST_If=AST_If;exports.AST_Switch=AST_Switch;exports.AST_SwitchBranch=AST_SwitchBranch;exports.AST_Default=AST_Default;exports.AST_Case=AST_Case;exports.AST_Try=AST_Try;exports.AST_Catch=AST_Catch;exports.AST_Finally=AST_Finally;exports.AST_Definitions=AST_Definitions;exports.AST_Var=AST_Var;exports.AST_Const=AST_Const;exports.AST_VarDef=AST_VarDef;exports.AST_Call=AST_Call;exports.AST_New=AST_New;exports.AST_Seq=AST_Seq;exports.AST_PropAccess=AST_PropAccess;exports.AST_Dot=AST_Dot;exports.AST_Sub=AST_Sub;exports.AST_Unary=AST_Unary;exports.AST_UnaryPrefix=AST_UnaryPrefix;exports.AST_UnaryPostfix=AST_UnaryPostfix;exports.AST_Binary=AST_Binary;exports.AST_Conditional=AST_Conditional;exports.AST_Assign=AST_Assign;exports.AST_Array=AST_Array;exports.AST_Object=AST_Object;exports.AST_ObjectProperty=AST_ObjectProperty;exports.AST_ObjectKeyVal=AST_ObjectKeyVal;exports.AST_ObjectSetter=AST_ObjectSetter;exports.AST_ObjectGetter=AST_ObjectGetter;exports.AST_Symbol=AST_Symbol;exports.AST_SymbolAccessor=AST_SymbolAccessor;exports.AST_SymbolDeclaration=AST_SymbolDeclaration;exports.AST_SymbolVar=AST_SymbolVar;exports.AST_SymbolConst=AST_SymbolConst;exports.AST_SymbolFunarg=AST_SymbolFunarg;exports.AST_SymbolDefun=AST_SymbolDefun;exports.AST_SymbolLambda=AST_SymbolLambda;exports.AST_SymbolCatch=AST_SymbolCatch;exports.AST_Label=AST_Label;exports.AST_SymbolRef=AST_SymbolRef;exports.AST_LabelRef=AST_LabelRef;exports.AST_This=AST_This;exports.AST_Constant=AST_Constant;exports.AST_String=AST_String;exports.AST_Number=AST_Number;exports.AST_RegExp=AST_RegExp;exports.AST_Atom=AST_Atom;exports.AST_Null=AST_Null;exports.AST_NaN=AST_NaN;exports.AST_Undefined=AST_Undefined;exports.AST_Hole=AST_Hole;exports.AST_Infinity=AST_Infinity;exports.AST_Boolean=AST_Boolean;exports.AST_False=AST_False;exports.AST_True=AST_True;exports.TreeWalker=TreeWalker;exports.KEYWORDS=KEYWORDS;exports.KEYWORDS_ATOM=KEYWORDS_ATOM;exports.RESERVED_WORDS=RESERVED_WORDS;exports.KEYWORDS_BEFORE_EXPRESSION=KEYWORDS_BEFORE_EXPRESSION;exports.OPERATOR_CHARS=OPERATOR_CHARS;exports.RE_HEX_NUMBER=RE_HEX_NUMBER;exports.RE_OCT_NUMBER=RE_OCT_NUMBER;exports.OPERATORS=OPERATORS;exports.WHITESPACE_CHARS=WHITESPACE_CHARS;exports.NEWLINE_CHARS=NEWLINE_CHARS;exports.PUNC_BEFORE_EXPRESSION=PUNC_BEFORE_EXPRESSION;exports.PUNC_CHARS=PUNC_CHARS;exports.REGEXP_MODIFIERS=REGEXP_MODIFIERS;exports.UNICODE=UNICODE;exports.is_letter=is_letter;exports.is_digit=is_digit;exports.is_alphanumeric_char=is_alphanumeric_char;exports.is_unicode_digit=is_unicode_digit;exports.is_unicode_combining_mark=is_unicode_combining_mark;exports.is_unicode_connector_punctuation=is_unicode_connector_punctuation;exports.is_identifier=is_identifier;exports.is_identifier_start=is_identifier_start;exports.is_identifier_char=is_identifier_char;exports.is_identifier_string=is_identifier_string;exports.parse_js_number=parse_js_number;exports.JS_Parse_Error=JS_Parse_Error;exports.js_error=js_error;exports.is_token=is_token;exports.EX_EOF=EX_EOF;exports.tokenizer=tokenizer;exports.UNARY_PREFIX=UNARY_PREFIX;exports.UNARY_POSTFIX=UNARY_POSTFIX;exports.ASSIGNMENT=ASSIGNMENT;exports.PRECEDENCE=PRECEDENCE;exports.STATEMENTS_WITH_LABELS=STATEMENTS_WITH_LABELS;exports.ATOMIC_START_TOKEN=ATOMIC_START_TOKEN;exports.parse=parse;exports.TreeTransformer=TreeTransformer;exports.SymbolDef=SymbolDef;exports.base54=base54;exports.EXPECT_DIRECTIVE=EXPECT_DIRECTIVE;exports.OutputStream=OutputStream;exports.Compressor=Compressor;exports.SourceMap=SourceMap;exports.find_builtins=find_builtins;exports.mangle_properties=mangle_properties;exports.AST_Node.warn_function=function(txt){if(typeof console!="undefined"&&typeof console.warn==="function")console.warn(txt)};exports.minify=function(files,options){options=UglifyJS.defaults(options,{spidermonkey:false,outSourceMap:null,sourceRoot:null,inSourceMap:null,fromString:false,warnings:false,mangle:{},mangleProperties:false,nameCache:null,output:null,compress:{},parse:{}});UglifyJS.base54.reset();var toplevel=null,sourcesContent={};if(options.spidermonkey){toplevel=UglifyJS.AST_Node.from_mozilla_ast(files)}else{function addFile(file,fileUrl){var code=options.fromString?file:fs.readFileSync(file,"utf8");sourcesContent[fileUrl]=code;toplevel=UglifyJS.parse(code,{filename:fileUrl,toplevel:toplevel,bare_returns:options.parse?options.parse.bare_returns:undefined})}[].concat(files).forEach(function(files,i){if(typeof files==="string"){addFile(files,options.fromString?i:files)}else{for(var fileUrl in files){addFile(files[fileUrl],fileUrl)}}})}if(options.wrap){toplevel=toplevel.wrap_commonjs(options.wrap,options.exportAll)}if(options.compress){var compress={warnings:options.warnings};UglifyJS.merge(compress,options.compress);toplevel.figure_out_scope();var sq=UglifyJS.Compressor(compress);toplevel=sq.compress(toplevel)}if(options.mangleProperties||options.nameCache){options.mangleProperties.cache=UglifyJS.readNameCache(options.nameCache,"props");toplevel=UglifyJS.mangle_properties(toplevel,options.mangleProperties);UglifyJS.writeNameCache(options.nameCache,"props",options.mangleProperties.cache)}if(options.mangle){toplevel.figure_out_scope(options.mangle);toplevel.compute_char_frequency(options.mangle);toplevel.mangle_names(options.mangle)}var inMap=options.inSourceMap;var output={};if(typeof options.inSourceMap=="string"){inMap=fs.readFileSync(options.inSourceMap,"utf8")}if(options.outSourceMap){output.source_map=UglifyJS.SourceMap({file:options.outSourceMap,orig:inMap,root:options.sourceRoot});if(options.sourceMapIncludeSources){for(var file in sourcesContent){if(sourcesContent.hasOwnProperty(file)){output.source_map.get().setSourceContent(file,sourcesContent[file])}}}}if(options.output){UglifyJS.merge(output,options.output)}var stream=UglifyJS.OutputStream(output);toplevel.print(stream);if(options.outSourceMap&&"string"===typeof options.outSourceMap){stream+="\n//# sourceMappingURL="+options.outSourceMap}var source_map=output.source_map;if(source_map){source_map=source_map+""}return{code:stream+"",map:source_map}};exports.describe_ast=function(){var out=UglifyJS.OutputStream({beautify:true});function doitem(ctor){out.print("AST_"+ctor.TYPE);var props=ctor.SELF_PROPS.filter(function(prop){return!/^\$/.test(prop)});if(props.length>0){out.space();out.with_parens(function(){props.forEach(function(prop,i){if(i)out.space();out.print(prop)})})}if(ctor.documentation){out.space();out.print_string(ctor.documentation)}if(ctor.SUBCLASSES.length>0){out.space();out.with_block(function(){ctor.SUBCLASSES.forEach(function(ctor,i){out.indent();doitem(ctor);out.newline()})})}}doitem(UglifyJS.AST_Node);return out+""}},{"source-map":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/uglify-js/node_modules/source-map/source-map.js",util:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/util/util.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/url/url.js":[function(require,module,exports){"use strict";var punycode=require("punycode");var util=require("./util");exports.parse=urlParse;exports.resolve=urlResolve;exports.resolveObject=urlResolveObject;exports.format=urlFormat;exports.Url=Url;function Url(){this.protocol=null;this.slashes=null;this.auth=null;this.host=null;this.port=null;this.hostname=null;this.hash=null;this.search=null;this.query=null;this.pathname=null;this.path=null;this.href=null}var protocolPattern=/^([a-z0-9.+-]+:)/i,portPattern=/:[0-9]*$/,simplePathPattern=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,delims=["<",">",'"',"`"," ","\r","\n","\t"],unwise=["{","}","|","\\","^","`"].concat(delims),autoEscape=["'"].concat(unwise),nonHostChars=["%","/","?",";","#"].concat(autoEscape),hostEndingChars=["/","?","#"],hostnameMaxLen=255,hostnamePartPattern=/^[+a-z0-9A-Z_-]{0,63}$/,hostnamePartStart=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,unsafeProtocol={javascript:true,"javascript:":true},hostlessProtocol={javascript:true,"javascript:":true},slashedProtocol={http:true,https:true,ftp:true,gopher:true,file:true,"http:":true,"https:":true,"ftp:":true,"gopher:":true,"file:":true},querystring=require("querystring");function urlParse(url,parseQueryString,slashesDenoteHost){if(url&&util.isObject(url)&&url instanceof Url)return url;var u=new Url;u.parse(url,parseQueryString,slashesDenoteHost);return u}Url.prototype.parse=function(url,parseQueryString,slashesDenoteHost){if(!util.isString(url)){throw new TypeError("Parameter 'url' must be a string, not "+typeof url)}var queryIndex=url.indexOf("?"),splitter=queryIndex!==-1&&queryIndex<url.indexOf("#")?"?":"#",uSplit=url.split(splitter),slashRegex=/\\/g;uSplit[0]=uSplit[0].replace(slashRegex,"/");url=uSplit.join(splitter);var rest=url;rest=rest.trim();if(!slashesDenoteHost&&url.split("#").length===1){var simplePath=simplePathPattern.exec(rest);if(simplePath){this.path=rest;this.href=rest;this.pathname=simplePath[1];if(simplePath[2]){this.search=simplePath[2];if(parseQueryString){this.query=querystring.parse(this.search.substr(1))}else{this.query=this.search.substr(1)}}else if(parseQueryString){this.search="";this.query={}}return this}}var proto=protocolPattern.exec(rest);if(proto){proto=proto[0];var lowerProto=proto.toLowerCase();this.protocol=lowerProto;rest=rest.substr(proto.length)}if(slashesDenoteHost||proto||rest.match(/^\/\/[^@\/]+@[^@\/]+/)){var slashes=rest.substr(0,2)==="//";if(slashes&&!(proto&&hostlessProtocol[proto])){rest=rest.substr(2);this.slashes=true}}if(!hostlessProtocol[proto]&&(slashes||proto&&!slashedProtocol[proto])){var hostEnd=-1;for(var i=0;i<hostEndingChars.length;i++){var hec=rest.indexOf(hostEndingChars[i]);if(hec!==-1&&(hostEnd===-1||hec<hostEnd))hostEnd=hec}var auth,atSign;if(hostEnd===-1){atSign=rest.lastIndexOf("@")}else{atSign=rest.lastIndexOf("@",hostEnd)}if(atSign!==-1){auth=rest.slice(0,atSign);rest=rest.slice(atSign+1);this.auth=decodeURIComponent(auth)}hostEnd=-1;for(var i=0;i<nonHostChars.length;i++){var hec=rest.indexOf(nonHostChars[i]);if(hec!==-1&&(hostEnd===-1||hec<hostEnd))hostEnd=hec}if(hostEnd===-1)hostEnd=rest.length;this.host=rest.slice(0,hostEnd);rest=rest.slice(hostEnd);this.parseHost();this.hostname=this.hostname||"";var ipv6Hostname=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!ipv6Hostname){var hostparts=this.hostname.split(/\./);for(var i=0,l=hostparts.length;i<l;i++){var part=hostparts[i];if(!part)continue;if(!part.match(hostnamePartPattern)){var newpart="";for(var j=0,k=part.length;j<k;j++){if(part.charCodeAt(j)>127){newpart+="x"}else{newpart+=part[j]}}if(!newpart.match(hostnamePartPattern)){var validParts=hostparts.slice(0,i);var notHost=hostparts.slice(i+1);var bit=part.match(hostnamePartStart);if(bit){validParts.push(bit[1]);notHost.unshift(bit[2])}if(notHost.length){rest="/"+notHost.join(".")+rest}this.hostname=validParts.join(".");break}}}}if(this.hostname.length>hostnameMaxLen){this.hostname=""}else{this.hostname=this.hostname.toLowerCase()}if(!ipv6Hostname){this.hostname=punycode.toASCII(this.hostname)}var p=this.port?":"+this.port:"";var h=this.hostname||"";this.host=h+p;this.href+=this.host;if(ipv6Hostname){this.hostname=this.hostname.substr(1,this.hostname.length-2);if(rest[0]!=="/"){rest="/"+rest}}}if(!unsafeProtocol[lowerProto]){for(var i=0,l=autoEscape.length;i<l;i++){var ae=autoEscape[i];if(rest.indexOf(ae)===-1)continue;var esc=encodeURIComponent(ae);if(esc===ae){esc=escape(ae)}rest=rest.split(ae).join(esc)}}var hash=rest.indexOf("#");if(hash!==-1){this.hash=rest.substr(hash);rest=rest.slice(0,hash)}var qm=rest.indexOf("?");if(qm!==-1){this.search=rest.substr(qm);this.query=rest.substr(qm+1);if(parseQueryString){this.query=querystring.parse(this.query)}rest=rest.slice(0,qm)}else if(parseQueryString){this.search="";this.query={}}if(rest)this.pathname=rest;if(slashedProtocol[lowerProto]&&this.hostname&&!this.pathname){this.pathname="/"}if(this.pathname||this.search){var p=this.pathname||"";var s=this.search||"";this.path=p+s}this.href=this.format();return this};function urlFormat(obj){if(util.isString(obj))obj=urlParse(obj);if(!(obj instanceof Url))return Url.prototype.format.call(obj);return obj.format()}Url.prototype.format=function(){var auth=this.auth||"";if(auth){auth=encodeURIComponent(auth);auth=auth.replace(/%3A/i,":");auth+="@"}var protocol=this.protocol||"",pathname=this.pathname||"",hash=this.hash||"",host=false,query="";if(this.host){host=auth+this.host}else if(this.hostname){host=auth+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]");if(this.port){host+=":"+this.port}}if(this.query&&util.isObject(this.query)&&Object.keys(this.query).length){query=querystring.stringify(this.query)}var search=this.search||query&&"?"+query||"";if(protocol&&protocol.substr(-1)!==":")protocol+=":";if(this.slashes||(!protocol||slashedProtocol[protocol])&&host!==false){host="//"+(host||"");if(pathname&&pathname.charAt(0)!=="/")pathname="/"+pathname}else if(!host){host=""}if(hash&&hash.charAt(0)!=="#")hash="#"+hash;if(search&&search.charAt(0)!=="?")search="?"+search;pathname=pathname.replace(/[?#]/g,function(match){return encodeURIComponent(match)});search=search.replace("#","%23");return protocol+host+pathname+search+hash};function urlResolve(source,relative){return urlParse(source,false,true).resolve(relative)}Url.prototype.resolve=function(relative){return this.resolveObject(urlParse(relative,false,true)).format()};function urlResolveObject(source,relative){if(!source)return relative;return urlParse(source,false,true).resolveObject(relative)}Url.prototype.resolveObject=function(relative){if(util.isString(relative)){var rel=new Url;rel.parse(relative,false,true);relative=rel}var result=new Url;var tkeys=Object.keys(this);for(var tk=0;tk<tkeys.length;tk++){var tkey=tkeys[tk];result[tkey]=this[tkey]}result.hash=relative.hash;if(relative.href===""){result.href=result.format();return result}if(relative.slashes&&!relative.protocol){var rkeys=Object.keys(relative);for(var rk=0;rk<rkeys.length;rk++){var rkey=rkeys[rk];if(rkey!=="protocol")result[rkey]=relative[rkey]}if(slashedProtocol[result.protocol]&&result.hostname&&!result.pathname){result.path=result.pathname="/"}result.href=result.format();return result}if(relative.protocol&&relative.protocol!==result.protocol){if(!slashedProtocol[relative.protocol]){var keys=Object.keys(relative);for(var v=0;v<keys.length;v++){var k=keys[v];result[k]=relative[k]}result.href=result.format();return result}result.protocol=relative.protocol;if(!relative.host&&!hostlessProtocol[relative.protocol]){var relPath=(relative.pathname||"").split("/");while(relPath.length&&!(relative.host=relPath.shift()));if(!relative.host)relative.host="";if(!relative.hostname)relative.hostname="";if(relPath[0]!=="")relPath.unshift("");if(relPath.length<2)relPath.unshift("");result.pathname=relPath.join("/")}else{result.pathname=relative.pathname}result.search=relative.search;result.query=relative.query;result.host=relative.host||"";result.auth=relative.auth;result.hostname=relative.hostname||relative.host;result.port=relative.port;if(result.pathname||result.search){var p=result.pathname||"";var s=result.search||"";result.path=p+s}result.slashes=result.slashes||relative.slashes;result.href=result.format();return result}var isSourceAbs=result.pathname&&result.pathname.charAt(0)==="/",isRelAbs=relative.host||relative.pathname&&relative.pathname.charAt(0)==="/",mustEndAbs=isRelAbs||isSourceAbs||result.host&&relative.pathname,removeAllDots=mustEndAbs,srcPath=result.pathname&&result.pathname.split("/")||[],relPath=relative.pathname&&relative.pathname.split("/")||[],psychotic=result.protocol&&!slashedProtocol[result.protocol];if(psychotic){result.hostname="";result.port=null;if(result.host){if(srcPath[0]==="")srcPath[0]=result.host;else srcPath.unshift(result.host)}result.host="";if(relative.protocol){relative.hostname=null;relative.port=null;if(relative.host){if(relPath[0]==="")relPath[0]=relative.host;else relPath.unshift(relative.host)}relative.host=null}mustEndAbs=mustEndAbs&&(relPath[0]===""||srcPath[0]==="")}if(isRelAbs){result.host=relative.host||relative.host===""?relative.host:result.host;result.hostname=relative.hostname||relative.hostname===""?relative.hostname:result.hostname;result.search=relative.search;result.query=relative.query;srcPath=relPath}else if(relPath.length){if(!srcPath)srcPath=[];srcPath.pop();srcPath=srcPath.concat(relPath);result.search=relative.search;result.query=relative.query}else if(!util.isNullOrUndefined(relative.search)){if(psychotic){result.hostname=result.host=srcPath.shift();var authInHost=result.host&&result.host.indexOf("@")>0?result.host.split("@"):false;if(authInHost){result.auth=authInHost.shift();result.host=result.hostname=authInHost.shift()}}result.search=relative.search;result.query=relative.query;if(!util.isNull(result.pathname)||!util.isNull(result.search)){result.path=(result.pathname?result.pathname:"")+(result.search?result.search:"")}result.href=result.format();return result}if(!srcPath.length){result.pathname=null;if(result.search){result.path="/"+result.search}else{result.path=null}result.href=result.format();return result}var last=srcPath.slice(-1)[0];var hasTrailingSlash=(result.host||relative.host||srcPath.length>1)&&(last==="."||last==="..")||last==="";var up=0;for(var i=srcPath.length;i>=0;i--){last=srcPath[i];if(last==="."){
srcPath.splice(i,1)}else if(last===".."){srcPath.splice(i,1);up++}else if(up){srcPath.splice(i,1);up--}}if(!mustEndAbs&&!removeAllDots){for(;up--;up){srcPath.unshift("..")}}if(mustEndAbs&&srcPath[0]!==""&&(!srcPath[0]||srcPath[0].charAt(0)!=="/")){srcPath.unshift("")}if(hasTrailingSlash&&srcPath.join("/").substr(-1)!=="/"){srcPath.push("")}var isAbsolute=srcPath[0]===""||srcPath[0]&&srcPath[0].charAt(0)==="/";if(psychotic){result.hostname=result.host=isAbsolute?"":srcPath.length?srcPath.shift():"";var authInHost=result.host&&result.host.indexOf("@")>0?result.host.split("@"):false;if(authInHost){result.auth=authInHost.shift();result.host=result.hostname=authInHost.shift()}}mustEndAbs=mustEndAbs||result.host&&srcPath.length;if(mustEndAbs&&!isAbsolute){srcPath.unshift("")}if(!srcPath.length){result.pathname=null;result.path=null}else{result.pathname=srcPath.join("/")}if(!util.isNull(result.pathname)||!util.isNull(result.search)){result.path=(result.pathname?result.pathname:"")+(result.search?result.search:"")}result.auth=relative.auth||result.auth;result.slashes=result.slashes||relative.slashes;result.href=result.format();return result};Url.prototype.parseHost=function(){var host=this.host;var port=portPattern.exec(host);if(port){port=port[0];if(port!==":"){this.port=port.substr(1)}host=host.substr(0,host.length-port.length)}if(host)this.hostname=host}},{"./util":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/url/util.js",punycode:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/punycode/punycode.js",querystring:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/querystring-es3/index.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/url/util.js":[function(require,module,exports){"use strict";module.exports={isString:function(arg){return typeof arg==="string"},isObject:function(arg){return typeof arg==="object"&&arg!==null},isNull:function(arg){return arg===null},isNullOrUndefined:function(arg){return arg==null}}},{}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/util-deprecate/browser.js":[function(require,module,exports){(function(global){module.exports=deprecate;function deprecate(fn,msg){if(config("noDeprecation")){return fn}var warned=false;function deprecated(){if(!warned){if(config("throwDeprecation")){throw new Error(msg)}else if(config("traceDeprecation")){console.trace(msg)}else{console.warn(msg)}warned=true}return fn.apply(this,arguments)}return deprecated}function config(name){try{if(!global.localStorage)return false}catch(_){return false}var val=global.localStorage[name];if(null==val)return false;return String(val).toLowerCase()==="true"}}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/util/support/isBufferBrowser.js":[function(require,module,exports){module.exports=function isBuffer(arg){return arg&&typeof arg==="object"&&typeof arg.copy==="function"&&typeof arg.fill==="function"&&typeof arg.readUInt8==="function"}},{}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/util/util.js":[function(require,module,exports){(function(process,global){var formatRegExp=/%[sdj%]/g;exports.format=function(f){if(!isString(f)){var objects=[];for(var i=0;i<arguments.length;i++){objects.push(inspect(arguments[i]))}return objects.join(" ")}var i=1;var args=arguments;var len=args.length;var str=String(f).replace(formatRegExp,function(x){if(x==="%%")return"%";if(i>=len)return x;switch(x){case"%s":return String(args[i++]);case"%d":return Number(args[i++]);case"%j":try{return JSON.stringify(args[i++])}catch(_){return"[Circular]"}default:return x}});for(var x=args[i];i<len;x=args[++i]){if(isNull(x)||!isObject(x)){str+=" "+x}else{str+=" "+inspect(x)}}return str};exports.deprecate=function(fn,msg){if(isUndefined(global.process)){return function(){return exports.deprecate(fn,msg).apply(this,arguments)}}if(process.noDeprecation===true){return fn}var warned=false;function deprecated(){if(!warned){if(process.throwDeprecation){throw new Error(msg)}else if(process.traceDeprecation){console.trace(msg)}else{console.error(msg)}warned=true}return fn.apply(this,arguments)}return deprecated};var debugs={};var debugEnviron;exports.debuglog=function(set){if(isUndefined(debugEnviron))debugEnviron=process.env.NODE_DEBUG||"";set=set.toUpperCase();if(!debugs[set]){if(new RegExp("\\b"+set+"\\b","i").test(debugEnviron)){var pid=process.pid;debugs[set]=function(){var msg=exports.format.apply(exports,arguments);console.error("%s %d: %s",set,pid,msg)}}else{debugs[set]=function(){}}}return debugs[set]};function inspect(obj,opts){var ctx={seen:[],stylize:stylizeNoColor};if(arguments.length>=3)ctx.depth=arguments[2];if(arguments.length>=4)ctx.colors=arguments[3];if(isBoolean(opts)){ctx.showHidden=opts}else if(opts){exports._extend(ctx,opts)}if(isUndefined(ctx.showHidden))ctx.showHidden=false;if(isUndefined(ctx.depth))ctx.depth=2;if(isUndefined(ctx.colors))ctx.colors=false;if(isUndefined(ctx.customInspect))ctx.customInspect=true;if(ctx.colors)ctx.stylize=stylizeWithColor;return formatValue(ctx,obj,ctx.depth)}exports.inspect=inspect;inspect.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]};inspect.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function stylizeWithColor(str,styleType){var style=inspect.styles[styleType];if(style){return"["+inspect.colors[style][0]+"m"+str+"["+inspect.colors[style][1]+"m"}else{return str}}function stylizeNoColor(str,styleType){return str}function arrayToHash(array){var hash={};array.forEach(function(val,idx){hash[val]=true});return hash}function formatValue(ctx,value,recurseTimes){if(ctx.customInspect&&value&&isFunction(value.inspect)&&value.inspect!==exports.inspect&&!(value.constructor&&value.constructor.prototype===value)){var ret=value.inspect(recurseTimes,ctx);if(!isString(ret)){ret=formatValue(ctx,ret,recurseTimes)}return ret}var primitive=formatPrimitive(ctx,value);if(primitive){return primitive}var keys=Object.keys(value);var visibleKeys=arrayToHash(keys);if(ctx.showHidden){keys=Object.getOwnPropertyNames(value)}if(isError(value)&&(keys.indexOf("message")>=0||keys.indexOf("description")>=0)){return formatError(value)}if(keys.length===0){if(isFunction(value)){var name=value.name?": "+value.name:"";return ctx.stylize("[Function"+name+"]","special")}if(isRegExp(value)){return ctx.stylize(RegExp.prototype.toString.call(value),"regexp")}if(isDate(value)){return ctx.stylize(Date.prototype.toString.call(value),"date")}if(isError(value)){return formatError(value)}}var base="",array=false,braces=["{","}"];if(isArray(value)){array=true;braces=["[","]"]}if(isFunction(value)){var n=value.name?": "+value.name:"";base=" [Function"+n+"]"}if(isRegExp(value)){base=" "+RegExp.prototype.toString.call(value)}if(isDate(value)){base=" "+Date.prototype.toUTCString.call(value)}if(isError(value)){base=" "+formatError(value)}if(keys.length===0&&(!array||value.length==0)){return braces[0]+base+braces[1]}if(recurseTimes<0){if(isRegExp(value)){return ctx.stylize(RegExp.prototype.toString.call(value),"regexp")}else{return ctx.stylize("[Object]","special")}}ctx.seen.push(value);var output;if(array){output=formatArray(ctx,value,recurseTimes,visibleKeys,keys)}else{output=keys.map(function(key){return formatProperty(ctx,value,recurseTimes,visibleKeys,key,array)})}ctx.seen.pop();return reduceToSingleString(output,base,braces)}function formatPrimitive(ctx,value){if(isUndefined(value))return ctx.stylize("undefined","undefined");if(isString(value)){var simple="'"+JSON.stringify(value).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return ctx.stylize(simple,"string")}if(isNumber(value))return ctx.stylize(""+value,"number");if(isBoolean(value))return ctx.stylize(""+value,"boolean");if(isNull(value))return ctx.stylize("null","null")}function formatError(value){return"["+Error.prototype.toString.call(value)+"]"}function formatArray(ctx,value,recurseTimes,visibleKeys,keys){var output=[];for(var i=0,l=value.length;i<l;++i){if(hasOwnProperty(value,String(i))){output.push(formatProperty(ctx,value,recurseTimes,visibleKeys,String(i),true))}else{output.push("")}}keys.forEach(function(key){if(!key.match(/^\d+$/)){output.push(formatProperty(ctx,value,recurseTimes,visibleKeys,key,true))}});return output}function formatProperty(ctx,value,recurseTimes,visibleKeys,key,array){var name,str,desc;desc=Object.getOwnPropertyDescriptor(value,key)||{value:value[key]};if(desc.get){if(desc.set){str=ctx.stylize("[Getter/Setter]","special")}else{str=ctx.stylize("[Getter]","special")}}else{if(desc.set){str=ctx.stylize("[Setter]","special")}}if(!hasOwnProperty(visibleKeys,key)){name="["+key+"]"}if(!str){if(ctx.seen.indexOf(desc.value)<0){if(isNull(recurseTimes)){str=formatValue(ctx,desc.value,null)}else{str=formatValue(ctx,desc.value,recurseTimes-1)}if(str.indexOf("\n")>-1){if(array){str=str.split("\n").map(function(line){return"  "+line}).join("\n").substr(2)}else{str="\n"+str.split("\n").map(function(line){return"   "+line}).join("\n")}}}else{str=ctx.stylize("[Circular]","special")}}if(isUndefined(name)){if(array&&key.match(/^\d+$/)){return str}name=JSON.stringify(""+key);if(name.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)){name=name.substr(1,name.length-2);name=ctx.stylize(name,"name")}else{name=name.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'");name=ctx.stylize(name,"string")}}return name+": "+str}function reduceToSingleString(output,base,braces){var numLinesEst=0;var length=output.reduce(function(prev,cur){numLinesEst++;if(cur.indexOf("\n")>=0)numLinesEst++;return prev+cur.replace(/\u001b\[\d\d?m/g,"").length+1},0);if(length>60){return braces[0]+(base===""?"":base+"\n ")+" "+output.join(",\n  ")+" "+braces[1]}return braces[0]+base+" "+output.join(", ")+" "+braces[1]}function isArray(ar){return Array.isArray(ar)}exports.isArray=isArray;function isBoolean(arg){return typeof arg==="boolean"}exports.isBoolean=isBoolean;function isNull(arg){return arg===null}exports.isNull=isNull;function isNullOrUndefined(arg){return arg==null}exports.isNullOrUndefined=isNullOrUndefined;function isNumber(arg){return typeof arg==="number"}exports.isNumber=isNumber;function isString(arg){return typeof arg==="string"}exports.isString=isString;function isSymbol(arg){return typeof arg==="symbol"}exports.isSymbol=isSymbol;function isUndefined(arg){return arg===void 0}exports.isUndefined=isUndefined;function isRegExp(re){return isObject(re)&&objectToString(re)==="[object RegExp]"}exports.isRegExp=isRegExp;function isObject(arg){return typeof arg==="object"&&arg!==null}exports.isObject=isObject;function isDate(d){return isObject(d)&&objectToString(d)==="[object Date]"}exports.isDate=isDate;function isError(e){return isObject(e)&&(objectToString(e)==="[object Error]"||e instanceof Error)}exports.isError=isError;function isFunction(arg){return typeof arg==="function"}exports.isFunction=isFunction;function isPrimitive(arg){return arg===null||typeof arg==="boolean"||typeof arg==="number"||typeof arg==="string"||typeof arg==="symbol"||typeof arg==="undefined"}exports.isPrimitive=isPrimitive;exports.isBuffer=require("./support/isBuffer");function objectToString(o){return Object.prototype.toString.call(o)}function pad(n){return n<10?"0"+n.toString(10):n.toString(10)}var months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function timestamp(){var d=new Date;var time=[pad(d.getHours()),pad(d.getMinutes()),pad(d.getSeconds())].join(":");return[d.getDate(),months[d.getMonth()],time].join(" ")}exports.log=function(){console.log("%s - %s",timestamp(),exports.format.apply(exports,arguments))};exports.inherits=require("inherits");exports._extend=function(origin,add){if(!add||!isObject(add))return origin;var keys=Object.keys(add);var i=keys.length;while(i--){origin[keys[i]]=add[keys[i]]}return origin};function hasOwnProperty(obj,prop){return Object.prototype.hasOwnProperty.call(obj,prop)}}).call(this,require("_process"),typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./support/isBuffer":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/util/support/isBufferBrowser.js",_process:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/process/browser.js",inherits:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/inherits/inherits_browser.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/vm-browserify/index.js":[function(require,module,exports){var indexOf=require("indexof");var Object_keys=function(obj){if(Object.keys)return Object.keys(obj);else{var res=[];for(var key in obj)res.push(key);return res}};var forEach=function(xs,fn){if(xs.forEach)return xs.forEach(fn);else for(var i=0;i<xs.length;i++){fn(xs[i],i,xs)}};var defineProp=function(){try{Object.defineProperty({},"_",{});return function(obj,name,value){Object.defineProperty(obj,name,{writable:true,enumerable:false,configurable:true,value:value})}}catch(e){return function(obj,name,value){obj[name]=value}}}();var globals=["Array","Boolean","Date","Error","EvalError","Function","Infinity","JSON","Math","NaN","Number","Object","RangeError","ReferenceError","RegExp","String","SyntaxError","TypeError","URIError","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval","isFinite","isNaN","parseFloat","parseInt","undefined","unescape"];function Context(){}Context.prototype={};var Script=exports.Script=function NodeScript(code){if(!(this instanceof Script))return new Script(code);this.code=code};Script.prototype.runInContext=function(context){if(!(context instanceof Context)){throw new TypeError("needs a 'context' argument.")}var iframe=document.createElement("iframe");if(!iframe.style)iframe.style={};iframe.style.display="none";document.body.appendChild(iframe);var win=iframe.contentWindow;var wEval=win.eval,wExecScript=win.execScript;if(!wEval&&wExecScript){wExecScript.call(win,"null");wEval=win.eval}forEach(Object_keys(context),function(key){win[key]=context[key]});forEach(globals,function(key){if(context[key]){win[key]=context[key]}});var winKeys=Object_keys(win);var res=wEval.call(win,this.code);forEach(Object_keys(win),function(key){if(key in context||indexOf(winKeys,key)===-1){context[key]=win[key]}});forEach(globals,function(key){if(!(key in context)){defineProp(context,key,win[key])}});document.body.removeChild(iframe);return res};Script.prototype.runInThisContext=function(){return eval(this.code)};Script.prototype.runInNewContext=function(context){var ctx=Script.createContext(context);var res=this.runInContext(ctx);forEach(Object_keys(ctx),function(key){context[key]=ctx[key]});return res};forEach(Object_keys(Script.prototype),function(name){exports[name]=Script[name]=function(code){var s=Script(code);return s[name].apply(s,[].slice.call(arguments,1))}});exports.createScript=function(code){return exports.Script(code)};exports.createContext=Script.createContext=function(context){var copy=new Context;if(typeof context==="object"){forEach(Object_keys(context),function(key){copy[key]=context[key]})}return copy}},{indexof:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/indexof/index.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/void-elements/index.js":[function(require,module,exports){module.exports={area:true,base:true,br:true,col:true,embed:true,hr:true,img:true,input:true,keygen:true,link:true,menuitem:true,meta:true,param:true,source:true,track:true,wbr:true}},{}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/winston/lib/winston.js":[function(require,module,exports){var winston=exports;require("pkginfo")(module,"version");winston.transports=require("./winston/transports");var common=require("./winston/common");winston.hash=common.hash;winston.clone=common.clone;winston.longestElement=common.longestElement;winston.exception=require("./winston/exception");winston.config=require("./winston/config");winston.addColors=winston.config.addColors;winston.Container=require("./winston/container").Container;winston.Logger=require("./winston/logger").Logger;winston.Transport=require("./winston/transports/transport").Transport;winston.loggers=new winston.Container;var defaultLogger=new winston.Logger({transports:[new winston.transports.Console]});var methods=["log","query","stream","add","remove","clear","profile","startTimer","extend","cli","handleExceptions","unhandleExceptions","addRewriter","addFilter"];common.setLevels(winston,null,defaultLogger.levels);methods.forEach(function(method){winston[method]=function(){return defaultLogger[method].apply(defaultLogger,arguments)}});winston.cli=function(){winston.padLevels=true;common.setLevels(winston,defaultLogger.levels,winston.config.cli.levels);defaultLogger.setLevels(winston.config.cli.levels);winston.config.addColors(winston.config.cli.colors);if(defaultLogger.transports.console){defaultLogger.transports.console.colorize=true;defaultLogger.transports.console.timestamp=false}return winston};winston.setLevels=function(target){common.setLevels(winston,defaultLogger.levels,target);defaultLogger.setLevels(target)};Object.defineProperty(winston,"level",{get:function(){return defaultLogger.level},set:function(val){defaultLogger.level=val;Object.keys(defaultLogger.transports).forEach(function(key){defaultLogger.transports[key].level=val})}});["emitErrs","exitOnError","padLevels","levelLength","stripColors"].forEach(function(prop){Object.defineProperty(winston,prop,{get:function(){return defaultLogger[prop]},set:function(val){defaultLogger[prop]=val}})});Object.defineProperty(winston,"default",{get:function(){return{transports:defaultLogger.transports,exceptionHandlers:defaultLogger.exceptionHandlers}}})},{"./winston/common":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/winston/lib/winston/common.js","./winston/config":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/winston/lib/winston/config.js","./winston/container":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/winston/lib/winston/container.js","./winston/exception":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/winston/lib/winston/exception.js","./winston/logger":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/winston/lib/winston/logger.js","./winston/transports":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/winston/lib/winston/transports.js","./winston/transports/transport":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/winston/lib/winston/transports/transport.js",pkginfo:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/pkginfo/lib/pkginfo.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/winston/lib/winston/common.js":[function(require,module,exports){(function(Buffer){var util=require("util"),crypto=require("crypto"),cycle=require("cycle"),fs=require("fs"),StringDecoder=require("string_decoder").StringDecoder,Stream=require("stream").Stream,config=require("./config");exports.setLevels=function(target,past,current,isDefault){var self=this;if(past){Object.keys(past).forEach(function(level){delete target[level]})}target.levels=current||config.npm.levels;if(target.padLevels){target.levelLength=exports.longestElement(Object.keys(target.levels))}Object.keys(target.levels).forEach(function(level){if(level==="log"){console.warn('Log level named "log" will clash with the method "log". Consider using a different name.');return}target[level]=function(msg){var args=[level].concat(Array.prototype.slice.call(arguments));target.log.apply(target,args)}});return target};exports.longestElement=function(xs){return Math.max.apply(null,xs.map(function(x){return x.length}))};exports.clone=function(obj){var copy={};if(obj instanceof Error){copy={message:obj.message};Object.getOwnPropertyNames(obj).forEach(function(key){copy[key]=obj[key]});return copy}else if(!(obj instanceof Object)){return obj}else if(obj instanceof Date){return new Date(obj.getTime())}for(var i in obj){if(Array.isArray(obj[i])){copy[i]=obj[i].slice(0)}else if(obj[i]instanceof Buffer){copy[i]=obj[i].slice(0)}else if(typeof obj[i]!="function"){copy[i]=obj[i]instanceof Object?exports.clone(obj[i]):obj[i]}else if(typeof obj[i]==="function"){copy[i]=obj[i]}}return copy};exports.log=function(options){var timestampFn=typeof options.timestamp==="function"?options.timestamp:exports.timestamp,timestamp=options.timestamp?timestampFn():null,showLevel=options.showLevel===undefined?true:options.showLevel,meta=options.meta!==null&&options.meta!==undefined&&!(options.meta instanceof Error)?exports.clone(cycle.decycle(options.meta)):options.meta||null,output;if(options.raw){if(typeof meta!=="object"&&meta!=null){meta={meta:meta}}output=exports.clone(meta)||{};output.level=options.level;output.message=options.message.stripColors?options.message.stripColors:options.message;return JSON.stringify(output)}if(options.json||true===options.logstash){if(typeof meta!=="object"&&meta!=null){meta={meta:meta}}output=exports.clone(meta)||{};output.level=options.level;output.message=output.message||"";if(options.label){output.label=options.label}if(options.message){output.message=options.message}if(timestamp){output.timestamp=timestamp}if(options.logstash===true){var logstashOutput={};if(output.message!==undefined){logstashOutput["@message"]=output.message;delete output.message}if(output.timestamp!==undefined){logstashOutput["@timestamp"]=output.timestamp;delete output.timestamp}logstashOutput["@fields"]=exports.clone(output);output=logstashOutput}if(typeof options.stringify==="function"){return options.stringify(output)}return JSON.stringify(output,function(key,value){return value instanceof Buffer?value.toString("base64"):value})}if(typeof options.formatter=="function"){return String(options.formatter(exports.clone(options)))}output=timestamp?timestamp+" - ":"";if(showLevel){output+=options.colorize==="all"||options.colorize==="level"||options.colorize===true?config.colorize(options.level):options.level}output+=options.align?"\t":"";output+=timestamp||showLevel?": ":"";output+=options.label?"["+options.label+"] ":"";output+=options.colorize==="all"||options.colorize==="message"?config.colorize(options.level,options.message):options.message;if(meta!==null&&meta!==undefined){if(meta&&meta instanceof Error&&meta.stack){meta=meta.stack}if(typeof meta!=="object"){output+=" "+meta}else if(Object.keys(meta).length>0){if(typeof options.prettyPrint==="function"){output+=" "+options.prettyPrint(meta)}else if(options.prettyPrint){output+=" "+"\n"+util.inspect(meta,false,options.depth||null,options.colorize)}else if(options.humanReadableUnhandledException&&Object.keys(meta).length===5&&meta.hasOwnProperty("date")&&meta.hasOwnProperty("process")&&meta.hasOwnProperty("os")&&meta.hasOwnProperty("trace")&&meta.hasOwnProperty("stack")){var stack=meta.stack;delete meta.stack;delete meta.trace;output+=" "+exports.serialize(meta);if(stack){output+="\n"+stack.join("\n")}}else{output+=" "+exports.serialize(meta)}}}return output};exports.capitalize=function(str){return str&&str[0].toUpperCase()+str.slice(1)};exports.hash=function(str){return crypto.createHash("sha1").update(str).digest("hex")};exports.pad=function(n){return n<10?"0"+n.toString(10):n.toString(10)};exports.timestamp=function(){return(new Date).toISOString()};exports.serialize=function(obj,key){if(typeof key==="symbol"){key=key.toString()}if(typeof obj==="symbol"){obj=obj.toString()}if(obj===null){obj="null"}else if(obj===undefined){obj="undefined"}else if(obj===false){obj="false"}if(typeof obj!=="object"){return key?key+"="+obj:obj}if(obj instanceof Buffer){return key?key+"="+obj.toString("base64"):obj.toString("base64")}var msg="",keys=Object.keys(obj),length=keys.length;for(var i=0;i<length;i++){if(Array.isArray(obj[keys[i]])){msg+=keys[i]+"=[";for(var j=0,l=obj[keys[i]].length;j<l;j++){msg+=exports.serialize(obj[keys[i]][j]);if(j<l-1){msg+=", "}}msg+="]"}else if(obj[keys[i]]instanceof Date){msg+=keys[i]+"="+obj[keys[i]]}else{msg+=exports.serialize(obj[keys[i]],keys[i])}if(i<length-1){msg+=", "}}return msg};exports.tailFile=function(options,callback){var buffer=new Buffer(64*1024),decode=new StringDecoder("utf8"),stream=new Stream,buff="",pos=0,row=0;if(options.start===-1){delete options.start}stream.readable=true;stream.destroy=function(){stream.destroyed=true;stream.emit("end");stream.emit("close")};fs.open(options.file,"a+","0644",function(err,fd){if(err){if(!callback){stream.emit("error",err)}else{callback(err)}stream.destroy();return}(function read(){if(stream.destroyed){fs.close(fd);return}return fs.read(fd,buffer,0,buffer.length,pos,function(err,bytes){if(err){if(!callback){stream.emit("error",err)}else{callback(err)}stream.destroy();return}if(!bytes){if(buff){if(options.start==null||row>options.start){if(!callback){stream.emit("line",buff)}else{callback(null,buff)}}row++;buff=""}return setTimeout(read,1e3)}var data=decode.write(buffer.slice(0,bytes));if(!callback){stream.emit("data",data)}var data=(buff+data).split(/\n+/),l=data.length-1,i=0;for(;i<l;i++){if(options.start==null||row>options.start){if(!callback){stream.emit("line",data[i])}else{callback(null,data[i])}}row++}buff=data[l];pos+=bytes;return read()})})()});if(!callback){return stream}return stream.destroy};exports.stringArrayToSet=function(strArray,errMsg){if(typeof errMsg==="undefined"){errMsg="Cannot make set from Array with non-string elements"}return strArray.reduce(function(set,el){if(!(typeof el==="string"||el instanceof String)){throw new Error(errMsg)}set[el]=true;return set},Object.create(null))}}).call(this,require("buffer").Buffer)},{"./config":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/winston/lib/winston/config.js",buffer:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/buffer/index.js",crypto:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/crypto-browserify/index.js",cycle:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/cycle/cycle.js",fs:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/browserify/lib/_empty.js",stream:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/stream-browserify/index.js",string_decoder:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/string_decoder/index.js",util:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/util/util.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/winston/lib/winston/config.js":[function(require,module,exports){var colors=require("colors/safe");colors.enabled=true;var config=exports,allColors=exports.allColors={};config.addColors=function(colors){mixin(allColors,colors)};config.colorize=function(level,message){if(typeof message==="undefined")message=level;var colorized=message;if(allColors[level]instanceof Array){for(var i=0,l=allColors[level].length;i<l;++i){colorized=colors[allColors[level][i]](colorized)}}else if(allColors[level].match(/\s/)){var colorArr=allColors[level].split(/\s+/);for(var i=0;i<colorArr.length;++i){colorized=colors[colorArr[i]](colorized)}allColors[level]=colorArr}else{colorized=colors[allColors[level]](colorized)}return colorized};config.cli=require("./config/cli-config");config.npm=require("./config/npm-config");config.syslog=require("./config/syslog-config");config.addColors(config.cli.colors);config.addColors(config.npm.colors);config.addColors(config.syslog.colors);function mixin(target){var args=Array.prototype.slice.call(arguments,1);args.forEach(function(a){var keys=Object.keys(a);for(var i=0;i<keys.length;i++){target[keys[i]]=a[keys[i]]}});return target}},{"./config/cli-config":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/winston/lib/winston/config/cli-config.js","./config/npm-config":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/winston/lib/winston/config/npm-config.js","./config/syslog-config":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/winston/lib/winston/config/syslog-config.js","colors/safe":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/colors/safe.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/winston/lib/winston/config/cli-config.js":[function(require,module,exports){var cliConfig=exports;cliConfig.levels={error:0,warn:1,help:2,data:3,info:4,debug:5,prompt:6,verbose:7,input:8,silly:9};cliConfig.colors={error:"red",warn:"yellow",help:"cyan",data:"grey",info:"green",debug:"blue",prompt:"grey",verbose:"cyan",input:"grey",silly:"magenta"}},{}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/winston/lib/winston/config/npm-config.js":[function(require,module,exports){var npmConfig=exports;npmConfig.levels={error:0,warn:1,info:2,verbose:3,debug:4,silly:5};npmConfig.colors={error:"red",warn:"yellow",info:"green",verbose:"cyan",debug:"blue",silly:"magenta"}},{}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/winston/lib/winston/config/syslog-config.js":[function(require,module,exports){var syslogConfig=exports;syslogConfig.levels={emerg:0,alert:1,crit:2,error:3,warning:4,notice:5,info:6,debug:7};syslogConfig.colors={emerg:"red",alert:"yellow",crit:"red",error:"red",warning:"red",notice:"yellow",info:"green",debug:"blue"}},{}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/winston/lib/winston/container.js":[function(require,module,exports){var common=require("./common"),winston=require("../winston"),extend=require("util")._extend;var Container=exports.Container=function(options){this.loggers={};this.options=options||{};this.default={transports:[new winston.transports.Console({level:"silly",colorize:false})]}};Container.prototype.get=Container.prototype.add=function(id,options){var self=this,existing;if(!this.loggers[id]){options=extend({},options||this.options||this.default);existing=options.transports||this.options.transports;options.transports=existing?existing.slice():[];if(options.transports.length===0&&(!options||!options["console"])){options.transports.push(this.default.transports[0])}Object.keys(options).forEach(function(key){if(key==="transports"){return}var name=common.capitalize(key);if(!winston.transports[name]){throw new Error("Cannot add unknown transport: "+name)}var namedOptions=options[key];namedOptions.id=id;options.transports.push(new winston.transports[name](namedOptions))});this.loggers[id]=new winston.Logger(options);this.loggers[id].on("close",function(){self._delete(id)})}return this.loggers[id]};Container.prototype.has=function(id){return!!this.loggers[id]};Container.prototype.close=function(id){var self=this;function _close(id){if(!self.loggers[id]){return}self.loggers[id].close();self._delete(id)}return id?_close(id):Object.keys(this.loggers).forEach(function(id){_close(id)})};Container.prototype._delete=function(id){delete this.loggers[id]}},{"../winston":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/winston/lib/winston.js","./common":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/winston/lib/winston/common.js",util:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/util/util.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/winston/lib/winston/exception.js":[function(require,module,exports){(function(process){
var os=require("os"),stackTrace=require("stack-trace");var exception=exports;exception.getAllInfo=function(err){return{date:(new Date).toString(),process:exception.getProcessInfo(),os:exception.getOsInfo(),trace:exception.getTrace(err),stack:err.stack&&err.stack.split("\n")}};exception.getProcessInfo=function(){return{pid:process.pid,uid:process.getuid?process.getuid():null,gid:process.getgid?process.getgid():null,cwd:process.cwd(),execPath:process.execPath,version:process.version,argv:process.argv,memoryUsage:process.memoryUsage()}};exception.getOsInfo=function(){return{loadavg:os.loadavg(),uptime:os.uptime()}};exception.getTrace=function(err){var trace=err?stackTrace.parse(err):stackTrace.get();return trace.map(function(site){return{column:site.getColumnNumber(),file:site.getFileName(),function:site.getFunctionName(),line:site.getLineNumber(),method:site.getMethodName(),native:site.isNative()}})}}).call(this,require("_process"))},{_process:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/process/browser.js",os:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/os-browserify/browser.js","stack-trace":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/stack-trace/lib/stack-trace.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/winston/lib/winston/logger.js":[function(require,module,exports){(function(process){var events=require("events"),util=require("util"),async=require("async"),config=require("./config"),common=require("./common"),exception=require("./exception"),Stream=require("stream").Stream;const formatRegExp=/%[sdj%]/g;var Logger=exports.Logger=function(options){events.EventEmitter.call(this);this.configure(options)};util.inherits(Logger,events.EventEmitter);Logger.prototype.configure=function(options){var self=this;if(Array.isArray(this._names)&&this._names.length){this.clear()}options=options||{};this.transports={};this._names=[];if(options.transports){options.transports.forEach(function(transport){self.add(transport,null,true)})}this.padLevels=options.padLevels||false;this.setLevels(options.levels);if(options.colors){config.addColors(options.colors)}this.level=options.level||"info";this.emitErrs=options.emitErrs||false;this.stripColors=options.stripColors||false;this.exitOnError=typeof options.exitOnError!=="undefined"?options.exitOnError:true;this.exceptionHandlers={};this.profilers={};["rewriters","filters"].forEach(function(kind){self[kind]=Array.isArray(options[kind])?options[kind]:[]});if(options.exceptionHandlers){this.handleExceptions(options.exceptionHandlers)}};Logger.prototype.log=function(level){var args=Array.prototype.slice.call(arguments,1),self=this,transports;while(args[args.length-1]===null){args.pop()}var callback=typeof args[args.length-1]==="function"?args.pop():null;function onError(err){if(callback){callback(err)}else if(self.emitErrs){self.emit("error",err)}}if(this._names.length===0){return onError(new Error("Cannot log with no transports."))}else if(typeof self.levels[level]==="undefined"){return onError(new Error("Unknown log level: "+level))}var targets=this._names.filter(function(name){var transport=self.transports[name];return transport.level&&self.levels[transport.level]>=self.levels[level]||!transport.level&&self.levels[self.level]>=self.levels[level]});if(!targets.length){if(callback){callback()}return}var metaType=Object.prototype.toString.call(args[args.length-1]),fmtMatch=args[0]&&args[0].match&&args[0].match(formatRegExp),isFormat=fmtMatch&&fmtMatch.length,validMeta=!isFormat?metaType==="[object Object]"||metaType==="[object Error]"||metaType==="[object Array]":metaType==="[object Object]",meta=validMeta?args.pop():{},msg=util.format.apply(null,args);function finish(err){if(callback){if(err)return callback(err);callback(null,level,msg,meta)}callback=null;if(!err){self.emit("logged",level,msg,meta)}}if(this.padLevels){msg=new Array(this.levelLength-level.length+1).join(" ")+msg}this.rewriters.forEach(function(rewriter){meta=rewriter(level,msg,meta,self)});this.filters.forEach(function(filter){var filtered=filter(level,msg,meta,self);if(typeof filtered==="string")msg=filtered;else{msg=filtered.msg;meta=filtered.meta}});if(this.stripColors){var code=/\u001b\[(\d+(;\d+)*)?m/g;msg=(""+msg).replace(code,"")}function transportLog(name,next){var transport=self.transports[name];transport.log(level,msg,meta,function(err){if(err){err.transport=transport;finish(err);return next()}self.emit("logging",transport,level,msg,meta);next()})}async.forEach(targets,transportLog,finish);return this};Logger.prototype.query=function(options,callback){if(typeof options==="function"){callback=options;options={}}var self=this,options=options||{},results={},query=common.clone(options.query)||{},transports;function queryTransport(transport,next){if(options.query){options.query=transport.formatQuery(query)}transport.query(options,function(err,results){if(err){return next(err)}next(null,transport.formatResults(results,options.format))})}function addResults(transport,next){queryTransport(transport,function(err,result){if(next){result=err||result;if(result){results[transport.name]=result}next()}next=null})}if(options.transport){options.transport=options.transport.toLowerCase();return queryTransport(this.transports[options.transport],callback)}transports=this._names.map(function(name){return self.transports[name]}).filter(function(transport){return!!transport.query});async.forEach(transports,addResults,function(){callback(null,results)})};Logger.prototype.stream=function(options){var self=this,options=options||{},out=new Stream,streams=[],transports;if(options.transport){var transport=this.transports[options.transport];delete options.transport;if(transport&&transport.stream){return transport.stream(options)}}out._streams=streams;out.destroy=function(){var i=streams.length;while(i--)streams[i].destroy()};transports=this._names.map(function(name){return self.transports[name]}).filter(function(transport){return!!transport.stream});transports.forEach(function(transport){var stream=transport.stream(options);if(!stream)return;streams.push(stream);stream.on("log",function(log){log.transport=log.transport||[];log.transport.push(transport.name);out.emit("log",log)});stream.on("error",function(err){err.transport=err.transport||[];err.transport.push(transport.name);out.emit("error",err)})});return out};Logger.prototype.close=function(){var self=this;this._names.forEach(function(name){var transport=self.transports[name];if(transport&&transport.close){transport.close()}});this.emit("close")};Logger.prototype.handleExceptions=function(){var args=Array.prototype.slice.call(arguments),handlers=[],self=this;args.forEach(function(a){if(Array.isArray(a)){handlers=handlers.concat(a)}else{handlers.push(a)}});this.exceptionHandlers=this.exceptionHandlers||{};handlers.forEach(function(handler){self.exceptionHandlers[handler.name]=handler});this._hnames=Object.keys(self.exceptionHandlers);if(!this.catchExceptions){this.catchExceptions=this._uncaughtException.bind(this);process.on("uncaughtException",this.catchExceptions)}};Logger.prototype.unhandleExceptions=function(){var self=this;if(this.catchExceptions){Object.keys(this.exceptionHandlers).forEach(function(name){var handler=self.exceptionHandlers[name];if(handler.close){handler.close()}});this.exceptionHandlers={};Object.keys(this.transports).forEach(function(name){var transport=self.transports[name];if(transport.handleExceptions){transport.handleExceptions=false}});process.removeListener("uncaughtException",this.catchExceptions);this.catchExceptions=false}};Logger.prototype.add=function(transport,options,created){var instance=created?transport:new transport(options);if(!instance.name&&!instance.log){throw new Error("Unknown transport with no log() method")}else if(this.transports[instance.name]){throw new Error("Transport already attached: "+instance.name+", assign a different name")}this.transports[instance.name]=instance;this._names=Object.keys(this.transports);instance._onError=this._onError.bind(this,instance);if(!created){instance.on("error",instance._onError)}if(instance.handleExceptions&&!this.catchExceptions){this.handleExceptions()}return this};Logger.prototype.clear=function(){Object.keys(this.transports).forEach(function(name){this.remove({name:name})},this)};Logger.prototype.remove=function(transport){var name=typeof transport!=="string"?transport.name||transport.prototype.name:transport;if(!this.transports[name]){throw new Error("Transport "+name+" not attached to this instance")}var instance=this.transports[name];delete this.transports[name];this._names=Object.keys(this.transports);if(instance.close){instance.close()}if(instance._onError){instance.removeListener("error",instance._onError)}return this};Logger.prototype.startTimer=function(){return new ProfileHandler(this)};Logger.prototype.profile=function(id){var now=Date.now(),then,args,msg,meta,callback;if(this.profilers[id]){then=this.profilers[id];delete this.profilers[id];args=Array.prototype.slice.call(arguments);callback=typeof args[args.length-1]==="function"?args.pop():null;meta=typeof args[args.length-1]==="object"?args.pop():{};msg=args.length===2?args[1]:id;meta.durationMs=now-then;return this.info(msg,meta,callback)}else{this.profilers[id]=now}return this};Logger.prototype.setLevels=function(target){return common.setLevels(this,this.levels,target)};Logger.prototype.cli=function(){this.padLevels=true;this.setLevels(config.cli.levels);config.addColors(config.cli.colors);if(this.transports.console){this.transports.console.colorize=this.transports.console.colorize||true;this.transports.console.timestamp=this.transports.console.timestamp||false}return this};Logger.prototype._uncaughtException=function(err){var self=this,responded=false,info=exception.getAllInfo(err),handlers=this._getExceptionHandlers(),timeout,doExit;doExit=typeof this.exitOnError==="function"?this.exitOnError(err):this.exitOnError;function logAndWait(transport,next){transport.logException("uncaughtException: "+(err.message||err),info,next,err)}function gracefulExit(){if(doExit&&!responded){clearTimeout(timeout);responded=true;process.exit(1)}}if(!handlers||handlers.length===0){return gracefulExit()}async.forEach(handlers,logAndWait,gracefulExit);if(doExit){timeout=setTimeout(gracefulExit,3e3)}};Logger.prototype._getExceptionHandlers=function(){var self=this;return this._hnames.map(function(name){return self.exceptionHandlers[name]}).concat(this._names.map(function(name){return self.transports[name].handleExceptions&&self.transports[name]})).filter(Boolean)};Logger.prototype._onError=function(transport,err){if(this.emitErrs){this.emit("error",err,transport)}};function ProfileHandler(logger){this.logger=logger;this.start=Date.now()}ProfileHandler.prototype.done=function(msg){var args=Array.prototype.slice.call(arguments),callback=typeof args[args.length-1]==="function"?args.pop():null,meta=typeof args[args.length-1]==="object"?args.pop():{};meta.duration=Date.now()-this.start+"ms";return this.logger.info(msg,meta,callback)}}).call(this,require("_process"))},{"./common":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/winston/lib/winston/common.js","./config":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/winston/lib/winston/config.js","./exception":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/winston/lib/winston/exception.js",_process:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/process/browser.js",async:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/winston/node_modules/async/lib/async.js",events:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/events/events.js",stream:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/stream-browserify/index.js",util:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/util/util.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/winston/lib/winston/transports.js":[function(require,module,exports){(function(__dirname){var path=require("path");Object.defineProperties(exports,["Console","File","Http","Memory"].reduce(function(acc,name){acc[name]={configurable:true,enumerable:true,get:function(){var fullpath=path.join(__dirname,"transports",name.toLowerCase());return require(fullpath)[name]}};return acc},{}))}).call(this,"/node_modules/winston/lib/winston")},{path:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/path-browserify/index.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/winston/lib/winston/transports/transport.js":[function(require,module,exports){var events=require("events"),util=require("util");var Transport=exports.Transport=function(options){events.EventEmitter.call(this);options=options||{};this.silent=options.silent||false;this.raw=options.raw||false;this.name=options.name||this.name;this.formatter=options.formatter;this.level=options.level;this.handleExceptions=options.handleExceptions||false;this.exceptionsLevel=options.exceptionsLevel||"error";this.humanReadableUnhandledException=options.humanReadableUnhandledException||false};util.inherits(Transport,events.EventEmitter);Transport.prototype.formatQuery=function(query){return query};Transport.prototype.normalizeQuery=function(options){options=options||{};options.rows=options.rows||options.limit||10;options.start=options.start||0;options.until=options.until||new Date;if(typeof options.until!=="object"){options.until=new Date(options.until)}options.from=options.from||options.until-24*60*60*1e3;if(typeof options.from!=="object"){options.from=new Date(options.from)}options.order=options.order||"desc";options.fields=options.fields;return options};Transport.prototype.formatResults=function(results,options){return results};Transport.prototype.logException=function(msg,meta,callback){var self=this,called;if(this.silent){return callback()}function onComplete(){if(!called){called=true;self.removeListener("logged",onComplete);self.removeListener("error",onComplete);callback()}}this.once("logged",onComplete);this.once("error",onComplete);this.log(self.exceptionsLevel,msg,meta,function(){})}},{events:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/events/events.js",util:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/util/util.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/winston/node_modules/async/lib/async.js":[function(require,module,exports){(function(process,global){(function(){var async={};var noop=function(){};var root,previous_async;if(typeof window=="object"&&this===window){root=window}else if(typeof global=="object"&&this===global){root=global}else{root=this}if(root!=null){previous_async=root.async}async.noConflict=function(){root.async=previous_async;return async};function only_once(fn){var called=false;return function(){if(called)throw new Error("Callback was already called.");called=true;fn.apply(root,arguments)}}var _toString=Object.prototype.toString;var _isArray=Array.isArray||function(obj){return _toString.call(obj)==="[object Array]"};var _each=function(arr,iterator){var index=-1,length=arr.length;while(++index<length){iterator(arr[index],index,arr)}};var _map=function(arr,iterator){var index=-1,length=arr.length,result=Array(length);while(++index<length){result[index]=iterator(arr[index],index,arr)}return result};var _reduce=function(arr,iterator,memo){_each(arr,function(x,i,a){memo=iterator(memo,x,i,a)});return memo};var _forEachOf=function(object,iterator){_each(_keys(object),function(key){iterator(object[key],key)})};var _keys=Object.keys||function(obj){var keys=[];for(var k in obj){if(obj.hasOwnProperty(k)){keys.push(k)}}return keys};var _baseSlice=function(arr,start){start=start||0;var index=-1;var length=arr.length;if(start){length-=start;length=length<0?0:length}var result=Array(length);while(++index<length){result[index]=arr[index+start]}return result};var _setImmediate;if(typeof setImmediate==="function"){_setImmediate=setImmediate}if(typeof process==="undefined"||!process.nextTick){if(_setImmediate){async.nextTick=function(fn){_setImmediate(fn)};async.setImmediate=async.nextTick}else{async.nextTick=function(fn){setTimeout(fn,0)};async.setImmediate=async.nextTick}}else{async.nextTick=process.nextTick;if(_setImmediate){async.setImmediate=function(fn){_setImmediate(fn)}}else{async.setImmediate=async.nextTick}}async.each=function(arr,iterator,callback){callback=callback||noop;if(!arr.length){return callback()}var completed=0;_each(arr,function(x){iterator(x,only_once(done))});function done(err){if(err){callback(err);callback=noop}else{completed+=1;if(completed>=arr.length){callback()}}}};async.forEach=async.each;async.eachSeries=function(arr,iterator,callback){callback=callback||noop;if(!arr.length){return callback()}var completed=0;var iterate=function(){iterator(arr[completed],function(err){if(err){callback(err);callback=noop}else{completed+=1;if(completed>=arr.length){callback()}else{iterate()}}})};iterate()};async.forEachSeries=async.eachSeries;async.eachLimit=function(arr,limit,iterator,callback){var fn=_eachLimit(limit);fn.apply(null,[arr,iterator,callback])};async.forEachLimit=async.eachLimit;var _eachLimit=function(limit){return function(arr,iterator,callback){callback=callback||noop;if(!arr.length||limit<=0){return callback()}var completed=0;var started=0;var running=0;(function replenish(){if(completed>=arr.length){return callback()}while(running<limit&&started<arr.length){started+=1;running+=1;iterator(arr[started-1],function(err){if(err){callback(err);callback=noop}else{completed+=1;running-=1;if(completed>=arr.length){callback()}else{replenish()}}})}})()}};async.forEachOf=async.eachOf=function(object,iterator,callback){callback=callback||function(){};var size=object.length||_keys(object).length;var completed=0;if(!size){return callback()}_forEachOf(object,function(value,key){iterator(object[key],key,function(err){if(err){callback(err);callback=function(){}}else{completed+=1;if(completed===size){callback(null)}}})})};async.forEachOfSeries=async.eachOfSeries=function(obj,iterator,callback){callback=callback||function(){};var keys=_keys(obj);var size=keys.length;if(!size){return callback()}var completed=0;var iterate=function(){var sync=true;var key=keys[completed];iterator(obj[key],key,function(err){if(err){callback(err);callback=function(){}}else{completed+=1;if(completed>=size){callback(null)}else{if(sync){async.nextTick(iterate)}else{iterate()}}}});sync=false};iterate()};async.forEachOfLimit=async.eachOfLimit=function(obj,limit,iterator,callback){_forEachOfLimit(limit)(obj,iterator,callback)};var _forEachOfLimit=function(limit){return function(obj,iterator,callback){callback=callback||function(){};var keys=_keys(obj);var size=keys.length;if(!size||limit<=0){return callback()}var completed=0;var started=0;var running=0;(function replenish(){if(completed>=size){return callback()}while(running<limit&&started<size){started+=1;running+=1;var key=keys[started-1];iterator(obj[key],key,function(err){if(err){callback(err);callback=function(){}}else{completed+=1;running-=1;if(completed>=size){callback()}else{replenish()}}})}})()}};var doParallel=function(fn){return function(){var args=_baseSlice(arguments);return fn.apply(null,[async.each].concat(args))}};var doParallelLimit=function(limit,fn){return function(){var args=_baseSlice(arguments);return fn.apply(null,[_eachLimit(limit)].concat(args))}};var doSeries=function(fn){return function(){var args=_baseSlice(arguments);return fn.apply(null,[async.eachSeries].concat(args))}};var _asyncMap=function(eachfn,arr,iterator,callback){arr=_map(arr,function(x,i){return{index:i,value:x}});if(!callback){eachfn(arr,function(x,callback){iterator(x.value,function(err){callback(err)})})}else{var results=[];eachfn(arr,function(x,callback){iterator(x.value,function(err,v){results[x.index]=v;callback(err)})},function(err){callback(err,results)})}};async.map=doParallel(_asyncMap);async.mapSeries=doSeries(_asyncMap);async.mapLimit=function(arr,limit,iterator,callback){return _mapLimit(limit)(arr,iterator,callback)};var _mapLimit=function(limit){return doParallelLimit(limit,_asyncMap)};async.reduce=function(arr,memo,iterator,callback){async.eachSeries(arr,function(x,callback){iterator(memo,x,function(err,v){memo=v;callback(err)})},function(err){callback(err,memo)})};async.inject=async.reduce;async.foldl=async.reduce;async.reduceRight=function(arr,memo,iterator,callback){var reversed=_map(arr,function(x){return x}).reverse();async.reduce(reversed,memo,iterator,callback)};async.foldr=async.reduceRight;var _filter=function(eachfn,arr,iterator,callback){var results=[];arr=_map(arr,function(x,i){return{index:i,value:x}});eachfn(arr,function(x,callback){iterator(x.value,function(v){if(v){results.push(x)}callback()})},function(err){callback(_map(results.sort(function(a,b){return a.index-b.index}),function(x){return x.value}))})};async.filter=doParallel(_filter);async.filterSeries=doSeries(_filter);async.select=async.filter;async.selectSeries=async.filterSeries;var _reject=function(eachfn,arr,iterator,callback){var results=[];arr=_map(arr,function(x,i){return{index:i,value:x}});eachfn(arr,function(x,callback){iterator(x.value,function(v){if(!v){results.push(x)}callback()})},function(err){callback(_map(results.sort(function(a,b){return a.index-b.index}),function(x){return x.value}))})};async.reject=doParallel(_reject);async.rejectSeries=doSeries(_reject);var _detect=function(eachfn,arr,iterator,main_callback){eachfn(arr,function(x,callback){iterator(x,function(result){if(result){main_callback(x);main_callback=noop}else{callback()}})},function(err){main_callback()})};async.detect=doParallel(_detect);async.detectSeries=doSeries(_detect);async.some=function(arr,iterator,main_callback){async.each(arr,function(x,callback){iterator(x,function(v){if(v){main_callback(true);main_callback=noop}callback()})},function(err){main_callback(false)})};async.any=async.some;async.every=function(arr,iterator,main_callback){async.each(arr,function(x,callback){iterator(x,function(v){if(!v){main_callback(false);main_callback=noop}callback()})},function(err){main_callback(true)})};async.all=async.every;async.sortBy=function(arr,iterator,callback){async.map(arr,function(x,callback){iterator(x,function(err,criteria){if(err){callback(err)}else{callback(null,{value:x,criteria:criteria})}})},function(err,results){if(err){return callback(err)}else{var fn=function(left,right){var a=left.criteria,b=right.criteria;return a<b?-1:a>b?1:0};callback(null,_map(results.sort(fn),function(x){return x.value}))}})};async.auto=function(tasks,callback){callback=callback||noop;var keys=_keys(tasks);var remainingTasks=keys.length;if(!remainingTasks){return callback()}var results={};var listeners=[];var addListener=function(fn){listeners.unshift(fn)};var removeListener=function(fn){for(var i=0;i<listeners.length;i+=1){if(listeners[i]===fn){listeners.splice(i,1);return}}};var taskComplete=function(){remainingTasks--;_each(listeners.slice(0),function(fn){fn()})};addListener(function(){if(!remainingTasks){var theCallback=callback;callback=noop;theCallback(null,results)}});_each(keys,function(k){var task=_isArray(tasks[k])?tasks[k]:[tasks[k]];var taskCallback=function(err){var args=_baseSlice(arguments,1);if(args.length<=1){args=args[0]}if(err){var safeResults={};_each(_keys(results),function(rkey){safeResults[rkey]=results[rkey]});safeResults[k]=args;callback(err,safeResults);callback=noop}else{results[k]=args;async.setImmediate(taskComplete)}};var requires=task.slice(0,Math.abs(task.length-1))||[];var len=requires.length;var dep;while(len--){if(!(dep=tasks[requires[len]])){throw new Error("Has inexistant dependency")}if(_isArray(dep)&&!!~dep.indexOf(k)){throw new Error("Has cyclic dependencies")}}var ready=function(){return _reduce(requires,function(a,x){return a&&results.hasOwnProperty(x)},true)&&!results.hasOwnProperty(k)};if(ready()){task[task.length-1](taskCallback,results)}else{var listener=function(){if(ready()){removeListener(listener);task[task.length-1](taskCallback,results)}};addListener(listener)}})};async.retry=function(times,task,callback){var DEFAULT_TIMES=5;var attempts=[];if(typeof times==="function"){callback=task;task=times;times=DEFAULT_TIMES}times=parseInt(times,10)||DEFAULT_TIMES;var wrappedTask=function(wrappedCallback,wrappedResults){var retryAttempt=function(task,finalAttempt){return function(seriesCallback){task(function(err,result){seriesCallback(!err||finalAttempt,{err:err,result:result})},wrappedResults)}};while(times){attempts.push(retryAttempt(task,!(times-=1)))}async.series(attempts,function(done,data){data=data[data.length-1];(wrappedCallback||callback)(data.err,data.result)})};return callback?wrappedTask():wrappedTask};async.waterfall=function(tasks,callback){callback=callback||noop;if(!_isArray(tasks)){var err=new Error("First argument to waterfall must be an array of functions");return callback(err)}if(!tasks.length){return callback()}var wrapIterator=function(iterator){return function(err){if(err){callback.apply(null,arguments);callback=noop}else{var args=_baseSlice(arguments,1);var next=iterator.next();if(next){args.push(wrapIterator(next))}else{args.push(callback)}async.setImmediate(function(){iterator.apply(null,args)})}}};wrapIterator(async.iterator(tasks))()};var _parallel=function(eachfn,tasks,callback){callback=callback||noop;if(_isArray(tasks)){eachfn.map(tasks,function(fn,callback){if(fn){fn(function(err){var args=_baseSlice(arguments,1);if(args.length<=1){args=args[0]}callback.call(null,err,args)})}},callback)}else{var results={};eachfn.each(_keys(tasks),function(k,callback){tasks[k](function(err){var args=_baseSlice(arguments,1);if(args.length<=1){args=args[0]}results[k]=args;callback(err)})},function(err){callback(err,results)})}};async.parallel=function(tasks,callback){_parallel({map:async.map,each:async.each},tasks,callback)};async.parallelLimit=function(tasks,limit,callback){_parallel({map:_mapLimit(limit),each:_eachLimit(limit)},tasks,callback)};async.series=function(tasks,callback){callback=callback||noop;if(_isArray(tasks)){async.mapSeries(tasks,function(fn,callback){if(fn){fn(function(err){var args=_baseSlice(arguments,1);if(args.length<=1){args=args[0]}callback.call(null,err,args)})}},callback)}else{var results={};async.eachSeries(_keys(tasks),function(k,callback){tasks[k](function(err){var args=_baseSlice(arguments,1);if(args.length<=1){args=args[0]}results[k]=args;callback(err)})},function(err){callback(err,results)})}};async.iterator=function(tasks){var makeCallback=function(index){var fn=function(){if(tasks.length){tasks[index].apply(null,arguments)}return fn.next()};fn.next=function(){return index<tasks.length-1?makeCallback(index+1):null};return fn};return makeCallback(0)};async.apply=function(fn){var args=_baseSlice(arguments,1);return function(){return fn.apply(null,args.concat(_baseSlice(arguments)))}};var _concat=function(eachfn,arr,fn,callback){var r=[];eachfn(arr,function(x,cb){fn(x,function(err,y){r=r.concat(y||[]);cb(err)})},function(err){callback(err,r)})};async.concat=doParallel(_concat);async.concatSeries=doSeries(_concat);async.whilst=function(test,iterator,callback){if(test()){iterator(function(err){if(err){return callback(err)}async.whilst(test,iterator,callback)})}else{callback()}};async.doWhilst=function(iterator,test,callback){iterator(function(err){if(err){return callback(err)}var args=_baseSlice(arguments,1);if(test.apply(null,args)){async.doWhilst(iterator,test,callback)}else{callback()}})};async.until=function(test,iterator,callback){if(!test()){iterator(function(err){if(err){return callback(err)}async.until(test,iterator,callback)})}else{callback()}};async.doUntil=function(iterator,test,callback){iterator(function(err){if(err){return callback(err)}var args=_baseSlice(arguments,1);if(!test.apply(null,args)){async.doUntil(iterator,test,callback)}else{callback()}})};async.queue=function(worker,concurrency){if(concurrency===undefined){concurrency=1}else if(concurrency===0){throw new Error("Concurrency must not be zero")}function _insert(q,data,pos,callback){if(!q.started){q.started=true}if(!_isArray(data)){data=[data]}if(data.length===0){return async.setImmediate(function(){if(q.drain){q.drain()}})}_each(data,function(task){var item={data:task,callback:typeof callback==="function"?callback:null};if(pos){q.tasks.unshift(item)}else{q.tasks.push(item)}if(q.saturated&&q.tasks.length===q.concurrency){q.saturated()}async.setImmediate(q.process)})}var workers=0;var q={tasks:[],concurrency:concurrency,saturated:null,empty:null,drain:null,started:false,paused:false,push:function(data,callback){_insert(q,data,false,callback)},kill:function(){q.drain=null;q.tasks=[]},unshift:function(data,callback){_insert(q,data,true,callback)},process:function(){if(!q.paused&&workers<q.concurrency&&q.tasks.length){var task=q.tasks.shift();if(q.empty&&q.tasks.length===0){q.empty()}workers+=1;var next=function(){workers-=1;if(task.callback){task.callback.apply(task,arguments)}if(q.drain&&q.tasks.length+workers===0){q.drain()}q.process()};var cb=only_once(next);worker(task.data,cb)}},length:function(){return q.tasks.length},running:function(){return workers},idle:function(){return q.tasks.length+workers===0},pause:function(){if(q.paused===true){return}q.paused=true},resume:function(){if(q.paused===false){return}q.paused=false;var resumeCount=Math.min(q.concurrency,q.tasks.length);for(var w=1;w<=resumeCount;w++){async.setImmediate(q.process)}}};return q};async.priorityQueue=function(worker,concurrency){function _compareTasks(a,b){return a.priority-b.priority}function _binarySearch(sequence,item,compare){var beg=-1,end=sequence.length-1;while(beg<end){var mid=beg+(end-beg+1>>>1);if(compare(item,sequence[mid])>=0){beg=mid}else{end=mid-1}}return beg}function _insert(q,data,priority,callback){if(!q.started){q.started=true}if(!_isArray(data)){data=[data]}if(data.length===0){return async.setImmediate(function(){if(q.drain){q.drain()}})}_each(data,function(task){var item={data:task,priority:priority,callback:typeof callback==="function"?callback:null};q.tasks.splice(_binarySearch(q.tasks,item,_compareTasks)+1,0,item);if(q.saturated&&q.tasks.length===q.concurrency){q.saturated()}async.setImmediate(q.process)})}var q=async.queue(worker,concurrency);q.push=function(data,priority,callback){_insert(q,data,priority,callback)};delete q.unshift;return q};async.cargo=function(worker,payload){var working=false,tasks=[];var cargo={tasks:tasks,payload:payload,saturated:null,empty:null,drain:null,drained:true,push:function(data,callback){if(!_isArray(data)){data=[data]}_each(data,function(task){tasks.push({data:task,callback:typeof callback==="function"?callback:null});cargo.drained=false;if(cargo.saturated&&tasks.length===payload){cargo.saturated()}});async.setImmediate(cargo.process)},process:function process(){if(working)return;if(tasks.length===0){if(cargo.drain&&!cargo.drained)cargo.drain();cargo.drained=true;return}var ts=typeof payload==="number"?tasks.splice(0,payload):tasks.splice(0,tasks.length);var ds=_map(ts,function(task){return task.data});if(cargo.empty)cargo.empty();working=true;worker(ds,function(){working=false;var args=arguments;_each(ts,function(data){if(data.callback){data.callback.apply(null,args)}});process()})},length:function(){return tasks.length},running:function(){return working}};return cargo};var _console_fn=function(name){return function(fn){var args=_baseSlice(arguments,1);fn.apply(null,args.concat([function(err){var args=_baseSlice(arguments,1);if(typeof console!=="undefined"){if(err){if(console.error){console.error(err)}}else if(console[name]){_each(args,function(x){console[name](x)})}}}]))}};async.log=_console_fn("log");async.dir=_console_fn("dir");async.memoize=function(fn,hasher){var memo={};
var queues={};hasher=hasher||function(x){return x};var memoized=function(){var args=_baseSlice(arguments);var callback=args.pop();var key=hasher.apply(null,args);if(key in memo){async.nextTick(function(){callback.apply(null,memo[key])})}else if(key in queues){queues[key].push(callback)}else{queues[key]=[callback];fn.apply(null,args.concat([function(){memo[key]=_baseSlice(arguments);var q=queues[key];delete queues[key];for(var i=0,l=q.length;i<l;i++){q[i].apply(null,arguments)}}]))}};memoized.memo=memo;memoized.unmemoized=fn;return memoized};async.unmemoize=function(fn){return function(){return(fn.unmemoized||fn).apply(null,arguments)}};async.times=function(count,iterator,callback){var counter=[];for(var i=0;i<count;i++){counter.push(i)}return async.map(counter,iterator,callback)};async.timesSeries=function(count,iterator,callback){var counter=[];for(var i=0;i<count;i++){counter.push(i)}return async.mapSeries(counter,iterator,callback)};async.seq=function(){var fns=arguments;return function(){var that=this;var args=_baseSlice(arguments);var callback=args.pop();async.reduce(fns,args,function(newargs,fn,cb){fn.apply(that,newargs.concat([function(){var err=arguments[0];var nextargs=_baseSlice(arguments,1);cb(err,nextargs)}]))},function(err,results){callback.apply(that,[err].concat(results))})}};async.compose=function(){return async.seq.apply(null,Array.prototype.reverse.call(arguments))};var _applyEach=function(eachfn,fns){var go=function(){var that=this;var args=_baseSlice(arguments);var callback=args.pop();return eachfn(fns,function(fn,cb){fn.apply(that,args.concat([cb]))},callback)};if(arguments.length>2){var args=_baseSlice(arguments,2);return go.apply(this,args)}else{return go}};async.applyEach=doParallel(_applyEach);async.applyEachSeries=doSeries(_applyEach);async.forever=function(fn,callback){function next(err){if(err){if(callback){return callback(err)}throw err}fn(next)}next()};if(typeof module!=="undefined"&&module.exports){module.exports=async}else if(typeof define!=="undefined"&&define.amd){define([],function(){return async})}else{root.async=async}})()}).call(this,require("_process"),typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{_process:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/process/browser.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/with/index.js":[function(require,module,exports){"use strict";var detect=require("acorn-globals");var acorn=require("acorn");var walk=require("acorn/dist/walk");function reallyParse(source){return acorn.parse(source,{ecmaVersion:6,allowReturnOutsideFunction:true})}module.exports=addWith;function addWith(obj,src,exclude){obj=obj+"";src=src+"";exclude=exclude||[];exclude=exclude.concat(detect(obj).map(function(global){return global.name}));var vars=detect(src).map(function(global){return global.name}).filter(function(v){return exclude.indexOf(v)===-1&&v!=="undefined"&&v!=="this"});if(vars.length===0)return src;var declareLocal="";var local="locals_for_with";var result="result_of_with";if(/^[a-zA-Z0-9$_]+$/.test(obj)){local=obj}else{while(vars.indexOf(local)!=-1||exclude.indexOf(local)!=-1){local+="_"}declareLocal="var "+local+" = ("+obj+")"}while(vars.indexOf(result)!=-1||exclude.indexOf(result)!=-1){result+="_"}var inputVars=vars.map(function(v){return JSON.stringify(v)+" in "+local+"?"+local+"."+v+":"+"typeof "+v+'!=="undefined"?'+v+":undefined"});src="(function ("+vars.join(", ")+") {"+src+"}.call(this"+inputVars.map(function(v){return","+v}).join("")+"))";return";"+declareLocal+";"+unwrapReturns(src,result)+";"}function unwrapReturns(src,result){var originalSource=src;var hasReturn=false;var ast=reallyParse(src);var ref;src=src.split("");if((ref=ast.body).length!==1||(ref=ref[0]).type!=="ExpressionStatement"||(ref=ref.expression).type!=="CallExpression"||(ref=ref.callee).type!=="MemberExpression"||ref.computed!==false||ref.property.name!=="call"||(ref=ref.object).type!=="FunctionExpression")throw new Error("AST does not seem to represent a self-calling function");var fn=ref;walk.recursive(ast,null,{Function:function(node,st,c){if(node===fn){c(node.body,st,"ScopeBody")}},ReturnStatement:function(node){hasReturn=true;replace(node,"return {value: ("+(node.argument?source(node.argument):"undefined")+")};")}});function source(node){return src.slice(node.start,node.end).join("")}function replace(node,str){for(var i=node.start;i<node.end;i++){src[i]=""}src[node.start]=str}if(!hasReturn)return originalSource;else return"var "+result+"="+src.join("")+";if ("+result+") return "+result+".value"}},{acorn:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/acorn/dist/acorn.js","acorn-globals":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/acorn-globals/index.js","acorn/dist/walk":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/acorn/dist/walk.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/xtend/immutable.js":[function(require,module,exports){module.exports=extend;var hasOwnProperty=Object.prototype.hasOwnProperty;function extend(){var target={};for(var i=0;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target}},{}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/server/www/library/application.js":[function(require,module,exports){var Asynchronous=require("async");var Assert=require("assert");var Is=require("@pwn/is");var Utilities=require("util");var AlertModal=require("./elements/modals/alert-modal");var Body=require("./elements/body");var ConfirmationModal=require("./elements/modals/confirmation-modal");var Log=require("./log");var Pages=require("./collections/pages");var applicationPrototype=Object.create({});applicationPrototype.showPage=function(newPage,callback){var self=this;newPage.render(function(error,newContent){if(error)callback(error);else{if(self.pages.isNotEmpty()){var currentPage=self.pages.top();currentPage.hide(false);self.triggerPageHidden({page:currentPage,isFinal:false});currentPage.unbind()}self.pages.addToTop(newPage);self.body.addContent(newContent);newPage.bind();newPage.show(true);self.triggerPageShown({page:newPage,isInitial:true});callback(null)}})};applicationPrototype.waitForPageShown=function(waitFn,callback){var self=this;Asynchronous.waterfall([function(callback){Log.info('> jQuery(self).one("v-page-shown", function(event) { ... }');jQuery(self).one("v-page-shown",function(event){Log.info('< jQuery(self).one("v-page-shown", function(event) { ... }');callback(null,event.page)})},function(page,callback){if(page.hasElements()){Asynchronous.each(page.getElements(),function(element,callback){Log.info('> jQuery(element).one("v-shown", function(event) { ... }');jQuery(element).one("v-shown",function(event){Log.info('< jQuery(element).one("v-shown", function(event) { ... }');callback(null)})},callback)}else callback(null)}],callback);waitFn(Application.ifNotError())};applicationPrototype.triggerPageShown=function(data){jQuery(this).trigger(new jQuery.Event("v-page-shown",data))};applicationPrototype.hidePage=function(){if(this.pages.isNotAlmostEmpty()){var currentPage=this.pages.top();currentPage.hide(true);this.triggerPageHidden({page:currentPage,isFinal:true});currentPage.unbind();currentPage.removeContent();this.pages.removeFromTop();var newPage=this.pages.top();newPage.bind();newPage.show(false);this.triggerPageShown({page:newPage,isInitial:false});return newPage}};applicationPrototype.waitForPageHidden=function(callback){var self=this;self.waitForPageShown(function(){self.hidePage()},callback)};applicationPrototype.triggerPageHidden=function(data){jQuery(this).trigger(new jQuery.Event("v-page-hidden",data))};applicationPrototype.showModal=function(modal,options,callback){if(Is.function(options)){callback=options;options={}}var self=this;modal.render(function(error,content){if(error)callback(error);else{self.pages.addToTop(modal);self.body.addContent(content);jQuery(modal).on("v-hidden",function(event){callback(null,event.results)});modal.bind();modal.show(options)}})};applicationPrototype.onModalShown=function(event){var modal=jQuery(event.target).data("Modal");if(modal){Log.info("> Application.onModalShown(event) { ... } modal.id=%j",modal.id);modal.triggerShown();this.triggerModalShown({modal:modal})}else{Log.info("> Application.onModalShown(event) { ... }");this.triggerModalShown()}};applicationPrototype.triggerModalShown=function(data){jQuery(this).trigger(new jQuery.Event("v-modal-shown",data||{}))};applicationPrototype.hideModal=function(results){Log.info("> Application.hideModal(results) { ... }\n\n%s\n\n",Utilities.inspect(results));if(this.pages.isNotAlmostEmpty()){var modal=this.pages.top();modal.hide(results)}};applicationPrototype.onModalHidden=function(event){var modal=jQuery(event.target).data("Modal");if(modal){var results=jQuery(event.target).data("results");Log.info("> Application.onModalHidden(event) { ... } modal.id=%j\n\n%s\n\n",modal.id,Utilities.inspect(results));modal.unbind();modal.removeContent();this.pages.removeFromTop();modal.triggerHidden({results:results});this.triggerModalHidden({modal:modal,results:results})}else{Log.info("> Application.onModalHidden(event) { ... }");this.triggerModalHidden()}};applicationPrototype.triggerModalHidden=function(data){jQuery(this).trigger(new jQuery.Event("v-modal-hidden",data||{}))};applicationPrototype.showAlert=function(message,callback){var argumentsArray=Array.prototype.slice.call(arguments);callback=argumentsArray.pop();message=Utilities.format.apply(Utilities.format,argumentsArray);this.showModal(AlertModal.createElement(message),callback)};applicationPrototype.showConfirmation=function(message,callback){var argumentsArray=Array.prototype.slice.call(arguments);callback=argumentsArray.pop();message=Utilities.format.apply(Utilities.format,argumentsArray);this.showModal(ConfirmationModal.createElement(message),callback)};applicationPrototype.getPage=function(){return this.pages.top()};var Application=Object.create({});Object.defineProperty(Application,"noop",{enumerable:true,writable:false,value:function(){}});Application.createApplication=function(prototype,callback){Log.info("> Application.createApplication(callback)");if(Is.function(prototype)){callback=prototype;prototype=applicationPrototype}var application=Object.create(prototype);Object.defineProperty(application,"pages",{enumerable:false,writable:false,value:Pages.createPages()});Object.defineProperty(application,"body",{enumerable:false,writable:false,value:Body.createElement()});var actualId=jQuery("html > body").attr("id");var expectedId=application.body.id;Assert.equal(actualId,expectedId,Utilities.format("The <body/> element id (%s) is not the expected value (%s).",actualId,expectedId));application.body.bind();Application.GET("/api/status",function(error,data){if(error)callback(error);else{document.title=Utilities.format("%s v%s",data.name,data.version);callback(null,application)}})};Application.isApplication=function(application){return applicationPrototype.isPrototypeOf(application)};Application.getApplicationPrototype=function(){return applicationPrototype};Application.alert=function(message){var argumentsArray=Array.prototype.slice.call(arguments);argumentsArray.push(function(error){if(error){Log.error("< Application.alert(message) { ... }\n\n%s\n\n",Utilities.inspect(argumentsArray));Log.error("    error.message=%j",error.message);alert(error.message)}});window.application.showAlert.apply(window.application,argumentsArray)};Application.confirm=function(message,yesFn,noFn){var argumentsArray=Array.prototype.slice.call(arguments);if(Is.function(argumentsArray[argumentsArray.length-2]))noFn=argumentsArray.pop();else noFn=this.noop;yesFn=argumentsArray.pop();var self=this;argumentsArray.push(function(error,isConfirmed){if(error){Log.error("< Application.confirm(message, yesFn, noFn) { ... }\n\n%s\n\n",Utilities.inspect(argumentsArray));Log.error("    error.message=%j",error.message);self.alert(error.message)}else if(isConfirmed)yesFn();else noFn()});window.application.showConfirmation.apply(window.application,argumentsArray)};Application.ifNotError=function(ifNotFn){var self=this;return function(error){if(error){Log.error("< Application.ifNotError(ifNotFn) { ... }");Log.error("    error.message=%j",error.message);self.alert(error.message)}else if(ifNotFn){var argumentsArray=Array.prototype.slice.call(arguments);var error=argumentsArray.shift();ifNotFn.apply(ifNotFn,argumentsArray)}}};Application.RequestError=function(method,path,status,statusText){this.name="RequestError";this.message=Utilities.format("An error occurred with the request %s %j (%d %s).",method,path,status,statusText);this.method=method;this.path=path;this.status=status;this.statusText=statusText;this.stack=(new Error).stack};Application.RequestError.prototype=Object.create(Error.prototype);Application.RequestError.prototype.constructor=Application.RequestError;Application.request=function(method,path,requestData,callback){if(Is.function(requestData)){callback=requestData;requestData=null}if(requestData)Log.info("> Application.request(%j, %j, requestData, callback) { ... }\n\n%s\n\n",method,path,Utilities.inspect(requestData));else Log.info("> Application.request(%j, %j, requestData, callback) { ... }",method,path);var settings={};settings.method=method;settings.url=path;settings.dataType="json";if(requestData){Assert.ok(jQuery.isPlainObject(requestData),"jQuery.isPlainObject(requestData) should be true but it is instead false.");settings.data=JSON.stringify(requestData);settings.contentType="application/json";settings.processData=false}jQuery.ajax(settings).done(function(responseData,status,request){if(!Is.undefined(request.responseJSON)){Log.info("< Application.request(%j, %j, requestData, callback) { ... }\n\n%s\n\n",method,path,Utilities.inspect(request.responseJSON));callback(null,request.responseJSON)}else{Log.info("< Application.request(%j, %j, requestData, callback) { ... }",method,path);callback(null)}}).fail(function(request,status,error){Log.error("< Application.request(%j, %j, requestData, callback) { ... }",method,path);Log.error("    request.status=%j",request.status);Log.error("    request.statusText=%j",request.statusText);Log.error("    request.responseJSON.message=%j",request.responseJSON&&request.responseJSON.message?request.responseJSON.message:"(none)");callback(request.responseJSON&&request.responseJSON.message?new Error(request.responseJSON.message):new Application.RequestError(method,path,request.status,request.statusText))})};Application.GET=function(path,callback){this.request("GET",path,callback)};Application.POST=function(path,data,callback){this.request("POST",path,data,callback)};Application.DELETE=function(path,callback){this.request("DELETE",path,callback)};module.exports=Application},{"./collections/pages":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/server/www/library/collections/pages.js","./elements/body":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/server/www/library/elements/body.js","./elements/modals/alert-modal":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/server/www/library/elements/modals/alert-modal.js","./elements/modals/confirmation-modal":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/server/www/library/elements/modals/confirmation-modal.js","./log":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/server/www/library/log.js","@pwn/is":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/@pwn/is/lib/is.js",assert:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/assert/assert.js",async:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/async/dist/async.js",util:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/util/util.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/server/www/library/collections/pages.js":[function(require,module,exports){var pagesPrototype=Object.create([]);pagesPrototype.addToTop=function(page){this.unshift(page)};pagesPrototype.removeFromTop=function(){return this.shift()};pagesPrototype.top=function(){return this.isNotEmpty()?this[0]:null};pagesPrototype.next=function(){return this.isNotAlmostEmpty()?this[1]:null};pagesPrototype.isNotEmpty=function(){return this.length>0};pagesPrototype.isNotAlmostEmpty=function(){return this.length>1};var Pages=Object.create(Array);Pages.createPages=function(prototype){return Object.create(prototype||pagesPrototype)};Pages.isPages=function(pages){return pagesPrototype.isPrototypeOf(pages)};Pages.getPagesPrototype=function(){return pagesPrototype};module.exports=Pages},{}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/server/www/library/element.js":[function(require,module,exports){var Assert=require("assert");var Is=require("@pwn/is");var Template=require("pug");var Utilities=require("util");var Log=require("./log");var elementSourcePrototype=Object.create({});var ElementSource=Object.create({});ElementSource.createSourceId=function(){return null};ElementSource.createSource=function(id,prototype){var elementSource=Object.create(prototype||elementSourcePrototype);Object.defineProperty(elementSource,"id",{enumerable:true,writable:false,value:id});return elementSource};ElementSource.isSource=function(elementSource){return elementSourcePrototype.isPrototypeOf(elementSource)};ElementSource.getSourcePrototype=function(){return elementSourcePrototype};var elementPrototype=Object.create({});elementPrototype.show=function(){Element.show(this.getContent());this.triggerShown()};elementPrototype.triggerShown=function(data){jQuery(this).trigger(new jQuery.Event("v-shown",data||{}))};elementPrototype.hide=function(){Element.hide(this.getContent());this.triggerHidden()};elementPrototype.triggerHidden=function(data){jQuery(this).trigger(new jQuery.Event("v-hidden",data||{}))};elementPrototype.addContent=function(content){this.getContent().prepend(content)};elementPrototype.removeContent=function(){this.getContent().remove()};elementPrototype.render=function(data,callback){if(Is.function(data)){callback=data;data={}}var self=this;jQuery.get(self.templateURL).done(function(templateData){var error=null;var content=null;try{var options={filename:self.templateURL,doctype:"html",pretty:true,self:false,debug:false,compileDebug:true};var templateFn=Template.compile(templateData,options);data.element=self;Log.info("> templateFn(data)\n\n%s\n\n",Utilities.inspect(data));content=templateFn(data);content=Element.hide(content);Log.info("< templateFn(data)\n\n%s\n\n",content)}catch(_error){Log.error("< Element.render(data, callback)\n\nerror.message\n-------------\n%s\n\nerror.stack\n-------------\n%s\n\n",_error.message,_error.stack);error=new URIError(Utilities.format("An error occurred rendering the element template at %j.",self.templateURL))}callback(error,content)}).fail(function(request,status){Log.error("< Element.render(data, callback)");Log.error("    request.status=%j",request.status);Log.error("    request.statusText=%j",request.statusText);callback(new URIError(Utilities.format("An error occurred retrieving the element template from %j (%d %s).",self.templateURL,request.status,request.statusText)))})};elementPrototype.existsContent=function(){var element=jQuery(Utilities.format("#%s",this.id));Assert.ok(element.length==0||element.length==1,Utilities.format('The value of jQuery("#%s").length should be 0 or 1 but is instead %d.',this.id,element.length));return element.length==1};elementPrototype.getContent=function(){var element=jQuery(Utilities.format("#%s",this.id));Assert.equal(element.length,1,Utilities.format('The value of jQuery("#%s").length should be 1 but is instead %d.',this.id,element.length));return element};elementPrototype.bind=function(){};elementPrototype.unbind=function(){};elementPrototype.getElements=function(Class){return Element.filter([],Class)};elementPrototype.hasElements=function(Class){return this.getElements(Class).length>0};elementPrototype.refreshElements=function(Class,callback){};var Element=Object.create({});Object.defineProperty(Element,"nextId",{enumerable:false,writable:true,value:0});Element.Source=ElementSource;Element.createElement=function(templateURL,prototype){Log.info("> Element.createElement(%j, prototype) { ... }",templateURL);var element=Object.create(prototype||elementPrototype);Object.defineProperty(element,"id",{enumerable:true,writable:false,value:Utilities.format("id_%d",Element.nextId++)});Object.defineProperty(element,"templateURL",{enumerable:true,writable:false,value:templateURL||"/www/views/element.jade"});return element};Element.isElement=function(element){return elementPrototype.isPrototypeOf(element)};Element.getElementPrototype=function(){return elementPrototype};Element.show=function(content){return jQuery(content).toggleClass("uk-hidden",false)[0].outerHTML};Element.hide=function(content){return jQuery(content).toggleClass("uk-hidden",true)[0].outerHTML};Element.filter=function(elements,Class){return elements.filter(function(element){return!Class||Class.isElement(element)})};module.exports=Element},{"./log":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/server/www/library/log.js","@pwn/is":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/@pwn/is/lib/is.js",assert:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/assert/assert.js",pug:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/pug/lib/index.js",util:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/util/util.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/server/www/library/elements/body.js":[function(require,module,exports){var Element=require("../element");var Log=require("../log");var elementPrototype=Element.getElementPrototype();var bodyPrototype=Object.create(elementPrototype);bodyPrototype.bind=function(){elementPrototype.bind.call(this);this.getContent().on("show.uk.modal",{this:this},this.onModalShown);this.getContent().on("hide.uk.modal",{this:this},this.onModalHidden)};bodyPrototype.unbind=function(){this.getContent().off("hide.uk.modal",window.application.onModalHidden);this.getContent().off("show.uk.modal",window.application.onModalShown);elementPrototype.unbind.call(this)};bodyPrototype.onModalShown=function(event){window.application.onModalShown(event)};bodyPrototype.onModalHidden=function(event){window.application.onModalHidden(event)};var Body=Object.create(Element);Body.createElement=function(templateURL,prototype){return Element.createElement.call(this,templateURL||"/www/views/elements/body.jade",prototype||bodyPrototype)};Body.isElement=function(body){return bodyPrototype.isPrototypeOf(body)};Body.getElementPrototype=function(){return bodyPrototype};module.exports=Body},{"../element":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/server/www/library/element.js","../log":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/server/www/library/log.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/server/www/library/elements/modal.js":[function(require,module,exports){var Is=require("@pwn/is");var Utilities=require("util");var Element=require("../element");var Page=require("./page");var Log=require("../log");var pagePrototype=Page.getElementPrototype();var modalPrototype=Object.create(pagePrototype);modalPrototype.show=function(options){options=options||{};options.bgclose=false;this.Modal=UIkit.modal(Utilities.format("#%s",this.id),options);if(!this.Modal.isActive())this.Modal.show()};modalPrototype.hide=function(results){this.getContent().data("results",results);if(this.Modal.isActive())this.Modal.hide();this.Modal=null};modalPrototype.render=function(data,callback){if(Is.function(data)){callback=data;data={}}pagePrototype.render.call(this,data,function(error,content){if(error)callback(error);else{content=Element.show(content);callback(null,content)}})};modalPrototype.bind=function(){pagePrototype.bind.call(this);this.getContent().data("Modal",this)};modalPrototype.unbind=function(){this.getContent().removeData("Modal");pagePrototype.unbind.call(this)};var Modal=Object.create(Page);Modal.createElement=function(templateURL,prototype){return Page.createElement.call(this,templateURL||"/www/views/elements/modal.jade",prototype||modalPrototype)};Modal.isElement=function(modal){return modalPrototype.isPrototypeOf(modal)};Modal.getElementPrototype=function(){return modalPrototype};module.exports=Modal},{"../element":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/server/www/library/element.js","../log":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/server/www/library/log.js","./page":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/server/www/library/elements/page.js","@pwn/is":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/@pwn/is/lib/is.js",util:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/util/util.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/server/www/library/elements/modals/alert-modal.js":[function(require,module,exports){var Log=require("../../log");var Modal=require("../modal");var modalPrototype=Modal.getElementPrototype();var alertModalPrototype=Object.create(modalPrototype);alertModalPrototype.bind=function(){modalPrototype.bind.call(this);this.getContent().find("#ok").on("click",{this:this},this.onOk)};alertModalPrototype.unbind=function(){this.getContent().find("#ok").off("click",this.onOk);modalPrototype.unbind.call(this)};alertModalPrototype.onOk=function(event){Log.info("> AlertModal.onOk(event) { ... }");window.application.hideModal(true)};var AlertModal=Object.create(Modal);AlertModal.createElement=function(message,templateURL,prototype){var alertModal=Modal.createElement.call(this,templateURL||"/www/views/elements/modals/alert-modal.jade",prototype||alertModalPrototype);Object.defineProperty(alertModal,"message",{enumerable:false,writable:false,value:message});return alertModal};AlertModal.isElement=function(alertModal){return alertModalPrototype.isPrototypeOf(alertModal)};AlertModal.getElementPrototype=function(){return alertModalPrototype};module.exports=AlertModal},{"../../log":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/server/www/library/log.js","../modal":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/server/www/library/elements/modal.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/server/www/library/elements/modals/confirmation-modal.js":[function(require,module,exports){var Log=require("../../log");var Modal=require("../modal");var modalPrototype=Modal.getElementPrototype();var confirmationModalPrototype=Object.create(modalPrototype);confirmationModalPrototype.bind=function(){modalPrototype.bind.call(this);this.getContent().find("#yes").on("click",{this:this},this.onYes);this.getContent().find("#no").on("click",{this:this},this.onNo)};confirmationModalPrototype.unbind=function(){this.getContent().find("#yes").off("click",this.onYes);this.getContent().find("#no").off("click",this.onNo);modalPrototype.unbind.call(this)};confirmationModalPrototype.onYes=function(event){Log.info("> ConfirmationModal.onYes(event) { ... }");window.application.hideModal(true)};confirmationModalPrototype.onNo=function(event){Log.info("> ConfirmationModal.onNo(event) { ... }");window.application.hideModal(false)};var ConfirmationModal=Object.create(Modal);ConfirmationModal.createElement=function(message,templateURL,prototype){var confirmationModal=Modal.createElement.call(this,templateURL||"/www/views/elements/modals/confirmation-modal.jade",prototype||confirmationModalPrototype);Object.defineProperty(confirmationModal,"message",{enumerable:false,writable:false,value:message});return confirmationModal};ConfirmationModal.isElement=function(confirmationModal){return confirmationModalPrototype.isPrototypeOf(confirmationModal)};ConfirmationModal.getElementPrototype=function(){return confirmationModalPrototype};module.exports=ConfirmationModal},{"../../log":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/server/www/library/log.js","../modal":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/server/www/library/elements/modal.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/server/www/library/elements/modals/lease-instructions-modal.js":[function(require,module,exports){var Log=require("../../log");var Modal=require("../modal");var modalPrototype=Modal.getElementPrototype();var leaseInstructionsModalPrototype=Object.create(modalPrototype);leaseInstructionsModalPrototype.bind=function(){modalPrototype.bind.call(this);this.getContent().find("#close").on("click",{this:this},this.onClose)};leaseInstructionsModalPrototype.unbind=function(){this.getContent().find("#close").off("click",this.onClose);modalPrototype.unbind.call(this)};leaseInstructionsModalPrototype.onClose=function(event){Log.info("> LeaseInstructionsModal.onClose(event) { ... }");window.application.hideModal(false)};var LeaseInstructionsModal=Object.create(Modal);LeaseInstructionsModal.createElement=function(source,templateURL,prototype){var leaseInstructionsModal=Modal.createElement.call(this,templateURL||"/www/views/elements/modals/lease-instructions-modal.jade",prototype||leaseInstructionsModalPrototype);Object.defineProperty(leaseInstructionsModal,"source",{enumerable:false,writable:false,value:source});return leaseInstructionsModal};LeaseInstructionsModal.isElement=function(leaseInstructionsModal){return leaseInstructionsModalPrototype.isPrototypeOf(leaseInstructionsModal)};LeaseInstructionsModal.getElementPrototype=function(){return leaseInstructionsModalPrototype};module.exports=LeaseInstructionsModal},{"../../log":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/server/www/library/log.js","../modal":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/server/www/library/elements/modal.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/server/www/library/elements/page.js":[function(require,module,exports){var Element=require("../element");var elementPrototype=Element.getElementPrototype();var pagePrototype=Object.create(elementPrototype);pagePrototype.show=function(isInitial){this.getContent().toggleClass("uk-hidden",false).toggleClass("v-page-top",true);this.triggerShown({isInitial:isInitial||false})};pagePrototype.hide=function(isFinal){this.getContent().toggleClass("uk-hidden",true).toggleClass("v-page-top",false);this.triggerHidden({isFinal:isFinal||false})};var Page=Object.create(Element);Page.createElement=function(templateURL,prototype){return Element.createElement.call(this,templateURL||"/www/views/elements/page.jade",prototype||pagePrototype)};Page.isElement=function(page){return pagePrototype.isPrototypeOf(page)};Page.getElementPrototype=function(){return pagePrototype};module.exports=Page},{"../element":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/server/www/library/element.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/server/www/library/elements/pages/default-page.js":[function(require,module,exports){var Is=require("@pwn/is");var Readable=require("../../../vendor/human-format");var Application=require("../../application");var Element=require("../../element");var Log=require("../../log");var Page=require("../page");var LeasesPage=require("./leases-page");var TranslationsPage=require("./translations-page");var pagePrototype=Page.getElementPrototype();var defaultPagePrototype=Object.create(pagePrototype);defaultPagePrototype.render=function(data,callback){if(Is.function(data)){callback=data;data={}}var self=this;Application.GET("/api/status",function(error,status){if(error)callback(error);else{data.status=status;data.status.heap.totalAsString=Readable(data.status.heap.total,{
scale:"binary",unit:"B"});data.status.heap.usedAsString=Readable(data.status.heap.used,{scale:"binary",unit:"B"});pagePrototype.render.call(self,data,callback)}})};defaultPagePrototype.bind=function(){pagePrototype.bind.call(this);jQuery(this).on("v-shown",{this:this},this.onShown);this.getContent().find("#close").on("click",{this:this},this.onClose);this.getContent().find("#goLeases").on("click",{this:this},this.onGoLeases);this.getContent().find("#goTranslations").on("click",{this:this},this.onGoTranslations);this.getContent().find("#goTest").on("click",{this:this},this.onGoTest)};defaultPagePrototype.unbind=function(){this.getContent().find("#goTest").off("click",this.onGoTest);this.getContent().find("#goTranslations").off("click",this.onGoTranslations);this.getContent().find("#goLeases").off("click",this.onGoLeases);this.getContent().find("#close").off("click",this.onClose);jQuery(this).off("v-shown",this.onShown);pagePrototype.unbind.call(this)};defaultPagePrototype.onShown=function(event){Log.info("> DefaultPage.onShown(event) { ... }");var self=event.data.this;if(window.application.pages.isNotAlmostEmpty())Element.show(self.getContent().find("#close"));else Element.hide(self.getContent().find("#close"))};defaultPagePrototype.onClose=function(event){Log.info("> DefaultPage.onClose(event) { ... }");window.application.hidePage()};defaultPagePrototype.onGoLeases=function(event){Log.info("> DefaultPage.onGoLeases(event) { ... }");window.application.showPage(LeasesPage.createElement(),Application.ifNotError())};defaultPagePrototype.onGoTranslations=function(event){Log.info("> DefaultPage.onGoTranslations(event) { ... }");window.application.showPage(TranslationsPage.createElement(),Application.ifNotError())};defaultPagePrototype.onGoTest=function(event){Log.info("> DefaultPage.onGoTest(event) { ... } window.location.href=%j",window.location.href);if(window.location.href.endsWith("default.html"))window.location.href="/www/test.html";else if(window.location.href.endsWith("default.min.html"))window.location.href="/www/test.min.html"};var DefaultPage=Object.create(Page);DefaultPage.createElement=function(templateURL,prototype){return Page.createElement.call(this,templateURL||"/www/views/elements/pages/default-page.jade",prototype||defaultPagePrototype)};DefaultPage.isElement=function(defaultPage){return defaultPagePrototype.isPrototypeOf(defaultPage)};DefaultPage.getElementPrototype=function(){return defaultPagePrototype};module.exports=DefaultPage},{"../../../vendor/human-format":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/server/www/vendor/human-format/index.js","../../application":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/server/www/library/application.js","../../element":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/server/www/library/element.js","../../log":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/server/www/library/log.js","../page":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/server/www/library/elements/page.js","./leases-page":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/server/www/library/elements/pages/leases-page.js","./translations-page":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/server/www/library/elements/pages/translations-page.js","@pwn/is":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/@pwn/is/lib/is.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/server/www/library/elements/pages/lease-page.js":[function(require,module,exports){require("../../../vendor/DateJS");var Asynchronous=require("async");var Utilities=require("util");var Moment=require("../../../vendor/moment/moment");var Application=require("../../application");var Element=require("../../element");var Log=require("../../log");var Page=require("../page");var LeaseInstructionsModal=require("../modals/lease-instructions-modal");var AlertModal=require("../modals/alert-modal");var TranslationPage=require("./translation-page");var pageSourcePrototype=Page.Source.getSourcePrototype();var leasePageSourcePrototype=Object.create(pageSourcePrototype);var LeasePageSource=Object.create(Page.Source);LeasePageSource.createSourceId=function(lease){var leaseId={address:lease.address,fromAsISOString:(lease.from?Date.parse(lease.from):new Date(0)).toISOString(),toAsISOString:(lease.to?Date.parse(lease.to):new Date(0)).toISOString()};return leaseId};LeasePageSource.createSource=function(lease,translation,prototype){var leasePageSource=Page.Source.createSource.call(this,this.createSourceId(lease),prototype||leasePageSourcePrototype);Object.assign(leasePageSource,lease);leasePageSource.fromAsDate=lease.from?Date.parse(lease.from):new Date(0);leasePageSource.toAsDate=lease.to?Date.parse(lease.to):new Date(0);leasePageSource.fromNowAsString=Moment(leasePageSource.fromAsDate).fromNow();leasePageSource.toNowAsString=Moment(leasePageSource.toAsDate).fromNow();leasePageSource.toAsString=Moment(leasePageSource.toAsDate).format("h:mm a");leasePageSource.insertedAsDate=lease.inserted?Date.parse(lease.inserted):new Date;leasePageSource.isStatic=leasePageSource.fromAsDate.getTime()==leasePageSource.toAsDate.getTime();leasePageSource.isSystem=!leasePageSource.isStatic&&leasePageSource.inserted;leasePageSource.isNewStatic=leasePageSource.isStatic&&!leasePageSource.inserted;leasePageSource.isExistingStatic=leasePageSource.isStatic&&leasePageSource.inserted;if(translation)leasePageSource.translation=translation;return leasePageSource};LeasePageSource.isSource=function(source){return leasePageSourcePrototype.isPrototypeOf(source)};LeasePageSource.getSourcePrototype=function(){return leasePageSourcePrototype};var pagePrototype=Page.getElementPrototype();var leasePagePrototype=Object.create(pagePrototype);leasePagePrototype.bind=function(){pagePrototype.bind.call(this);this.getContent().find("#goBack").on("click",{this:this},this.onGoBack);this.getContent().find("#done").on("click",{this:this},this.onDone);this.getContent().find("#delete").on("click",{this:this},this.onDelete);this.getContent().find("#addLease").on("click",{this:this},this.onAddLease);this.getContent().find("#copyLease").on("click",{this:this},this.onAddLease);this.getContent().find("#addTranslation").on("click",{this:this},this.onAddTranslation);this.getContent().find("#editTranslation").on("click",{this:this},this.onEditTranslation);this.getContent().find("#address").mask("0NN.0NN.0NN.0NN",{translation:{N:{optional:true,pattern:/[0-9]/}}});this.getContent().find("#device").mask("NN:NN:NN:NN:NN:NN",{translation:{N:{optional:false,pattern:/[0-9a-f]/}}})};leasePagePrototype.unbind=function(){this.getContent().find("#device").unmask();this.getContent().find("#address").unmask();this.getContent().find("#editTranslation").off("click",this.onEditTranslation);this.getContent().find("#addTranslation").off("click",this.onAddTranslation);this.getContent().find("#copyLease").off("click",this.onAddLease);this.getContent().find("#addLease").off("click",this.onAddLease);this.getContent().find("#delete").off("click",this.onDelete);this.getContent().find("#done").off("click",this.onDone);this.getContent().find("#goBack").off("click",this.onGoBack);pagePrototype.unbind.call(this)};leasePagePrototype.onGoBack=function(event){Log.info("> LeasePage.onGoBack(event) { ... }");window.application.hidePage()};leasePagePrototype.onDone=function(event){Log.info("> LeasePage.onDone(event) { ... }");var self=event.data.this;var source=Object.assign({},self.source);source.address=self.getContent().find("#address").val();source.device=self.getContent().find("#device").val();source.host=self.getContent().find("#host").val();Asynchronous.waterfall([function(callback){Application.POST("/api/leases",source,function(error,lease){callback(error,lease)})},function(lease,callback){window.application.showModal(LeaseInstructionsModal.createElement(LeasePage.Source.createSource(lease)),function(error){callback(error)})}],Application.ifNotError(function(){window.application.hidePage()}))};leasePagePrototype.onDelete=function(event){Log.info("> LeasePage.onDelete(event) { ... }");var self=event.data.this;var source=Object.assign({},self.source);source.address=self.getContent().find("#address").val();source.device=self.getContent().find("#device").val();source.host=self.getContent().find("#host").val();Application.confirm("Are you sure you want to delete the static DHCP lease for %j?",source.address,function(){Asynchronous.series([function(callback){Application.DELETE(Utilities.format("/api/leases/%s/%s/%s",source.address,source.fromAsDate.toISOString(),source.toAsDate.toISOString()),callback)},function(callback){window.application.showModal(LeaseInstructionsModal.createElement(source),callback)}],Application.ifNotError(function(){window.application.hidePage()}))})};leasePagePrototype.onAddLease=function(event){Log.info("> LeasePage.onAddLease(event) { ... }");var self=event.data.this;var lease={};lease.address=null;lease.device=self.source.device;lease.host=self.source.host;Asynchronous.series([function(callback){window.application.waitForPageHidden(callback)},function(callback){window.application.showPage(LeasePage.createElement(LeasePage.Source.createSource(lease)),callback)}],Application.ifNotError())};leasePagePrototype.onAddTranslation=function(event){Log.info("> LeasePage.onAddTranslation(event) { ... }");var self=event.data.this;var translation={};translation.from=self.source.device;translation.to=null;Asynchronous.series([function(callback){window.application.waitForPageHidden(callback)},function(callback){window.application.showPage(TranslationPage.createElement(TranslationPage.Source.createSource(translation)),callback)}],Application.ifNotError())};leasePagePrototype.onEditTranslation=function(event){Log.info("> LeasePage.onEditTranslation(event) { ... }");var self=event.data.this;var translation=self.source.translation;Asynchronous.series([function(callback){window.application.waitForPageHidden(callback)},function(callback){window.application.showPage(TranslationPage.createElement(TranslationPage.Source.createSource(translation)),callback)}],Application.ifNotError())};var LeasePage=Object.create(Page);LeasePage.createElement=function(source,templateURL,prototype){var leasePage=Page.createElement.call(this,templateURL||"/www/views/elements/pages/lease-page.jade",prototype||leasePagePrototype);Object.defineProperty(leasePage,"source",{enumerable:false,writable:false,value:source});return leasePage};LeasePage.isElement=function(leasePage){return leasePagePrototype.isPrototypeOf(leasePage)};LeasePage.getElementPrototype=function(){return leasePagePrototype};LeasePage.Source=LeasePageSource;module.exports=LeasePage},{"../../../vendor/DateJS":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/server/www/vendor/DateJS/index.js","../../../vendor/moment/moment":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/server/www/vendor/moment/moment.js","../../application":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/server/www/library/application.js","../../element":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/server/www/library/element.js","../../log":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/server/www/library/log.js","../modals/alert-modal":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/server/www/library/elements/modals/alert-modal.js","../modals/lease-instructions-modal":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/server/www/library/elements/modals/lease-instructions-modal.js","../page":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/server/www/library/elements/page.js","./translation-page":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/server/www/library/elements/pages/translation-page.js",async:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/async/dist/async.js",util:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/util/util.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/server/www/library/elements/pages/leases-page.js":[function(require,module,exports){var Asynchronous=require("async");var Is=require("@pwn/is");var Utilities=require("util");var Application=require("../../application");var Element=require("../../element");var Log=require("../../log");var Page=require("../page");var LeasePage=require("./lease-page");var LeasesTable=require("../tables/leases-table");var pagePrototype=Page.getElementPrototype();var leasesPagePrototype=Object.create(pagePrototype);leasesPagePrototype.bind=function(){pagePrototype.bind.call(this);jQuery(this).on("v-shown",{this:this},this.onShown);jQuery(this).on("v-hidden",{this:this},this.onHidden);this.getContent().find("#goBack").on("click",{this:this},this.onGoBack);this.getContent().find("#refresh").on("click",{this:this},this.onRefresh);this.getContent().find("#addLease").on("click",{this:this},this.onAddLease)};leasesPagePrototype.unbind=function(){this.getContent().find("#addLease").off("click",this.onAddLease);this.getContent().find("#refresh").off("click",this.onRefresh);this.getContent().find("#goBack").off("click",this.onGoBack);jQuery(this).off("v-hidden",this.onHidden);jQuery(this).off("v-shown",this.onShown);pagePrototype.unbind.call(this)};leasesPagePrototype.onShown=function(event){Log.info("> LeasesPage.onShown(event) { ... } event.isInitial=%s",event.isInitial);var self=event.data.this;self.refreshElements(LeasesTable,Application.ifNotError())};leasesPagePrototype.onHidden=function(event){Log.info("> LeasesPage.onHidden(event) { ... } event.isFinal=%s",event.isFinal);var self=event.data.this;self.leasesTable.hide();self.leasesTable.unbind();self.leasesTable.getContent().find("tbody > tr").off("click",self.onSelected);self.leasesTable.removeContent()};leasesPagePrototype.onGoBack=function(event){Log.info("> LeasesPage.onGoBack(event) { ... }");window.application.hidePage()};leasesPagePrototype.onRefresh=function(event){Log.info("> LeasesPage.onRefresh(event) { ... }");var self=event.data.this;self.refreshElements(LeasesTable,Application.ifNotError())};leasesPagePrototype.onAddLease=function(event){Log.info("> LeasesPage.onAddLease(event) { ... }");window.application.showPage(LeasePage.createElement(LeasePage.Source.createSource({})),Application.ifNotError())};leasesPagePrototype.onSelected=function(event){Log.info("> LeasesPage.onSelected(event) { ... }\n\n%s\n\n",Utilities.inspect(JSON.parse(event.currentTarget.dataset.leaseId)));var self=event.data.this;var leaseId=JSON.parse(event.currentTarget.dataset.leaseId);Asynchronous.waterfall([function(callback){Application.GET(Utilities.format("/api/leases/%s/%s/%s",leaseId.address,leaseId.fromAsISOString,leaseId.toAsISOString),callback)},function(lease,callback){Application.GET(Utilities.format("/api/exists/translations/%s",lease.device),function(error,deviceTranslation){callback(error,lease,deviceTranslation)})},function(lease,deviceTranslation,callback){Application.GET(Utilities.format("/api/exists/translations/%s",lease.host),function(error,hostTranslation){callback(error,lease,deviceTranslation,hostTranslation)})},function(lease,deviceTranslation,hostTranslation,callback){if(deviceTranslation.exists)Application.GET(Utilities.format("/api/translations/%s",lease.device),function(error,deviceTranslation){callback(error,lease,deviceTranslation)});else if(hostTranslation.exists)Application.GET(Utilities.format("/api/translations/%s",lease.host),function(error,hostTranslation){callback(error,lease,hostTranslation)});else callback(null,lease,null)},function(lease,translation,callback){window.application.showPage(LeasePage.createElement(LeasePage.Source.createSource(lease,translation)),callback)}],Application.ifNotError())};leasesPagePrototype.hasElements=function(){return true};leasesPagePrototype.getElements=function(Class){return pagePrototype.getElements.call(this,Class).concat(Element.filter([this.leasesTable],Class))};leasesPagePrototype.refreshElements=function(Class,callback){if(Is.function(Class)){callback=Class;Class=null}var self=this;Asynchronous.each(this.getElements(Class),function(element,callback){switch(element){case self.leasesTable:self.refreshLeasesTable(callback);break}},function(error){if(error)callback(error);else pagePrototype.refreshElements.call(this,Class,callback)})};leasesPagePrototype.refreshLeasesTable=function(callback){var self=this;var element=self.leasesTable;if(element.existsContent()){element.hide();element.unbind();element.getContent().find("tbody > tr").off("click",this.onSelected);element.removeContent()}Asynchronous.waterfall([function(callback){Application.GET("/api/leases",callback)},function(leases,callback){callback(null,leases.map(function(lease){return LeasePage.Source.createSource(lease)}))},function(leases,callback){element.render({leases:leases},callback)}],function(error,content){if(error)callback(error);else{self.getContent().find("> div").append(content);element.getContent().find("tbody > tr").on("click",{this:self},self.onSelected);element.bind();element.show()}})};var LeasesPage=Object.create(Page);LeasesPage.createElement=function(templateURL,prototype){var leasesPage=Page.createElement.call(this,templateURL||"/www/views/elements/pages/leases-page.jade",prototype||leasesPagePrototype);Object.defineProperty(leasesPage,"leasesTable",{enumerable:false,wrileasesTable:false,value:LeasesTable.createElement()});return leasesPage};LeasesPage.isElement=function(leasesPage){return leasesPagePrototype.isPrototypeOf(leasesPage)};LeasesPage.getElementPrototype=function(){return leasesPagePrototype};module.exports=LeasesPage},{"../../application":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/server/www/library/application.js","../../element":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/server/www/library/element.js","../../log":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/server/www/library/log.js","../page":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/server/www/library/elements/page.js","../tables/leases-table":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/server/www/library/elements/tables/leases-table.js","./lease-page":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/server/www/library/elements/pages/lease-page.js","@pwn/is":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/@pwn/is/lib/is.js",async:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/async/dist/async.js",util:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/util/util.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/server/www/library/elements/pages/test-page.js":[function(require,module,exports){var Is=require("@pwn/is");var Mocha=mocha;var Application=require("../../application");var Log=require("../../log");var Page=require("../page");var pagePrototype=Page.getElementPrototype();var testPagePrototype=Object.create(pagePrototype);testPagePrototype.bind=function(){pagePrototype.bind.call(this);jQuery(this).on("v-shown",{this:this},this.onShown);this.getContent().find("#goDefault").on("click",{this:this},this.onGoDefault);this.getContent().find("#refresh").on("click",{this:this},this.onRefresh)};testPagePrototype.unbind=function(){this.getContent().find("#refresh").off("click",this.onRefresh);this.getContent().find("#goDefault").off("click",this.onGoDefault);jQuery(this).off("v-shown",this.onShown);pagePrototype.unbind.call(this)};testPagePrototype.onShown=function(event){Log.info("> TestPage.onShown(event) { ... } event.isInitial=%s",event.isInitial);var self=event.data.this;if(event.isInitial){try{if(Is.function(window.initMochaPhantomJS)){window.initMochaPhantomJS()}Mocha.setup({bail:true,timeout:3e4,ui:"bdd"});require("../../../test/tests/20160622163300-begin");require("../../../test/tests/20160622173800-default");require("../../../test/tests/20160625023000-translations");require("../../../test/tests/20160627004000-translation");require("../../../test/tests/20160706232900-leases");require("../../../test/tests/20160707002900-lease");require("../../../test/tests/99999999999999-end");var tests=Mocha.run();tests.on("end",self.onFinished.bind(self,tests.stats))}catch(error){Log.error("> TestPage.onShown(event) { ... }");Log.error("    error.message=%j\n\n%s\n\n",error.message,error.stack);Application.alert(error.message)}}};testPagePrototype.onGoDefault=function(event){Log.info("> TestPage.onGoDefault(event) { ... } window.location.href=%j",window.location.href);if(window.location.href.endsWith("test.html"))window.location.href="/www/default.html";else if(window.location.href.endsWith("test.min.html"))window.location.href="/www/default.min.html"};testPagePrototype.onStarted=function(){Log.info("> TestPage.onStarted() { ... }")};testPagePrototype.onFinished=function(status){Log.info("> TestPage.onFinished() { ... }");this.getContent().find("div.v-status").toggleClass("uk-hidden",true);if(status.failures>0)this.getContent().find("div.v-status-failed").toggleClass("uk-hidden",false);else if(status.pending>0)this.getContent().find("div.v-status-pending").toggleClass("uk-hidden",false);else this.getContent().find("div.v-status-passed").toggleClass("uk-hidden",false);console.log("suck my balls");if(window.callPhantom){window.callPhantom(status)}};testPagePrototype.onRefresh=function(event){Log.info("> TestPage.onRefresh(event) { ... }");window.location.reload(true)};var TestPage=Object.create(Page);TestPage.createElement=function(templateURL,prototype){return Page.createElement.call(this,templateURL||"/www/views/elements/pages/test-page.jade",prototype||testPagePrototype)};TestPage.isElement=function(testPage){return testPagePrototype.isPrototypeOf(testPage)};TestPage.getElementPrototype=function(){return testPagePrototype};module.exports=TestPage},{"../../../test/tests/20160622163300-begin":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/server/www/test/tests/20160622163300-begin.js","../../../test/tests/20160622173800-default":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/server/www/test/tests/20160622173800-default.js","../../../test/tests/20160625023000-translations":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/server/www/test/tests/20160625023000-translations.js","../../../test/tests/20160627004000-translation":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/server/www/test/tests/20160627004000-translation.js","../../../test/tests/20160706232900-leases":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/server/www/test/tests/20160706232900-leases.js","../../../test/tests/20160707002900-lease":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/server/www/test/tests/20160707002900-lease.js","../../../test/tests/99999999999999-end":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/server/www/test/tests/99999999999999-end.js","../../application":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/server/www/library/application.js","../../log":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/server/www/library/log.js","../page":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/server/www/library/elements/page.js","@pwn/is":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/@pwn/is/lib/is.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/server/www/library/elements/pages/translation-page.js":[function(require,module,exports){var Utilities=require("util");var Application=require("../../application");var Log=require("../../log");var Page=require("../page");var pageSourcePrototype=Page.Source.getSourcePrototype();var translationPageSourcePrototype=Object.create(pageSourcePrototype);var TranslationPageSource=Object.create(Page.Source);TranslationPageSource.createSourceId=function(translation){return{from:translation.from}};TranslationPageSource.createSource=function(translation,prototype){var translationPageSource=Page.Source.createSource.call(this,this.createSourceId(translation),prototype||translationPageSourcePrototype);Object.assign(translationPageSource,translation);translationPageSource.insertedAsDate=translation.inserted?Date.parse(translation.inserted):new Date;translationPageSource.isNew=!translationPageSource.inserted;translationPageSource.isExisting=!!translationPageSource.inserted;return translationPageSource};TranslationPageSource.isSource=function(source){return translationPageSourcePrototype.isPrototypeOf(source)};TranslationPageSource.getSourcePrototype=function(){return translationPageSourcePrototype};var pagePrototype=Page.getElementPrototype();var translationPagePrototype=Object.create(pagePrototype);translationPagePrototype.bind=function(){pagePrototype.bind.call(this);this.getContent().find("#goBack").on("click",{this:this},this.onGoBack);this.getContent().find("#done").on("click",{this:this},this.onDone);this.getContent().find("#delete").on("click",{this:this},this.onDelete)};translationPagePrototype.unbind=function(){this.getContent().find("#goBack").off("click",this.onGoBack);this.getContent().find("#done").off("click",this.onDone);this.getContent().find("#delete").off("click",this.onDelete);pagePrototype.unbind.call(this)};translationPagePrototype.onGoBack=function(event){Log.info("> TranslationPage.onGoBack(event) { ... }");window.application.hidePage()};translationPagePrototype.onDone=function(event){Log.info("> TranslationPage.onDone(event) { ... }");var self=event.data.this;var source=Object.assign({},self.source);source.from=self.getContent().find("#from").val();source.to=self.getContent().find("#to").val();Application.POST("/api/translations",source,Application.ifNotError(function(translation){window.application.hidePage()}))};translationPagePrototype.onDelete=function(event){Log.info("> TranslationPage.onDelete(event) { ... }");var self=event.data.this;var source=Object.assign({},self.source);source.from=self.getContent().find("#from").val();source.to=self.getContent().find("#to").val();Application.confirm("Are you sure you want to delete the translation from %j?",source.from,function(){Application.DELETE(Utilities.format("/api/translations/%s",source.from),Application.ifNotError(function(){window.application.hidePage()}))})};var TranslationPage=Object.create(Page);TranslationPage.createElement=function(source,templateURL,prototype){var translationPage=Page.createElement.call(this,templateURL||"/www/views/elements/pages/translation-page.jade",prototype||translationPagePrototype);Object.defineProperty(translationPage,"source",{enumerable:false,writable:false,value:source});return translationPage};TranslationPage.isElement=function(translationPage){return translationPagePrototype.isPrototypeOf(translationPage)};TranslationPage.getElementPrototype=function(){return translationPagePrototype};TranslationPage.Source=TranslationPageSource;module.exports=TranslationPage},{"../../application":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/server/www/library/application.js","../../log":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/server/www/library/log.js","../page":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/server/www/library/elements/page.js",util:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/util/util.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/server/www/library/elements/pages/translations-page.js":[function(require,module,exports){var Asynchronous=require("async");var Is=require("@pwn/is");var Utilities=require("util");var Application=require("../../application");var Element=require("../../element");var Log=require("../../log");var Page=require("../page");var TranslationPage=require("./translation-page");var TranslationsTable=require("../tables/translations-table");var pagePrototype=Page.getElementPrototype();var translationsPagePrototype=Object.create(pagePrototype);translationsPagePrototype.bind=function(){pagePrototype.bind.call(this);jQuery(this).on("v-shown",{this:this},this.onShown);jQuery(this).on("v-hidden",{this:this},this.onHidden);this.getContent().find("#goBack").on("click",{this:this},this.onGoBack);this.getContent().find("#refresh").on("click",{this:this},this.onRefresh);this.getContent().find("#addTranslation").on("click",{this:this},this.onAddTranslation)};translationsPagePrototype.unbind=function(){this.getContent().find("#addTranslation").off("click",this.onAddTranslation);this.getContent().find("#refresh").off("click",this.onRefresh);this.getContent().find("#goBack").off("click",this.onGoBack);jQuery(this).off("v-hidden",this.onHidden);jQuery(this).off("v-shown",this.onShown);pagePrototype.unbind.call(this)};translationsPagePrototype.onShown=function(event){Log.info("> TranslationsPage.onShown(event) { ... } event.isInitial=%s",event.isInitial);var self=event.data.this;self.refreshElements(TranslationsTable,Application.ifNotError())};translationsPagePrototype.onHidden=function(event){Log.info("> TranslationsPage.onHidden(event) { ... } event.isFinal=%s",event.isFinal);var self=event.data.this;self.translationsTable.hide();self.translationsTable.unbind();self.translationsTable.getContent().find("tbody > tr").off("click",self.onSelected);self.translationsTable.removeContent()};translationsPagePrototype.onGoBack=function(event){Log.info("> TranslationsPage.onGoBack(event) { ... }");window.application.hidePage()};translationsPagePrototype.onRefresh=function(event){Log.info("> TranslationsPage.onRefresh(event) { ... }");var self=event.data.this;self.refreshElements(TranslationsTable,Application.ifNotError())};translationsPagePrototype.onAddTranslation=function(event){Log.info("> TranslationsPage.onAddTranslation(event) { ... }");window.application.showPage(TranslationPage.createElement(TranslationPage.Source.createSource({})),Application.ifNotError())};translationsPagePrototype.onSelected=function(event){Log.info("> TranslationsPage.onSelected(event) { ... }\n\n%s\n\n",Utilities.inspect(JSON.parse(event.currentTarget.dataset.translationId)));var self=event.data.this;var translationId=JSON.parse(event.currentTarget.dataset.translationId);Asynchronous.waterfall([function(callback){Application.GET(Utilities.format("/api/translations/%s",translationId.from),callback)},function(translation,callback){window.application.showPage(TranslationPage.createElement(TranslationPage.Source.createSource(translation)),callback)}],Application.ifNotError())};translationsPagePrototype.hasElements=function(){return true};translationsPagePrototype.getElements=function(Class){return pagePrototype.getElements.call(this,Class).concat(Element.filter([this.translationsTable],Class))};translationsPagePrototype.refreshElements=function(Class,callback){if(Is.function(Class)){callback=Class;Class=null}var self=this;Asynchronous.each(this.getElements(Class),function(element,callback){switch(element){case self.translationsTable:self.refreshTranslationsTable(callback);break}},function(error){if(error)callback(error);else pagePrototype.refreshElements.call(this,Class,callback)})};translationsPagePrototype.refreshTranslationsTable=function(callback){var self=this;var element=self.translationsTable;if(element.existsContent()){element.hide();element.unbind();element.getContent().find("tbody > tr").off("click",this.onSelected);element.removeContent()}Asynchronous.waterfall([function(callback){Application.GET("/api/translations",callback)},function(translations,callback){callback(null,translations.map(function(translation){return TranslationPage.Source.createSource(translation)}))},function(translations,callback){element.render({translations:translations},callback)}],function(error,content){if(error)callback(error);else{self.getContent().find("> div").append(content);element.getContent().find("tbody > tr").on("click",{this:self},self.onSelected);element.bind();element.show()}})};var TranslationsPage=Object.create(Page);
TranslationsPage.createElement=function(templateURL,prototype){var translationsPage=Page.createElement.call(this,templateURL||"/www/views/elements/pages/translations-page.jade",prototype||translationsPagePrototype);Object.defineProperty(translationsPage,"translationsTable",{enumerable:false,writranslationsTable:false,value:TranslationsTable.createElement()});return translationsPage};TranslationsPage.isElement=function(translationsPage){return translationsPagePrototype.isPrototypeOf(translationsPage)};TranslationsPage.getElementPrototype=function(){return translationsPagePrototype};module.exports=TranslationsPage},{"../../application":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/server/www/library/application.js","../../element":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/server/www/library/element.js","../../log":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/server/www/library/log.js","../page":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/server/www/library/elements/page.js","../tables/translations-table":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/server/www/library/elements/tables/translations-table.js","./translation-page":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/server/www/library/elements/pages/translation-page.js","@pwn/is":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/@pwn/is/lib/is.js",async:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/async/dist/async.js",util:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/util/util.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/server/www/library/elements/table.js":[function(require,module,exports){var Element=require("../element");var elementPrototype=Element.getElementPrototype();var tablePrototype=Object.create(elementPrototype);var Table=Object.create(Element);Table.createElement=function(templateURL,prototype){return Element.createElement.call(this,templateURL||"/www/views/elements/table.jade",prototype||tablePrototype)};Table.isElement=function(table){return tablePrototype.isPrototypeOf(table)};Table.getElementPrototype=function(){return tablePrototype};module.exports=Table},{"../element":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/server/www/library/element.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/server/www/library/elements/tables/leases-table.js":[function(require,module,exports){var Utilities=require("util");var Application=require("../../application");var Log=require("../../log");var Table=require("../table");var tablePrototype=Table.getElementPrototype();var leasesTablePrototype=Object.create(tablePrototype);var LeasesTable=Object.create(Table);LeasesTable.createElement=function(templateURL,prototype){return Table.createElement.call(this,templateURL||"/www/views/elements/tables/leases-table.jade",prototype||leasesTablePrototype)};LeasesTable.isElement=function(leasesTable){return leasesTablePrototype.isPrototypeOf(leasesTable)};LeasesTable.getElementPrototype=function(){return leasesTablePrototype};module.exports=LeasesTable},{"../../application":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/server/www/library/application.js","../../log":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/server/www/library/log.js","../table":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/server/www/library/elements/table.js",util:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/util/util.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/server/www/library/elements/tables/translations-table.js":[function(require,module,exports){var Utilities=require("util");var Application=require("../../application");var Log=require("../../log");var Table=require("../table");var tablePrototype=Table.getElementPrototype();var translationsTablePrototype=Object.create(tablePrototype);var TranslationsTable=Object.create(Table);TranslationsTable.createElement=function(templateURL,prototype){return Table.createElement.call(this,templateURL||"/www/views/elements/tables/translations-table.jade",prototype||translationsTablePrototype)};TranslationsTable.isElement=function(translationsTable){return translationsTablePrototype.isPrototypeOf(translationsTable)};TranslationsTable.getElementPrototype=function(){return translationsTablePrototype};module.exports=TranslationsTable},{"../../application":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/server/www/library/application.js","../../log":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/server/www/library/log.js","../table":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/server/www/library/elements/table.js",util:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/util/util.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/server/www/library/log.js":[function(require,module,exports){var Is=require("@pwn/is");var Pad=require("pad");var Utilities=require("util");var Log=Object.create({});Log.log=function(){var argumentsArray=Array.prototype.slice.call(arguments);var level=argumentsArray.shift().toUpperCase();var levelFn=console.log.bind(console);if(window.callPhantom)levelFn=this.logPhantom.bind(this);else switch(level){case"LOG":levelFn=console.log.bind(console);break;case"ERROR":levelFn=console.error.bind(console);break;case"WARN":levelFn=console.warn.bind(console);break;case"INFO":levelFn=console.info.bind(console);break;case"DEBUG":levelFn=console.debug.bind(console);break;default:levelFn=console.log.bind(console)}if(Is.string(argumentsArray[0])){var message=null;message=Utilities.format.apply(Utilities.format,argumentsArray);message=Utilities.format("%s %s %s",(new Date).toISOString(),Pad(level,5),message||"");levelFn(message)}else{var object=argumentsArray.shift();var message=null;message=Utilities.format("%s %s ...\n",(new Date).toISOString(),Pad(level,5));levelFn(message);levelFn(object)}};Log.logPhantom=function(message){window.callPhantom({message:message})};Log.info=function(){var argumentsArray=Array.prototype.slice.call(arguments);argumentsArray.unshift("info");this.log.apply(this,argumentsArray)};Log.debug=function(){var argumentsArray=Array.prototype.slice.call(arguments);argumentsArray.unshift("debug");this.log.apply(this,argumentsArray)};Log.error=function(){var argumentsArray=Array.prototype.slice.call(arguments);argumentsArray.unshift("error");this.log.apply(this,argumentsArray)};module.exports=Log},{"@pwn/is":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/@pwn/is/lib/is.js",pad:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/pad/lib/index.js",util:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/util/util.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/server/www/library/object-assign.js":[function(require,module,exports){var Is=require("@pwn/is");if(!Is.function(Object.assign)){Object.assign=function(target){if(!target){throw new TypeError("Cannot convert undefined or null to object")}target=Object(target);for(var index=1;index<arguments.length;index++){var source=arguments[index];if(source){for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key))target[key]=source[key]}}}return target}}},{"@pwn/is":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/@pwn/is/lib/is.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/server/www/library/test.js":[function(require,module,exports){require("./object-assign");var Asynchronous=require("async");var Application=require("./application");var Log=require("./log");var TestPage=require("./elements/pages/test-page");jQuery.noConflict();window.onerror=function(errorMsg,url,lineNumber){alert("Error: "+errorMsg+" Script: "+url+" Line: "+lineNumber)};jQuery(function(){Asynchronous.waterfall([function(callback){Application.createApplication(callback)},function(application,callback){window.application=application;window.application.showPage(TestPage.createElement(),callback)}],Application.ifNotError())})},{"./application":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/server/www/library/application.js","./elements/pages/test-page":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/server/www/library/elements/pages/test-page.js","./log":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/server/www/library/log.js","./object-assign":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/server/www/library/object-assign.js",async:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/async/dist/async.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/server/www/test/library/assert.js":[function(require,module,exports){var _Assert=require("assert");var Asynchronous=require("async");var Is=require("@pwn/is");var Path=require("../../../../client/library/path");var Utilities=require("util");var Application=require("../../library/application");var Log=require("../../library/log");var TestPage=require("../../library/elements/pages/test-page");var REGEXP_PLACEHOLDER=/%d|%j|%s/g;var Assert=Object.create(_Assert);Assert.onPage=function(text,callback){var argumentsArray=Array.prototype.slice.call(arguments);argumentsArray.unshift("div.uk-navbar-content:visible:contains(%j)");return this.existsSelector.apply(this,argumentsArray)};Assert.existsButton=function(text,callback){var argumentsArray=Array.prototype.slice.call(arguments);argumentsArray.unshift("button:not([disabled]):visible:contains(%j)");return this.existsSelector.apply(this,argumentsArray)};Assert.existsDisabledButton=function(text,callback){var argumentsArray=Array.prototype.slice.call(arguments);argumentsArray.unshift("button[disabled]:visible:contains(%j)");return this.existsSelector.apply(this,argumentsArray)};Assert.notExistsButton=function(text,callback){var argumentsArray=Array.prototype.slice.call(arguments);argumentsArray.unshift("button:visible:contains(%j)");return this.notExistsSelector.apply(this,argumentsArray)};Assert.existsLink=function(text,callback){var argumentsArray=Array.prototype.slice.call(arguments);argumentsArray.unshift("a:visible:contains(%j)");return this.existsSelector.apply(this,argumentsArray)};Assert.notExistsLink=function(text,callback){var argumentsArray=Array.prototype.slice.call(arguments);argumentsArray.unshift("a:visible:contains(%j)");return this.notExistsSelector.apply(this,argumentsArray)};Assert.existsLinkId=function(id,callback){var argumentsArray=Array.prototype.slice.call(arguments);argumentsArray.unshift("a#%s:visible");return this.existsSelector.apply(this,argumentsArray)};Assert.notExistsLinkId=function(id,callback){var argumentsArray=Array.prototype.slice.call(arguments);argumentsArray.unshift("a:visible:contains(%j)");return this.notExistsSelector.apply(this,argumentsArray)};Assert.existsRow=function(text,callback){var argumentsArray=Array.prototype.slice.call(arguments);argumentsArray.unshift("table > tbody > tr:visible:contains(%j)");return this.existsSelector.apply(this,argumentsArray)};Assert.notExistsRow=function(text,callback){var argumentsArray=Array.prototype.slice.call(arguments);argumentsArray.unshift("table > tbody > tr:visible:contains(%j)");return this.notExistsSelector.apply(this,argumentsArray)};Assert.existsInput=function(text,callback){var argumentsArray=Array.prototype.slice.call(arguments);argumentsArray.unshift('input[type="text"][value=%j]:visible:not([disabled])');return this.existsSelector.apply(this,argumentsArray)};Assert.existsInputId=function(id,callback){var argumentsArray=Array.prototype.slice.call(arguments);argumentsArray.unshift('input#%s[type="text"]:visible:not([disabled])');return this.existsSelector.apply(this,argumentsArray)};Assert.existsInputValue=function(id,value,callback){var argumentsArray=Array.prototype.slice.call(arguments);if(Is.emptyString(value))argumentsArray.unshift('input#%s[type="text"]:visible:not([value][disabled])');else argumentsArray.unshift('input#%s[type="text"][value=%j]:visible:not([disabled])');return this.existsSelector.apply(this,argumentsArray)};Assert.existsDisabledInputValue=function(id,value,callback){var argumentsArray=Array.prototype.slice.call(arguments);if(Is.emptyString(value))argumentsArray.unshift('input#%s[type="text"][disabled]:visible:not([value])');else argumentsArray.unshift('input#%s[type="text"][value=%j][disabled]:visible');return this.existsSelector.apply(this,argumentsArray)};Assert.existsAlert=function(text,callback){var argumentsArray=Array.prototype.slice.call(arguments);argumentsArray.unshift('div.uk-modal > div.uk-modal-dialog:has(div.uk-modal-footer > button:contains("Ok")):contains(%j)');return this.existsSelector.apply(this,argumentsArray)};Assert.existsConfirmation=function(text,callback){var argumentsArray=Array.prototype.slice.call(arguments);argumentsArray.unshift('div.uk-modal > div.uk-modal-dialog:has(div.uk-modal-footer > button:contains("No")):has(div.uk-modal-footer > button:contains("Yes")):contains(%j)');return this.existsSelector.apply(this,argumentsArray)};Assert.existsSelector=function(selector,callback){var argumentsArray=Array.prototype.slice.call(arguments);var results=this.select.apply(this,argumentsArray);var error=null;try{this.equal(results.selected.length,1,Utilities.format("The selector %j does not exist at most once.",results.selector))}catch(_error){error=_error}if(results.callback)results.callback(error,results);else if(error)throw error;return results};Assert.notExistsSelector=function(selector,callback){var argumentsArray=Array.prototype.slice.call(arguments);var results=this.select.apply(this,argumentsArray);var error=null;try{this.equal(results.selected.length,0,Utilities.format("The selector %j exists.",results.selector))}catch(_error){error=_error}if(results.callback)results.callback(error,results);else if(error)throw error;return results};Assert.clickButton=function(text,callback){var argumentsArray=Array.prototype.slice.call(arguments);argumentsArray.unshift("button:visible:contains(%j)");return this.clickSelector.apply(this,argumentsArray)};Assert.clickLink=function(text,callback){var argumentsArray=Array.prototype.slice.call(arguments);argumentsArray.unshift("a:visible:contains(%j)");return this.clickSelector.apply(this,argumentsArray)};Assert.clickLinkId=function(id,callback){var argumentsArray=Array.prototype.slice.call(arguments);argumentsArray.unshift("a#%s:visible");return this.clickSelector.apply(this,argumentsArray)};Assert.clickRow=function(text,callback){var argumentsArray=Array.prototype.slice.call(arguments);argumentsArray.unshift("table > tbody > tr:visible:contains(%j)");return this.clickSelector.apply(this,argumentsArray)};Assert.clickOk=function(callback){var argumentsArray=Array.prototype.slice.call(arguments);argumentsArray.unshift('div.uk-modal > div.uk-modal-dialog > div.uk-modal-footer > button:contains("Ok")');return this.clickSelector.apply(this,argumentsArray)};Assert.clickYes=function(callback){var argumentsArray=Array.prototype.slice.call(arguments);argumentsArray.unshift('div.uk-modal > div.uk-modal-dialog > div.uk-modal-footer > button:contains("Yes")');return this.clickSelector.apply(this,argumentsArray)};Assert.clickNo=function(callback){var argumentsArray=Array.prototype.slice.call(arguments);argumentsArray.unshift('div.uk-modal > div.uk-modal-dialog > div.uk-modal-footer > button:contains("No")');return this.clickSelector.apply(this,argumentsArray)};Assert.clickClose=function(callback){var argumentsArray=Array.prototype.slice.call(arguments);argumentsArray.unshift("div.uk-modal > div.uk-modal-dialog button.uk-close");return this.clickSelector.apply(this,argumentsArray)};Assert.clickSelector=function(selector,callback){var argumentsArray=Array.prototype.slice.call(arguments);var results=this.select.apply(this,argumentsArray);var error=null;try{this.equal(results.selected.length,1,Utilities.format("The selector %j cannot be clicked as it does not exist at most once.",results.selector));results.selected.click()}catch(_error){error=_error}if(results.callback)results.callback(error,results);else if(error)throw error;return results};Assert.inputValue=function(id,value,callback){var argumentsArray=Array.prototype.slice.call(arguments);argumentsArray.unshift('input#%s[type="text"]:visible');return this.inputSelector.apply(this,argumentsArray)};Assert.inputSelector=function(selector,value,callback){var argumentsArray=Array.prototype.slice.call(arguments);selector=argumentsArray.shift();var numberOfPlaceholders=selector.match(REGEXP_PLACEHOLDER).length;value=argumentsArray.splice(numberOfPlaceholders,1)[0];argumentsArray.unshift(selector);var results=this.select.apply(this,argumentsArray);var error=null;try{this.equal(results.selected.length,1,Utilities.format("The selector %j cannot be input as it does not exist at most once.",results.selector));results.selected.val(value)}catch(_error){error=_error}if(results.callback)results.callback(error,results);else if(error)throw error;return results};Assert.select=function(selector,callback){var argumentsArray=Array.prototype.slice.call(arguments);if(!argumentsArray[argumentsArray.length-1]){argumentsArray.pop();callback=null}else if(Is.function(argumentsArray[argumentsArray.length-1]))callback=argumentsArray.pop();else callback=null;selector=Utilities.format.apply(Utilities.format,argumentsArray);var selected=jQuery(selector);Log.info("> jQuery(%j).length=%d",selector,selected.length);return{selector:selector,selected:selected,callback:callback}};Assert.showPage=function(page,callback){this.waitForPageShown(function(callback){window.application.showPage(page,callback)},callback)};Assert.hidePage=function(callback){this.waitForPageShown(function(){window.application.hidePage()},callback)};Assert.hideAllPages=function(callback){var self=this;if(TestPage.isElement(window.application.getPage()))callback(null);else{this.waitForPageShown(function(){window.application.hidePage()},function(error){if(error)callback(error);else self.hideAllPages(callback)})}};Assert.waitForPageShown=function(duration,waitFn,callback){if(Is.function(duration)){callback=waitFn;waitFn=duration;duration=0}Log.info("> Assert.waitForPageShown(%d, waitFn, callback) { ... }",duration);var self=this;jQuery(window.application).one("v-page-shown",function(event){self.waitForElementsShown(event.page,null,Application.noop,callback)});setTimeout(function(){waitFn(Application.ifNotError())},duration)};Assert.waitForElementsShown=function(page,Class,waitFn,callback){if(Is.function(page)){callback=Class;waitFn=page;Class=null;page=window.application.getPage()}else if(Is.function(Class)){callback=waitFn;waitFn=Class;Class=page;page=window.application.getPage()}Log.info("> Assert.waitForElementsShown(page, Class, waitFn, callback) { ... }");if(page.hasElements(Class)){Asynchronous.each(page.getElements(Class),function(element,callback){jQuery(element).one("v-shown",function(event){callback(null)})},callback)}else callback(null);waitFn(Application.ifNotError())};Assert.waitForModalShown=function(duration,waitFn,callback){if(Is.function(duration)){callback=waitFn;waitFn=duration;duration=0}Log.info("> Assert.waitForModalShown(%d, waitFn, callback) { ... }",duration);jQuery(window.application).one("v-modal-shown",function(event){Log.info("< Assert.waitForModalShown(%d, waitFn, callback) { ... }",duration);setTimeout(function(){callback(null)},duration)});setTimeout(function(){waitFn(Application.ifNotError())},duration)};Assert.waitForModalHidden=function(duration,waitFn,callback){if(Is.function(duration)){callback=waitFn;waitFn=duration;duration=0}Log.info("> Assert.waitForModalHidden(%d, waitFn, callback) { ... }",duration);jQuery(window.application).one("v-modal-hidden",function(event){Log.info("< Assert.waitForModalHidden(%d, waitFn, callback) { ... }",duration);setTimeout(function(){callback(null)},duration)});setTimeout(function(){waitFn(Application.ifNotError())},duration)};Assert.capture=function(name){if(Is.function(window.callPhantom)){var path=Path.join("process","output","capture",Utilities.format("%s-%s",name,(new Date).toISOString()));callPhantom({screenshot:path})}};module.exports=Assert},{"../../../../client/library/path":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/client/library/path.js","../../library/application":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/server/www/library/application.js","../../library/elements/pages/test-page":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/server/www/library/elements/pages/test-page.js","../../library/log":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/server/www/library/log.js","@pwn/is":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/@pwn/is/lib/is.js",assert:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/assert/assert.js",async:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/async/dist/async.js",util:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/util/util.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/server/www/test/tests/20160622163300-begin.js":[function(require,module,exports){before(function(){});after(function(){});describe("Begin",function(){it("should begin the tests",function(){})})},{}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/server/www/test/tests/20160622173800-default.js":[function(require,module,exports){var Asynchronous=require("async");var Assert=require("../library/assert");var Log=require("../../library/log");var DefaultPage=require("../../library/elements/pages/default-page");describe("DefaultPage",function(){before(function(callback){Assert.showPage(DefaultPage.createElement(),callback)});it("should contain a button labelled Leases",function(){Assert.existsButton("Leases")});it("should contain a button labelled Translations",function(){Assert.existsButton("Translations")});describe("DefaultPage to LeasesPage",function(){before(function(callback){Assert.waitForPageShown(function(){Assert.clickButton("Leases")},callback)});it("should go to the Leases page when the Leases button is clicked",function(){Assert.onPage("Leases")});after(function(callback){Assert.hidePage(callback)})});describe("DefaultPage to TranslationsPage",function(){before(function(callback){Assert.waitForPageShown(function(){Assert.clickButton("Translations")},callback)});it("should go to the Translations page when the Translations button is clicked",function(){Assert.onPage("Translations")});after(function(callback){Assert.hidePage(callback)})});describe("DefaultPage to LeasesPage and Back",function(){before(function(callback){Asynchronous.series([function(callback){Assert.waitForPageShown(function(){Assert.clickButton("Leases")},callback)},function(callback){Assert.waitForPageShown(function(){Assert.clickLink("Back")},callback)}],callback)});it("should return to the default page when the Leases and Back buttons are clicked",function(){Assert.existsButton("Leases")})});describe("DefaultPage to TranslationsPage and Back",function(){before(function(callback){Asynchronous.series([function(callback){Assert.waitForPageShown(function(){Assert.clickButton("Translations")},callback)},function(callback){Assert.waitForPageShown(function(){Assert.clickLink("Back")},callback)}],callback)});it("should return to the default page when the Translations and Back buttons are clicked",function(){Assert.existsButton("Translations")})});after(function(callback){Assert.hidePage(callback)})})},{"../../library/elements/pages/default-page":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/server/www/library/elements/pages/default-page.js","../../library/log":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/server/www/library/log.js","../library/assert":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/server/www/test/library/assert.js",async:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/async/dist/async.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/server/www/test/tests/20160625023000-translations.js":[function(require,module,exports){var Asynchronous=require("async");var Utilities=require("util");var Application=require("../../library/application");var Assert=require("../library/assert");var Log=require("../../library/log");var TranslationsPage=require("../../library/elements/pages/translations-page");var TranslationsTable=require("../../library/elements/tables/translations-table");describe("TranslationsPage",function(){before(function(callback){Assert.showPage(TranslationsPage.createElement(),callback)});it("should be on the Translations page",function(){Assert.onPage("Translations")});it("should contain a link labelled Back",function(){Assert.existsLink("Back")});it("should contain a Refresh link",function(){Assert.existsLinkId("refresh")});it("should contain a link labelled Add",function(){Assert.existsLink("Add")});describe("TranslationsPage to TranslationPage on Add",function(){before(function(callback){Assert.waitForPageShown(function(){Assert.clickLink("Add")},callback)});it("should go to the Translation page when the Add button is clicked",function(){Assert.onPage("Translation")});it("should contain a blank From on the Translation page when the Add button is clicked",function(){Assert.existsInputValue("from","")});it("should contain a blank To on the Translation page when the Add button is clicked",function(){Assert.existsInputValue("to","")});after(function(callback){Assert.hidePage(callback)})});describe("TranslationsPage to TranslationPage on Add and Back",function(){before(function(callback){Asynchronous.series([function(callback){Assert.waitForPageShown(function(){Assert.clickLink("Add")},callback)},function(callback){Assert.waitForPageShown(function(){Assert.clickLink("Back")},callback)}],callback)});it("should return to the Translations page when the Add and Back buttons are clicked",function(){Assert.onPage("Translations")})});describe("TranslationsPage POST/Refresh",function(){before(function(callback){Asynchronous.series([function(callback){Application.POST("/api/translations",{from:"from01",to:"to01"},callback)},function(callback){Assert.waitForElementsShown(TranslationsTable,function(){Assert.clickLinkId("refresh")},callback)}],callback)});it("should show the translation From",function(){Assert.existsRow("from01")});it("should show the translation To",function(){Assert.existsRow("to01")});after(function(callback){Application.DELETE("/api/translations/from01",callback)})});describe("TranslationsPage DELETE/Refresh",function(){before(function(callback){Asynchronous.series([function(callback){Application.POST("/api/translations",{from:"from01",to:"to01"},callback)},function(callback){Application.DELETE("/api/translations/from01",callback)},function(callback){Assert.waitForElementsShown(TranslationsTable,function(){Assert.clickLinkId("refresh")},callback)}],callback)});it("should not show the translation From",function(){Assert.notExistsRow("from01")});it("should not show the translation To",function(){Assert.notExistsRow("to01")})});describe("TranslationsPage to TranslationPage on Selected",function(){before(function(callback){Asynchronous.series([function(callback){Application.POST("/api/translations",{from:"from01",to:"to01"},callback)},function(callback){Assert.waitForElementsShown(TranslationsTable,function(){Assert.clickLinkId("refresh")},callback)},function(callback){Assert.waitForPageShown(function(){Assert.clickRow("from01")},callback)}],callback)});it("should go to the Translation page when the translation is clicked",function(){Assert.onPage("Translation")});it("should contain the From on the Translation page when the translation is clicked",function(){Assert.existsDisabledInputValue("from","from01")});it("should contain the To on the Translation page when the translation is clicked",function(){Assert.existsInputValue("to","to01")});after(function(callback){Asynchronous.series([function(callback){Assert.hidePage(callback)},function(callback){Application.DELETE("/api/translations/from01",callback)}],callback)})});describe("TranslationsPage to TranslationPage on Selected and Back",function(){before(function(callback){Asynchronous.series([function(callback){Application.POST("/api/translations",{from:"from01",to:"to01"},callback)},function(callback){Assert.waitForElementsShown(function(){Assert.clickLinkId("refresh")},callback)},function(callback){Assert.waitForPageShown(function(){Assert.clickRow("from01")},callback)},function(callback){Assert.waitForPageShown(function(){Assert.clickLink("Back")},callback)}],callback)});it("should return to the Translations page when the translation and Back button are clicked",function(){Assert.onPage("Translations")})});after(function(callback){Assert.hidePage(callback)})})},{"../../library/application":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/server/www/library/application.js","../../library/elements/pages/translations-page":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/server/www/library/elements/pages/translations-page.js","../../library/elements/tables/translations-table":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/server/www/library/elements/tables/translations-table.js","../../library/log":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/server/www/library/log.js","../library/assert":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/server/www/test/library/assert.js",async:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/async/dist/async.js",util:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/util/util.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/server/www/test/tests/20160627004000-translation.js":[function(require,module,exports){var Asynchronous=require("async");var Application=require("../../library/application");var Assert=require("../library/assert");var Log=require("../../library/log");var TranslationPage=require("../../library/elements/pages/translation-page");var TranslationsPage=require("../../library/elements/pages/translations-page");describe("TranslationPage",function(){describe("TranslationPage (blank translation)",function(){before(function(callback){Assert.showPage(TranslationPage.createElement(TranslationPage.Source.createSource({})),callback)});it("should be on the Translation page",function(){Assert.onPage("Translation")});it("should contain a link labelled Back",function(){Assert.existsLink("Back")});it("should contain a link labelled Done",function(){Assert.existsLink("Done")});it("should contain a blank input for From",function(){Assert.existsInputValue("from","")});it("should contain a blank input for To",function(){Assert.existsInputValue("to","")});it("should not contain a delete link",function(){Assert.notExistsLinkId("delete")});after(function(callback){Assert.hidePage(callback)})});describe("TranslationPage (existing translation)",function(){before(function(callback){Asynchronous.waterfall([function(callback){Application.POST("/api/translations",{from:"from01",to:"to01"},callback)},function(translation,callback){Assert.showPage(TranslationPage.createElement(TranslationPage.Source.createSource(translation)),callback)}],callback)});it("should be on the Translation page",function(){Assert.onPage("Translation")});it("should contain a link labelled Back",function(){Assert.existsLink("Back")});it("should contain a link labelled Done",function(){Assert.existsLink("Done")});it("should contain an input for From",function(){Assert.existsDisabledInputValue("from","from01")});it("should contain an input for To",function(){Assert.existsInputValue("to","to01")});it("should contain a delete link",function(){Assert.existsLinkId("delete");
});after(function(callback){Assert.hidePage(callback)})});describe("TranslationPage (blank translation) on valid From and To on Done",function(){before(function(callback){Asynchronous.series([function(callback){Assert.showPage(TranslationPage.createElement(TranslationPage.Source.createSource({})),callback)},function(callback){Assert.inputValue("from","from01",callback)},function(callback){Assert.inputValue("to","to01",callback)},function(callback){Assert.clickLink("Done",callback)}],callback)});it("should save the From for the translation",function(callback){Application.GET("/api/translations/from01",function(error,translation){if(error)callback(error);else{Assert.equal(translation.from,"from01");callback(null)}})});it("should save the To for the translation",function(callback){Application.GET("/api/translations/from01",function(error,translation){if(error)callback(error);else{Assert.equal(translation.to,"to01");callback(null)}})});after(function(callback){Application.DELETE("/api/translations/from01",callback)})});describe("TranslationPage (blank translation) on invalid From on Done",function(){before(function(callback){Asynchronous.series([function(callback){Assert.showPage(TranslationPage.createElement(TranslationPage.Source.createSource({})),callback)},function(callback){Assert.inputValue("from","@from01",callback)},function(callback){Assert.inputValue("to","to01",callback)},function(callback){Assert.waitForModalShown(function(){Assert.clickLink("Done")},callback)}],callback)});it("should display an alert",function(){Assert.existsAlert('The translation from "@from01" is invalid.')});after(function(callback){Asynchronous.series([function(callback){Assert.waitForModalHidden(function(){Assert.clickOk()},callback)},function(callback){Assert.hidePage(callback)}],callback)})});describe("TranslationPage (blank translation) on invalid To on Done",function(){before(function(callback){Asynchronous.series([function(callback){Assert.showPage(TranslationPage.createElement(TranslationPage.Source.createSource({})),callback)},function(callback){Assert.inputValue("from","from01",callback)},function(callback){Assert.inputValue("to","",callback)},function(callback){Assert.waitForModalShown(function(){Assert.clickLink("Done")},callback)}],callback)});it("should display an alert",function(){Assert.existsAlert('The translation to "" is invalid.')});after(function(callback){Asynchronous.series([function(callback){Assert.waitForModalHidden(function(){Assert.clickOk()},callback)},function(callback){Assert.hidePage(callback)}],callback)})});describe("TranslationPage (existing translation) on Delete",function(){before(function(callback){Asynchronous.waterfall([function(callback){Application.POST("/api/translations",{from:"from01",to:"to01"},callback)},function(translation,callback){Assert.showPage(TranslationPage.createElement(TranslationPage.Source.createSource(translation)),callback)},function(callback){Assert.waitForModalShown(function(){Assert.clickLinkId("delete")},callback)}],callback)});it("should display a confirmation",function(){Assert.existsConfirmation('Are you sure you want to delete the translation from "from01"?')});after(function(callback){Asynchronous.series([function(callback){Assert.waitForModalHidden(function(){Assert.clickNo()},callback)},function(callback){Assert.hidePage(callback)},function(callback){Application.DELETE("/api/translations/from01",callback)}],callback)})});describe("TranslationPage (existing translation) on Delete and Yes",function(){before(function(callback){Asynchronous.waterfall([function(callback){Application.POST("/api/translations",{from:"from01",to:"to01"},callback)},function(translation,callback){Assert.showPage(TranslationPage.createElement(TranslationPage.Source.createSource(translation)),callback)},function(callback){Assert.waitForModalShown(function(){Assert.clickLinkId("delete")},callback)},function(callback){Assert.waitForPageShown(function(){Assert.clickYes()},callback)}],callback)});it("should delete the translation",function(callback){Application.GET("/api/exists/translations/from01",function(error,data){if(error)callback(error);else{Assert.ok(!data.exists,"The translation exists.");callback(null)}})})});describe("TranslationPage (existing translation) on Delete and No",function(){before(function(callback){Asynchronous.waterfall([function(callback){Application.POST("/api/translations",{from:"from01",to:"to01"},callback)},function(translation,callback){Assert.showPage(TranslationPage.createElement(TranslationPage.Source.createSource(translation)),callback)},function(callback){Assert.waitForModalShown(function(){Assert.clickLinkId("delete")},callback)},function(callback){Assert.waitForModalHidden(function(){Assert.clickNo()},callback)}],callback)});it("should not delete the translation",function(callback){Application.GET("/api/translations/from01",function(error,translation){Assert.ok(!error);Assert.ok(translation);callback(null)})});after(function(callback){Asynchronous.series([function(callback){Assert.hidePage(callback)},function(callback){Application.DELETE("/api/translations/from01",callback)}],callback)})})})},{"../../library/application":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/server/www/library/application.js","../../library/elements/pages/translation-page":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/server/www/library/elements/pages/translation-page.js","../../library/elements/pages/translations-page":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/server/www/library/elements/pages/translations-page.js","../../library/log":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/server/www/library/log.js","../library/assert":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/server/www/test/library/assert.js",async:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/async/dist/async.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/server/www/test/tests/20160706232900-leases.js":[function(require,module,exports){var Asynchronous=require("async");var Utilities=require("util");var Application=require("../../library/application");var Assert=require("../library/assert");var Log=require("../../library/log");var LeasesPage=require("../../library/elements/pages/leases-page");var LeasesTable=require("../../library/elements/tables/leases-table");describe("LeasesPage",function(){before(function(callback){Assert.showPage(LeasesPage.createElement(),callback)});it("should be on the Leases page",function(){Assert.onPage("Leases")});it("should contain a link labelled Back",function(){Assert.existsLink("Back")});it("should contain a Refresh link",function(){Assert.existsLinkId("refresh")});it("should contain a link labelled Add",function(){Assert.existsLink("Add")});describe("LeasesPage to LeasePage on Add",function(){before(function(callback){Assert.waitForPageShown(function(){Assert.clickLink("Add")},callback)});it("should go to the Lease page when the Add button is clicked",function(){Assert.onPage("Lease")});it("should contain a blank IP Address on the Lease page when the Add button is clicked",function(){Assert.existsInputValue("address","")});it("should contain a blank MAC Address on the Lease page when the Add button is clicked",function(){Assert.existsInputValue("device","")});it("should contain a blank Host Name on the Lease page when the Add button is clicked",function(){Assert.existsInputValue("host","")});after(function(callback){Assert.hidePage(callback)})});describe("LeasesPage to LeasePage on Add and Back",function(){before(function(callback){Asynchronous.series([function(callback){Assert.waitForPageShown(function(){Assert.clickLink("Add")},callback)},function(callback){Assert.waitForPageShown(function(){Assert.clickLink("Back")},callback)}],callback)});it("should return to the Leases page when the Add and Back buttons are clicked",function(){Assert.onPage("Leases")})});describe("LeasesPage POST/Refresh",function(){before(function(callback){Asynchronous.waterfall([function(callback){Application.POST("/api/leases",{address:"1.2.3.4",device:"aa:11:bb:22:cc:33",host:"host01"},function(error,lease){callback(error)})},function(callback){Application.GET("/api/exists/translations/aa:11:bb:22:cc:33",callback)},function(data,callback){if(data.exists)Application.DELETE("/api/translations/aa:11:bb:22:cc:33",callback);else callback(null)},function(callback){Application.GET("/api/exists/translations/host01",callback)},function(data,callback){if(data.exists)Application.DELETE("/api/translations/host01",callback);else callback(null)},function(callback){Assert.waitForElementsShown(LeasesTable,function(){Assert.clickLinkId("refresh")},callback)}],callback)});it("should show the IP address",function(){Assert.existsRow("1.2.3.4")});it("should show the MAC address",function(){Assert.existsRow("aa:11:bb:22:cc:33")});it("should show the host name",function(){Assert.existsRow("host01")});after(function(callback){Application.DELETE("/api/leases/1.2.3.4",callback)})});describe("LeasesPage POST/Refresh (w/ device translation)",function(){before(function(callback){Asynchronous.series([function(callback){Application.POST("/api/leases",{address:"1.2.3.4",device:"aa:11:bb:22:cc:33",host:"host01"},callback)},function(callback){Application.POST("/api/translations",{from:"aa:11:bb:22:cc:33",to:"host001"},callback)},function(callback){Assert.waitForElementsShown(LeasesTable,function(){Assert.clickLinkId("refresh")},callback)}],callback)});it("should show the IP address",function(){Assert.existsRow("1.2.3.4")});it("should show the MAC address",function(){Assert.existsRow("aa:11:bb:22:cc:33")});it("should not show the host name",function(){Assert.notExistsRow("host01")});it("should show the translation",function(){Assert.existsRow("host001")});after(function(callback){Asynchronous.series([function(callback){Application.DELETE("/api/translations/aa:11:bb:22:cc:33",callback)},function(callback){Application.DELETE("/api/leases/1.2.3.4",callback)}],callback)})});describe("LeasesPage POST/Refresh (w/ host translation)",function(){before(function(callback){Asynchronous.series([function(callback){Application.POST("/api/leases",{address:"1.2.3.4",device:"aa:11:bb:22:cc:33",host:"host01"},callback)},function(callback){Application.POST("/api/translations",{from:"host01",to:"host001"},callback)},function(callback){Assert.waitForElementsShown(LeasesTable,function(){Assert.clickLinkId("refresh")},callback)}],callback)});it("should show the IP address",function(){Assert.existsRow("1.2.3.4")});it("should show the MAC address",function(){Assert.existsRow("aa:11:bb:22:cc:33")});it("should not show the host name",function(){Assert.notExistsRow("host01")});it("should show the translation",function(){Assert.existsRow("host001")});after(function(callback){Asynchronous.series([function(callback){Application.DELETE("/api/translations/host01",callback)},function(callback){Application.DELETE("/api/leases/1.2.3.4",callback)}],callback)})});describe("LeasesPage DELETE/Refresh",function(){before(function(callback){Asynchronous.series([function(callback){Application.POST("/api/leases",{address:"1.2.3.4",device:"aa:11:bb:22:cc:33",host:"host01"},callback)},function(callback){Application.DELETE("/api/leases/1.2.3.4",callback)},function(callback){Assert.waitForElementsShown(LeasesTable,function(){Assert.clickLinkId("refresh")},callback)}],callback)});it("should not show the IP address",function(){Assert.notExistsRow("1.2.3.4")});it("should not show the MAC address",function(){Assert.notExistsRow("aa:11:bb:22:cc:33")});it("should not show the host name",function(){Assert.notExistsRow("host01")})});describe("LeasesPage to LeasePage on Selected",function(){before(function(callback){Asynchronous.series([function(callback){Application.POST("/api/leases",{address:"1.2.3.4",device:"aa:11:bb:22:cc:33",host:"host01"},callback)},function(callback){Assert.waitForElementsShown(LeasesTable,function(){Assert.clickLinkId("refresh")},callback)},function(callback){Assert.waitForPageShown(function(){Assert.clickRow("1.2.3.4")},callback)}],callback)});it("should go to the Lease page when the lease is clicked",function(){Assert.onPage("Lease")});it("should contain the disabled IP Address on the Lease page when the lease is clicked",function(){Assert.existsDisabledInputValue("address","1.2.3.4")});it("should contain the MAC Address on the Lease page when the lease is clicked",function(){Assert.existsInputValue("device","aa:11:bb:22:cc:33")});it("should contain the Host Name on the Lease page when the lease is clicked",function(){Assert.existsInputValue("host","host01")});after(function(callback){Asynchronous.series([function(callback){Assert.hidePage(callback)},function(callback){Application.DELETE("/api/leases/1.2.3.4",callback)}],callback)})});describe("LeasesPage to LeasePage on Selected and Back",function(){before(function(callback){Asynchronous.series([function(callback){Application.POST("/api/leases",{address:"1.2.3.4",device:"aa:11:bb:22:cc:33",host:"host01"},callback)},function(callback){Assert.waitForElementsShown(function(){Assert.clickLinkId("refresh")},callback)},function(callback){Assert.waitForPageShown(function(){Assert.clickRow("1.2.3.4")},callback)},function(callback){Assert.waitForPageShown(function(){Assert.clickLink("Back")},callback)}],callback)});it("should return to the Leases page when the lease and Back button are clicked",function(){Assert.onPage("Leases")})});after(function(callback){Assert.hidePage(callback)})})},{"../../library/application":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/server/www/library/application.js","../../library/elements/pages/leases-page":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/server/www/library/elements/pages/leases-page.js","../../library/elements/tables/leases-table":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/server/www/library/elements/tables/leases-table.js","../../library/log":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/server/www/library/log.js","../library/assert":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/server/www/test/library/assert.js",async:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/async/dist/async.js",util:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/util/util.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/server/www/test/tests/20160707002900-lease.js":[function(require,module,exports){require("../../vendor/DateJS");var Asynchronous=require("async");var Utilities=require("util");var Application=require("../../library/application");var Assert=require("../library/assert");var Log=require("../../library/log");var LeasePage=require("../../library/elements/pages/lease-page");var LeasesPage=require("../../library/elements/pages/leases-page");describe("LeasePage",function(){describe("LeasePage (new static lease)",function(){before(function(callback){Assert.showPage(LeasePage.createElement(LeasePage.Source.createSource({})),callback)});it("should be on the Lease page",function(){Assert.onPage("Lease")});it("should contain a link labelled Back",function(){Assert.existsLink("Back")});it("should contain a link labelled Done",function(){Assert.existsLink("Done")});it("should contain a blank input for IP Address",function(){Assert.existsInputValue("address","")});it("should contain a blank input for MAC Address",function(){Assert.existsInputValue("device","")});it("should contain a blank input for Host Name",function(){Assert.existsInputValue("host","")});it("should not contain a delete link",function(){Assert.notExistsLinkId("delete")});it("should not contain a button labelled Create static lease",function(){Assert.notExistsButton("Create static lease")});it("should contain a disabled button labelled Copy static lease",function(){Assert.existsDisabledButton("Copy static lease")});it("should contain a disabled button labelled Create translation",function(){Assert.existsDisabledButton("Create translation")});it("should not contain a button labelled Edit translation",function(){Assert.notExistsButton("Edit translation")});after(function(callback){Assert.hidePage(callback)})});describe("LeasePage (new static lease) on valid IP Address, MAC Address, and Host Name on Done",function(){before(function(callback){Asynchronous.series([function(callback){Assert.showPage(LeasePage.createElement(LeasePage.Source.createSource({})),callback)},function(callback){Assert.inputValue("address","1.2.3.4",callback)},function(callback){Assert.inputValue("device","aa:11:bb:22:cc:33",callback)},function(callback){Assert.inputValue("host","host01",callback)},function(callback){Assert.waitForModalShown(function(){Assert.clickLink("Done")},callback)},function(callback){Assert.waitForModalHidden(function(){Assert.clickClose()},callback)}],callback)});it("should save the IP Address",function(callback){Application.GET("/api/leases/1.2.3.4",function(error,lease){if(error)callback(error);else{Assert.equal(lease.address,"1.2.3.4");callback(null)}})});it("should save the MAC Address",function(callback){Application.GET("/api/leases/1.2.3.4",function(error,lease){if(error)callback(error);else{Assert.equal(lease.device,"aa:11:bb:22:cc:33");callback(null)}})});it("should save the Host Name",function(callback){Application.GET("/api/leases/1.2.3.4",function(error,lease){if(error)callback(error);else{Assert.equal(lease.host,"host01");callback(null)}})});after(function(callback){Application.DELETE("/api/leases/1.2.3.4",callback)})});describe("LeasePage (new static lease) on invalid IP Address on Done",function(){before(function(callback){Asynchronous.series([function(callback){Assert.showPage(LeasePage.createElement(LeasePage.Source.createSource({})),callback)},function(callback){Assert.inputValue("address","a.b.c.d",callback)},function(callback){Assert.inputValue("device","aa:11:bb:22:cc:33",callback)},function(callback){Assert.inputValue("host","host01",callback)},function(callback){Assert.waitForModalShown(function(){Assert.clickLink("Done")},callback)}],callback)});it("should display an alert",function(){Assert.existsAlert('The IP address "a.b.c.d" is invalid.')});after(function(callback){Asynchronous.series([function(callback){Assert.waitForModalHidden(function(){Assert.clickOk()},callback)},function(callback){Assert.hidePage(callback)}],callback)})});describe("LeasePage (new static lease) on invalid MAC Address on Done",function(){before(function(callback){Asynchronous.series([function(callback){Assert.showPage(LeasePage.createElement(LeasePage.Source.createSource({})),callback)},function(callback){Assert.inputValue("address","1.2.3.4",callback)},function(callback){Assert.inputValue("device","aa:11:bb:22:cc:zz",callback)},function(callback){Assert.inputValue("host","host01",callback)},function(callback){Assert.waitForModalShown(function(){Assert.clickLink("Done")},callback)}],callback)});it("should display an alert",function(){Assert.existsAlert('The MAC address "aa:11:bb:22:cc:zz" is invalid.')});after(function(callback){Asynchronous.series([function(callback){Assert.waitForModalHidden(function(){Assert.clickOk()},callback)},function(callback){Assert.hidePage(callback)}],callback)})});describe("LeasePage (new static lease) on invalid Host Name on Done",function(){before(function(callback){Asynchronous.series([function(callback){Assert.showPage(LeasePage.createElement(LeasePage.Source.createSource({})),callback)},function(callback){Assert.inputValue("address","1.2.3.4",callback)},function(callback){Assert.inputValue("device","aa:11:bb:22:cc:33",callback)},function(callback){Assert.inputValue("host","@host01",callback)},function(callback){Assert.waitForModalShown(function(){Assert.clickLink("Done")},callback)}],callback)});it("should display an alert",function(){Assert.existsAlert('The host name "@host01" is invalid.')});after(function(callback){Asynchronous.series([function(callback){Assert.waitForModalHidden(function(){Assert.clickOk()},callback)},function(callback){Assert.hidePage(callback)}],callback)})});describe("LeasePage (existing static lease)",function(){before(function(callback){Asynchronous.waterfall([function(callback){Application.POST("/api/leases",{address:"1.2.3.4",device:"aa:11:bb:22:cc:33",host:"host01"},callback)},function(lease,callback){Assert.showPage(LeasePage.createElement(LeasePage.Source.createSource(lease)),callback)}],callback)});it("should be on the Lease page",function(){Assert.onPage("Lease")});it("should contain a link labelled Back",function(){Assert.existsLink("Back")});it("should contain a link labelled Done",function(){Assert.existsLink("Done")});it("should contain a disabled input for IP Address",function(){Assert.existsDisabledInputValue("address","1.2.3.4")});it("should contain an input for MAC Address",function(){Assert.existsInputValue("device","aa:11:bb:22:cc:33")});it("should contain an input for Host Name",function(){Assert.existsInputValue("host","host01")});it("should contain a delete link",function(){Assert.existsLinkId("delete")});it("should not contain a button labelled Create static lease",function(){Assert.notExistsButton("Create static lease")});it("should contain a button labelled Copy static lease",function(){Assert.existsButton("Copy static lease")});it("should contain a disabled button labelled Create translation",function(){Assert.existsDisabledButton("Create translation")});it("should not contain a button labelled Edit translation",function(){Assert.notExistsButton("Edit translation")});after(function(callback){Asynchronous.series([function(callback){Assert.hidePage(callback)},function(callback){Application.DELETE("/api/leases/1.2.3.4",callback)}],callback)})});describe("LeasePage (existing static lease w/ translation)",function(){before(function(callback){Asynchronous.waterfall([function(callback){Application.POST("/api/leases",{address:"1.2.3.4",device:"aa:11:bb:22:cc:33",host:"host01"},callback)},function(lease,callback){Application.POST("/api/translations",{from:"aa:11:bb:22:cc:33",to:"host001"},function(error,translation){callback(error,lease,translation)})},function(lease,translation,callback){Assert.showPage(LeasePage.createElement(LeasePage.Source.createSource(lease,translation)),callback)}],callback)});it("should be on the Lease page",function(){Assert.onPage("Lease")});it("should contain a link labelled Back",function(){Assert.existsLink("Back")});it("should contain a link labelled Done",function(){Assert.existsLink("Done")});it("should contain a disabled input for IP Address",function(){Assert.existsDisabledInputValue("address","1.2.3.4")});it("should contain an input for MAC Address",function(){Assert.existsInputValue("device","aa:11:bb:22:cc:33")});it("should contain an input for Host Name",function(){Assert.existsInputValue("host","host01")});it("should contain a disabled input for Translation",function(){Assert.existsDisabledInputValue("translation","host001")});it("should contain a delete link",function(){Assert.existsLinkId("delete")});it("should not contain a button labelled Create static lease",function(){Assert.notExistsButton("Create static lease")});it("should contain a button labelled Copy static lease",function(){Assert.existsButton("Copy static lease")});it("should not contain a button labelled Create translation",function(){Assert.notExistsButton("Create translation")});it("should contain a button labelled Edit translation",function(){Assert.existsButton("Edit translation")});after(function(callback){Asynchronous.series([function(callback){Assert.hidePage(callback)},function(callback){Application.DELETE("/api/translations/aa:11:bb:22:cc:33",callback)},function(callback){Application.DELETE("/api/leases/1.2.3.4",callback)}],callback)})});describe("LeasePage (existing static lease) on Delete",function(){before(function(callback){Asynchronous.waterfall([function(callback){Application.POST("/api/leases",{address:"1.2.3.4",device:"aa:11:bb:22:cc:33",host:"host01"},callback)},function(lease,callback){Assert.showPage(LeasePage.createElement(LeasePage.Source.createSource(lease)),callback)},function(callback){Assert.waitForModalShown(function(){Assert.clickLinkId("delete")},callback)}],callback)});it("should display a confirmation",function(){Assert.existsConfirmation('Are you sure you want to delete the static DHCP lease for "1.2.3.4"?')});after(function(callback){Asynchronous.series([function(callback){Assert.waitForModalHidden(function(){Assert.clickNo()},callback)},function(callback){Assert.hidePage(callback)},function(callback){Application.DELETE("/api/leases/1.2.3.4",callback)}],callback)})});describe("LeasePage (existing static lease) on Delete and Yes",function(){before(function(callback){Asynchronous.waterfall([function(callback){Application.POST("/api/leases",{address:"1.2.3.4",device:"aa:11:bb:22:cc:33",host:"host01"},callback)},function(lease,callback){Assert.showPage(LeasePage.createElement(LeasePage.Source.createSource(lease)),callback)},function(callback){Assert.waitForModalShown(function(){Assert.clickLinkId("delete")},callback)},function(callback){Assert.waitForModalShown(function(callback){Assert.waitForModalHidden(function(){Assert.clickYes()},callback)},callback)},function(callback){Assert.waitForPageShown(function(){Assert.clickClose()},callback)}],callback)});it("should delete the lease",function(callback){Application.GET("/api/exists/leases/1.2.3.4",function(error,data){if(error)callback(error);else{Assert.ok(!data.exists,"The leases exists.");callback(null)}})})});describe("LeasePage (existing static lease) on Delete and No",function(){before(function(callback){Asynchronous.waterfall([function(callback){Application.POST("/api/leases",{address:"1.2.3.4",device:"aa:11:bb:22:cc:33",host:"host01"},callback)},function(lease,callback){Assert.showPage(LeasePage.createElement(LeasePage.Source.createSource(lease)),callback)},function(callback){Assert.waitForModalShown(function(){Assert.clickLinkId("delete")},callback)},function(callback){Assert.waitForModalHidden(function(){Assert.clickNo()},callback)}],callback)});it("should not delete the lease",function(callback){Application.GET("/api/leases/1.2.3.4",function(error,lease){Assert.ok(!error);Assert.ok(lease);callback(null)})});after(function(callback){Asynchronous.series([function(callback){Assert.hidePage(callback)},function(callback){Application.DELETE("/api/leases/1.2.3.4",callback)}],callback)})});describe("LeasePage (existing system lease)",function(){before(function(callback){Asynchronous.waterfall([function(callback){Application.POST("/api/leases",{address:"1.2.3.4",from:Date.parse("yesterday").toISOString(),to:Date.parse("tomorrow").toISOString(),device:"aa:11:bb:22:cc:33",host:"host01"},callback)},function(lease,callback){Assert.showPage(LeasePage.createElement(LeasePage.Source.createSource(lease)),callback)}],callback)});it("should be on the Lease page",function(){Assert.onPage("Lease")});it("should contain a link labelled Back",function(){Assert.existsLink("Back")});it("should not contain a link labelled Done",function(){Assert.notExistsLink("Done")});it("should contain a disabled input for IP Address",function(){Assert.existsDisabledInputValue("address","1.2.3.4")});it("should contain a disabled input for MAC Address",function(){Assert.existsDisabledInputValue("device","aa:11:bb:22:cc:33")});it("should contain a disabled input for Host Name",function(){Assert.existsDisabledInputValue("host","host01")});it("should not contain a delete link",function(){Assert.notExistsLinkId("delete")});it("should contain a button labelled Create static lease",function(){Assert.existsButton("Create static lease")});it("should not contain a button labelled Copy static lease",function(){Assert.notExistsButton("Copy static lease")});it("should contain a button labelled Create translation",function(){Assert.existsButton("Create translation")});it("should not contain a button labelled Edit translation",function(){Assert.notExistsButton("Edit translation")});after(function(callback){Asynchronous.series([function(callback){Assert.hidePage(callback)},function(callback){Application.DELETE(Utilities.format("/api/leases/%s/%s/%s","1.2.3.4",Date.parse("yesterday").toISOString(),Date.parse("tomorrow").toISOString()),callback)}],callback)})});describe("LeasePage (existing system lease w/ translation)",function(){before(function(callback){Asynchronous.waterfall([function(callback){Application.POST("/api/leases",{address:"1.2.3.4",from:Date.parse("yesterday").toISOString(),to:Date.parse("tomorrow").toISOString(),device:"aa:11:bb:22:cc:33",host:"host01"},callback)},function(lease,callback){Application.POST("/api/translations",{from:"aa:11:bb:22:cc:33",to:"host001"},function(error,translation){callback(error,lease,translation)})},function(lease,translation,callback){Assert.showPage(LeasePage.createElement(LeasePage.Source.createSource(lease,translation)),callback)}],callback)});it("should be on the Lease page",function(){Assert.onPage("Lease")});it("should contain a link labelled Back",function(){Assert.existsLink("Back")});it("should not contain a link labelled Done",function(){Assert.notExistsLink("Done")});it("should contain a disabled input for IP Address",function(){Assert.existsDisabledInputValue("address","1.2.3.4")});it("should contain a disabled input for MAC Address",function(){Assert.existsDisabledInputValue("device","aa:11:bb:22:cc:33")});it("should contain a disabled input for Host Name",function(){Assert.existsDisabledInputValue("host","host01")});it("should contain a disabled input for Translation",function(){Assert.existsDisabledInputValue("translation","host001")});it("should not contain a delete link",function(){Assert.notExistsLinkId("delete")});it("should contain a button labelled Create static lease",function(){Assert.existsButton("Create static lease")});it("should not contain a button labelled Copy static lease",function(){Assert.notExistsButton("Copy static lease")});it("should not contain a button labelled Create translation",function(){Assert.notExistsButton("Create translation")});it("should contain a button labelled Edit translation",function(){Assert.existsButton("Edit translation")});after(function(callback){Asynchronous.series([function(callback){Assert.hidePage(callback)},function(callback){Application.DELETE("/api/translations/aa:11:bb:22:cc:33",callback)},function(callback){Application.DELETE(Utilities.format("/api/leases/%s/%s/%s","1.2.3.4",Date.parse("yesterday").toISOString(),Date.parse("tomorrow").toISOString()),callback)}],callback)})});describe("LeasePage (existing static lease) on Copy static lease",function(){before(function(callback){Asynchronous.waterfall([function(callback){Application.POST("/api/leases",{address:"1.2.3.4",device:"aa:11:bb:22:cc:33",host:"host01"},callback)},function(lease,callback){Assert.showPage(LeasePage.createElement(LeasePage.Source.createSource(lease)),callback)},function(callback){Assert.waitForPageShown(function(){Assert.clickButton("Copy static lease")},callback)},function(callback){Assert.waitForPageShown(function(){},callback)}],callback)});it("should be on the Lease page",function(){Assert.onPage("Lease")});it("should contain a link labelled Back",function(){Assert.existsLink("Back")});it("should contain a link labelled Done",function(){Assert.existsLink("Done")});it("should contain a blank input for IP Address",function(){Assert.existsInputValue("address","")});it("should contain an input for MAC Address",function(){Assert.existsInputValue("device","aa:11:bb:22:cc:33")});it("should contain an input for Host Name",function(){Assert.existsInputValue("host","host01")});it("should noy contain a delete link",function(){Assert.notExistsLinkId("delete")});it("should not contain a button labelled Create static lease",function(){Assert.notExistsButton("Create static lease")});it("should contain a disabled button labelled Copy static lease",function(){Assert.existsDisabledButton("Copy static lease");
});it("should contain a disabled button labelled Create translation",function(){Assert.existsDisabledButton("Create translation")});it("should not contain a button labelled Edit translation",function(){Assert.notExistsButton("Edit translation")});after(function(callback){Asynchronous.series([function(callback){Assert.hidePage(callback)},function(callback){Application.DELETE("/api/leases/1.2.3.4",callback)}],callback)})});describe("LeasePage (existing system lease) on Create static lease",function(){before(function(callback){Asynchronous.waterfall([function(callback){Application.POST("/api/leases",{address:"1.2.3.4",from:Date.parse("yesterday").toISOString(),to:Date.parse("tomorrow").toISOString(),device:"aa:11:bb:22:cc:33",host:"host01"},callback)},function(lease,callback){Assert.showPage(LeasePage.createElement(LeasePage.Source.createSource(lease)),callback)},function(callback){Assert.waitForPageShown(function(){Assert.clickButton("Create static lease")},callback)},function(callback){Assert.waitForPageShown(function(){},callback)}],callback)});it("should be on the Lease page",function(){Assert.onPage("Lease")});it("should contain a link labelled Back",function(){Assert.existsLink("Back")});it("should contain a link labelled Done",function(){Assert.existsLink("Done")});it("should contain a blank input for IP Address",function(){Assert.existsInputValue("address","")});it("should contain an input for MAC Address",function(){Assert.existsInputValue("device","aa:11:bb:22:cc:33")});it("should contain an input for Host Name",function(){Assert.existsInputValue("host","host01")});it("should not contain a delete link",function(){Assert.notExistsLinkId("delete")});it("should not contain a button labelled Create static lease",function(){Assert.notExistsButton("Create static lease")});it("should contain a disabled button labelled Copy static lease",function(){Assert.existsDisabledButton("Copy static lease")});it("should contain a disabled button labelled Create translation",function(){Assert.existsDisabledButton("Create translation")});it("should not contain a button labelled Edit translation",function(){Assert.notExistsButton("Edit translation")});after(function(callback){Asynchronous.series([function(callback){Assert.hidePage(callback)},function(callback){Application.DELETE(Utilities.format("/api/leases/%s/%s/%s","1.2.3.4",Date.parse("yesterday").toISOString(),Date.parse("tomorrow").toISOString()),callback)}],callback)})});describe("LeasePage (existing system lease) on Create translation",function(){before(function(callback){Asynchronous.waterfall([function(callback){Application.POST("/api/leases",{address:"1.2.3.4",from:Date.parse("yesterday").toISOString(),to:Date.parse("tomorrow").toISOString(),device:"aa:11:bb:22:cc:33",host:"host01"},callback)},function(lease,callback){Assert.showPage(LeasePage.createElement(LeasePage.Source.createSource(lease)),callback)},function(callback){Assert.waitForPageShown(function(){Assert.clickButton("Create translation")},callback)},function(callback){Assert.waitForPageShown(function(){},callback)}],callback)});it("should be on the Translation page",function(){Assert.onPage("Translation")});it("should contain a link labelled Back",function(){Assert.existsLink("Back")});it("should contain a link labelled Done",function(){Assert.existsLink("Done")});it("should contain an input for From",function(){Assert.existsInputValue("from","aa:11:bb:22:cc:33")});it("should contain a blank input for To",function(){Assert.existsInputValue("to","")});it("should not contain a delete link",function(){Assert.notExistsLinkId("delete")});after(function(callback){Asynchronous.series([function(callback){Assert.hidePage(callback)},function(callback){Application.DELETE(Utilities.format("/api/leases/%s/%s/%s","1.2.3.4",Date.parse("yesterday").toISOString(),Date.parse("tomorrow").toISOString()),callback)}],callback)})});describe("LeasePage (existing system lease w/ translation) on Edit translation",function(){before(function(callback){Asynchronous.waterfall([function(callback){Application.POST("/api/leases",{address:"1.2.3.4",from:Date.parse("yesterday").toISOString(),to:Date.parse("tomorrow").toISOString(),device:"aa:11:bb:22:cc:33",host:"host01"},callback)},function(lease,callback){Application.POST("/api/translations",{from:"aa:11:bb:22:cc:33",to:"host001"},function(error,translation){callback(error,lease,translation)})},function(lease,translation,callback){Assert.showPage(LeasePage.createElement(LeasePage.Source.createSource(lease,translation)),callback)},function(callback){Assert.waitForPageShown(function(){Assert.clickButton("Edit translation")},callback)},function(callback){Assert.waitForPageShown(function(){},callback)}],callback)});it("should be on the Translation page",function(){Assert.onPage("Translation")});it("should contain a link labelled Back",function(){Assert.existsLink("Back")});it("should contain a link labelled Done",function(){Assert.existsLink("Done")});it("should contain an input for From",function(){Assert.existsDisabledInputValue("from","aa:11:bb:22:cc:33")});it("should contain an input for To",function(){Assert.existsInputValue("to","host001")});it("should contain a delete link",function(){Assert.existsLinkId("delete")});after(function(callback){Asynchronous.series([function(callback){Assert.hidePage(callback)},function(callback){Application.DELETE("/api/translations/aa:11:bb:22:cc:33",callback)},function(callback){Application.DELETE(Utilities.format("/api/leases/%s/%s/%s","1.2.3.4",Date.parse("yesterday").toISOString(),Date.parse("tomorrow").toISOString()),callback)}],callback)})})})},{"../../library/application":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/server/www/library/application.js","../../library/elements/pages/lease-page":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/server/www/library/elements/pages/lease-page.js","../../library/elements/pages/leases-page":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/server/www/library/elements/pages/leases-page.js","../../library/log":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/server/www/library/log.js","../../vendor/DateJS":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/server/www/vendor/DateJS/index.js","../library/assert":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/server/www/test/library/assert.js",async:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/async/dist/async.js",util:"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/node_modules/util/util.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/server/www/test/tests/99999999999999-end.js":[function(require,module,exports){describe("End",function(){it("should end the tests",function(){})})},{}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/server/www/vendor/DateJS/index.js":[function(require,module,exports){require("./src/core/i18n.js");require("./src/core/core.js");require("./src/core/core-prototypes.js");require("./src/core/sugarpak.js");require("./src/core/format_parser.js");require("./src/core/parsing_operators.js");require("./src/core/parsing_translator.js");require("./src/core/parsing_grammar.js");require("./src/core/parser.js");require("./src/core/extras.js");require("./src/core/time_period.js");require("./src/core/time_span.js")},{"./src/core/core-prototypes.js":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/server/www/vendor/DateJS/src/core/core-prototypes.js","./src/core/core.js":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/server/www/vendor/DateJS/src/core/core.js","./src/core/extras.js":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/server/www/vendor/DateJS/src/core/extras.js","./src/core/format_parser.js":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/server/www/vendor/DateJS/src/core/format_parser.js","./src/core/i18n.js":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/server/www/vendor/DateJS/src/core/i18n.js","./src/core/parser.js":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/server/www/vendor/DateJS/src/core/parser.js","./src/core/parsing_grammar.js":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/server/www/vendor/DateJS/src/core/parsing_grammar.js","./src/core/parsing_operators.js":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/server/www/vendor/DateJS/src/core/parsing_operators.js","./src/core/parsing_translator.js":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/server/www/vendor/DateJS/src/core/parsing_translator.js","./src/core/sugarpak.js":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/server/www/vendor/DateJS/src/core/sugarpak.js","./src/core/time_period.js":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/server/www/vendor/DateJS/src/core/time_period.js","./src/core/time_span.js":"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/server/www/vendor/DateJS/src/core/time_span.js"}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/server/www/vendor/DateJS/src/core/core-prototypes.js":[function(require,module,exports){(function(){var $D=Date,$P=$D.prototype,p=function(s,l){if(!l){l=2}return("000"+s).slice(l*-1)};var validateConfigObject=function(obj){var result={},self=this,prop,testFunc;testFunc=function(prop,func,value){if(prop==="day"){var month=obj.month!==undefined?obj.month:self.getMonth();var year=obj.year!==undefined?obj.year:self.getFullYear();return $D[func](value,year,month)}else{return $D[func](value)}};for(prop in obj){if(hasOwnProperty.call(obj,prop)){var func="validate"+prop.charAt(0).toUpperCase()+prop.slice(1);if($D[func]&&obj[prop]!==null&&testFunc(prop,func,obj[prop])){result[prop]=obj[prop]}}}return result};$P.clearTime=function(){this.setHours(0);this.setMinutes(0);this.setSeconds(0);this.setMilliseconds(0);return this};$P.setTimeToNow=function(){var n=new Date;this.setHours(n.getHours());this.setMinutes(n.getMinutes());this.setSeconds(n.getSeconds());this.setMilliseconds(n.getMilliseconds());return this};$P.clone=function(){return new Date(this.getTime())};$P.compareTo=function(date){return Date.compare(this,date)};$P.equals=function(date){return Date.equals(this,date!==undefined?date:new Date)};$P.between=function(start,end){return this.getTime()>=start.getTime()&&this.getTime()<=end.getTime()};$P.isAfter=function(date){return this.compareTo(date||new Date)===1};$P.isBefore=function(date){return this.compareTo(date||new Date)===-1};$P.isToday=$P.isSameDay=function(date){return this.clone().clearTime().equals((date||new Date).clone().clearTime())};$P.addMilliseconds=function(value){if(!value){return this}this.setTime(this.getTime()+value*1);return this};$P.addSeconds=function(value){if(!value){return this}return this.addMilliseconds(value*1e3)};$P.addMinutes=function(value){if(!value){return this}return this.addMilliseconds(value*6e4)};$P.addHours=function(value){if(!value){return this}return this.addMilliseconds(value*36e5)};$P.addDays=function(value){if(!value){return this}this.setDate(this.getDate()+value*1);return this};$P.addWeekdays=function(value){if(!value){return this}var day=this.getDay();var weeks=Math.ceil(Math.abs(value)/7);if(day===0||day===6){if(value>0){this.next().monday();this.addDays(-1);day=this.getDay()}}if(value<0){while(value<0){this.addDays(-1);day=this.getDay();if(day!==0&&day!==6){value++}}return this}else if(value>5||6-day<=value){value=value+weeks*2}return this.addDays(value)};$P.addWeeks=function(value){if(!value){return this}return this.addDays(value*7)};$P.addMonths=function(value){if(!value){return this}var n=this.getDate();this.setDate(1);this.setMonth(this.getMonth()+value*1);this.setDate(Math.min(n,$D.getDaysInMonth(this.getFullYear(),this.getMonth())));return this};$P.addQuarters=function(value){if(!value){return this}return this.addMonths(value*3)};$P.addYears=function(value){if(!value){return this}return this.addMonths(value*12)};$P.add=function(config){if(typeof config==="number"){this._orient=config;return this}var x=config;if(x.day){if(x.day-this.getDate()!==0){this.setDate(x.day)}}if(x.milliseconds){this.addMilliseconds(x.milliseconds)}if(x.seconds){this.addSeconds(x.seconds)}if(x.minutes){this.addMinutes(x.minutes)}if(x.hours){this.addHours(x.hours)}if(x.weeks){this.addWeeks(x.weeks)}if(x.months){this.addMonths(x.months)}if(x.years){this.addYears(x.years)}if(x.days){this.addDays(x.days)}return this};$P.getWeek=function(utc){var self,target=new Date(this.valueOf());if(utc){target.addMinutes(target.getTimezoneOffset());self=target.clone()}else{self=this}var dayNr=(self.getDay()+6)%7;target.setDate(target.getDate()-dayNr+3);var firstThursday=target.valueOf();target.setMonth(0,1);if(target.getDay()!==4){target.setMonth(0,1+(4-target.getDay()+7)%7)}return 1+Math.ceil((firstThursday-target)/6048e5)};$P.getISOWeek=function(){return p(this.getWeek(true))};$P.setWeek=function(n){if(n-this.getWeek()===0){if(this.getDay()!==1){return this.moveToDayOfWeek(1,this.getDay()>1?-1:1)}else{return this}}else{return this.moveToDayOfWeek(1,this.getDay()>1?-1:1).addWeeks(n-this.getWeek())}};$P.setQuarter=function(qtr){var month=Math.abs((qtr-1)*3+1);return this.setMonth(month,1)};$P.getQuarter=function(){return Date.getQuarter(this)};$P.getDaysLeftInQuarter=function(){return Date.getDaysLeftInQuarter(this)};$P.moveToNthOccurrence=function(dayOfWeek,occurrence){if(dayOfWeek==="Weekday"){if(occurrence>0){this.moveToFirstDayOfMonth();if(this.is().weekday()){occurrence-=1}}else if(occurrence<0){this.moveToLastDayOfMonth();if(this.is().weekday()){occurrence+=1}}else{return this}return this.addWeekdays(occurrence)}var shift=0;if(occurrence>0){shift=occurrence-1}else if(occurrence===-1){this.moveToLastDayOfMonth();if(this.getDay()!==dayOfWeek){this.moveToDayOfWeek(dayOfWeek,-1)}return this}return this.moveToFirstDayOfMonth().addDays(-1).moveToDayOfWeek(dayOfWeek,+1).addWeeks(shift)};var moveToN=function(getFunc,addFunc,nVal){return function(value,orient){var diff=(value-this[getFunc]()+nVal*(orient||+1))%nVal;return this[addFunc](diff===0?diff+=nVal*(orient||+1):diff)}};$P.moveToDayOfWeek=moveToN("getDay","addDays",7);$P.moveToMonth=moveToN("getMonth","addMonths",12);$P.getOrdinate=function(){var num=this.getDate();return ord(num)};$P.getOrdinalNumber=function(){return Math.ceil((this.clone().clearTime()-new Date(this.getFullYear(),0,1))/864e5)+1};$P.getTimezone=function(){return $D.getTimezoneAbbreviation(this.getUTCOffset(),this.isDaylightSavingTime())};$P.setTimezoneOffset=function(offset){var here=this.getTimezoneOffset(),there=Number(offset)*-6/10;return there||there===0?this.addMinutes(there-here):this};$P.setTimezone=function(offset){return this.setTimezoneOffset($D.getTimezoneOffset(offset))};$P.hasDaylightSavingTime=function(){return Date.today().set({month:0,day:1}).getTimezoneOffset()!==Date.today().set({month:6,day:1}).getTimezoneOffset()};$P.isDaylightSavingTime=function(){return Date.today().set({month:0,day:1}).getTimezoneOffset()!==this.getTimezoneOffset()};$P.getUTCOffset=function(offset){var n=(offset||this.getTimezoneOffset())*-10/6,r;if(n<0){r=(n-1e4).toString();return r.charAt(0)+r.substr(2)}else{r=(n+1e4).toString();return"+"+r.substr(1)}};$P.getElapsed=function(date){return(date||new Date)-this};$P.set=function(config){config=validateConfigObject.call(this,config);var key;for(key in config){if(hasOwnProperty.call(config,key)){var name=key.charAt(0).toUpperCase()+key.slice(1);var addFunc,getFunc;if(key!=="week"&&key!=="month"&&key!=="timezone"&&key!=="timezoneOffset"){name+="s"}addFunc="add"+name;getFunc="get"+name;if(key==="month"){addFunc=addFunc+"s"}else if(key==="year"){getFunc="getFullYear"}if(key!=="day"&&key!=="timezone"&&key!=="timezoneOffset"&&key!=="week"&&key!=="hour"){this[addFunc](config[key]-this[getFunc]())}else if(key==="timezone"||key==="timezoneOffset"||key==="week"||key==="hour"){this["set"+name](config[key])}}}if(config.day){this.addDays(config.day-this.getDate())}return this};$P.moveToFirstDayOfMonth=function(){return this.set({day:1})};$P.moveToLastDayOfMonth=function(){return this.set({day:$D.getDaysInMonth(this.getFullYear(),this.getMonth())})};var ord=function(n){switch(n*1){case 1:case 21:case 31:return"st";case 2:case 22:return"nd";case 3:case 23:return"rd";default:return"th"}};var parseStandardFormats=function(format){var y,c=Date.CultureInfo.formatPatterns;switch(format){case"d":return this.toString(c.shortDate);case"D":return this.toString(c.longDate);case"F":return this.toString(c.fullDateTime);case"m":return this.toString(c.monthDay);case"r":case"R":y=this.clone().addMinutes(this.getTimezoneOffset());return y.toString(c.rfc1123)+" GMT";case"s":return this.toString(c.sortableDateTime);case"t":return this.toString(c.shortTime);case"T":return this.toString(c.longTime);case"u":y=this.clone().addMinutes(this.getTimezoneOffset());return y.toString(c.universalSortableDateTime);case"y":return this.toString(c.yearMonth);default:return false}};var parseFormatStringsClosure=function(context){return function(m){if(m.charAt(0)==="\\"){return m.replace("\\","")}switch(m){case"hh":return p(context.getHours()<13?context.getHours()===0?12:context.getHours():context.getHours()-12);case"h":return context.getHours()<13?context.getHours()===0?12:context.getHours():context.getHours()-12;case"HH":return p(context.getHours());case"H":return context.getHours();case"mm":return p(context.getMinutes());case"m":return context.getMinutes();case"ss":return p(context.getSeconds());case"s":return context.getSeconds();case"yyyy":return p(context.getFullYear(),4);case"yy":return p(context.getFullYear());case"y":return context.getFullYear();case"E":case"dddd":return Date.CultureInfo.dayNames[context.getDay()];case"ddd":return Date.CultureInfo.abbreviatedDayNames[context.getDay()];case"dd":return p(context.getDate());case"d":return context.getDate();case"MMMM":return Date.CultureInfo.monthNames[context.getMonth()];case"MMM":return Date.CultureInfo.abbreviatedMonthNames[context.getMonth()];case"MM":return p(context.getMonth()+1);case"M":return context.getMonth()+1;case"t":return context.getHours()<12?Date.CultureInfo.amDesignator.substring(0,1):Date.CultureInfo.pmDesignator.substring(0,1);case"tt":return context.getHours()<12?Date.CultureInfo.amDesignator:Date.CultureInfo.pmDesignator;case"S":return ord(context.getDate());case"W":return context.getWeek();case"WW":return context.getISOWeek();case"Q":return"Q"+context.getQuarter();case"q":return String(context.getQuarter());case"z":return context.getTimezone();case"Z":case"X":return Date.getTimezoneOffset(context.getTimezone());case"ZZ":return context.getTimezoneOffset()*-60;case"u":return context.getDay();case"L":return $D.isLeapYear(context.getFullYear())?1:0;case"B":return"@"+(context.getUTCSeconds()+context.getUTCMinutes()*60+(context.getUTCHours()+1)*3600)/86.4;default:return m}}};$P.toString=function(format,ignoreStandards){if(!ignoreStandards&&format&&format.length===1){output=parseStandardFormats.call(this,format);if(output){return output}}var parseFormatStrings=parseFormatStringsClosure(this);return format?format.replace(/((\\)?(dd?d?d?|MM?M?M?|yy?y?y?|hh?|HH?|mm?|ss?|tt?|S|q|Q|WW?W?W?)(?![^\[]*\]))/g,parseFormatStrings).replace(/\[|\]/g,""):this._toString()}})()},{}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/server/www/vendor/DateJS/src/core/core.js":[function(require,module,exports){(function(){var $D=Date,$P=$D.prototype,p=function(s,l){if(!l){l=2}return("000"+s).slice(l*-1)};if(typeof window!=="undefined"&&typeof window.console!=="undefined"&&typeof window.console.log!=="undefined"){$D.console=console}else{$D.console={log:function(){},error:function(){}}}$D.Config=$D.Config||{};$D.initOverloads=function(){if(!$D.now){$D._now=function now(){return(new Date).getTime()}}else if(!$D._now){$D._now=$D.now}$D.now=function(returnObj){if(returnObj){return $D.present()}else{return $D._now()}};if(!$P.toISOString){$P.toISOString=function(){return this.getUTCFullYear()+"-"+p(this.getUTCMonth()+1)+"-"+p(this.getUTCDate())+"T"+p(this.getUTCHours())+":"+p(this.getUTCMinutes())+":"+p(this.getUTCSeconds())+"."+String((this.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"}}if($P._toString===undefined){$P._toString=$P.toString}};$D.initOverloads();$D.today=function(){return(new Date).clearTime()};$D.present=function(){return new Date};$D.compare=function(date1,date2){if(isNaN(date1)||isNaN(date2)){throw new Error(date1+" - "+date2)}else if(date1 instanceof Date&&date2 instanceof Date){return date1<date2?-1:date1>date2?1:0}else{throw new TypeError(date1+" - "+date2)}};$D.equals=function(date1,date2){return date1.compareTo(date2)===0};$D.getDayName=function(n){return Date.CultureInfo.dayNames[n]};$D.getDayNumberFromName=function(name){var n=Date.CultureInfo.dayNames,m=Date.CultureInfo.abbreviatedDayNames,o=Date.CultureInfo.shortestDayNames,s=name.toLowerCase();for(var i=0;i<n.length;i++){if(n[i].toLowerCase()===s||m[i].toLowerCase()===s||o[i].toLowerCase()===s){return i}}return-1};$D.getMonthNumberFromName=function(name){var n=Date.CultureInfo.monthNames,m=Date.CultureInfo.abbreviatedMonthNames,s=name.toLowerCase();for(var i=0;i<n.length;i++){if(n[i].toLowerCase()===s||m[i].toLowerCase()===s){return i}}return-1};$D.getMonthName=function(n){return Date.CultureInfo.monthNames[n]};$D.isLeapYear=function(year){return year%4===0&&year%100!==0||year%400===0};$D.getDaysInMonth=function(year,month){if(!month&&$D.validateMonth(year)){month=year;year=Date.today().getFullYear()}return[31,$D.isLeapYear(year)?29:28,31,30,31,30,31,31,30,31,30,31][month]};$P.getDaysInMonth=function(){return $D.getDaysInMonth(this.getFullYear(),this.getMonth())};$D.getTimezoneAbbreviation=function(offset,dst){var p,n=dst||false?Date.CultureInfo.abbreviatedTimeZoneDST:Date.CultureInfo.abbreviatedTimeZoneStandard;for(p in n){if(n.hasOwnProperty(p)){if(n[p]===offset){return p}}}return null};$D.getTimezoneOffset=function(name,dst){var i,a=[],z=Date.CultureInfo.timezones;if(!name){name=(new Date).getTimezone()}for(i=0;i<z.length;i++){if(z[i].name===name.toUpperCase()){a.push(i)}}if(!z[a[0]]){return null}if(a.length===1||!dst){return z[a[0]].offset}else{for(i=0;i<a.length;i++){if(z[a[i]].dst){return z[a[i]].offset}}}};$D.getQuarter=function(d){d=d||new Date;var q=[1,2,3,4];return q[Math.floor(d.getMonth()/3)]};$D.getDaysLeftInQuarter=function(d){d=d||new Date;var qEnd=new Date(d);qEnd.setMonth(qEnd.getMonth()+3-qEnd.getMonth()%3,0);return Math.floor((qEnd-d)/864e5)};var validate=function(n,min,max,name){name=name?name:"Object";if(typeof n==="undefined"){return false}else if(typeof n!=="number"){throw new TypeError(n+" is not a Number.")}else if(n<min||n>max){return false}return true};$D.validateMillisecond=function(value){return validate(value,0,999,"millisecond")};$D.validateSecond=function(value){return validate(value,0,59,"second")};$D.validateMinute=function(value){return validate(value,0,59,"minute")};$D.validateHour=function(value){return validate(value,0,23,"hour")};$D.validateDay=function(value,year,month){if(year===undefined||year===null||month===undefined||month===null){return false}return validate(value,1,$D.getDaysInMonth(year,month),"day")};$D.validateWeek=function(value){return validate(value,0,53,"week")};$D.validateMonth=function(value){return validate(value,0,11,"month")};$D.validateYear=function(value){return validate(value,-271822,275760,"year")};$D.validateTimezone=function(value){var timezones={ACDT:1,ACST:1,ACT:1,ADT:1,AEDT:1,AEST:1,AFT:1,AKDT:1,AKST:1,AMST:1,AMT:1,ART:1,AST:1,AWDT:1,AWST:1,AZOST:1,AZT:1,BDT:1,BIOT:1,BIT:1,BOT:1,BRT:1,BST:1,BTT:1,CAT:1,CCT:1,CDT:1,CEDT:1,CEST:1,CET:1,CHADT:1,CHAST:1,CHOT:1,ChST:1,CHUT:1,CIST:1,CIT:1,CKT:1,CLST:1,CLT:1,COST:1,COT:1,CST:1,CT:1,CVT:1,CWST:1,CXT:1,DAVT:1,DDUT:1,DFT:1,EASST:1,EAST:1,EAT:1,ECT:1,EDT:1,EEDT:1,EEST:1,EET:1,EGST:1,EGT:1,EIT:1,EST:1,FET:1,FJT:1,FKST:1,FKT:1,FNT:1,GALT:1,GAMT:1,GET:1,GFT:1,GILT:1,GIT:1,GMT:1,GST:1,GYT:1,HADT:1,HAEC:1,HAST:1,HKT:1,HMT:1,HOVT:1,HST:1,ICT:1,IDT:1,IOT:1,IRDT:1,IRKT:1,IRST:1,IST:1,JST:1,KGT:1,KOST:1,KRAT:1,KST:1,LHST:1,LINT:1,MAGT:1,MART:1,MAWT:1,MDT:1,MET:1,MEST:1,MHT:1,MIST:1,MIT:1,MMT:1,MSK:1,MST:1,MUT:1,MVT:1,MYT:1,NCT:1,NDT:1,NFT:1,NPT:1,NST:1,NT:1,NUT:1,NZDT:1,NZST:1,OMST:1,ORAT:1,PDT:1,PET:1,PETT:1,PGT:1,PHOT:1,PHT:1,PKT:1,PMDT:1,PMST:1,PONT:1,PST:1,PYST:1,PYT:1,RET:1,ROTT:1,SAKT:1,SAMT:1,SAST:1,SBT:1,SCT:1,SGT:1,SLST:1,SRT:1,SST:1,SYOT:1,TAHT:1,THA:1,TFT:1,TJT:1,TKT:1,TLT:1,TMT:1,TOT:1,TVT:1,UCT:1,ULAT:1,UTC:1,UYST:1,UYT:1,UZT:1,VET:1,VLAT:1,VOLT:1,VOST:1,VUT:1,WAKT:1,WAST:1,WAT:1,WEDT:1,WEST:1,WET:1,WST:1,YAKT:1,YEKT:1,Z:1};return timezones[value]===1};$D.validateTimezoneOffset=function(value){return value>-841&&value<721}})()},{}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/server/www/vendor/DateJS/src/core/extras.js":[function(require,module,exports){(function(){var $D=Date,$P=$D.prototype,p=function(s,l){if(!l){l=2}return("000"+s).slice(l*-1)};var normalizerSubstitutions={d:"dd","%d":"dd",D:"ddd","%a":"ddd",j:"dddd",l:"dddd","%A":"dddd",S:"S",F:"MMMM","%B":"MMMM",m:"MM","%m":"MM",M:"MMM","%b":"MMM","%h":"MMM",n:"M",Y:"yyyy","%Y":"yyyy",y:"yy","%y":"yy",g:"h","%I":"h",G:"H",h:"hh",H:"HH","%H":"HH",i:"mm","%M":"mm",s:"ss","%S":"ss","%r":"hh:mm tt","%R":"H:mm","%T":"H:mm:ss","%X":"t","%x":"d","%e":"d","%D":"MM/dd/yy","%n":"\\n","%t":"\\t",e:"z",T:"z","%z":"z","%Z":"z",Z:"ZZ",N:"u",w:"u","%w":"u",W:"W","%V":"W"};var normalizer={substitutes:function(m){return normalizerSubstitutions[m]},interpreted:function(m,x){var y;switch(m){case"%u":return x.getDay()+1;case"z":return x.getOrdinalNumber();case"%j":return p(x.getOrdinalNumber(),3);case"%U":var d1=x.clone().set({month:0,day:1}).addDays(-1).moveToDayOfWeek(0),d2=x.clone().addDays(1).moveToDayOfWeek(0,-1);return d2<d1?"00":p((d2.getOrdinalNumber()-d1.getOrdinalNumber())/7+1);case"%W":return p(x.getWeek());case"t":return $D.getDaysInMonth(x.getFullYear(),x.getMonth());case"o":case"%G":return x.setWeek(x.getISOWeek()).toString("yyyy");case"%g":return x._format("%G").slice(-2);case"a":case"%p":return t("tt").toLowerCase();case"A":return t("tt").toUpperCase();case"u":return p(x.getMilliseconds(),3);case"I":return x.isDaylightSavingTime()?1:0;case"O":return x.getUTCOffset();case"P":y=x.getUTCOffset();return y.substring(0,y.length-2)+":"+y.substring(y.length-2);case"B":var now=new Date;return Math.floor((now.getHours()*3600+now.getMinutes()*60+now.getSeconds()+(now.getTimezoneOffset()+60)*60)/86.4);case"c":return x.toISOString().replace(/\"/g,"");case"U":return $D.strtotime("now");case"%c":return t("d")+" "+t("t");case"%C":return Math.floor(x.getFullYear()/100+1)}},shouldOverrideDefaults:function(m){switch(m){case"%e":return true;default:return false}},parse:function(m,context){var formatString,c=context||new Date;formatString=normalizer.substitutes(m);if(formatString){return formatString}formatString=normalizer.interpreted(m,c);if(formatString){return formatString}else{return m}}};$D.normalizeFormat=function(format,context){return format.replace(/(%|\\)?.|%%/g,function(t){return normalizer.parse(t,context)})};$D.strftime=function(format,time){var d=Date.parse(time);return d._format(format)};$D.strtotime=function(time){var d=$D.parse(time);return Math.round($D.UTC(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate(),d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds(),d.getUTCMilliseconds())/1e3)};var formatReplace=function(context){return function(m){var formatString,override=false;if(m.charAt(0)==="\\"||m.substring(0,2)==="%%"){return m.replace("\\","").replace("%%","%")}override=normalizer.shouldOverrideDefaults(m);formatString=$D.normalizeFormat(m,context);if(formatString){return context.toString(formatString,override)}}};$P._format=function(format){var formatter=formatReplace(this);if(!format){return this._toString()}else{return format.replace(/(%|\\)?.|%%/g,formatter)}};if(!$P.format){$P.format=$P._format}})()},{}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/server/www/vendor/DateJS/src/core/format_parser.js":[function(require,module,exports){(function(){"use strict";Date.Parsing={Exception:function(s){this.message="Parse error at '"+s.substring(0,10)+" ...'"}};var $P=Date.Parsing;var dayOffsets={standard:[0,31,59,90,120,151,181,212,243,273,304,334],leap:[0,31,60,91,121,152,182,213,244,274,305,335]};$P.isLeapYear=function(year){return year%4===0&&year%100!==0||year%400===0};var utils={multiReplace:function(str,hash){var key;for(key in hash){if(Object.prototype.hasOwnProperty.call(hash,key)){var regex;if(typeof hash[key]==="function"){}else{regex=hash[key]instanceof RegExp?hash[key]:new RegExp(hash[key],"g")}str=str.replace(regex,key)}}return str},getDayOfYearFromWeek:function(obj){var d,jan4,offset;obj.weekDay=!obj.weekDay&&obj.weekDay!==0?1:obj.weekDay;d=new Date(obj.year,0,4);jan4=d.getDay()===0?7:d.getDay();offset=jan4+3;obj.dayOfYear=obj.week*7+(obj.weekDay===0?7:obj.weekDay)-offset;return obj},getDayOfYear:function(obj,dayOffset){if(!obj.dayOfYear){obj=utils.getDayOfYearFromWeek(obj)}for(var i=0;i<=dayOffset.length;i++){if(obj.dayOfYear<dayOffset[i]||i===dayOffset.length){obj.day=obj.day?obj.day:obj.dayOfYear-dayOffset[i-1];break}else{obj.month=i}}return obj},adjustForTimeZone:function(obj,date){var offset;if(obj.zone.toUpperCase()==="Z"||obj.zone_hours===0&&obj.zone_minutes===0){offset=-date.getTimezoneOffset()}else{offset=obj.zone_hours*60+(obj.zone_minutes||0);if(obj.zone_sign==="+"){offset*=-1}offset-=date.getTimezoneOffset()}date.setMinutes(date.getMinutes()+offset);return date},setDefaults:function(obj){obj.year=obj.year||Date.today().getFullYear();obj.hours=obj.hours||0;obj.minutes=obj.minutes||0;obj.seconds=obj.seconds||0;obj.milliseconds=obj.milliseconds||0;if(!(!obj.month&&(obj.week||obj.dayOfYear))){obj.month=obj.month||0;obj.day=obj.day||1}return obj},dataNum:function(data,mod,explict,postProcess){var dataNum=data*1;if(mod){if(postProcess){return data?mod(data)*1:data}else{return data?mod(dataNum):data}}else if(!explict){return data?dataNum:data}else{return data&&typeof data!=="undefined"?dataNum:data}},timeDataProcess:function(obj){var timeObj={};for(var x in obj.data){if(obj.data.hasOwnProperty(x)){timeObj[x]=obj.ignore[x]?obj.data[x]:utils.dataNum(obj.data[x],obj.mods[x],obj.explict[x],obj.postProcess[x])}}if(obj.data.secmins){obj.data.secmins=obj.data.secmins.replace(",",".")*60;if(!timeObj.minutes){timeObj.minutes=obj.data.secmins}else if(!timeObj.seconds){timeObj.seconds=obj.data.secmins}delete obj.secmins}return timeObj},buildTimeObjectFromData:function(data){var time=utils.timeDataProcess({data:{year:data[1],month:data[5],day:data[7],week:data[8],dayOfYear:data[10],hours:data[15],zone_hours:data[23],zone_minutes:data[24],zone:data[21],zone_sign:data[22],weekDay:data[9],minutes:data[16],seconds:data[19],milliseconds:data[20],secmins:data[18]},mods:{month:function(data){return data-1},weekDay:function(data){data=Math.abs(data);return data===7?0:data},minutes:function(data){return data.replace(":","")},seconds:function(data){return Math.floor(data.replace(":","").replace(",",".")*1)},milliseconds:function(data){return data.replace(",",".")*1e3}},postProcess:{minutes:true,seconds:true,milliseconds:true},explict:{zone_hours:true,zone_minutes:true},ignore:{zone:true,zone_sign:true,secmins:true}});return time},addToHash:function(hash,keys,data){keys=keys;data=data;var len=keys.length;for(var i=0;i<len;i++){hash[keys[i]]=data[i]}return hash},combineRegex:function(r1,r2){return new RegExp("(("+r1.source+")\\s("+r2.source+"))")},getDateNthString:function(add,last,inc){if(add){return Date.today().addDays(inc).toString("d")}else if(last){return Date.today().last()[inc]().toString("d")}},buildRegexData:function(array){var arr=[];var len=array.length;for(var i=0;i<len;i++){if(Object.prototype.toString.call(array[i])==="[object Array]"){arr.push(this.combineRegex(array[i][0],array[i][1]))}else{arr.push(array[i])}}return arr}};$P.processTimeObject=function(obj){
var date,dayOffset;utils.setDefaults(obj);dayOffset=$P.isLeapYear(obj.year)?dayOffsets.leap:dayOffsets.standard;if(!obj.month&&(obj.week||obj.dayOfYear)){utils.getDayOfYear(obj,dayOffset)}else{obj.dayOfYear=dayOffset[obj.month]+obj.day}date=new Date(obj.year,obj.month,obj.day,obj.hours,obj.minutes,obj.seconds,obj.milliseconds);if(obj.zone){utils.adjustForTimeZone(obj,date)}return date};$P.ISO={regex:/^([\+-]?\d{4}(?!\d{2}\b))((-?)((0[1-9]|1[0-2])(\3([12]\d|0[1-9]|3[01]))?|W([0-4]\d|5[0-3])(-?[1-7])?|(00[1-9]|0[1-9]\d|[12]\d{2}|3([0-5]\d|6[1-6])))([T\s]((([01]\d|2[0-4])((:?)[0-5]\d)?|24\:?00)([\.,]\d+(?!:))?)?(\17[0-5]\d([\.,]\d+)?)?\s?([zZ]|([\+-])([01]\d|2[0-3]):?([0-5]\d)?)?)?)?$/,parse:function(s){var time,data=s.match(this.regex);if(!data||!data.length){return null}time=utils.buildTimeObjectFromData(data);if(!time.year||!time.year&&(!time.month&&!time.day)&&(!time.week&&!time.dayOfYear)){return null}return $P.processTimeObject(time)}};$P.Numeric={isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},regex:/\b([0-1]?[0-9])([0-3]?[0-9])([0-2]?[0-9]?[0-9][0-9])\b/i,parse:function(s){var data,i,time={},order=Date.CultureInfo.dateElementOrder.split("");if(!this.isNumeric(s)||s[0]==="+"&&s[0]==="-"){return null}if(s.length<5&&s.indexOf(".")<0&&s.indexOf("/")<0){time.year=s;return $P.processTimeObject(time)}data=s.match(this.regex);if(!data||!data.length){return null}for(i=0;i<order.length;i++){switch(order[i]){case"d":time.day=data[i+1];break;case"m":time.month=data[i+1]-1;break;case"y":time.year=data[i+1];break}}return $P.processTimeObject(time)}};$P.Normalizer={regexData:function(){var $R=Date.CultureInfo.regexPatterns;return utils.buildRegexData([$R.tomorrow,$R.yesterday,[$R.past,$R.mon],[$R.past,$R.tue],[$R.past,$R.wed],[$R.past,$R.thu],[$R.past,$R.fri],[$R.past,$R.sat],[$R.past,$R.sun]])},basicReplaceHash:function(){var $R=Date.CultureInfo.regexPatterns;return{January:$R.jan.source,February:$R.feb,March:$R.mar,April:$R.apr,May:$R.may,June:$R.jun,July:$R.jul,August:$R.aug,September:$R.sep,October:$R.oct,November:$R.nov,December:$R.dec,"":/\bat\b/gi," ":/\s{2,}/,am:$R.inTheMorning,"9am":$R.thisMorning,pm:$R.inTheEvening,"7pm":$R.thisEvening}},keys:function(){return[utils.getDateNthString(true,false,1),utils.getDateNthString(true,false,-1),utils.getDateNthString(false,true,"monday"),utils.getDateNthString(false,true,"tuesday"),utils.getDateNthString(false,true,"wednesday"),utils.getDateNthString(false,true,"thursday"),utils.getDateNthString(false,true,"friday"),utils.getDateNthString(false,true,"saturday"),utils.getDateNthString(false,true,"sunday")]},buildRegexFunctions:function(){var $R=Date.CultureInfo.regexPatterns;var __=Date.i18n.__;var tomorrowRE=new RegExp("(\\b\\d\\d?("+__("AM")+"|"+__("PM")+")? )("+$R.tomorrow.source.slice(1)+")","i");var todayRE=new RegExp($R.today.source+"(?!\\s*([+-]))\\b");this.replaceFuncs=[[todayRE,function(full){return full.length>1?Date.today().toString("d"):full}],[tomorrowRE,function(full,m1){var t=Date.today().addDays(1).toString("d");return t+" "+m1}],[$R.amThisMorning,function(str,am){return am}],[$R.pmThisEvening,function(str,pm){return pm}]]},buildReplaceData:function(){this.buildRegexFunctions();this.replaceHash=utils.addToHash(this.basicReplaceHash(),this.keys(),this.regexData())},stringReplaceFuncs:function(s){for(var i=0;i<this.replaceFuncs.length;i++){s=s.replace(this.replaceFuncs[i][0],this.replaceFuncs[i][1])}return s},parse:function(s){s=this.stringReplaceFuncs(s);s=utils.multiReplace(s,this.replaceHash);try{var n=s.split(/([\s\-\.\,\/\x27]+)/);if(n.length===3&&$P.Numeric.isNumeric(n[0])&&$P.Numeric.isNumeric(n[2])&&n[2].length>=4){if(Date.CultureInfo.dateElementOrder[0]==="d"){s="1/"+n[0]+"/"+n[2]}}}catch(e){}return s}};$P.Normalizer.buildReplaceData()})()},{}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/server/www/vendor/DateJS/src/core/i18n.js":[function(require,module,exports){(function(){var $D=Date;var lang=Date.CultureStrings?Date.CultureStrings.lang:null;var loggedKeys={};var getText={getFromKey:function(key,countryCode){var output;if(Date.CultureStrings&&Date.CultureStrings[countryCode]&&Date.CultureStrings[countryCode][key]){output=Date.CultureStrings[countryCode][key]}else{output=getText.buildFromDefault(key)}if(key.charAt(0)==="/"){output=getText.buildFromRegex(key,countryCode)}return output},getFromObjectValues:function(obj,countryCode){var key,output={};for(key in obj){if(obj.hasOwnProperty(key)){output[key]=getText.getFromKey(obj[key],countryCode)}}return output},getFromObjectKeys:function(obj,countryCode){var key,output={};for(key in obj){if(obj.hasOwnProperty(key)){output[getText.getFromKey(key,countryCode)]=obj[key]}}return output},getFromArray:function(arr,countryCode){var output=[];for(var i=0;i<arr.length;i++){if(i in arr){output[i]=getText.getFromKey(arr[i],countryCode)}}return output},buildFromDefault:function(key){var output,length,split,last;switch(key){case"name":output="en-US";break;case"englishName":output="English (United States)";break;case"nativeName":output="English (United States)";break;case"twoDigitYearMax":output=2049;break;case"firstDayOfWeek":output=0;break;default:output=key;split=key.split("_");length=split.length;if(length>1&&key.charAt(0)!=="/"){last=split[length-1].toLowerCase();if(last==="initial"||last==="abbr"){output=split[0]}}break}return output},buildFromRegex:function(key,countryCode){var output;if(Date.CultureStrings&&Date.CultureStrings[countryCode]&&Date.CultureStrings[countryCode][key]){output=new RegExp(Date.CultureStrings[countryCode][key],"i")}else{output=new RegExp(key.replace(new RegExp("/","g"),""),"i")}return output}};var shallowMerge=function(obj1,obj2){for(var attrname in obj2){if(obj2.hasOwnProperty(attrname)){obj1[attrname]=obj2[attrname]}}};var __=function(key,language){var countryCode=language?language:lang;loggedKeys[key]=key;if(typeof key==="object"){if(key instanceof Array){return getText.getFromArray(key,countryCode)}else{return getText.getFromObjectKeys(key,countryCode)}}else{return getText.getFromKey(key,countryCode)}};var loadI18nScript=function(code){var url=Date.Config.i18n+code+".js";var head=document.getElementsByTagName("head")[0]||document.documentElement;var script=document.createElement("script");script.src=url;var completed=false;var events={done:function(){}};script.onload=script.onreadystatechange=function(){if(!completed&&(!this.readyState||this.readyState==="loaded"||this.readyState==="complete")){events.done();head.removeChild(script)}};setTimeout(function(){head.insertBefore(script,head.firstChild)},0);return{done:function(cb){events.done=function(){if(cb){setTimeout(cb,0)}}}}};var buildInfo={buildFromMethodHash:function(obj){var key;for(key in obj){if(obj.hasOwnProperty(key)){obj[key]=buildInfo[obj[key]]()}}return obj},timeZoneDST:function(){var DST={CHADT:"+1345",NZDT:"+1300",AEDT:"+1100",ACDT:"+1030",AZST:"+0500",IRDT:"+0430",EEST:"+0300",CEST:"+0200",BST:"+0100",PMDT:"-0200",ADT:"-0300",NDT:"-0230",EDT:"-0400",CDT:"-0500",MDT:"-0600",PDT:"-0700",AKDT:"-0800",HADT:"-0900"};return __(DST)},timeZoneStandard:function(){var standard={LINT:"+1400",TOT:"+1300",CHAST:"+1245",NZST:"+1200",NFT:"+1130",SBT:"+1100",AEST:"+1000",ACST:"+0930",JST:"+0900",CWST:"+0845",CT:"+0800",ICT:"+0700",MMT:"+0630",BST:"+0600",NPT:"+0545",IST:"+0530",PKT:"+0500",AFT:"+0430",MSK:"+0400",IRST:"+0330",FET:"+0300",EET:"+0200",CET:"+0100",GMT:"+0000",UTC:"+0000",CVT:"-0100",GST:"-0200",BRT:"-0300",NST:"-0330",AST:"-0400",EST:"-0500",CST:"-0600",MST:"-0700",PST:"-0800",AKST:"-0900",MIT:"-0930",HST:"-1000",SST:"-1100",BIT:"-1200"};return __(standard)},timeZones:function(data){var zone;data.timezones=[];for(zone in data.abbreviatedTimeZoneStandard){if(data.abbreviatedTimeZoneStandard.hasOwnProperty(zone)){data.timezones.push({name:zone,offset:data.abbreviatedTimeZoneStandard[zone]})}}for(zone in data.abbreviatedTimeZoneDST){if(data.abbreviatedTimeZoneDST.hasOwnProperty(zone)){data.timezones.push({name:zone,offset:data.abbreviatedTimeZoneDST[zone],dst:true})}}return data.timezones},days:function(){return __(["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"])},dayAbbr:function(){return __(["Sun","Mon","Tue","Wed","Thu","Fri","Sat"])},dayShortNames:function(){return __(["Su","Mo","Tu","We","Th","Fr","Sa"])},dayFirstLetters:function(){return __(["S_Sun_Initial","M_Mon_Initial","T_Tues_Initial","W_Wed_Initial","T_Thu_Initial","F_Fri_Initial","S_Sat_Initial"])},months:function(){return __(["January","February","March","April","May","June","July","August","September","October","November","December"])},monthAbbr:function(){return __(["Jan_Abbr","Feb_Abbr","Mar_Abbr","Apr_Abbr","May_Abbr","Jun_Abbr","Jul_Abbr","Aug_Abbr","Sep_Abbr","Oct_Abbr","Nov_Abbr","Dec_Abbr"])},formatPatterns:function(){return getText.getFromObjectValues({shortDate:"M/d/yyyy",longDate:"dddd, MMMM dd, yyyy",shortTime:"h:mm tt",longTime:"h:mm:ss tt",fullDateTime:"dddd, MMMM dd, yyyy h:mm:ss tt",sortableDateTime:"yyyy-MM-ddTHH:mm:ss",universalSortableDateTime:"yyyy-MM-dd HH:mm:ssZ",rfc1123:"ddd, dd MMM yyyy HH:mm:ss",monthDay:"MMMM dd",yearMonth:"MMMM, yyyy"},Date.i18n.currentLanguage())},regex:function(){return getText.getFromObjectValues({inTheMorning:"/( in the )(morn(ing)?)\\b/",thisMorning:"/(this )(morn(ing)?)\\b/",amThisMorning:"/(\b\\d(am)? )(this )(morn(ing)?)/",inTheEvening:"/( in the )(even(ing)?)\\b/",thisEvening:"/(this )(even(ing)?)\\b/",pmThisEvening:"/(\b\\d(pm)? )(this )(even(ing)?)/",jan:"/jan(uary)?/",feb:"/feb(ruary)?/",mar:"/mar(ch)?/",apr:"/apr(il)?/",may:"/may/",jun:"/jun(e)?/",jul:"/jul(y)?/",aug:"/aug(ust)?/",sep:"/sep(t(ember)?)?/",oct:"/oct(ober)?/",nov:"/nov(ember)?/",dec:"/dec(ember)?/",sun:"/^su(n(day)?)?/",mon:"/^mo(n(day)?)?/",tue:"/^tu(e(s(day)?)?)?/",wed:"/^we(d(nesday)?)?/",thu:"/^th(u(r(s(day)?)?)?)?/",fri:"/fr(i(day)?)?/",sat:"/^sa(t(urday)?)?/",future:"/^next/",past:"/^last|past|prev(ious)?/",add:"/^(\\+|aft(er)?|from|hence)/",subtract:"/^(\\-|bef(ore)?|ago)/",yesterday:"/^yes(terday)?/",today:"/^t(od(ay)?)?/",tomorrow:"/^tom(orrow)?/",now:"/^n(ow)?/",millisecond:"/^ms|milli(second)?s?/",second:"/^sec(ond)?s?/",minute:"/^mn|min(ute)?s?/",hour:"/^h(our)?s?/",week:"/^w(eek)?s?/",month:"/^m(onth)?s?/",day:"/^d(ay)?s?/",year:"/^y(ear)?s?/",shortMeridian:"/^(a|p)/",longMeridian:"/^(a\\.?m?\\.?|p\\.?m?\\.?)/",timezone:"/^((e(s|d)t|c(s|d)t|m(s|d)t|p(s|d)t)|((gmt)?\\s*(\\+|\\-)\\s*\\d\\d\\d\\d?)|gmt|utc)/",ordinalSuffix:"/^\\s*(st|nd|rd|th)/",timeContext:"/^\\s*(\\:|a(?!u|p)|p)/"},Date.i18n.currentLanguage())}};var CultureInfo=function(){var info=getText.getFromObjectValues({name:"name",englishName:"englishName",nativeName:"nativeName",amDesignator:"AM",pmDesignator:"PM",firstDayOfWeek:"firstDayOfWeek",twoDigitYearMax:"twoDigitYearMax",dateElementOrder:"mdy"},Date.i18n.currentLanguage());var constructedInfo=buildInfo.buildFromMethodHash({dayNames:"days",abbreviatedDayNames:"dayAbbr",shortestDayNames:"dayShortNames",firstLetterDayNames:"dayFirstLetters",monthNames:"months",abbreviatedMonthNames:"monthAbbr",formatPatterns:"formatPatterns",regexPatterns:"regex",abbreviatedTimeZoneDST:"timeZoneDST",abbreviatedTimeZoneStandard:"timeZoneStandard"});shallowMerge(info,constructedInfo);buildInfo.timeZones(info);return info};$D.i18n={__:function(key,lang){return __(key,lang)},currentLanguage:function(){return lang||"en-US"},setLanguage:function(code,force,cb){var async=false;if(force||code==="en-US"||!!Date.CultureStrings&&!!Date.CultureStrings[code]){lang=code;Date.CultureStrings=Date.CultureStrings||{};Date.CultureStrings.lang=code;Date.CultureInfo=new CultureInfo}else{if(!(!!Date.CultureStrings&&!!Date.CultureStrings[code])){if(typeof exports!=="undefined"&&this.exports!==exports){try{require("../i18n/"+code+".js");lang=code;Date.CultureStrings.lang=code;Date.CultureInfo=new CultureInfo}catch(e){throw new Error("The DateJS IETF language tag '"+code+"' could not be loaded by Node. It likely does not exist.")}}else if(Date.Config&&Date.Config.i18n){async=true;loadI18nScript(code).done(function(){lang=code;Date.CultureStrings=Date.CultureStrings||{};Date.CultureStrings.lang=code;Date.CultureInfo=new CultureInfo;$D.Parsing.Normalizer.buildReplaceData();if($D.Grammar){$D.Grammar.buildGrammarFormats()}if(cb){setTimeout(cb,0)}})}else{Date.console.error("The DateJS IETF language tag '"+code+"' is not available and has not been loaded.");return false}}}$D.Parsing.Normalizer.buildReplaceData();if($D.Grammar){$D.Grammar.buildGrammarFormats()}if(!async&&cb){setTimeout(cb,0)}},getLoggedKeys:function(){return loggedKeys},updateCultureInfo:function(){Date.CultureInfo=new CultureInfo}};$D.i18n.updateCultureInfo()})()},{}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/server/www/vendor/DateJS/src/core/parser.js":[function(require,module,exports){(function(){var $D=Date;var parseUtils={removeOrds:function(s){ords=s.match(/\b(\d+)(?:st|nd|rd|th)\b/);s=ords&&ords.length===2?s.replace(ords[0],ords[1]):s;return s},grammarParser:function(s){var r=null;try{r=$D.Grammar.start.call({},s.replace(/^\s*(\S*(\s+\S+)*)\s*$/,"$1"))}catch(e){return null}return r[1].length===0?r[0]:null},nativeFallback:function(s){var t;try{t=Date._parse(s);return t||t===0?new Date(t):null}catch(e){return null}}};function parse(s){var d;if(!s){return null}if(s instanceof Date){return s.clone()}if(s.length>=4&&s.charAt(0)!=="0"&&s.charAt(0)!=="+"&&s.charAt(0)!=="-"){d=$D.Parsing.ISO.parse(s)||$D.Parsing.Numeric.parse(s)}if(d instanceof Date&&!isNaN(d.getTime())){return d}else{s=$D.Parsing.Normalizer.parse(parseUtils.removeOrds(s));d=parseUtils.grammarParser(s);if(d!==null){return d}else{return parseUtils.nativeFallback(s)}}}if(!$D._parse){$D._parse=$D.parse}$D.parse=parse;Date.getParseFunction=function(fx){var fns=Date.Grammar.allformats(fx);return function(s){var r=null;for(var i=0;i<fns.length;i++){try{r=fns[i].call({},s)}catch(e){continue}if(r[1].length===0){return r[0]}}return null}};$D.parseExact=function(s,fx){return $D.getParseFunction(fx)(s)}})()},{}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/server/www/vendor/DateJS/src/core/parsing_grammar.js":[function(require,module,exports){(function(){var $D=Date;$D.Grammar={};var _=$D.Parsing.Operators,g=$D.Grammar,t=$D.Translator,_fn;_fn=function(){return _.each(_.any.apply(null,arguments),_.not(g.ctoken2("timeContext")))};g.datePartDelimiter=_.rtoken(/^([\s\-\.\,\/\x27]+)/);g.timePartDelimiter=_.stoken(":");g.whiteSpace=_.rtoken(/^\s*/);g.generalDelimiter=_.rtoken(/^(([\s\,]|at|@|on)+)/);var _C={};g.ctoken=function(keys){var fn=_C[keys];if(!fn){var c=Date.CultureInfo.regexPatterns;var kx=keys.split(/\s+/),px=[];for(var i=0;i<kx.length;i++){px.push(_.replace(_.rtoken(c[kx[i]]),kx[i]))}fn=_C[keys]=_.any.apply(null,px)}return fn};g.ctoken2=function(key){return _.rtoken(Date.CultureInfo.regexPatterns[key])};var cacheProcessRtoken=function(key,token,type,eachToken){if(eachToken){g[key]=_.cache(_.process(_.each(_.rtoken(token),_.optional(g.ctoken2(eachToken))),type))}else{g[key]=_.cache(_.process(_.rtoken(token),type))}};var cacheProcessCtoken=function(token,type){return _.cache(_.process(g.ctoken2(token),type))};var _F={};var _get=function(f){_F[f]=_F[f]||g.format(f)[0];return _F[f]};g.allformats=function(fx){var rx=[];if(fx instanceof Array){for(var i=0;i<fx.length;i++){rx.push(_get(fx[i]))}}else{rx.push(_get(fx))}return rx};g.formats=function(fx){if(fx instanceof Array){var rx=[];for(var i=0;i<fx.length;i++){rx.push(_get(fx[i]))}return _.any.apply(null,rx)}else{return _get(fx)}};var grammarFormats={timeFormats:function(){var i,RTokenKeys=["h","hh","H","HH","m","mm","s","ss","ss.s","z","zz"],RToken=[/^(0[0-9]|1[0-2]|[1-9])/,/^(0[0-9]|1[0-2])/,/^([0-1][0-9]|2[0-3]|[0-9])/,/^([0-1][0-9]|2[0-3])/,/^([0-5][0-9]|[0-9])/,/^[0-5][0-9]/,/^([0-5][0-9]|[0-9])/,/^[0-5][0-9]/,/^[0-5][0-9]\.[0-9]{1,3}/,/^((\+|\-)\s*\d\d\d\d)|((\+|\-)\d\d\:?\d\d)/,/^((\+|\-)\s*\d\d\d\d)|((\+|\-)\d\d\:?\d\d)/],tokens=[t.hour,t.hour,t.hour,t.minute,t.minute,t.second,t.second,t.secondAndMillisecond,t.timezone,t.timezone,t.timezone];for(i=0;i<RTokenKeys.length;i++){cacheProcessRtoken(RTokenKeys[i],RToken[i],tokens[i])}g.hms=_.cache(_.sequence([g.H,g.m,g.s],g.timePartDelimiter));g.t=cacheProcessCtoken("shortMeridian",t.meridian);g.tt=cacheProcessCtoken("longMeridian",t.meridian);g.zzz=cacheProcessCtoken("timezone",t.timezone);g.timeSuffix=_.each(_.ignore(g.whiteSpace),_.set([g.tt,g.zzz]));g.time=_.each(_.optional(_.ignore(_.stoken("T"))),g.hms,g.timeSuffix)},dateFormats:function(){var _setfn=function(){return _.set(arguments,g.datePartDelimiter)};var i,RTokenKeys=["d","dd","M","MM","y","yy","yyy","yyyy"],RToken=[/^([0-2]\d|3[0-1]|\d)/,/^([0-2]\d|3[0-1])/,/^(1[0-2]|0\d|\d)/,/^(1[0-2]|0\d)/,/^(\d+)/,/^(\d\d)/,/^(\d\d?\d?\d?)/,/^(\d\d\d\d)/],tokens=[t.day,t.day,t.month,t.month,t.year,t.year,t.year,t.year],eachToken=["ordinalSuffix","ordinalSuffix"];for(i=0;i<RTokenKeys.length;i++){cacheProcessRtoken(RTokenKeys[i],RToken[i],tokens[i],eachToken[i])}g.MMM=g.MMMM=_.cache(_.process(g.ctoken("jan feb mar apr may jun jul aug sep oct nov dec"),t.month));g.ddd=g.dddd=_.cache(_.process(g.ctoken("sun mon tue wed thu fri sat"),function(s){return function(){this.weekday=s}}));g.day=_fn(g.d,g.dd);g.month=_fn(g.M,g.MMM);g.year=_fn(g.yyyy,g.yy);g.mdy=_setfn(g.ddd,g.month,g.day,g.year);g.ymd=_setfn(g.ddd,g.year,g.month,g.day);g.dmy=_setfn(g.ddd,g.day,g.month,g.year);g.date=function(s){return(g[Date.CultureInfo.dateElementOrder]||g.mdy).call(this,s)}},relative:function(){g.orientation=_.process(g.ctoken("past future"),function(s){return function(){this.orient=s}});g.operator=_.process(g.ctoken("add subtract"),function(s){return function(){this.operator=s}});g.rday=_.process(g.ctoken("yesterday tomorrow today now"),t.rday);g.unit=_.process(g.ctoken("second minute hour day week month year"),function(s){return function(){this.unit=s}})}};g.buildGrammarFormats=function(){_C={};grammarFormats.timeFormats();grammarFormats.dateFormats();grammarFormats.relative();g.value=_.process(_.rtoken(/^([-+]?\d+)?(st|nd|rd|th)?/),function(s){return function(){this.value=s.replace(/\D/g,"")}});g.expression=_.set([g.rday,g.operator,g.value,g.unit,g.orientation,g.ddd,g.MMM]);g.format=_.process(_.many(_.any(_.process(_.rtoken(/^(dd?d?d?(?!e)|MM?M?M?|yy?y?y?|hh?|HH?|mm?|ss?|tt?|zz?z?)/),function(fmt){if(g[fmt]){return g[fmt]}else{throw $D.Parsing.Exception(fmt)}}),_.process(_.rtoken(/^[^dMyhHmstz]+/),function(s){return _.ignore(_.stoken(s))}))),function(rules){return _.process(_.each.apply(null,rules),t.finishExact)});g._start=_.process(_.set([g.date,g.time,g.expression],g.generalDelimiter,g.whiteSpace),t.finish)};g.buildGrammarFormats();g._formats=g.formats(['"yyyy-MM-ddTHH:mm:ssZ"',"yyyy-MM-ddTHH:mm:ss.sz","yyyy-MM-ddTHH:mm:ssZ","yyyy-MM-ddTHH:mm:ssz","yyyy-MM-ddTHH:mm:ss","yyyy-MM-ddTHH:mmZ","yyyy-MM-ddTHH:mmz","yyyy-MM-ddTHH:mm","ddd, MMM dd, yyyy H:mm:ss tt","ddd MMM d yyyy HH:mm:ss zzz","MMddyyyy","ddMMyyyy","Mddyyyy","ddMyyyy","Mdyyyy","dMyyyy","yyyy","Mdyy","dMyy","d"]);g.start=function(s){try{var r=g._formats.call({},s);if(r[1].length===0){return r}}catch(e){}return g._start.call({},s)}})()},{}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/server/www/vendor/DateJS/src/core/parsing_operators.js":[function(require,module,exports){(function(){var $P=Date.Parsing;var _=$P.Operators={rtoken:function(r){return function(s){var mx=s.match(r);if(mx){return[mx[0],s.substring(mx[0].length)]}else{throw new $P.Exception(s)}}},token:function(){return function(s){return _.rtoken(new RegExp("^\\s*"+s+"\\s*"))(s)}},stoken:function(s){return _.rtoken(new RegExp("^"+s))},until:function(p){return function(s){var qx=[],rx=null;while(s.length){try{rx=p.call(this,s)}catch(e){qx.push(rx[0]);s=rx[1];continue}break}return[qx,s]}},many:function(p){return function(s){var rx=[],r=null;while(s.length){try{r=p.call(this,s)}catch(e){return[rx,s]}rx.push(r[0]);s=r[1]}return[rx,s]}},optional:function(p){return function(s){var r=null;try{r=p.call(this,s)}catch(e){return[null,s]}return[r[0],r[1]]}},not:function(p){return function(s){try{p.call(this,s)}catch(e){return[null,s]}throw new $P.Exception(s)}},ignore:function(p){return p?function(s){var r=null;r=p.call(this,s);return[null,r[1]]}:null},product:function(){var px=arguments[0],qx=Array.prototype.slice.call(arguments,1),rx=[];for(var i=0;i<px.length;i++){rx.push(_.each(px[i],qx))}return rx},cache:function(rule){var cache={},cache_length=0,cache_keys=[],CACHE_MAX=Date.Config.CACHE_MAX||1e5,r=null;var cacheCheck=function(){if(cache_length===CACHE_MAX){for(var i=0;i<10;i++){var key=cache_keys.shift();if(key){delete cache[key];cache_length--}}}};return function(s){cacheCheck();try{r=cache[s]=cache[s]||rule.call(this,s)}catch(e){r=cache[s]=e}cache_length++;cache_keys.push(s);if(r instanceof $P.Exception){throw r}else{return r}}},any:function(){var px=arguments;return function(s){var r=null;for(var i=0;i<px.length;i++){if(px[i]==null){continue}try{r=px[i].call(this,s)}catch(e){r=null}if(r){return r}}throw new $P.Exception(s)}},each:function(){var px=arguments;return function(s){var rx=[],r=null;for(var i=0;i<px.length;i++){if(px[i]==null){continue}try{r=px[i].call(this,s)}catch(e){throw new $P.Exception(s)}rx.push(r[0]);s=r[1]}return[rx,s]}},all:function(){var px=arguments,_=_;return _.each(_.optional(px))},sequence:function(px,d,c){d=d||_.rtoken(/^\s*/);c=c||null;if(px.length===1){return px[0]}return function(s){var r=null,q=null;var rx=[];for(var i=0;i<px.length;i++){try{r=px[i].call(this,s)}catch(e){break}rx.push(r[0]);try{q=d.call(this,r[1])}catch(ex){q=null;break}s=q[1]}if(!r){throw new $P.Exception(s)}if(q){throw new $P.Exception(q[1])}if(c){try{r=c.call(this,r[1])}catch(ey){throw new $P.Exception(r[1])}}return[rx,r?r[1]:s]}},between:function(d1,p,d2){d2=d2||d1;var _fn=_.each(_.ignore(d1),p,_.ignore(d2));return function(s){var rx=_fn.call(this,s);return[[rx[0][0],r[0][2]],rx[1]]}},list:function(p,d,c){d=d||_.rtoken(/^\s*/);c=c||null;return p instanceof Array?_.each(_.product(p.slice(0,-1),_.ignore(d)),p.slice(-1),_.ignore(c)):_.each(_.many(_.each(p,_.ignore(d))),px,_.ignore(c))},set:function(px,d,c){d=d||_.rtoken(/^\s*/);c=c||null;return function(s){var r=null,p=null,q=null,rx=null,best=[[],s],last=false;for(var i=0;i<px.length;i++){q=null;p=null;r=null;last=px.length===1;try{r=px[i].call(this,s)}catch(e){continue}rx=[[r[0]],r[1]];if(r[1].length>0&&!last){try{q=d.call(this,r[1])}catch(ex){last=true}}else{last=true}if(!last&&q[1].length===0){last=true}if(!last){var qx=[];for(var j=0;j<px.length;j++){if(i!==j){qx.push(px[j])}}p=_.set(qx,d).call(this,q[1]);if(p[0].length>0){rx[0]=rx[0].concat(p[0]);rx[1]=p[1]}}if(rx[1].length<best[1].length){best=rx}if(best[1].length===0){break}}if(best[0].length===0){return best}if(c){try{q=c.call(this,best[1])}catch(ey){throw new $P.Exception(best[1])}best[1]=q[1]}return best}},forward:function(gr,fname){return function(s){return gr[fname].call(this,s)}},replace:function(rule,repl){return function(s){var r=rule.call(this,s);return[repl,r[1]]}},process:function(rule,fn){return function(s){var r=rule.call(this,s);return[fn.call(this,r[0]),r[1]]}},min:function(min,rule){return function(s){var rx=rule.call(this,s);if(rx[0].length<min){throw new $P.Exception(s)}return rx}}};var _generator=function(op){function gen(){var args=null,rx=[],px,i;if(arguments.length>1){args=Array.prototype.slice.call(arguments)}else if(arguments[0]instanceof Array){args=arguments[0]}if(args){px=args.shift();if(px.length>0){args.unshift(px[i]);rx.push(op.apply(null,args));args.shift();return rx}}else{return op.apply(null,arguments)}}return gen};var gx="optional not ignore cache".split(/\s/);for(var i=0;i<gx.length;i++){_[gx[i]]=_generator(_[gx[i]])}var _vector=function(op){return function(){if(arguments[0]instanceof Array){return op.apply(null,arguments[0])}else{return op.apply(null,arguments)}}};var vx="each any all".split(/\s/);for(var j=0;j<vx.length;j++){_[vx[j]]=_vector(_[vx[j]])}})()},{}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/server/www/vendor/DateJS/src/core/parsing_translator.js":[function(require,module,exports){(function(){var $D=Date;var flattenAndCompact=function(ax){var rx=[];for(var i=0;i<ax.length;i++){if(ax[i]instanceof Array){rx=rx.concat(flattenAndCompact(ax[i]))}else{if(ax[i]){rx.push(ax[i])}}}return rx};var parseMeridian=function(){if(this.meridian&&(this.hour||this.hour===0)){if(this.meridian==="a"&&this.hour>11&&Date.Config.strict24hr){throw"Invalid hour and meridian combination"}else if(this.meridian==="p"&&this.hour<12&&Date.Config.strict24hr){throw"Invalid hour and meridian combination"}else if(this.meridian==="p"&&this.hour<12){this.hour=this.hour+12}else if(this.meridian==="a"&&this.hour===12){this.hour=0}}};var setDefaults=function(){var now=new Date;if((this.hour||this.minute)&&(!this.month&&!this.year&&!this.day)){this.day=now.getDate()}if(!this.year){this.year=now.getFullYear()}if(!this.month&&this.month!==0){this.month=now.getMonth()}if(!this.day){this.day=1}if(!this.hour){this.hour=0}if(!this.minute){this.minute=0}if(!this.second){this.second=0}if(!this.millisecond){this.millisecond=0}};var finishUtils={getToday:function(){if(this.now||"hour minute second".indexOf(this.unit)!==-1){return new Date}else{return $D.today()}},setDaysFromWeekday:function(today,orient){var gap;orient=orient||1;this.unit="day";gap=$D.getDayNumberFromName(this.weekday)-today.getDay();this.days=gap?(gap+orient*7)%7:orient*7;return this},setMonthsFromMonth:function(today,orient){var gap;orient=orient||1;this.unit="month";gap=this.month-today.getMonth();this.months=gap?(gap+orient*12)%12:orient*12;this.month=null;return this},setDMYFromWeekday:function(){var d=Date[this.weekday]();this.day=d.getDate();if(!this.month){this.month=d.getMonth()}this.year=d.getFullYear();return this},setUnitValue:function(orient){if(!this.value&&this.operator&&this.operator!==null&&this[this.unit+"s"]&&this[this.unit+"s"]!==null){this[this.unit+"s"]=this[this.unit+"s"]+(this.operator==="add"?1:-1)+(this.value||0)*orient}else if(this[this.unit+"s"]==null||this.operator!=null){if(!this.value){this.value=1}this[this.unit+"s"]=this.value*orient}},generateDateFromWeeks:function(){var weekday=this.weekday!==undefined?this.weekday:"today";var d=Date[weekday]().addWeeks(this.weeks);if(this.now){d.setTimeToNow()}return d}};$D.Translator={hour:function(s){return function(){this.hour=Number(s)}},minute:function(s){return function(){this.minute=Number(s)}},second:function(s){return function(){this.second=Number(s)}},secondAndMillisecond:function(s){return function(){var mx=s.match(/^([0-5][0-9])\.([0-9]{1,3})/);this.second=Number(mx[1]);this.millisecond=Number(mx[2])}},meridian:function(s){return function(){this.meridian=s.slice(0,1).toLowerCase()}},timezone:function(s){return function(){var n=s.replace(/[^\d\+\-]/g,"");if(n.length){this.timezoneOffset=Number(n)}else{this.timezone=s.toLowerCase()}}},day:function(x){var s=x[0];return function(){this.day=Number(s.match(/\d+/)[0]);if(this.day<1){throw"invalid day"}}},month:function(s){return function(){this.month=s.length===3?"jan feb mar apr may jun jul aug sep oct nov dec".indexOf(s)/4:Number(s)-1;if(this.month<0){throw"invalid month"}}},year:function(s){return function(){var n=Number(s);this.year=s.length>2?n:n+(n+2e3<Date.CultureInfo.twoDigitYearMax?2e3:1900)}},rday:function(s){return function(){switch(s){case"yesterday":this.days=-1;break;case"tomorrow":this.days=1;break;case"today":this.days=0;break;case"now":this.days=0;this.now=true;break}}},finishExact:function(x){var d;x=x instanceof Array?x:[x];for(var i=0;i<x.length;i++){if(x[i]){x[i].call(this)}}setDefaults.call(this);parseMeridian.call(this);if(this.day>$D.getDaysInMonth(this.year,this.month)){throw new RangeError(this.day+" is not a valid value for days.")}d=new Date(this.year,this.month,this.day,this.hour,this.minute,this.second,this.millisecond);if(this.year<100){d.setFullYear(this.year)}if(this.timezone){d.set({timezone:this.timezone})}else if(this.timezoneOffset){d.set({timezoneOffset:this.timezoneOffset})}return d},finish:function(x){var today,expression,orient,temp;x=x instanceof Array?flattenAndCompact(x):[x];if(x.length===0){return null}for(var i=0;i<x.length;i++){if(typeof x[i]==="function"){x[i].call(this)}}if(this.now&&!this.unit&&!this.operator){return new Date}else{today=finishUtils.getToday.call(this)}expression=!!(this.days&&this.days!==null||this.orient||this.operator);orient=this.orient==="past"||this.operator==="subtract"?-1:1;if(this.month&&this.unit==="week"){this.value=this.month+1;delete this.month;delete this.day}if((this.month||this.month===0)&&"year day hour minute second".indexOf(this.unit)!==-1){if(!this.value){this.value=this.month+1}this.month=null;expression=true}if(!expression&&this.weekday&&!this.day&&!this.days){finishUtils.setDMYFromWeekday.call(this)}if(expression&&this.weekday&&this.unit!=="month"&&this.unit!=="week"){finishUtils.setDaysFromWeekday.call(this,today,orient)}if(this.weekday&&this.unit!=="week"&&!this.day&&!this.days){temp=Date[this.weekday]();this.day=temp.getDate();if(temp.getMonth()!==today.getMonth()){this.month=temp.getMonth()}}if(this.month&&this.unit==="day"&&this.operator){if(!this.value){this.value=this.month+1}this.month=null}if(this.value!=null&&this.month!=null&&this.year!=null){this.day=this.value*1}if(this.month&&!this.day&&this.value){today.set({day:this.value*1});if(!expression){this.day=this.value*1}}if(!this.month&&this.value&&this.unit==="month"&&!this.now){this.month=this.value;expression=true}if(expression&&(this.month||this.month===0)&&this.unit!=="year"){finishUtils.setMonthsFromMonth.call(this,today,orient)}if(!this.unit){this.unit="day"}finishUtils.setUnitValue.call(this,orient);parseMeridian.call(this);if((this.month||this.month===0)&&!this.day){this.day=1}if(!this.orient&&!this.operator&&this.unit==="week"&&this.value&&!this.day&&!this.month){return Date.today().setWeek(this.value)}if(this.unit==="week"&&this.weeks&&!this.day&&!this.month){return finishUtils.generateDateFromWeeks.call(this)}if(expression&&this.timezone&&this.day&&this.days){this.day=this.days}if(expression){today.add(this)}else{today.set(this)}if(this.timezone){this.timezone=this.timezone.toUpperCase();var offset=$D.getTimezoneOffset(this.timezone);var timezone;if(today.hasDaylightSavingTime()){timezone=$D.getTimezoneAbbreviation(offset,today.isDaylightSavingTime());if(timezone!==this.timezone){if(today.isDaylightSavingTime()){today.addHours(-1)}else{today.addHours(1)}}}today.setTimezoneOffset(offset)}return today}}})()},{}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/server/www/vendor/DateJS/src/core/sugarpak.js":[function(require,module,exports){(function(){var $D=Date,$P=$D.prototype,$N=Number.prototype;$P._orient=+1;$P._nth=null;$P._is=false;$P._same=false;$P._isSecond=false;$N._dateElement="days";$P.next=function(){this._move=true;this._orient=+1;return this};$D.next=function(){return $D.today().next()};$P.last=$P.prev=$P.previous=function(){this._move=true;this._orient=-1;return this};$D.last=$D.prev=$D.previous=function(){return $D.today().last()};$P.is=function(){this._is=true;return this};$P.same=function(){this._same=true;this._isSecond=false;return this};$P.today=function(){return this.same().day()};$P.weekday=function(){if(this._nth){return df("Weekday").call(this)}if(this._move){return this.addWeekdays(this._orient)}if(this._is){this._is=false;return!this.is().sat()&&!this.is().sun()}return false};$P.weekend=function(){if(this._is){this._is=false;return this.is().sat()||this.is().sun()}return false};$P.at=function(time){return typeof time==="string"?$D.parse(this.toString("d")+" "+time):this.set(time)};$N.fromNow=$N.after=function(date){var c={};c[this._dateElement]=this;return(!date?new Date:date.clone()).add(c)};$N.ago=$N.before=function(date){var c={},s=this._dateElement[this._dateElement.length-1]!=="s"?this._dateElement+"s":this._dateElement;c[s]=this*-1;return(!date?new Date:date.clone()).add(c);
};var dx="sunday monday tuesday wednesday thursday friday saturday".split(/\s/),mx="january february march april may june july august september october november december".split(/\s/),px="Millisecond Second Minute Hour Day Week Month Year Quarter Weekday".split(/\s/),pxf="Milliseconds Seconds Minutes Hours Date Week Month FullYear Quarter".split(/\s/),nth="final first second third fourth fifth".split(/\s/),de;$P.toObject=function(){var o={};for(var i=0;i<px.length;i++){if(this["get"+pxf[i]]){o[px[i].toLowerCase()]=this["get"+pxf[i]]()}}return o};$D.fromObject=function(config){config.week=null;return Date.today().set(config)};var df=function(n){return function(){if(this._is){this._is=false;return this.getDay()===n}if(this._move){this._move=null}if(this._nth!==null){if(this._isSecond){this.addSeconds(this._orient*-1)}this._isSecond=false;var ntemp=this._nth;this._nth=null;var temp=this.clone().moveToLastDayOfMonth();this.moveToNthOccurrence(n,ntemp);if(this>temp){throw new RangeError($D.getDayName(n)+" does not occur "+ntemp+" times in the month of "+$D.getMonthName(temp.getMonth())+" "+temp.getFullYear()+".")}return this}return this.moveToDayOfWeek(n,this._orient)}};var sdf=function(n){return function(){var t=$D.today(),shift=n-t.getDay();if(n===0&&Date.CultureInfo.firstDayOfWeek===1&&t.getDay()!==0){shift=shift+7}return t.addDays(shift)}};var month_instance_functions=function(n){return function(){if(this._is){this._is=false;return this.getMonth()===n}return this.moveToMonth(n,this._orient)}};var month_static_functions=function(n){return function(){return $D.today().set({month:n,day:1})}};var processTerms=function(names,staticFunc,instanceFunc){for(var i=0;i<names.length;i++){$D[names[i].toUpperCase()]=$D[names[i].toUpperCase().substring(0,3)]=i;$D[names[i]]=$D[names[i].substring(0,3)]=staticFunc(i);$P[names[i]]=$P[names[i].substring(0,3)]=instanceFunc(i)}};processTerms(dx,sdf,df);processTerms(mx,month_static_functions,month_instance_functions);var ef=function(j){return function(){if(this._isSecond){this._isSecond=false;return this}if(this._same){this._same=this._is=false;var o1=this.toObject(),o2=(arguments[0]||new Date).toObject(),v="",k=j.toLowerCase();k=k[k.length-1]==="s"?k.substring(0,k.length-1):k;for(var m=px.length-1;m>-1;m--){v=px[m].toLowerCase();if(o1[v]!==o2[v]){return false}if(k===v){break}}return true}if(j.substring(j.length-1)!=="s"){j+="s"}if(this._move){this._move=null}return this["add"+j](this._orient)}};var nf=function(n){return function(){this._dateElement=n;return this}};for(var k=0;k<px.length;k++){de=px[k].toLowerCase();if(de!=="weekday"){$P[de]=$P[de+"s"]=ef(px[k]);$N[de]=$N[de+"s"]=nf(de+"s")}}$P._ss=ef("Second");var nthfn=function(n){return function(dayOfWeek){if(this._same){return this._ss(arguments[0])}if(dayOfWeek||dayOfWeek===0){return this.moveToNthOccurrence(dayOfWeek,n)}this._nth=n;if(n===2&&(dayOfWeek===undefined||dayOfWeek===null)){this._isSecond=true;return this.addSeconds(this._orient)}return this}};for(var l=0;l<nth.length;l++){$P[nth[l]]=l===0?nthfn(-1):nthfn(l)}})()},{}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/server/www/vendor/DateJS/src/core/time_period.js":[function(require,module,exports){(function(){"use strict";var attrs=["years","months","days","hours","minutes","seconds","milliseconds"];var gFn=function(attr){return function(){return this[attr]}};var sFn=function(attr){return function(val){this[attr]=val;return this}};var addSetFuncs=function(context,attrs){for(var i=0;i<attrs.length;i++){var $a=attrs[i],$b=$a.slice(0,1).toUpperCase()+$a.slice(1);context.prototype[$a]=0;context.prototype["get"+$b]=gFn($a);context.prototype["set"+$b]=sFn($a)}};var setMonthsAndYears=function(orient,d1,d2,context){function inc(){d1.addMonths(-orient);context.months++;if(context.months===12){context.years++;context.months=0}}if(orient===+1){while(d1>d2){inc()}}else{while(d1<d2){inc()}}context.months--;context.months*=orient;context.years*=orient};var adjustForDST=function(orient,startDate,endDate){var hasDSTMismatch=false===(startDate.isDaylightSavingTime()===endDate.isDaylightSavingTime());if(hasDSTMismatch&&orient===1){startDate.addHours(-1)}else if(hasDSTMismatch){startDate.addHours(1)}};var TimePeriod=function(years,months,days,hours,minutes,seconds,milliseconds){if(arguments.length===7){this.set(years,months,days,hours,minutes,seconds,milliseconds)}else if(arguments.length===2&&arguments[0]instanceof Date&&arguments[1]instanceof Date){var startDate=arguments[0].clone();var endDate=arguments[1].clone();var orient=startDate>endDate?+1:-1;this.dates={start:arguments[0].clone(),end:arguments[1].clone()};setMonthsAndYears(orient,startDate,endDate,this);adjustForDST(orient,startDate,endDate);var diff=endDate-startDate;if(diff!==0){var ts=new TimeSpan(diff);this.set(this.years,this.months,ts.getDays(),ts.getHours(),ts.getMinutes(),ts.getSeconds(),ts.getMilliseconds())}}return this};addSetFuncs(TimePeriod,attrs);TimePeriod.prototype.set=function(years,months,days,hours,minutes,seconds,milliseconds){this.setYears(years||this.getYears());this.setMonths(months||this.getMonths());this.setDays(days||this.getDays());this.setHours(hours||this.getHours());this.setMinutes(minutes||this.getMinutes());this.setSeconds(seconds||this.getSeconds());this.setMilliseconds(milliseconds||this.getMilliseconds())};Date.TimePeriod=TimePeriod;if(typeof window!=="undefined"){window.TimePeriod=TimePeriod}})()},{}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/server/www/vendor/DateJS/src/core/time_span.js":[function(require,module,exports){(function(){"use strict";var gFn=function(attr){return function(){return this[attr]}};var sFn=function(attr){return function(val){this[attr]=val;return this}};var attrs=["years","months","days","hours","minutes","seconds","milliseconds"];var addSetFuncs=function(context,attrs){for(var i=0;i<attrs.length;i++){var $a=attrs[i],$b=$a.slice(0,1).toUpperCase()+$a.slice(1);context.prototype[$a]=0;context.prototype["get"+$b]=gFn($a);context.prototype["set"+$b]=sFn($a)}};var TimeSpan=function(days,hours,minutes,seconds,milliseconds){if(arguments.length===1&&typeof days==="number"){var orient=days<0?-1:+1;var millsLeft=Math.abs(days);this.setDays(Math.floor(millsLeft/864e5)*orient);millsLeft=millsLeft%864e5;this.setHours(Math.floor(millsLeft/36e5)*orient);millsLeft=millsLeft%36e5;this.setMinutes(Math.floor(millsLeft/6e4)*orient);millsLeft=millsLeft%6e4;this.setSeconds(Math.floor(millsLeft/1e3)*orient);millsLeft=millsLeft%1e3;this.setMilliseconds(millsLeft*orient)}else{this.set(days,hours,minutes,seconds,milliseconds)}this.getTotalMilliseconds=function(){return this.getDays()*864e5+this.getHours()*36e5+this.getMinutes()*6e4+this.getSeconds()*1e3};this.compareTo=function(time){var t1=new Date(1970,1,1,this.getHours(),this.getMinutes(),this.getSeconds()),t2;if(time===null){t2=new Date(1970,1,1,0,0,0)}else{t2=new Date(1970,1,1,time.getHours(),time.getMinutes(),time.getSeconds())}return t1<t2?-1:t1>t2?1:0};this.equals=function(time){return this.compareTo(time)===0};this.add=function(time){return time===null?this:this.addSeconds(time.getTotalMilliseconds()/1e3)};this.subtract=function(time){return time===null?this:this.addSeconds(-time.getTotalMilliseconds()/1e3)};this.addDays=function(n){return new TimeSpan(this.getTotalMilliseconds()+n*864e5)};this.addHours=function(n){return new TimeSpan(this.getTotalMilliseconds()+n*36e5)};this.addMinutes=function(n){return new TimeSpan(this.getTotalMilliseconds()+n*6e4)};this.addSeconds=function(n){return new TimeSpan(this.getTotalMilliseconds()+n*1e3)};this.addMilliseconds=function(n){return new TimeSpan(this.getTotalMilliseconds()+n)};this.get12HourHour=function(){return this.getHours()>12?this.getHours()-12:this.getHours()===0?12:this.getHours()};this.getDesignator=function(){return this.getHours()<12?Date.CultureInfo.amDesignator:Date.CultureInfo.pmDesignator};this.toString=function(format){this._toString=function(){if(this.getDays()!==null&&this.getDays()>0){return this.getDays()+"."+this.getHours()+":"+this.p(this.getMinutes())+":"+this.p(this.getSeconds())}else{return this.getHours()+":"+this.p(this.getMinutes())+":"+this.p(this.getSeconds())}};this.p=function(s){return s.toString().length<2?"0"+s:s};var me=this;return format?format.replace(/dd?|HH?|hh?|mm?|ss?|tt?/g,function(format){switch(format){case"d":return me.getDays();case"dd":return me.p(me.getDays());case"H":return me.getHours();case"HH":return me.p(me.getHours());case"h":return me.get12HourHour();case"hh":return me.p(me.get12HourHour());case"m":return me.getMinutes();case"mm":return me.p(me.getMinutes());case"s":return me.getSeconds();case"ss":return me.p(me.getSeconds());case"t":return(me.getHours()<12?Date.CultureInfo.amDesignator:Date.CultureInfo.pmDesignator).substring(0,1);case"tt":return me.getHours()<12?Date.CultureInfo.amDesignator:Date.CultureInfo.pmDesignator}}):this._toString()};return this};addSetFuncs(TimeSpan,attrs.slice(2));TimeSpan.prototype.set=function(days,hours,minutes,seconds,milliseconds){this.setDays(days||this.getDays());this.setHours(hours||this.getHours());this.setMinutes(minutes||this.getMinutes());this.setSeconds(seconds||this.getSeconds());this.setMilliseconds(milliseconds||this.getMilliseconds())};Date.prototype.getTimeOfDay=function(){return new TimeSpan(0,this.getHours(),this.getMinutes(),this.getSeconds(),this.getMilliseconds())};Date.TimeSpan=TimeSpan;if(typeof window!=="undefined"){window.TimeSpan=TimeSpan}})()},{}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/server/www/vendor/human-format/index.js":[function(require,module,exports){(function(root,factory){if(typeof define==="function"&&define.amd){define([],factory)}else if(typeof exports==="object"){module.exports=factory()}else{root.humanFormat=factory()}})(this,function(){"use strict";function assignBase(dst,src){var prop;for(prop in src){if(has(src,prop)){dst[prop]=src[prop]}}}function assign(dst,src){var i,n;for(i=0,n=arguments.length;i<n;++i){src=arguments[i];if(src){assignBase(dst,src)}}return dst}function compareLongestFirst(a,b){return b.length-a.length}function compareSmallestFactorFirst(a,b){return a.factor-b.factor}function escapeRegexp(str){return str.replace(/([.*+?=^!:${}()|[\]\/\\])/g,"\\$1")}function forEach(arr,iterator){var i,n;for(i=0,n=arr.length;i<n;++i){iterator(arr[i],i)}}function forOwn(obj,iterator){var prop;for(prop in obj){if(has(obj,prop)){iterator(obj[prop],prop)}}}var has=function(hasOwnProperty){return function has(obj,prop){return obj&&hasOwnProperty.call(obj,prop)}}(Object.prototype.hasOwnProperty);var toString=function(toString_){return function toString(val){return toString_.call(val)}}(Object.prototype.toString);function isDefined(val){return val!=null}var isNumber=function(tag){return function isNumber(value){return value===value&&toString(value)===tag}}(toString(0));var isString=function(tag){return function isString(value){return toString(value)===tag}}(toString(""));function resolve(container,entry){while(isString(entry)){entry=container[entry]}return entry}function round(f,n){if(!n){return Math.round(f)}var p=Math.pow(10,n);return Math.round(f*p)/p}function Scale(prefixes){this._prefixes=prefixes;var escapedPrefixes=[];var list=[];forOwn(prefixes,function(factor,prefix){escapedPrefixes.push(escapeRegexp(prefix));list.push({factor:factor,prefix:prefix})});var lcPrefixes=this._lcPrefixes={};forOwn(prefixes,function(factor,prefix){var lcPrefix=prefix.toLowerCase();if(!has(prefixes,lcPrefix)){lcPrefixes[lcPrefix]=prefix}});list.sort(compareSmallestFactorFirst);this._list=list;escapedPrefixes.sort(compareLongestFirst);this._regexp=new RegExp("^\\s*(\\d+(?:\\.\\d+)?)\\s*("+escapedPrefixes.join("|")+")\\s*(.*)\\s*?$","i")}Scale.create=function Scale$create(prefixesList,base,initExp){var prefixes={};var factor=initExp?Math.pow(base,initExp):1;forEach(prefixesList,function(prefix,i){prefixes[prefix]=Math.pow(base,i+(initExp||0));factor*=base});return new Scale(prefixes)};Scale.prototype.findPrefix=function Scale$findPrefix(value){var list=this._list;var low=0;var high=list.length-1;var mid,current;while(low!==high){mid=low+high+1>>1;current=list[mid].factor;if(current>value){high=mid-1}else{low=mid}}return list[low]};Scale.prototype.parse=function Scale$parse(str,strict){var matches=str.match(this._regexp);if(!matches){return null}var prefix=matches[2];var factor;if(has(this._prefixes,prefix)){factor=this._prefixes[prefix]}else if(!strict&&(prefix=prefix.toLowerCase(),has(this._lcPrefixes,prefix))){prefix=this._lcPrefixes[prefix];factor=this._prefixes[prefix]}else{return null}return{factor:factor,prefix:prefix,unit:matches[3],value:+matches[1]}};var scales={binary:Scale.create(",ki,Mi,Gi,Ti,Pi,Ei,Zi,Yi".split(","),1024),SI:Scale.create("y,z,a,f,p,n,µ,m,,k,M,G,T,P,E,Z,Y".split(","),1e3,-8)};var defaults={scale:"SI",strict:false,unit:"",decimals:2,seperator:" "};function humanFormat(value,opts){opts=assign({},defaults,opts);var info=humanFormat$raw(value,opts);var suffix=info.prefix+opts.unit;return round(info.value,opts.decimals)+(suffix?opts.seperator+suffix:"")}function humanFormat$parse(str,opts){var info=humanFormat$parse$raw(str,opts);return info.value*info.factor}function humanFormat$parse$raw(str,opts){if(!isString(str)){throw new TypeError("str must be a string")}opts=assign({},defaults,opts);var scale=resolve(scales,opts.scale);if(!scale){throw new Error("missing scale")}var info=scale.parse(str,opts.strict);if(!info){throw new Error("cannot parse str")}return info}function humanFormat$raw(value,opts){if(value===0){return{value:0,prefix:""}}if(!isNumber(value)){throw new TypeError("value must be a number")}opts=assign({},defaults,opts);var scale=resolve(scales,opts.scale);if(!scale){throw new Error("missing scale")}var prefix=opts.prefix;var factor;if(isDefined(prefix)){if(!has(scale._prefixes,prefix)){throw new Error("invalid prefix")}factor=scale._prefixes[prefix]}else{var _ref=scale.findPrefix(value);prefix=_ref.prefix;factor=_ref.factor}value/=factor;return{prefix:prefix,value:value}}humanFormat.parse=humanFormat$parse;humanFormat$parse.raw=humanFormat$parse$raw;humanFormat.raw=humanFormat$raw;humanFormat.Scale=Scale;return humanFormat})},{}],"/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/server/www/vendor/moment/moment.js":[function(require,module,exports){(function(global,factory){typeof exports==="object"&&typeof module!=="undefined"?module.exports=factory():typeof define==="function"&&define.amd?define(factory):global.moment=factory()})(this,function(){"use strict";var hookCallback;function utils_hooks__hooks(){return hookCallback.apply(null,arguments)}function setHookCallback(callback){hookCallback=callback}function isArray(input){return input instanceof Array||Object.prototype.toString.call(input)==="[object Array]"}function isObject(input){return Object.prototype.toString.call(input)==="[object Object]"}function isObjectEmpty(obj){var k;for(k in obj){return false}return true}function isDate(input){return input instanceof Date||Object.prototype.toString.call(input)==="[object Date]"}function map(arr,fn){var res=[],i;for(i=0;i<arr.length;++i){res.push(fn(arr[i],i))}return res}function hasOwnProp(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function extend(a,b){for(var i in b){if(hasOwnProp(b,i)){a[i]=b[i]}}if(hasOwnProp(b,"toString")){a.toString=b.toString}if(hasOwnProp(b,"valueOf")){a.valueOf=b.valueOf}return a}function create_utc__createUTC(input,format,locale,strict){return createLocalOrUTC(input,format,locale,strict,true).utc()}function defaultParsingFlags(){return{empty:false,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:false,invalidMonth:null,invalidFormat:false,userInvalidated:false,iso:false,parsedDateParts:[],meridiem:null}}function getParsingFlags(m){if(m._pf==null){m._pf=defaultParsingFlags()}return m._pf}var some;if(Array.prototype.some){some=Array.prototype.some}else{some=function(fun){var t=Object(this);var len=t.length>>>0;for(var i=0;i<len;i++){if(i in t&&fun.call(this,t[i],i,t)){return true}}return false}}function valid__isValid(m){if(m._isValid==null){var flags=getParsingFlags(m);var parsedParts=some.call(flags.parsedDateParts,function(i){return i!=null});m._isValid=!isNaN(m._d.getTime())&&flags.overflow<0&&!flags.empty&&!flags.invalidMonth&&!flags.invalidWeekday&&!flags.nullInput&&!flags.invalidFormat&&!flags.userInvalidated&&(!flags.meridiem||flags.meridiem&&parsedParts);if(m._strict){m._isValid=m._isValid&&flags.charsLeftOver===0&&flags.unusedTokens.length===0&&flags.bigHour===undefined}}return m._isValid}function valid__createInvalid(flags){var m=create_utc__createUTC(NaN);if(flags!=null){extend(getParsingFlags(m),flags)}else{getParsingFlags(m).userInvalidated=true}return m}function isUndefined(input){return input===void 0}var momentProperties=utils_hooks__hooks.momentProperties=[];function copyConfig(to,from){var i,prop,val;if(!isUndefined(from._isAMomentObject)){to._isAMomentObject=from._isAMomentObject}if(!isUndefined(from._i)){to._i=from._i}if(!isUndefined(from._f)){to._f=from._f}if(!isUndefined(from._l)){to._l=from._l}if(!isUndefined(from._strict)){to._strict=from._strict}if(!isUndefined(from._tzm)){to._tzm=from._tzm}if(!isUndefined(from._isUTC)){to._isUTC=from._isUTC}if(!isUndefined(from._offset)){to._offset=from._offset}if(!isUndefined(from._pf)){to._pf=getParsingFlags(from)}if(!isUndefined(from._locale)){to._locale=from._locale}if(momentProperties.length>0){for(i in momentProperties){prop=momentProperties[i];val=from[prop];if(!isUndefined(val)){to[prop]=val}}}return to}var updateInProgress=false;function Moment(config){copyConfig(this,config);this._d=new Date(config._d!=null?config._d.getTime():NaN);if(updateInProgress===false){updateInProgress=true;utils_hooks__hooks.updateOffset(this);updateInProgress=false}}function isMoment(obj){return obj instanceof Moment||obj!=null&&obj._isAMomentObject!=null}function absFloor(number){if(number<0){return Math.ceil(number)||0}else{return Math.floor(number)}}function toInt(argumentForCoercion){var coercedNumber=+argumentForCoercion,value=0;if(coercedNumber!==0&&isFinite(coercedNumber)){value=absFloor(coercedNumber)}return value}function compareArrays(array1,array2,dontConvert){var len=Math.min(array1.length,array2.length),lengthDiff=Math.abs(array1.length-array2.length),diffs=0,i;for(i=0;i<len;i++){if(dontConvert&&array1[i]!==array2[i]||!dontConvert&&toInt(array1[i])!==toInt(array2[i])){diffs++}}return diffs+lengthDiff}function warn(msg){if(utils_hooks__hooks.suppressDeprecationWarnings===false&&typeof console!=="undefined"&&console.warn){console.warn("Deprecation warning: "+msg)}}function deprecate(msg,fn){var firstTime=true;return extend(function(){if(utils_hooks__hooks.deprecationHandler!=null){utils_hooks__hooks.deprecationHandler(null,msg)}if(firstTime){warn(msg+"\nArguments: "+Array.prototype.slice.call(arguments).join(", ")+"\n"+(new Error).stack);firstTime=false}return fn.apply(this,arguments)},fn)}var deprecations={};function deprecateSimple(name,msg){if(utils_hooks__hooks.deprecationHandler!=null){utils_hooks__hooks.deprecationHandler(name,msg)}if(!deprecations[name]){warn(msg);deprecations[name]=true}}utils_hooks__hooks.suppressDeprecationWarnings=false;utils_hooks__hooks.deprecationHandler=null;function isFunction(input){return input instanceof Function||Object.prototype.toString.call(input)==="[object Function]"}function locale_set__set(config){var prop,i;for(i in config){prop=config[i];if(isFunction(prop)){this[i]=prop}else{this["_"+i]=prop}}this._config=config;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function mergeConfigs(parentConfig,childConfig){var res=extend({},parentConfig),prop;for(prop in childConfig){if(hasOwnProp(childConfig,prop)){if(isObject(parentConfig[prop])&&isObject(childConfig[prop])){res[prop]={};extend(res[prop],parentConfig[prop]);extend(res[prop],childConfig[prop])}else if(childConfig[prop]!=null){res[prop]=childConfig[prop]}else{delete res[prop]}}}for(prop in parentConfig){if(hasOwnProp(parentConfig,prop)&&!hasOwnProp(childConfig,prop)&&isObject(parentConfig[prop])){res[prop]=extend({},res[prop])}}return res}function Locale(config){if(config!=null){this.set(config)}}var keys;if(Object.keys){keys=Object.keys}else{keys=function(obj){var i,res=[];for(i in obj){if(hasOwnProp(obj,i)){res.push(i)}}return res}}var defaultCalendar={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function locale_calendar__calendar(key,mom,now){var output=this._calendar[key]||this._calendar["sameElse"];return isFunction(output)?output.call(mom,now):output}var defaultLongDateFormat={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function longDateFormat(key){var format=this._longDateFormat[key],formatUpper=this._longDateFormat[key.toUpperCase()];if(format||!formatUpper){return format}this._longDateFormat[key]=formatUpper.replace(/MMMM|MM|DD|dddd/g,function(val){return val.slice(1)});return this._longDateFormat[key]}var defaultInvalidDate="Invalid date";function invalidDate(){return this._invalidDate}var defaultOrdinal="%d";var defaultOrdinalParse=/\d{1,2}/;function ordinal(number){return this._ordinal.replace("%d",number)}var defaultRelativeTime={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function relative__relativeTime(number,withoutSuffix,string,isFuture){var output=this._relativeTime[string];return isFunction(output)?output(number,withoutSuffix,string,isFuture):output.replace(/%d/i,number)}function pastFuture(diff,output){var format=this._relativeTime[diff>0?"future":"past"];return isFunction(format)?format(output):format.replace(/%s/i,output)}var aliases={};function addUnitAlias(unit,shorthand){var lowerCase=unit.toLowerCase();aliases[lowerCase]=aliases[lowerCase+"s"]=aliases[shorthand]=unit}function normalizeUnits(units){return typeof units==="string"?aliases[units]||aliases[units.toLowerCase()]:undefined}function normalizeObjectUnits(inputObject){var normalizedInput={},normalizedProp,prop;for(prop in inputObject){if(hasOwnProp(inputObject,prop)){normalizedProp=normalizeUnits(prop);if(normalizedProp){normalizedInput[normalizedProp]=inputObject[prop]}}}return normalizedInput}var priorities={};function addUnitPriority(unit,priority){priorities[unit]=priority}function getPrioritizedUnits(unitsObj){var units=[];for(var u in unitsObj){units.push({unit:u,priority:priorities[u]})}units.sort(function(a,b){return a.priority-b.priority});return units}function makeGetSet(unit,keepTime){return function(value){if(value!=null){get_set__set(this,unit,value);utils_hooks__hooks.updateOffset(this,keepTime);return this}else{return get_set__get(this,unit)}}}function get_set__get(mom,unit){return mom.isValid()?mom._d["get"+(mom._isUTC?"UTC":"")+unit]():NaN}function get_set__set(mom,unit,value){if(mom.isValid()){mom._d["set"+(mom._isUTC?"UTC":"")+unit](value)}}function stringGet(units){units=normalizeUnits(units);if(isFunction(this[units])){return this[units]()}return this}function stringSet(units,value){if(typeof units==="object"){units=normalizeObjectUnits(units);var prioritized=getPrioritizedUnits(units);for(var i=0;i<prioritized.length;i++){this[prioritized[i].unit](units[prioritized[i].unit])}}else{units=normalizeUnits(units);if(isFunction(this[units])){return this[units](value)}}return this}function zeroFill(number,targetLength,forceSign){var absNumber=""+Math.abs(number),zerosToFill=targetLength-absNumber.length,sign=number>=0;return(sign?forceSign?"+":"":"-")+Math.pow(10,Math.max(0,zerosToFill)).toString().substr(1)+absNumber}var formattingTokens=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g;var localFormattingTokens=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g;var formatFunctions={};var formatTokenFunctions={};function addFormatToken(token,padded,ordinal,callback){var func=callback;if(typeof callback==="string"){func=function(){return this[callback]()}}if(token){formatTokenFunctions[token]=func}if(padded){formatTokenFunctions[padded[0]]=function(){return zeroFill(func.apply(this,arguments),padded[1],padded[2])}}if(ordinal){formatTokenFunctions[ordinal]=function(){return this.localeData().ordinal(func.apply(this,arguments),token)}}}function removeFormattingTokens(input){if(input.match(/\[[\s\S]/)){return input.replace(/^\[|\]$/g,"")}return input.replace(/\\/g,"")}function makeFormatFunction(format){var array=format.match(formattingTokens),i,length;for(i=0,length=array.length;i<length;i++){if(formatTokenFunctions[array[i]]){array[i]=formatTokenFunctions[array[i]]}else{array[i]=removeFormattingTokens(array[i])}}return function(mom){var output="",i;for(i=0;i<length;i++){output+=array[i]instanceof Function?array[i].call(mom,format):array[i]}return output}}function formatMoment(m,format){if(!m.isValid()){return m.localeData().invalidDate()}format=expandFormat(format,m.localeData());formatFunctions[format]=formatFunctions[format]||makeFormatFunction(format);return formatFunctions[format](m)}function expandFormat(format,locale){var i=5;function replaceLongDateFormatTokens(input){return locale.longDateFormat(input)||input}localFormattingTokens.lastIndex=0;while(i>=0&&localFormattingTokens.test(format)){format=format.replace(localFormattingTokens,replaceLongDateFormatTokens);localFormattingTokens.lastIndex=0;i-=1}return format}var match1=/\d/;var match2=/\d\d/;var match3=/\d{3}/;var match4=/\d{4}/;var match6=/[+-]?\d{6}/;var match1to2=/\d\d?/;var match3to4=/\d\d\d\d?/;var match5to6=/\d\d\d\d\d\d?/;var match1to3=/\d{1,3}/;var match1to4=/\d{1,4}/;var match1to6=/[+-]?\d{1,6}/;var matchUnsigned=/\d+/;var matchSigned=/[+-]?\d+/;var matchOffset=/Z|[+-]\d\d:?\d\d/gi;var matchShortOffset=/Z|[+-]\d\d(?::?\d\d)?/gi;var matchTimestamp=/[+-]?\d+(\.\d{1,3})?/;var matchWord=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i;var regexes={};function addRegexToken(token,regex,strictRegex){regexes[token]=isFunction(regex)?regex:function(isStrict,localeData){return isStrict&&strictRegex?strictRegex:regex}}function getParseRegexForToken(token,config){if(!hasOwnProp(regexes,token)){return new RegExp(unescapeFormat(token))}return regexes[token](config._strict,config._locale)}function unescapeFormat(s){return regexEscape(s.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(matched,p1,p2,p3,p4){return p1||p2||p3||p4}))}function regexEscape(s){return s.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var tokens={};function addParseToken(token,callback){var i,func=callback;if(typeof token==="string"){token=[token]}if(typeof callback==="number"){func=function(input,array){array[callback]=toInt(input)}}for(i=0;i<token.length;i++){tokens[token[i]]=func}}function addWeekParseToken(token,callback){addParseToken(token,function(input,array,config,token){config._w=config._w||{};callback(input,config._w,config,token)})}function addTimeToArrayFromToken(token,input,config){if(input!=null&&hasOwnProp(tokens,token)){tokens[token](input,config._a,config,token)}}var YEAR=0;var MONTH=1;var DATE=2;var HOUR=3;var MINUTE=4;var SECOND=5;var MILLISECOND=6;var WEEK=7;var WEEKDAY=8;var indexOf;if(Array.prototype.indexOf){indexOf=Array.prototype.indexOf}else{indexOf=function(o){var i;for(i=0;i<this.length;++i){if(this[i]===o){return i}}return-1}}function daysInMonth(year,month){return new Date(Date.UTC(year,month+1,0)).getUTCDate()}addFormatToken("M",["MM",2],"Mo",function(){return this.month()+1});addFormatToken("MMM",0,0,function(format){return this.localeData().monthsShort(this,format)});addFormatToken("MMMM",0,0,function(format){return this.localeData().months(this,format)});addUnitAlias("month","M");addUnitPriority("month",8);addRegexToken("M",match1to2);addRegexToken("MM",match1to2,match2);addRegexToken("MMM",function(isStrict,locale){return locale.monthsShortRegex(isStrict)});addRegexToken("MMMM",function(isStrict,locale){return locale.monthsRegex(isStrict)});addParseToken(["M","MM"],function(input,array){array[MONTH]=toInt(input)-1});addParseToken(["MMM","MMMM"],function(input,array,config,token){var month=config._locale.monthsParse(input,token,config._strict);if(month!=null){array[MONTH]=month}else{getParsingFlags(config).invalidMonth=input}});var MONTHS_IN_FORMAT=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/;var defaultLocaleMonths="January_February_March_April_May_June_July_August_September_October_November_December".split("_");function localeMonths(m,format){return isArray(this._months)?this._months[m.month()]:this._months[(this._months.isFormat||MONTHS_IN_FORMAT).test(format)?"format":"standalone"][m.month()]}var defaultLocaleMonthsShort="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");function localeMonthsShort(m,format){return isArray(this._monthsShort)?this._monthsShort[m.month()]:this._monthsShort[MONTHS_IN_FORMAT.test(format)?"format":"standalone"][m.month()]}function units_month__handleStrictParse(monthName,format,strict){var i,ii,mom,llc=monthName.toLocaleLowerCase();if(!this._monthsParse){this._monthsParse=[];this._longMonthsParse=[];this._shortMonthsParse=[];for(i=0;i<12;++i){mom=create_utc__createUTC([2e3,i]);this._shortMonthsParse[i]=this.monthsShort(mom,"").toLocaleLowerCase();this._longMonthsParse[i]=this.months(mom,"").toLocaleLowerCase()}}if(strict){if(format==="MMM"){ii=indexOf.call(this._shortMonthsParse,llc);return ii!==-1?ii:null}else{ii=indexOf.call(this._longMonthsParse,llc);return ii!==-1?ii:null}}else{if(format==="MMM"){ii=indexOf.call(this._shortMonthsParse,llc);if(ii!==-1){return ii}ii=indexOf.call(this._longMonthsParse,llc);return ii!==-1?ii:null}else{ii=indexOf.call(this._longMonthsParse,llc);if(ii!==-1){return ii}ii=indexOf.call(this._shortMonthsParse,llc);return ii!==-1?ii:null}}}function localeMonthsParse(monthName,format,strict){var i,mom,regex;if(this._monthsParseExact){return units_month__handleStrictParse.call(this,monthName,format,strict)}if(!this._monthsParse){this._monthsParse=[];this._longMonthsParse=[];this._shortMonthsParse=[]}for(i=0;i<12;i++){mom=create_utc__createUTC([2e3,i]);if(strict&&!this._longMonthsParse[i]){this._longMonthsParse[i]=new RegExp("^"+this.months(mom,"").replace(".","")+"$","i");this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(mom,"").replace(".","")+"$","i")}if(!strict&&!this._monthsParse[i]){regex="^"+this.months(mom,"")+"|^"+this.monthsShort(mom,"");this._monthsParse[i]=new RegExp(regex.replace(".",""),"i")}if(strict&&format==="MMMM"&&this._longMonthsParse[i].test(monthName)){return i}else if(strict&&format==="MMM"&&this._shortMonthsParse[i].test(monthName)){return i}else if(!strict&&this._monthsParse[i].test(monthName)){return i}}}function setMonth(mom,value){var dayOfMonth;if(!mom.isValid()){return mom}if(typeof value==="string"){if(/^\d+$/.test(value)){value=toInt(value)}else{value=mom.localeData().monthsParse(value);if(typeof value!=="number"){return mom}}}dayOfMonth=Math.min(mom.date(),daysInMonth(mom.year(),value));mom._d["set"+(mom._isUTC?"UTC":"")+"Month"](value,dayOfMonth);return mom}function getSetMonth(value){if(value!=null){setMonth(this,value);utils_hooks__hooks.updateOffset(this,true);return this}else{return get_set__get(this,"Month")}}function getDaysInMonth(){return daysInMonth(this.year(),this.month())}var defaultMonthsShortRegex=matchWord;function monthsShortRegex(isStrict){if(this._monthsParseExact){if(!hasOwnProp(this,"_monthsRegex")){computeMonthsParse.call(this)}if(isStrict){return this._monthsShortStrictRegex}else{return this._monthsShortRegex}}else{if(!hasOwnProp(this,"_monthsShortRegex")){this._monthsShortRegex=defaultMonthsShortRegex}return this._monthsShortStrictRegex&&isStrict?this._monthsShortStrictRegex:this._monthsShortRegex;
}}var defaultMonthsRegex=matchWord;function monthsRegex(isStrict){if(this._monthsParseExact){if(!hasOwnProp(this,"_monthsRegex")){computeMonthsParse.call(this)}if(isStrict){return this._monthsStrictRegex}else{return this._monthsRegex}}else{if(!hasOwnProp(this,"_monthsRegex")){this._monthsRegex=defaultMonthsRegex}return this._monthsStrictRegex&&isStrict?this._monthsStrictRegex:this._monthsRegex}}function computeMonthsParse(){function cmpLenRev(a,b){return b.length-a.length}var shortPieces=[],longPieces=[],mixedPieces=[],i,mom;for(i=0;i<12;i++){mom=create_utc__createUTC([2e3,i]);shortPieces.push(this.monthsShort(mom,""));longPieces.push(this.months(mom,""));mixedPieces.push(this.months(mom,""));mixedPieces.push(this.monthsShort(mom,""))}shortPieces.sort(cmpLenRev);longPieces.sort(cmpLenRev);mixedPieces.sort(cmpLenRev);for(i=0;i<12;i++){shortPieces[i]=regexEscape(shortPieces[i]);longPieces[i]=regexEscape(longPieces[i])}for(i=0;i<24;i++){mixedPieces[i]=regexEscape(mixedPieces[i])}this._monthsRegex=new RegExp("^("+mixedPieces.join("|")+")","i");this._monthsShortRegex=this._monthsRegex;this._monthsStrictRegex=new RegExp("^("+longPieces.join("|")+")","i");this._monthsShortStrictRegex=new RegExp("^("+shortPieces.join("|")+")","i")}addFormatToken("Y",0,0,function(){var y=this.year();return y<=9999?""+y:"+"+y});addFormatToken(0,["YY",2],0,function(){return this.year()%100});addFormatToken(0,["YYYY",4],0,"year");addFormatToken(0,["YYYYY",5],0,"year");addFormatToken(0,["YYYYYY",6,true],0,"year");addUnitAlias("year","y");addUnitPriority("year",1);addRegexToken("Y",matchSigned);addRegexToken("YY",match1to2,match2);addRegexToken("YYYY",match1to4,match4);addRegexToken("YYYYY",match1to6,match6);addRegexToken("YYYYYY",match1to6,match6);addParseToken(["YYYYY","YYYYYY"],YEAR);addParseToken("YYYY",function(input,array){array[YEAR]=input.length===2?utils_hooks__hooks.parseTwoDigitYear(input):toInt(input)});addParseToken("YY",function(input,array){array[YEAR]=utils_hooks__hooks.parseTwoDigitYear(input)});addParseToken("Y",function(input,array){array[YEAR]=parseInt(input,10)});function daysInYear(year){return isLeapYear(year)?366:365}function isLeapYear(year){return year%4===0&&year%100!==0||year%400===0}utils_hooks__hooks.parseTwoDigitYear=function(input){return toInt(input)+(toInt(input)>68?1900:2e3)};var getSetYear=makeGetSet("FullYear",true);function getIsLeapYear(){return isLeapYear(this.year())}function createDate(y,m,d,h,M,s,ms){var date=new Date(y,m,d,h,M,s,ms);if(y<100&&y>=0&&isFinite(date.getFullYear())){date.setFullYear(y)}return date}function createUTCDate(y){var date=new Date(Date.UTC.apply(null,arguments));if(y<100&&y>=0&&isFinite(date.getUTCFullYear())){date.setUTCFullYear(y)}return date}function firstWeekOffset(year,dow,doy){var fwd=7+dow-doy,fwdlw=(7+createUTCDate(year,0,fwd).getUTCDay()-dow)%7;return-fwdlw+fwd-1}function dayOfYearFromWeeks(year,week,weekday,dow,doy){var localWeekday=(7+weekday-dow)%7,weekOffset=firstWeekOffset(year,dow,doy),dayOfYear=1+7*(week-1)+localWeekday+weekOffset,resYear,resDayOfYear;if(dayOfYear<=0){resYear=year-1;resDayOfYear=daysInYear(resYear)+dayOfYear}else if(dayOfYear>daysInYear(year)){resYear=year+1;resDayOfYear=dayOfYear-daysInYear(year)}else{resYear=year;resDayOfYear=dayOfYear}return{year:resYear,dayOfYear:resDayOfYear}}function weekOfYear(mom,dow,doy){var weekOffset=firstWeekOffset(mom.year(),dow,doy),week=Math.floor((mom.dayOfYear()-weekOffset-1)/7)+1,resWeek,resYear;if(week<1){resYear=mom.year()-1;resWeek=week+weeksInYear(resYear,dow,doy)}else if(week>weeksInYear(mom.year(),dow,doy)){resWeek=week-weeksInYear(mom.year(),dow,doy);resYear=mom.year()+1}else{resYear=mom.year();resWeek=week}return{week:resWeek,year:resYear}}function weeksInYear(year,dow,doy){var weekOffset=firstWeekOffset(year,dow,doy),weekOffsetNext=firstWeekOffset(year+1,dow,doy);return(daysInYear(year)-weekOffset+weekOffsetNext)/7}addFormatToken("w",["ww",2],"wo","week");addFormatToken("W",["WW",2],"Wo","isoWeek");addUnitAlias("week","w");addUnitAlias("isoWeek","W");addUnitPriority("week",5);addUnitPriority("isoWeek",5);addRegexToken("w",match1to2);addRegexToken("ww",match1to2,match2);addRegexToken("W",match1to2);addRegexToken("WW",match1to2,match2);addWeekParseToken(["w","ww","W","WW"],function(input,week,config,token){week[token.substr(0,1)]=toInt(input)});function localeWeek(mom){return weekOfYear(mom,this._week.dow,this._week.doy).week}var defaultLocaleWeek={dow:0,doy:6};function localeFirstDayOfWeek(){return this._week.dow}function localeFirstDayOfYear(){return this._week.doy}function getSetWeek(input){var week=this.localeData().week(this);return input==null?week:this.add((input-week)*7,"d")}function getSetISOWeek(input){var week=weekOfYear(this,1,4).week;return input==null?week:this.add((input-week)*7,"d")}addFormatToken("d",0,"do","day");addFormatToken("dd",0,0,function(format){return this.localeData().weekdaysMin(this,format)});addFormatToken("ddd",0,0,function(format){return this.localeData().weekdaysShort(this,format)});addFormatToken("dddd",0,0,function(format){return this.localeData().weekdays(this,format)});addFormatToken("e",0,0,"weekday");addFormatToken("E",0,0,"isoWeekday");addUnitAlias("day","d");addUnitAlias("weekday","e");addUnitAlias("isoWeekday","E");addUnitPriority("day",11);addUnitPriority("weekday",11);addUnitPriority("isoWeekday",11);addRegexToken("d",match1to2);addRegexToken("e",match1to2);addRegexToken("E",match1to2);addRegexToken("dd",function(isStrict,locale){return locale.weekdaysMinRegex(isStrict)});addRegexToken("ddd",function(isStrict,locale){return locale.weekdaysShortRegex(isStrict)});addRegexToken("dddd",function(isStrict,locale){return locale.weekdaysRegex(isStrict)});addWeekParseToken(["dd","ddd","dddd"],function(input,week,config,token){var weekday=config._locale.weekdaysParse(input,token,config._strict);if(weekday!=null){week.d=weekday}else{getParsingFlags(config).invalidWeekday=input}});addWeekParseToken(["d","e","E"],function(input,week,config,token){week[token]=toInt(input)});function parseWeekday(input,locale){if(typeof input!=="string"){return input}if(!isNaN(input)){return parseInt(input,10)}input=locale.weekdaysParse(input);if(typeof input==="number"){return input}return null}function parseIsoWeekday(input,locale){if(typeof input==="string"){return locale.weekdaysParse(input)%7||7}return isNaN(input)?null:input}var defaultLocaleWeekdays="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_");function localeWeekdays(m,format){return isArray(this._weekdays)?this._weekdays[m.day()]:this._weekdays[this._weekdays.isFormat.test(format)?"format":"standalone"][m.day()]}var defaultLocaleWeekdaysShort="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_");function localeWeekdaysShort(m){return this._weekdaysShort[m.day()]}var defaultLocaleWeekdaysMin="Su_Mo_Tu_We_Th_Fr_Sa".split("_");function localeWeekdaysMin(m){return this._weekdaysMin[m.day()]}function day_of_week__handleStrictParse(weekdayName,format,strict){var i,ii,mom,llc=weekdayName.toLocaleLowerCase();if(!this._weekdaysParse){this._weekdaysParse=[];this._shortWeekdaysParse=[];this._minWeekdaysParse=[];for(i=0;i<7;++i){mom=create_utc__createUTC([2e3,1]).day(i);this._minWeekdaysParse[i]=this.weekdaysMin(mom,"").toLocaleLowerCase();this._shortWeekdaysParse[i]=this.weekdaysShort(mom,"").toLocaleLowerCase();this._weekdaysParse[i]=this.weekdays(mom,"").toLocaleLowerCase()}}if(strict){if(format==="dddd"){ii=indexOf.call(this._weekdaysParse,llc);return ii!==-1?ii:null}else if(format==="ddd"){ii=indexOf.call(this._shortWeekdaysParse,llc);return ii!==-1?ii:null}else{ii=indexOf.call(this._minWeekdaysParse,llc);return ii!==-1?ii:null}}else{if(format==="dddd"){ii=indexOf.call(this._weekdaysParse,llc);if(ii!==-1){return ii}ii=indexOf.call(this._shortWeekdaysParse,llc);if(ii!==-1){return ii}ii=indexOf.call(this._minWeekdaysParse,llc);return ii!==-1?ii:null}else if(format==="ddd"){ii=indexOf.call(this._shortWeekdaysParse,llc);if(ii!==-1){return ii}ii=indexOf.call(this._weekdaysParse,llc);if(ii!==-1){return ii}ii=indexOf.call(this._minWeekdaysParse,llc);return ii!==-1?ii:null}else{ii=indexOf.call(this._minWeekdaysParse,llc);if(ii!==-1){return ii}ii=indexOf.call(this._weekdaysParse,llc);if(ii!==-1){return ii}ii=indexOf.call(this._shortWeekdaysParse,llc);return ii!==-1?ii:null}}}function localeWeekdaysParse(weekdayName,format,strict){var i,mom,regex;if(this._weekdaysParseExact){return day_of_week__handleStrictParse.call(this,weekdayName,format,strict)}if(!this._weekdaysParse){this._weekdaysParse=[];this._minWeekdaysParse=[];this._shortWeekdaysParse=[];this._fullWeekdaysParse=[]}for(i=0;i<7;i++){mom=create_utc__createUTC([2e3,1]).day(i);if(strict&&!this._fullWeekdaysParse[i]){this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(mom,"").replace(".",".?")+"$","i");this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(mom,"").replace(".",".?")+"$","i");this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(mom,"").replace(".",".?")+"$","i")}if(!this._weekdaysParse[i]){regex="^"+this.weekdays(mom,"")+"|^"+this.weekdaysShort(mom,"")+"|^"+this.weekdaysMin(mom,"");this._weekdaysParse[i]=new RegExp(regex.replace(".",""),"i")}if(strict&&format==="dddd"&&this._fullWeekdaysParse[i].test(weekdayName)){return i}else if(strict&&format==="ddd"&&this._shortWeekdaysParse[i].test(weekdayName)){return i}else if(strict&&format==="dd"&&this._minWeekdaysParse[i].test(weekdayName)){return i}else if(!strict&&this._weekdaysParse[i].test(weekdayName)){return i}}}function getSetDayOfWeek(input){if(!this.isValid()){return input!=null?this:NaN}var day=this._isUTC?this._d.getUTCDay():this._d.getDay();if(input!=null){input=parseWeekday(input,this.localeData());return this.add(input-day,"d")}else{return day}}function getSetLocaleDayOfWeek(input){if(!this.isValid()){return input!=null?this:NaN}var weekday=(this.day()+7-this.localeData()._week.dow)%7;return input==null?weekday:this.add(input-weekday,"d")}function getSetISODayOfWeek(input){if(!this.isValid()){return input!=null?this:NaN}if(input!=null){var weekday=parseIsoWeekday(input,this.localeData());return this.day(this.day()%7?weekday:weekday-7)}else{return this.day()||7}}var defaultWeekdaysRegex=matchWord;function weekdaysRegex(isStrict){if(this._weekdaysParseExact){if(!hasOwnProp(this,"_weekdaysRegex")){computeWeekdaysParse.call(this)}if(isStrict){return this._weekdaysStrictRegex}else{return this._weekdaysRegex}}else{if(!hasOwnProp(this,"_weekdaysRegex")){this._weekdaysRegex=defaultWeekdaysRegex}return this._weekdaysStrictRegex&&isStrict?this._weekdaysStrictRegex:this._weekdaysRegex}}var defaultWeekdaysShortRegex=matchWord;function weekdaysShortRegex(isStrict){if(this._weekdaysParseExact){if(!hasOwnProp(this,"_weekdaysRegex")){computeWeekdaysParse.call(this)}if(isStrict){return this._weekdaysShortStrictRegex}else{return this._weekdaysShortRegex}}else{if(!hasOwnProp(this,"_weekdaysShortRegex")){this._weekdaysShortRegex=defaultWeekdaysShortRegex}return this._weekdaysShortStrictRegex&&isStrict?this._weekdaysShortStrictRegex:this._weekdaysShortRegex}}var defaultWeekdaysMinRegex=matchWord;function weekdaysMinRegex(isStrict){if(this._weekdaysParseExact){if(!hasOwnProp(this,"_weekdaysRegex")){computeWeekdaysParse.call(this)}if(isStrict){return this._weekdaysMinStrictRegex}else{return this._weekdaysMinRegex}}else{if(!hasOwnProp(this,"_weekdaysMinRegex")){this._weekdaysMinRegex=defaultWeekdaysMinRegex}return this._weekdaysMinStrictRegex&&isStrict?this._weekdaysMinStrictRegex:this._weekdaysMinRegex}}function computeWeekdaysParse(){function cmpLenRev(a,b){return b.length-a.length}var minPieces=[],shortPieces=[],longPieces=[],mixedPieces=[],i,mom,minp,shortp,longp;for(i=0;i<7;i++){mom=create_utc__createUTC([2e3,1]).day(i);minp=this.weekdaysMin(mom,"");shortp=this.weekdaysShort(mom,"");longp=this.weekdays(mom,"");minPieces.push(minp);shortPieces.push(shortp);longPieces.push(longp);mixedPieces.push(minp);mixedPieces.push(shortp);mixedPieces.push(longp)}minPieces.sort(cmpLenRev);shortPieces.sort(cmpLenRev);longPieces.sort(cmpLenRev);mixedPieces.sort(cmpLenRev);for(i=0;i<7;i++){shortPieces[i]=regexEscape(shortPieces[i]);longPieces[i]=regexEscape(longPieces[i]);mixedPieces[i]=regexEscape(mixedPieces[i])}this._weekdaysRegex=new RegExp("^("+mixedPieces.join("|")+")","i");this._weekdaysShortRegex=this._weekdaysRegex;this._weekdaysMinRegex=this._weekdaysRegex;this._weekdaysStrictRegex=new RegExp("^("+longPieces.join("|")+")","i");this._weekdaysShortStrictRegex=new RegExp("^("+shortPieces.join("|")+")","i");this._weekdaysMinStrictRegex=new RegExp("^("+minPieces.join("|")+")","i")}function hFormat(){return this.hours()%12||12}function kFormat(){return this.hours()||24}addFormatToken("H",["HH",2],0,"hour");addFormatToken("h",["hh",2],0,hFormat);addFormatToken("k",["kk",2],0,kFormat);addFormatToken("hmm",0,0,function(){return""+hFormat.apply(this)+zeroFill(this.minutes(),2)});addFormatToken("hmmss",0,0,function(){return""+hFormat.apply(this)+zeroFill(this.minutes(),2)+zeroFill(this.seconds(),2)});addFormatToken("Hmm",0,0,function(){return""+this.hours()+zeroFill(this.minutes(),2)});addFormatToken("Hmmss",0,0,function(){return""+this.hours()+zeroFill(this.minutes(),2)+zeroFill(this.seconds(),2)});function meridiem(token,lowercase){addFormatToken(token,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),lowercase)})}meridiem("a",true);meridiem("A",false);addUnitAlias("hour","h");addUnitPriority("hour",13);function matchMeridiem(isStrict,locale){return locale._meridiemParse}addRegexToken("a",matchMeridiem);addRegexToken("A",matchMeridiem);addRegexToken("H",match1to2);addRegexToken("h",match1to2);addRegexToken("HH",match1to2,match2);addRegexToken("hh",match1to2,match2);addRegexToken("hmm",match3to4);addRegexToken("hmmss",match5to6);addRegexToken("Hmm",match3to4);addRegexToken("Hmmss",match5to6);addParseToken(["H","HH"],HOUR);addParseToken(["a","A"],function(input,array,config){config._isPm=config._locale.isPM(input);config._meridiem=input});addParseToken(["h","hh"],function(input,array,config){array[HOUR]=toInt(input);getParsingFlags(config).bigHour=true});addParseToken("hmm",function(input,array,config){var pos=input.length-2;array[HOUR]=toInt(input.substr(0,pos));array[MINUTE]=toInt(input.substr(pos));getParsingFlags(config).bigHour=true});addParseToken("hmmss",function(input,array,config){var pos1=input.length-4;var pos2=input.length-2;array[HOUR]=toInt(input.substr(0,pos1));array[MINUTE]=toInt(input.substr(pos1,2));array[SECOND]=toInt(input.substr(pos2));getParsingFlags(config).bigHour=true});addParseToken("Hmm",function(input,array,config){var pos=input.length-2;array[HOUR]=toInt(input.substr(0,pos));array[MINUTE]=toInt(input.substr(pos))});addParseToken("Hmmss",function(input,array,config){var pos1=input.length-4;var pos2=input.length-2;array[HOUR]=toInt(input.substr(0,pos1));array[MINUTE]=toInt(input.substr(pos1,2));array[SECOND]=toInt(input.substr(pos2))});function localeIsPM(input){return(input+"").toLowerCase().charAt(0)==="p"}var defaultLocaleMeridiemParse=/[ap]\.?m?\.?/i;function localeMeridiem(hours,minutes,isLower){if(hours>11){return isLower?"pm":"PM"}else{return isLower?"am":"AM"}}var getSetHour=makeGetSet("Hours",true);var baseConfig={calendar:defaultCalendar,longDateFormat:defaultLongDateFormat,invalidDate:defaultInvalidDate,ordinal:defaultOrdinal,ordinalParse:defaultOrdinalParse,relativeTime:defaultRelativeTime,months:defaultLocaleMonths,monthsShort:defaultLocaleMonthsShort,week:defaultLocaleWeek,weekdays:defaultLocaleWeekdays,weekdaysMin:defaultLocaleWeekdaysMin,weekdaysShort:defaultLocaleWeekdaysShort,meridiemParse:defaultLocaleMeridiemParse};var locales={};var globalLocale;function normalizeLocale(key){return key?key.toLowerCase().replace("_","-"):key}function chooseLocale(names){var i=0,j,next,locale,split;while(i<names.length){split=normalizeLocale(names[i]).split("-");j=split.length;next=normalizeLocale(names[i+1]);next=next?next.split("-"):null;while(j>0){locale=loadLocale(split.slice(0,j).join("-"));if(locale){return locale}if(next&&next.length>=j&&compareArrays(split,next,true)>=j-1){break}j--}i++}return null}function loadLocale(name){var oldLocale=null;if(!locales[name]&&typeof module!=="undefined"&&module&&module.exports){try{oldLocale=globalLocale._abbr;require("./locale/"+name);locale_locales__getSetGlobalLocale(oldLocale)}catch(e){}}return locales[name]}function locale_locales__getSetGlobalLocale(key,values){var data;if(key){if(isUndefined(values)){data=locale_locales__getLocale(key)}else{data=defineLocale(key,values)}if(data){globalLocale=data}}return globalLocale._abbr}function defineLocale(name,config){if(config!==null){var parentConfig=baseConfig;config.abbr=name;if(locales[name]!=null){deprecateSimple("defineLocaleOverride","use moment.updateLocale(localeName, config) to change "+"an existing locale. moment.defineLocale(localeName, "+"config) should only be used for creating a new locale "+"See http://momentjs.com/guides/#/warnings/define-locale/ for more info.");parentConfig=locales[name]._config}else if(config.parentLocale!=null){if(locales[config.parentLocale]!=null){parentConfig=locales[config.parentLocale]._config}else{deprecateSimple("parentLocaleUndefined","specified parentLocale is not defined yet. See http://momentjs.com/guides/#/warnings/parent-locale/")}}locales[name]=new Locale(mergeConfigs(parentConfig,config));locale_locales__getSetGlobalLocale(name);return locales[name]}else{delete locales[name];return null}}function updateLocale(name,config){if(config!=null){var locale,parentConfig=baseConfig;if(locales[name]!=null){parentConfig=locales[name]._config}config=mergeConfigs(parentConfig,config);locale=new Locale(config);locale.parentLocale=locales[name];locales[name]=locale;locale_locales__getSetGlobalLocale(name)}else{if(locales[name]!=null){if(locales[name].parentLocale!=null){locales[name]=locales[name].parentLocale}else if(locales[name]!=null){delete locales[name]}}}return locales[name]}function locale_locales__getLocale(key){var locale;if(key&&key._locale&&key._locale._abbr){key=key._locale._abbr}if(!key){return globalLocale}if(!isArray(key)){locale=loadLocale(key);if(locale){return locale}key=[key]}return chooseLocale(key)}function locale_locales__listLocales(){return keys(locales)}function checkOverflow(m){var overflow;var a=m._a;if(a&&getParsingFlags(m).overflow===-2){overflow=a[MONTH]<0||a[MONTH]>11?MONTH:a[DATE]<1||a[DATE]>daysInMonth(a[YEAR],a[MONTH])?DATE:a[HOUR]<0||a[HOUR]>24||a[HOUR]===24&&(a[MINUTE]!==0||a[SECOND]!==0||a[MILLISECOND]!==0)?HOUR:a[MINUTE]<0||a[MINUTE]>59?MINUTE:a[SECOND]<0||a[SECOND]>59?SECOND:a[MILLISECOND]<0||a[MILLISECOND]>999?MILLISECOND:-1;if(getParsingFlags(m)._overflowDayOfYear&&(overflow<YEAR||overflow>DATE)){overflow=DATE}if(getParsingFlags(m)._overflowWeeks&&overflow===-1){overflow=WEEK}if(getParsingFlags(m)._overflowWeekday&&overflow===-1){overflow=WEEKDAY}getParsingFlags(m).overflow=overflow}return m}var extendedIsoRegex=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/;var basicIsoRegex=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/;var tzRegex=/Z|[+-]\d\d(?::?\d\d)?/;var isoDates=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,false],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,false],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,false],["YYYYDDD",/\d{7}/]];var isoTimes=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]];var aspNetJsonRegex=/^\/?Date\((\-?\d+)/i;function configFromISO(config){var i,l,string=config._i,match=extendedIsoRegex.exec(string)||basicIsoRegex.exec(string),allowTime,dateFormat,timeFormat,tzFormat;if(match){getParsingFlags(config).iso=true;for(i=0,l=isoDates.length;i<l;i++){if(isoDates[i][1].exec(match[1])){dateFormat=isoDates[i][0];allowTime=isoDates[i][2]!==false;break}}if(dateFormat==null){config._isValid=false;return}if(match[3]){for(i=0,l=isoTimes.length;i<l;i++){if(isoTimes[i][1].exec(match[3])){timeFormat=(match[2]||" ")+isoTimes[i][0];break}}if(timeFormat==null){config._isValid=false;return}}if(!allowTime&&timeFormat!=null){config._isValid=false;return}if(match[4]){if(tzRegex.exec(match[4])){tzFormat="Z"}else{config._isValid=false;return}}config._f=dateFormat+(timeFormat||"")+(tzFormat||"");configFromStringAndFormat(config)}else{config._isValid=false}}function configFromString(config){var matched=aspNetJsonRegex.exec(config._i);if(matched!==null){config._d=new Date((+matched[1]));return}configFromISO(config);if(config._isValid===false){delete config._isValid;utils_hooks__hooks.createFromInputFallback(config)}}utils_hooks__hooks.createFromInputFallback=deprecate("moment construction falls back to js Date. This is "+"discouraged and will be removed in upcoming major "+"release. Please refer to "+"http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(config){config._d=new Date(config._i+(config._useUTC?" UTC":""))});function defaults(a,b,c){if(a!=null){return a}if(b!=null){return b}return c}function currentDateArray(config){var nowValue=new Date(utils_hooks__hooks.now());if(config._useUTC){return[nowValue.getUTCFullYear(),nowValue.getUTCMonth(),nowValue.getUTCDate()]}return[nowValue.getFullYear(),nowValue.getMonth(),nowValue.getDate()]}function configFromArray(config){var i,date,input=[],currentDate,yearToUse;if(config._d){return}currentDate=currentDateArray(config);if(config._w&&config._a[DATE]==null&&config._a[MONTH]==null){dayOfYearFromWeekInfo(config)}if(config._dayOfYear){yearToUse=defaults(config._a[YEAR],currentDate[YEAR]);if(config._dayOfYear>daysInYear(yearToUse)){getParsingFlags(config)._overflowDayOfYear=true}date=createUTCDate(yearToUse,0,config._dayOfYear);config._a[MONTH]=date.getUTCMonth();config._a[DATE]=date.getUTCDate()}for(i=0;i<3&&config._a[i]==null;++i){config._a[i]=input[i]=currentDate[i]}for(;i<7;i++){config._a[i]=input[i]=config._a[i]==null?i===2?1:0:config._a[i]}if(config._a[HOUR]===24&&config._a[MINUTE]===0&&config._a[SECOND]===0&&config._a[MILLISECOND]===0){config._nextDay=true;config._a[HOUR]=0}config._d=(config._useUTC?createUTCDate:createDate).apply(null,input);if(config._tzm!=null){config._d.setUTCMinutes(config._d.getUTCMinutes()-config._tzm)}if(config._nextDay){config._a[HOUR]=24}}function dayOfYearFromWeekInfo(config){var w,weekYear,week,weekday,dow,doy,temp,weekdayOverflow;w=config._w;if(w.GG!=null||w.W!=null||w.E!=null){dow=1;doy=4;weekYear=defaults(w.GG,config._a[YEAR],weekOfYear(local__createLocal(),1,4).year);week=defaults(w.W,1);weekday=defaults(w.E,1);if(weekday<1||weekday>7){weekdayOverflow=true}}else{dow=config._locale._week.dow;doy=config._locale._week.doy;weekYear=defaults(w.gg,config._a[YEAR],weekOfYear(local__createLocal(),dow,doy).year);week=defaults(w.w,1);if(w.d!=null){weekday=w.d;if(weekday<0||weekday>6){weekdayOverflow=true}}else if(w.e!=null){weekday=w.e+dow;if(w.e<0||w.e>6){weekdayOverflow=true}}else{weekday=dow}}if(week<1||week>weeksInYear(weekYear,dow,doy)){getParsingFlags(config)._overflowWeeks=true}else if(weekdayOverflow!=null){getParsingFlags(config)._overflowWeekday=true}else{temp=dayOfYearFromWeeks(weekYear,week,weekday,dow,doy);config._a[YEAR]=temp.year;config._dayOfYear=temp.dayOfYear}}utils_hooks__hooks.ISO_8601=function(){};function configFromStringAndFormat(config){if(config._f===utils_hooks__hooks.ISO_8601){configFromISO(config);return}config._a=[];getParsingFlags(config).empty=true;var string=""+config._i,i,parsedInput,tokens,token,skipped,stringLength=string.length,totalParsedInputLength=0;tokens=expandFormat(config._f,config._locale).match(formattingTokens)||[];for(i=0;i<tokens.length;i++){token=tokens[i];parsedInput=(string.match(getParseRegexForToken(token,config))||[])[0];if(parsedInput){skipped=string.substr(0,string.indexOf(parsedInput));if(skipped.length>0){getParsingFlags(config).unusedInput.push(skipped)}string=string.slice(string.indexOf(parsedInput)+parsedInput.length);totalParsedInputLength+=parsedInput.length}if(formatTokenFunctions[token]){if(parsedInput){getParsingFlags(config).empty=false}else{getParsingFlags(config).unusedTokens.push(token)}addTimeToArrayFromToken(token,parsedInput,config)}else if(config._strict&&!parsedInput){getParsingFlags(config).unusedTokens.push(token)}}getParsingFlags(config).charsLeftOver=stringLength-totalParsedInputLength;if(string.length>0){getParsingFlags(config).unusedInput.push(string)}if(config._a[HOUR]<=12&&getParsingFlags(config).bigHour===true&&config._a[HOUR]>0){getParsingFlags(config).bigHour=undefined}getParsingFlags(config).parsedDateParts=config._a.slice(0);getParsingFlags(config).meridiem=config._meridiem;config._a[HOUR]=meridiemFixWrap(config._locale,config._a[HOUR],config._meridiem);configFromArray(config);checkOverflow(config)}function meridiemFixWrap(locale,hour,meridiem){var isPm;if(meridiem==null){return hour}if(locale.meridiemHour!=null){return locale.meridiemHour(hour,meridiem)}else if(locale.isPM!=null){isPm=locale.isPM(meridiem);if(isPm&&hour<12){hour+=12}if(!isPm&&hour===12){hour=0}return hour}else{return hour}}function configFromStringAndArray(config){var tempConfig,bestMoment,scoreToBeat,i,currentScore;if(config._f.length===0){getParsingFlags(config).invalidFormat=true;config._d=new Date(NaN);return}for(i=0;i<config._f.length;i++){currentScore=0;tempConfig=copyConfig({},config);if(config._useUTC!=null){tempConfig._useUTC=config._useUTC}tempConfig._f=config._f[i];configFromStringAndFormat(tempConfig);if(!valid__isValid(tempConfig)){continue}currentScore+=getParsingFlags(tempConfig).charsLeftOver;currentScore+=getParsingFlags(tempConfig).unusedTokens.length*10;getParsingFlags(tempConfig).score=currentScore;if(scoreToBeat==null||currentScore<scoreToBeat){scoreToBeat=currentScore;bestMoment=tempConfig}}extend(config,bestMoment||tempConfig)}function configFromObject(config){if(config._d){return}var i=normalizeObjectUnits(config._i);config._a=map([i.year,i.month,i.day||i.date,i.hour,i.minute,i.second,i.millisecond],function(obj){return obj&&parseInt(obj,10)});configFromArray(config)}function createFromConfig(config){var res=new Moment(checkOverflow(prepareConfig(config)));if(res._nextDay){res.add(1,"d");res._nextDay=undefined}return res}function prepareConfig(config){var input=config._i,format=config._f;config._locale=config._locale||locale_locales__getLocale(config._l);if(input===null||format===undefined&&input===""){return valid__createInvalid({nullInput:true})}if(typeof input==="string"){config._i=input=config._locale.preparse(input)}if(isMoment(input)){return new Moment(checkOverflow(input))}else if(isArray(format)){configFromStringAndArray(config)}else if(isDate(input)){config._d=input}else if(format){configFromStringAndFormat(config)}else{configFromInput(config)}if(!valid__isValid(config)){config._d=null}return config}function configFromInput(config){var input=config._i;if(input===undefined){config._d=new Date(utils_hooks__hooks.now())}else if(isDate(input)){config._d=new Date(input.valueOf())}else if(typeof input==="string"){configFromString(config)}else if(isArray(input)){config._a=map(input.slice(0),function(obj){return parseInt(obj,10)});configFromArray(config)}else if(typeof input==="object"){configFromObject(config)}else if(typeof input==="number"){config._d=new Date(input)}else{utils_hooks__hooks.createFromInputFallback(config)}}function createLocalOrUTC(input,format,locale,strict,isUTC){var c={};if(typeof locale==="boolean"){strict=locale;locale=undefined}if(isObject(input)&&isObjectEmpty(input)||isArray(input)&&input.length===0){input=undefined}c._isAMomentObject=true;c._useUTC=c._isUTC=isUTC;c._l=locale;c._i=input;c._f=format;c._strict=strict;return createFromConfig(c)}function local__createLocal(input,format,locale,strict){return createLocalOrUTC(input,format,locale,strict,false)}var prototypeMin=deprecate("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var other=local__createLocal.apply(null,arguments);if(this.isValid()&&other.isValid()){return other<this?this:other}else{return valid__createInvalid()}});var prototypeMax=deprecate("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var other=local__createLocal.apply(null,arguments);if(this.isValid()&&other.isValid()){return other>this?this:other}else{return valid__createInvalid()}});function pickBy(fn,moments){var res,i;if(moments.length===1&&isArray(moments[0])){moments=moments[0]}if(!moments.length){return local__createLocal()}res=moments[0];for(i=1;i<moments.length;++i){if(!moments[i].isValid()||moments[i][fn](res)){res=moments[i]}}return res}function min(){var args=[].slice.call(arguments,0);return pickBy("isBefore",args)}function max(){var args=[].slice.call(arguments,0);return pickBy("isAfter",args)}var now=function(){return Date.now?Date.now():+new Date};function Duration(duration){var normalizedInput=normalizeObjectUnits(duration),years=normalizedInput.year||0,quarters=normalizedInput.quarter||0,months=normalizedInput.month||0,weeks=normalizedInput.week||0,days=normalizedInput.day||0,hours=normalizedInput.hour||0,minutes=normalizedInput.minute||0,seconds=normalizedInput.second||0,milliseconds=normalizedInput.millisecond||0;this._milliseconds=+milliseconds+seconds*1e3+minutes*6e4+hours*1e3*60*60;this._days=+days+weeks*7;this._months=+months+quarters*3+years*12;this._data={};this._locale=locale_locales__getLocale();this._bubble()}function isDuration(obj){return obj instanceof Duration}function offset(token,separator){addFormatToken(token,0,0,function(){var offset=this.utcOffset();var sign="+";if(offset<0){offset=-offset;sign="-"}return sign+zeroFill(~~(offset/60),2)+separator+zeroFill(~~offset%60,2)})}offset("Z",":");offset("ZZ","");addRegexToken("Z",matchShortOffset);addRegexToken("ZZ",matchShortOffset);addParseToken(["Z","ZZ"],function(input,array,config){config._useUTC=true;config._tzm=offsetFromString(matchShortOffset,input)});var chunkOffset=/([\+\-]|\d\d)/gi;function offsetFromString(matcher,string){var matches=(string||"").match(matcher)||[];var chunk=matches[matches.length-1]||[];var parts=(chunk+"").match(chunkOffset)||["-",0,0];var minutes=+(parts[1]*60)+toInt(parts[2]);return parts[0]==="+"?minutes:-minutes}function cloneWithOffset(input,model){var res,diff;if(model._isUTC){res=model.clone();diff=(isMoment(input)||isDate(input)?input.valueOf():local__createLocal(input).valueOf())-res.valueOf();res._d.setTime(res._d.valueOf()+diff);utils_hooks__hooks.updateOffset(res,false);return res}else{return local__createLocal(input).local()}}function getDateOffset(m){return-Math.round(m._d.getTimezoneOffset()/15)*15}utils_hooks__hooks.updateOffset=function(){};function getSetOffset(input,keepLocalTime){var offset=this._offset||0,localAdjust;if(!this.isValid()){return input!=null?this:NaN}if(input!=null){if(typeof input==="string"){input=offsetFromString(matchShortOffset,input)}else if(Math.abs(input)<16){input=input*60}if(!this._isUTC&&keepLocalTime){localAdjust=getDateOffset(this)}this._offset=input;this._isUTC=true;if(localAdjust!=null){this.add(localAdjust,"m")}if(offset!==input){if(!keepLocalTime||this._changeInProgress){add_subtract__addSubtract(this,create__createDuration(input-offset,"m"),1,false)}else if(!this._changeInProgress){this._changeInProgress=true;utils_hooks__hooks.updateOffset(this,true);this._changeInProgress=null}}return this}else{return this._isUTC?offset:getDateOffset(this)}}function getSetZone(input,keepLocalTime){if(input!=null){if(typeof input!=="string"){
input=-input}this.utcOffset(input,keepLocalTime);return this}else{return-this.utcOffset()}}function setOffsetToUTC(keepLocalTime){return this.utcOffset(0,keepLocalTime)}function setOffsetToLocal(keepLocalTime){if(this._isUTC){this.utcOffset(0,keepLocalTime);this._isUTC=false;if(keepLocalTime){this.subtract(getDateOffset(this),"m")}}return this}function setOffsetToParsedOffset(){if(this._tzm){this.utcOffset(this._tzm)}else if(typeof this._i==="string"){this.utcOffset(offsetFromString(matchOffset,this._i))}return this}function hasAlignedHourOffset(input){if(!this.isValid()){return false}input=input?local__createLocal(input).utcOffset():0;return(this.utcOffset()-input)%60===0}function isDaylightSavingTime(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function isDaylightSavingTimeShifted(){if(!isUndefined(this._isDSTShifted)){return this._isDSTShifted}var c={};copyConfig(c,this);c=prepareConfig(c);if(c._a){var other=c._isUTC?create_utc__createUTC(c._a):local__createLocal(c._a);this._isDSTShifted=this.isValid()&&compareArrays(c._a,other.toArray())>0}else{this._isDSTShifted=false}return this._isDSTShifted}function isLocal(){return this.isValid()?!this._isUTC:false}function isUtcOffset(){return this.isValid()?this._isUTC:false}function isUtc(){return this.isValid()?this._isUTC&&this._offset===0:false}var aspNetRegex=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?\d*)?$/;var isoRegex=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;function create__createDuration(input,key){var duration=input,match=null,sign,ret,diffRes;if(isDuration(input)){duration={ms:input._milliseconds,d:input._days,M:input._months}}else if(typeof input==="number"){duration={};if(key){duration[key]=input}else{duration.milliseconds=input}}else if(!!(match=aspNetRegex.exec(input))){sign=match[1]==="-"?-1:1;duration={y:0,d:toInt(match[DATE])*sign,h:toInt(match[HOUR])*sign,m:toInt(match[MINUTE])*sign,s:toInt(match[SECOND])*sign,ms:toInt(match[MILLISECOND])*sign}}else if(!!(match=isoRegex.exec(input))){sign=match[1]==="-"?-1:1;duration={y:parseIso(match[2],sign),M:parseIso(match[3],sign),w:parseIso(match[4],sign),d:parseIso(match[5],sign),h:parseIso(match[6],sign),m:parseIso(match[7],sign),s:parseIso(match[8],sign)}}else if(duration==null){duration={}}else if(typeof duration==="object"&&("from"in duration||"to"in duration)){diffRes=momentsDifference(local__createLocal(duration.from),local__createLocal(duration.to));duration={};duration.ms=diffRes.milliseconds;duration.M=diffRes.months}ret=new Duration(duration);if(isDuration(input)&&hasOwnProp(input,"_locale")){ret._locale=input._locale}return ret}create__createDuration.fn=Duration.prototype;function parseIso(inp,sign){var res=inp&&parseFloat(inp.replace(",","."));return(isNaN(res)?0:res)*sign}function positiveMomentsDifference(base,other){var res={milliseconds:0,months:0};res.months=other.month()-base.month()+(other.year()-base.year())*12;if(base.clone().add(res.months,"M").isAfter(other)){--res.months}res.milliseconds=+other-+base.clone().add(res.months,"M");return res}function momentsDifference(base,other){var res;if(!(base.isValid()&&other.isValid())){return{milliseconds:0,months:0}}other=cloneWithOffset(other,base);if(base.isBefore(other)){res=positiveMomentsDifference(base,other)}else{res=positiveMomentsDifference(other,base);res.milliseconds=-res.milliseconds;res.months=-res.months}return res}function absRound(number){if(number<0){return Math.round(-1*number)*-1}else{return Math.round(number)}}function createAdder(direction,name){return function(val,period){var dur,tmp;if(period!==null&&!isNaN(+period)){deprecateSimple(name,"moment()."+name+"(period, number) is deprecated. Please use moment()."+name+"(number, period). "+"See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info.");tmp=val;val=period;period=tmp}val=typeof val==="string"?+val:val;dur=create__createDuration(val,period);add_subtract__addSubtract(this,dur,direction);return this}}function add_subtract__addSubtract(mom,duration,isAdding,updateOffset){var milliseconds=duration._milliseconds,days=absRound(duration._days),months=absRound(duration._months);if(!mom.isValid()){return}updateOffset=updateOffset==null?true:updateOffset;if(milliseconds){mom._d.setTime(mom._d.valueOf()+milliseconds*isAdding)}if(days){get_set__set(mom,"Date",get_set__get(mom,"Date")+days*isAdding)}if(months){setMonth(mom,get_set__get(mom,"Month")+months*isAdding)}if(updateOffset){utils_hooks__hooks.updateOffset(mom,days||months)}}var add_subtract__add=createAdder(1,"add");var add_subtract__subtract=createAdder(-1,"subtract");function getCalendarFormat(myMoment,now){var diff=myMoment.diff(now,"days",true);return diff<-6?"sameElse":diff<-1?"lastWeek":diff<0?"lastDay":diff<1?"sameDay":diff<2?"nextDay":diff<7?"nextWeek":"sameElse"}function moment_calendar__calendar(time,formats){var now=time||local__createLocal(),sod=cloneWithOffset(now,this).startOf("day"),format=utils_hooks__hooks.calendarFormat(this,sod)||"sameElse";var output=formats&&(isFunction(formats[format])?formats[format].call(this,now):formats[format]);return this.format(output||this.localeData().calendar(format,this,local__createLocal(now)))}function clone(){return new Moment(this)}function isAfter(input,units){var localInput=isMoment(input)?input:local__createLocal(input);if(!(this.isValid()&&localInput.isValid())){return false}units=normalizeUnits(!isUndefined(units)?units:"millisecond");if(units==="millisecond"){return this.valueOf()>localInput.valueOf()}else{return localInput.valueOf()<this.clone().startOf(units).valueOf()}}function isBefore(input,units){var localInput=isMoment(input)?input:local__createLocal(input);if(!(this.isValid()&&localInput.isValid())){return false}units=normalizeUnits(!isUndefined(units)?units:"millisecond");if(units==="millisecond"){return this.valueOf()<localInput.valueOf()}else{return this.clone().endOf(units).valueOf()<localInput.valueOf()}}function isBetween(from,to,units,inclusivity){inclusivity=inclusivity||"()";return(inclusivity[0]==="("?this.isAfter(from,units):!this.isBefore(from,units))&&(inclusivity[1]===")"?this.isBefore(to,units):!this.isAfter(to,units))}function isSame(input,units){var localInput=isMoment(input)?input:local__createLocal(input),inputMs;if(!(this.isValid()&&localInput.isValid())){return false}units=normalizeUnits(units||"millisecond");if(units==="millisecond"){return this.valueOf()===localInput.valueOf()}else{inputMs=localInput.valueOf();return this.clone().startOf(units).valueOf()<=inputMs&&inputMs<=this.clone().endOf(units).valueOf()}}function isSameOrAfter(input,units){return this.isSame(input,units)||this.isAfter(input,units)}function isSameOrBefore(input,units){return this.isSame(input,units)||this.isBefore(input,units)}function diff(input,units,asFloat){var that,zoneDelta,delta,output;if(!this.isValid()){return NaN}that=cloneWithOffset(input,this);if(!that.isValid()){return NaN}zoneDelta=(that.utcOffset()-this.utcOffset())*6e4;units=normalizeUnits(units);if(units==="year"||units==="month"||units==="quarter"){output=monthDiff(this,that);if(units==="quarter"){output=output/3}else if(units==="year"){output=output/12}}else{delta=this-that;output=units==="second"?delta/1e3:units==="minute"?delta/6e4:units==="hour"?delta/36e5:units==="day"?(delta-zoneDelta)/864e5:units==="week"?(delta-zoneDelta)/6048e5:delta}return asFloat?output:absFloor(output)}function monthDiff(a,b){var wholeMonthDiff=(b.year()-a.year())*12+(b.month()-a.month()),anchor=a.clone().add(wholeMonthDiff,"months"),anchor2,adjust;if(b-anchor<0){anchor2=a.clone().add(wholeMonthDiff-1,"months");adjust=(b-anchor)/(anchor-anchor2)}else{anchor2=a.clone().add(wholeMonthDiff+1,"months");adjust=(b-anchor)/(anchor2-anchor)}return-(wholeMonthDiff+adjust)||0}utils_hooks__hooks.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";utils_hooks__hooks.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function toString(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function moment_format__toISOString(){var m=this.clone().utc();if(0<m.year()&&m.year()<=9999){if(isFunction(Date.prototype.toISOString)){return this.toDate().toISOString()}else{return formatMoment(m,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}}else{return formatMoment(m,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}}function format(inputString){if(!inputString){inputString=this.isUtc()?utils_hooks__hooks.defaultFormatUtc:utils_hooks__hooks.defaultFormat}var output=formatMoment(this,inputString);return this.localeData().postformat(output)}function from(time,withoutSuffix){if(this.isValid()&&(isMoment(time)&&time.isValid()||local__createLocal(time).isValid())){return create__createDuration({to:this,from:time}).locale(this.locale()).humanize(!withoutSuffix)}else{return this.localeData().invalidDate()}}function fromNow(withoutSuffix){return this.from(local__createLocal(),withoutSuffix)}function to(time,withoutSuffix){if(this.isValid()&&(isMoment(time)&&time.isValid()||local__createLocal(time).isValid())){return create__createDuration({from:this,to:time}).locale(this.locale()).humanize(!withoutSuffix)}else{return this.localeData().invalidDate()}}function toNow(withoutSuffix){return this.to(local__createLocal(),withoutSuffix)}function locale(key){var newLocaleData;if(key===undefined){return this._locale._abbr}else{newLocaleData=locale_locales__getLocale(key);if(newLocaleData!=null){this._locale=newLocaleData}return this}}var lang=deprecate("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(key){if(key===undefined){return this.localeData()}else{return this.locale(key)}});function localeData(){return this._locale}function startOf(units){units=normalizeUnits(units);switch(units){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}if(units==="week"){this.weekday(0)}if(units==="isoWeek"){this.isoWeekday(1)}if(units==="quarter"){this.month(Math.floor(this.month()/3)*3)}return this}function endOf(units){units=normalizeUnits(units);if(units===undefined||units==="millisecond"){return this}if(units==="date"){units="day"}return this.startOf(units).add(1,units==="isoWeek"?"week":units).subtract(1,"ms")}function to_type__valueOf(){return this._d.valueOf()-(this._offset||0)*6e4}function unix(){return Math.floor(this.valueOf()/1e3)}function toDate(){return new Date(this.valueOf())}function toArray(){var m=this;return[m.year(),m.month(),m.date(),m.hour(),m.minute(),m.second(),m.millisecond()]}function toObject(){var m=this;return{years:m.year(),months:m.month(),date:m.date(),hours:m.hours(),minutes:m.minutes(),seconds:m.seconds(),milliseconds:m.milliseconds()}}function toJSON(){return this.isValid()?this.toISOString():null}function moment_valid__isValid(){return valid__isValid(this)}function parsingFlags(){return extend({},getParsingFlags(this))}function invalidAt(){return getParsingFlags(this).overflow}function creationData(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}addFormatToken(0,["gg",2],0,function(){return this.weekYear()%100});addFormatToken(0,["GG",2],0,function(){return this.isoWeekYear()%100});function addWeekYearFormatToken(token,getter){addFormatToken(0,[token,token.length],0,getter)}addWeekYearFormatToken("gggg","weekYear");addWeekYearFormatToken("ggggg","weekYear");addWeekYearFormatToken("GGGG","isoWeekYear");addWeekYearFormatToken("GGGGG","isoWeekYear");addUnitAlias("weekYear","gg");addUnitAlias("isoWeekYear","GG");addUnitPriority("weekYear",1);addUnitPriority("isoWeekYear",1);addRegexToken("G",matchSigned);addRegexToken("g",matchSigned);addRegexToken("GG",match1to2,match2);addRegexToken("gg",match1to2,match2);addRegexToken("GGGG",match1to4,match4);addRegexToken("gggg",match1to4,match4);addRegexToken("GGGGG",match1to6,match6);addRegexToken("ggggg",match1to6,match6);addWeekParseToken(["gggg","ggggg","GGGG","GGGGG"],function(input,week,config,token){week[token.substr(0,2)]=toInt(input)});addWeekParseToken(["gg","GG"],function(input,week,config,token){week[token]=utils_hooks__hooks.parseTwoDigitYear(input)});function getSetWeekYear(input){return getSetWeekYearHelper.call(this,input,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function getSetISOWeekYear(input){return getSetWeekYearHelper.call(this,input,this.isoWeek(),this.isoWeekday(),1,4)}function getISOWeeksInYear(){return weeksInYear(this.year(),1,4)}function getWeeksInYear(){var weekInfo=this.localeData()._week;return weeksInYear(this.year(),weekInfo.dow,weekInfo.doy)}function getSetWeekYearHelper(input,week,weekday,dow,doy){var weeksTarget;if(input==null){return weekOfYear(this,dow,doy).year}else{weeksTarget=weeksInYear(input,dow,doy);if(week>weeksTarget){week=weeksTarget}return setWeekAll.call(this,input,week,weekday,dow,doy)}}function setWeekAll(weekYear,week,weekday,dow,doy){var dayOfYearData=dayOfYearFromWeeks(weekYear,week,weekday,dow,doy),date=createUTCDate(dayOfYearData.year,0,dayOfYearData.dayOfYear);this.year(date.getUTCFullYear());this.month(date.getUTCMonth());this.date(date.getUTCDate());return this}addFormatToken("Q",0,"Qo","quarter");addUnitAlias("quarter","Q");addUnitPriority("quarter",7);addRegexToken("Q",match1);addParseToken("Q",function(input,array){array[MONTH]=(toInt(input)-1)*3});function getSetQuarter(input){return input==null?Math.ceil((this.month()+1)/3):this.month((input-1)*3+this.month()%3)}addFormatToken("D",["DD",2],"Do","date");addUnitAlias("date","D");addUnitPriority("date",9);addRegexToken("D",match1to2);addRegexToken("DD",match1to2,match2);addRegexToken("Do",function(isStrict,locale){return isStrict?locale._ordinalParse:locale._ordinalParseLenient});addParseToken(["D","DD"],DATE);addParseToken("Do",function(input,array){array[DATE]=toInt(input.match(match1to2)[0],10)});var getSetDayOfMonth=makeGetSet("Date",true);addFormatToken("DDD",["DDDD",3],"DDDo","dayOfYear");addUnitAlias("dayOfYear","DDD");addUnitPriority("dayOfYear",4);addRegexToken("DDD",match1to3);addRegexToken("DDDD",match3);addParseToken(["DDD","DDDD"],function(input,array,config){config._dayOfYear=toInt(input)});function getSetDayOfYear(input){var dayOfYear=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return input==null?dayOfYear:this.add(input-dayOfYear,"d")}addFormatToken("m",["mm",2],0,"minute");addUnitAlias("minute","m");addUnitPriority("minute",14);addRegexToken("m",match1to2);addRegexToken("mm",match1to2,match2);addParseToken(["m","mm"],MINUTE);var getSetMinute=makeGetSet("Minutes",false);addFormatToken("s",["ss",2],0,"second");addUnitAlias("second","s");addUnitPriority("second",15);addRegexToken("s",match1to2);addRegexToken("ss",match1to2,match2);addParseToken(["s","ss"],SECOND);var getSetSecond=makeGetSet("Seconds",false);addFormatToken("S",0,0,function(){return~~(this.millisecond()/100)});addFormatToken(0,["SS",2],0,function(){return~~(this.millisecond()/10)});addFormatToken(0,["SSS",3],0,"millisecond");addFormatToken(0,["SSSS",4],0,function(){return this.millisecond()*10});addFormatToken(0,["SSSSS",5],0,function(){return this.millisecond()*100});addFormatToken(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});addFormatToken(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});addFormatToken(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});addFormatToken(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});addUnitAlias("millisecond","ms");addUnitPriority("millisecond",16);addRegexToken("S",match1to3,match1);addRegexToken("SS",match1to3,match2);addRegexToken("SSS",match1to3,match3);var token;for(token="SSSS";token.length<=9;token+="S"){addRegexToken(token,matchUnsigned)}function parseMs(input,array){array[MILLISECOND]=toInt(("0."+input)*1e3)}for(token="S";token.length<=9;token+="S"){addParseToken(token,parseMs)}var getSetMillisecond=makeGetSet("Milliseconds",false);addFormatToken("z",0,0,"zoneAbbr");addFormatToken("zz",0,0,"zoneName");function getZoneAbbr(){return this._isUTC?"UTC":""}function getZoneName(){return this._isUTC?"Coordinated Universal Time":""}var momentPrototype__proto=Moment.prototype;momentPrototype__proto.add=add_subtract__add;momentPrototype__proto.calendar=moment_calendar__calendar;momentPrototype__proto.clone=clone;momentPrototype__proto.diff=diff;momentPrototype__proto.endOf=endOf;momentPrototype__proto.format=format;momentPrototype__proto.from=from;momentPrototype__proto.fromNow=fromNow;momentPrototype__proto.to=to;momentPrototype__proto.toNow=toNow;momentPrototype__proto.get=stringGet;momentPrototype__proto.invalidAt=invalidAt;momentPrototype__proto.isAfter=isAfter;momentPrototype__proto.isBefore=isBefore;momentPrototype__proto.isBetween=isBetween;momentPrototype__proto.isSame=isSame;momentPrototype__proto.isSameOrAfter=isSameOrAfter;momentPrototype__proto.isSameOrBefore=isSameOrBefore;momentPrototype__proto.isValid=moment_valid__isValid;momentPrototype__proto.lang=lang;momentPrototype__proto.locale=locale;momentPrototype__proto.localeData=localeData;momentPrototype__proto.max=prototypeMax;momentPrototype__proto.min=prototypeMin;momentPrototype__proto.parsingFlags=parsingFlags;momentPrototype__proto.set=stringSet;momentPrototype__proto.startOf=startOf;momentPrototype__proto.subtract=add_subtract__subtract;momentPrototype__proto.toArray=toArray;momentPrototype__proto.toObject=toObject;momentPrototype__proto.toDate=toDate;momentPrototype__proto.toISOString=moment_format__toISOString;momentPrototype__proto.toJSON=toJSON;momentPrototype__proto.toString=toString;momentPrototype__proto.unix=unix;momentPrototype__proto.valueOf=to_type__valueOf;momentPrototype__proto.creationData=creationData;momentPrototype__proto.year=getSetYear;momentPrototype__proto.isLeapYear=getIsLeapYear;momentPrototype__proto.weekYear=getSetWeekYear;momentPrototype__proto.isoWeekYear=getSetISOWeekYear;momentPrototype__proto.quarter=momentPrototype__proto.quarters=getSetQuarter;momentPrototype__proto.month=getSetMonth;momentPrototype__proto.daysInMonth=getDaysInMonth;momentPrototype__proto.week=momentPrototype__proto.weeks=getSetWeek;momentPrototype__proto.isoWeek=momentPrototype__proto.isoWeeks=getSetISOWeek;momentPrototype__proto.weeksInYear=getWeeksInYear;momentPrototype__proto.isoWeeksInYear=getISOWeeksInYear;momentPrototype__proto.date=getSetDayOfMonth;momentPrototype__proto.day=momentPrototype__proto.days=getSetDayOfWeek;momentPrototype__proto.weekday=getSetLocaleDayOfWeek;momentPrototype__proto.isoWeekday=getSetISODayOfWeek;momentPrototype__proto.dayOfYear=getSetDayOfYear;momentPrototype__proto.hour=momentPrototype__proto.hours=getSetHour;momentPrototype__proto.minute=momentPrototype__proto.minutes=getSetMinute;momentPrototype__proto.second=momentPrototype__proto.seconds=getSetSecond;momentPrototype__proto.millisecond=momentPrototype__proto.milliseconds=getSetMillisecond;momentPrototype__proto.utcOffset=getSetOffset;momentPrototype__proto.utc=setOffsetToUTC;momentPrototype__proto.local=setOffsetToLocal;momentPrototype__proto.parseZone=setOffsetToParsedOffset;momentPrototype__proto.hasAlignedHourOffset=hasAlignedHourOffset;momentPrototype__proto.isDST=isDaylightSavingTime;momentPrototype__proto.isLocal=isLocal;momentPrototype__proto.isUtcOffset=isUtcOffset;momentPrototype__proto.isUtc=isUtc;momentPrototype__proto.isUTC=isUtc;momentPrototype__proto.zoneAbbr=getZoneAbbr;momentPrototype__proto.zoneName=getZoneName;momentPrototype__proto.dates=deprecate("dates accessor is deprecated. Use date instead.",getSetDayOfMonth);momentPrototype__proto.months=deprecate("months accessor is deprecated. Use month instead",getSetMonth);momentPrototype__proto.years=deprecate("years accessor is deprecated. Use year instead",getSetYear);momentPrototype__proto.zone=deprecate("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",getSetZone);momentPrototype__proto.isDSTShifted=deprecate("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",isDaylightSavingTimeShifted);var momentPrototype=momentPrototype__proto;function moment__createUnix(input){return local__createLocal(input*1e3)}function moment__createInZone(){return local__createLocal.apply(null,arguments).parseZone()}function preParsePostFormat(string){return string}var prototype__proto=Locale.prototype;prototype__proto.calendar=locale_calendar__calendar;prototype__proto.longDateFormat=longDateFormat;prototype__proto.invalidDate=invalidDate;prototype__proto.ordinal=ordinal;prototype__proto.preparse=preParsePostFormat;prototype__proto.postformat=preParsePostFormat;prototype__proto.relativeTime=relative__relativeTime;prototype__proto.pastFuture=pastFuture;prototype__proto.set=locale_set__set;prototype__proto.months=localeMonths;prototype__proto.monthsShort=localeMonthsShort;prototype__proto.monthsParse=localeMonthsParse;prototype__proto.monthsRegex=monthsRegex;prototype__proto.monthsShortRegex=monthsShortRegex;prototype__proto.week=localeWeek;prototype__proto.firstDayOfYear=localeFirstDayOfYear;prototype__proto.firstDayOfWeek=localeFirstDayOfWeek;prototype__proto.weekdays=localeWeekdays;prototype__proto.weekdaysMin=localeWeekdaysMin;prototype__proto.weekdaysShort=localeWeekdaysShort;prototype__proto.weekdaysParse=localeWeekdaysParse;prototype__proto.weekdaysRegex=weekdaysRegex;prototype__proto.weekdaysShortRegex=weekdaysShortRegex;prototype__proto.weekdaysMinRegex=weekdaysMinRegex;prototype__proto.isPM=localeIsPM;prototype__proto.meridiem=localeMeridiem;function lists__get(format,index,field,setter){var locale=locale_locales__getLocale();var utc=create_utc__createUTC().set(setter,index);return locale[field](utc,format)}function listMonthsImpl(format,index,field){if(typeof format==="number"){index=format;format=undefined}format=format||"";if(index!=null){return lists__get(format,index,field,"month")}var i;var out=[];for(i=0;i<12;i++){out[i]=lists__get(format,i,field,"month")}return out}function listWeekdaysImpl(localeSorted,format,index,field){if(typeof localeSorted==="boolean"){if(typeof format==="number"){index=format;format=undefined}format=format||""}else{format=localeSorted;index=format;localeSorted=false;if(typeof format==="number"){index=format;format=undefined}format=format||""}var locale=locale_locales__getLocale(),shift=localeSorted?locale._week.dow:0;if(index!=null){return lists__get(format,(index+shift)%7,field,"day")}var i;var out=[];for(i=0;i<7;i++){out[i]=lists__get(format,(i+shift)%7,field,"day")}return out}function lists__listMonths(format,index){return listMonthsImpl(format,index,"months")}function lists__listMonthsShort(format,index){return listMonthsImpl(format,index,"monthsShort")}function lists__listWeekdays(localeSorted,format,index){return listWeekdaysImpl(localeSorted,format,index,"weekdays")}function lists__listWeekdaysShort(localeSorted,format,index){return listWeekdaysImpl(localeSorted,format,index,"weekdaysShort")}function lists__listWeekdaysMin(localeSorted,format,index){return listWeekdaysImpl(localeSorted,format,index,"weekdaysMin")}locale_locales__getSetGlobalLocale("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(number){var b=number%10,output=toInt(number%100/10)===1?"th":b===1?"st":b===2?"nd":b===3?"rd":"th";return number+output}});utils_hooks__hooks.lang=deprecate("moment.lang is deprecated. Use moment.locale instead.",locale_locales__getSetGlobalLocale);utils_hooks__hooks.langData=deprecate("moment.langData is deprecated. Use moment.localeData instead.",locale_locales__getLocale);var mathAbs=Math.abs;function duration_abs__abs(){var data=this._data;this._milliseconds=mathAbs(this._milliseconds);this._days=mathAbs(this._days);this._months=mathAbs(this._months);data.milliseconds=mathAbs(data.milliseconds);data.seconds=mathAbs(data.seconds);data.minutes=mathAbs(data.minutes);data.hours=mathAbs(data.hours);data.months=mathAbs(data.months);data.years=mathAbs(data.years);return this}function duration_add_subtract__addSubtract(duration,input,value,direction){var other=create__createDuration(input,value);duration._milliseconds+=direction*other._milliseconds;duration._days+=direction*other._days;duration._months+=direction*other._months;return duration._bubble()}function duration_add_subtract__add(input,value){return duration_add_subtract__addSubtract(this,input,value,1)}function duration_add_subtract__subtract(input,value){return duration_add_subtract__addSubtract(this,input,value,-1)}function absCeil(number){if(number<0){return Math.floor(number)}else{return Math.ceil(number)}}function bubble(){var milliseconds=this._milliseconds;var days=this._days;var months=this._months;var data=this._data;var seconds,minutes,hours,years,monthsFromDays;if(!(milliseconds>=0&&days>=0&&months>=0||milliseconds<=0&&days<=0&&months<=0)){milliseconds+=absCeil(monthsToDays(months)+days)*864e5;days=0;months=0}data.milliseconds=milliseconds%1e3;seconds=absFloor(milliseconds/1e3);data.seconds=seconds%60;minutes=absFloor(seconds/60);data.minutes=minutes%60;hours=absFloor(minutes/60);data.hours=hours%24;days+=absFloor(hours/24);monthsFromDays=absFloor(daysToMonths(days));months+=monthsFromDays;days-=absCeil(monthsToDays(monthsFromDays));years=absFloor(months/12);months%=12;data.days=days;data.months=months;data.years=years;return this}function daysToMonths(days){return days*4800/146097}function monthsToDays(months){return months*146097/4800}function as(units){var days;var months;var milliseconds=this._milliseconds;units=normalizeUnits(units);if(units==="month"||units==="year"){days=this._days+milliseconds/864e5;months=this._months+daysToMonths(days);return units==="month"?months:months/12}else{days=this._days+Math.round(monthsToDays(this._months));switch(units){case"week":return days/7+milliseconds/6048e5;case"day":return days+milliseconds/864e5;case"hour":return days*24+milliseconds/36e5;case"minute":return days*1440+milliseconds/6e4;case"second":return days*86400+milliseconds/1e3;case"millisecond":return Math.floor(days*864e5)+milliseconds;default:throw new Error("Unknown unit "+units)}}}function duration_as__valueOf(){return this._milliseconds+this._days*864e5+this._months%12*2592e6+toInt(this._months/12)*31536e6}function makeAs(alias){return function(){return this.as(alias)}}var asMilliseconds=makeAs("ms");var asSeconds=makeAs("s");var asMinutes=makeAs("m");var asHours=makeAs("h");var asDays=makeAs("d");var asWeeks=makeAs("w");var asMonths=makeAs("M");var asYears=makeAs("y");function duration_get__get(units){units=normalizeUnits(units);return this[units+"s"]()}function makeGetter(name){return function(){return this._data[name]}}var milliseconds=makeGetter("milliseconds");var seconds=makeGetter("seconds");var minutes=makeGetter("minutes");var hours=makeGetter("hours");var days=makeGetter("days");var months=makeGetter("months");var years=makeGetter("years");function weeks(){return absFloor(this.days()/7)}var round=Math.round;var thresholds={s:45,m:45,h:22,d:26,M:11};function substituteTimeAgo(string,number,withoutSuffix,isFuture,locale){return locale.relativeTime(number||1,!!withoutSuffix,string,isFuture)}function duration_humanize__relativeTime(posNegDuration,withoutSuffix,locale){var duration=create__createDuration(posNegDuration).abs();var seconds=round(duration.as("s"));var minutes=round(duration.as("m"));var hours=round(duration.as("h"));var days=round(duration.as("d"));var months=round(duration.as("M"));var years=round(duration.as("y"));var a=seconds<thresholds.s&&["s",seconds]||minutes<=1&&["m"]||minutes<thresholds.m&&["mm",minutes]||hours<=1&&["h"]||hours<thresholds.h&&["hh",hours]||days<=1&&["d"]||days<thresholds.d&&["dd",days]||months<=1&&["M"]||months<thresholds.M&&["MM",months]||years<=1&&["y"]||["yy",years];a[2]=withoutSuffix;a[3]=+posNegDuration>0;a[4]=locale;return substituteTimeAgo.apply(null,a)}function duration_humanize__getSetRelativeTimeRounding(roundingFunction){if(roundingFunction===undefined){return round}if(typeof roundingFunction==="function"){round=roundingFunction;return true}return false}function duration_humanize__getSetRelativeTimeThreshold(threshold,limit){if(thresholds[threshold]===undefined){return false}if(limit===undefined){return thresholds[threshold]}thresholds[threshold]=limit;return true}function humanize(withSuffix){var locale=this.localeData();var output=duration_humanize__relativeTime(this,!withSuffix,locale);if(withSuffix){output=locale.pastFuture(+this,output)}return locale.postformat(output)}var iso_string__abs=Math.abs;function iso_string__toISOString(){var seconds=iso_string__abs(this._milliseconds)/1e3;var days=iso_string__abs(this._days);var months=iso_string__abs(this._months);var minutes,hours,years;minutes=absFloor(seconds/60);hours=absFloor(minutes/60);seconds%=60;minutes%=60;years=absFloor(months/12);months%=12;var Y=years;var M=months;var D=days;var h=hours;var m=minutes;var s=seconds;var total=this.asSeconds();if(!total){return"P0D"}return(total<0?"-":"")+"P"+(Y?Y+"Y":"")+(M?M+"M":"")+(D?D+"D":"")+(h||m||s?"T":"")+(h?h+"H":"")+(m?m+"M":"")+(s?s+"S":"")}var duration_prototype__proto=Duration.prototype;duration_prototype__proto.abs=duration_abs__abs;duration_prototype__proto.add=duration_add_subtract__add;duration_prototype__proto.subtract=duration_add_subtract__subtract;duration_prototype__proto.as=as;duration_prototype__proto.asMilliseconds=asMilliseconds;duration_prototype__proto.asSeconds=asSeconds;duration_prototype__proto.asMinutes=asMinutes;duration_prototype__proto.asHours=asHours;duration_prototype__proto.asDays=asDays;duration_prototype__proto.asWeeks=asWeeks;duration_prototype__proto.asMonths=asMonths;duration_prototype__proto.asYears=asYears;duration_prototype__proto.valueOf=duration_as__valueOf;duration_prototype__proto._bubble=bubble;duration_prototype__proto.get=duration_get__get;duration_prototype__proto.milliseconds=milliseconds;duration_prototype__proto.seconds=seconds;duration_prototype__proto.minutes=minutes;duration_prototype__proto.hours=hours;duration_prototype__proto.days=days;duration_prototype__proto.weeks=weeks;duration_prototype__proto.months=months;duration_prototype__proto.years=years;duration_prototype__proto.humanize=humanize;duration_prototype__proto.toISOString=iso_string__toISOString;duration_prototype__proto.toString=iso_string__toISOString;duration_prototype__proto.toJSON=iso_string__toISOString;duration_prototype__proto.locale=locale;duration_prototype__proto.localeData=localeData;duration_prototype__proto.toIsoString=deprecate("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",iso_string__toISOString);duration_prototype__proto.lang=lang;addFormatToken("X",0,0,"unix");addFormatToken("x",0,0,"valueOf");addRegexToken("x",matchSigned);addRegexToken("X",matchTimestamp);addParseToken("X",function(input,array,config){config._d=new Date(parseFloat(input,10)*1e3)});addParseToken("x",function(input,array,config){config._d=new Date(toInt(input))});utils_hooks__hooks.version="2.14.1";setHookCallback(local__createLocal);utils_hooks__hooks.fn=momentPrototype;utils_hooks__hooks.min=min;utils_hooks__hooks.max=max;utils_hooks__hooks.now=now;utils_hooks__hooks.utc=create_utc__createUTC;utils_hooks__hooks.unix=moment__createUnix;utils_hooks__hooks.months=lists__listMonths;utils_hooks__hooks.isDate=isDate;utils_hooks__hooks.locale=locale_locales__getSetGlobalLocale;utils_hooks__hooks.invalid=valid__createInvalid;utils_hooks__hooks.duration=create__createDuration;utils_hooks__hooks.isMoment=isMoment;utils_hooks__hooks.weekdays=lists__listWeekdays;utils_hooks__hooks.parseZone=moment__createInZone;utils_hooks__hooks.localeData=locale_locales__getLocale;utils_hooks__hooks.isDuration=isDuration;utils_hooks__hooks.monthsShort=lists__listMonthsShort;
utils_hooks__hooks.weekdaysMin=lists__listWeekdaysMin;utils_hooks__hooks.defineLocale=defineLocale;utils_hooks__hooks.updateLocale=updateLocale;utils_hooks__hooks.locales=locale_locales__listLocales;utils_hooks__hooks.weekdaysShort=lists__listWeekdaysShort;utils_hooks__hooks.normalizeUnits=normalizeUnits;utils_hooks__hooks.relativeTimeRounding=duration_humanize__getSetRelativeTimeRounding;utils_hooks__hooks.relativeTimeThreshold=duration_humanize__getSetRelativeTimeThreshold;utils_hooks__hooks.calendarFormat=getCalendarFormat;utils_hooks__hooks.prototype=momentPrototype;var _moment=utils_hooks__hooks;return _moment})},{}]},{},["/Users/fficnar/Projects/Shared Projects/JavaScript/valacar/server/www/library/test.js"]);